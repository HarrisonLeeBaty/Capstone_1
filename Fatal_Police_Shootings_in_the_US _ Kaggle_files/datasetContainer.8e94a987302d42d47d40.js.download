/*! For license information please see datasetContainer.8e94a987302d42d47d40.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[37,0,5,6,9,10,12,13,20],{1007:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return p}));var a,r,o,i,s,l=n(1356);!function(e){e.PureWhite="#FFFFFF",e.PureBlack="#000000",e.GrayDarkest="#2A2C30",e.GrayDark="#333333",e.Gray="#919294",e.GrayLight="#B3B3B3",e.GrayLighter="#C4C9CD",e.GrayLightest="#F0F0F0",e.GreenStandard="#2F9C0A",e.GreenStandardInteract="#257A08",e.RedStandard="#C92C2C",e.Transparent="rgba(0,0,0,0)",e.DatacardOverlay="rgba(255, 255, 255, 0.8)",e.BlackOverlay="rgba(0,0,0,0.3)",e.BoxShadow="rgba(0,0,0,0.3)",e.WhiteSolidOverlay="rgba(255, 255, 255, 0.8)",e.BlackSolidOverlay="rgba(0, 0, 0, 0.8)",e.KaggleBlack="#47494D",e.KaggleBlackLight="#6F7175",e.KaggleBlackDark="#323232",e.KaggleBlue="rgb(32, 190, 255)",e.KaggleBlueInteract="#00A7EC",e.KaggleBlueLight="#86DCFF",e.KaggleBlueLightest="#E1F0F6",e.KaggleBlueSuperLight="#EBF9FF",e.KaggleBlueDark="#008ABC",e.KaggleBlueDarkest="#006184",e.KagglePurple="#856CCC",e.KaggleRed="#CC615C",e.KaggleRedDark="#B34834",e.KaggleRedDarkest="#D0021B",e.KaggleRedLightest="#FFEDEF",e.KaggleGreen="#69AC35",e.KaggleOrange="#F69732",e.KaggleGray="#A9A9A9",e.KaggleTeal="#2AC090",e.KaggleYellow="#FAEB4A",e.KaggleEditorBackground="#272C35",e.KaggleEditorGutter="rgba(255,255,255,0.03)",e.KaggleEditorSelectedInteractivePaneContent="#353b47",e.KaggleEditorUnselectedInteractivePaneContent="#3f4654",e.KaggleEditorVariableValueText="#666f81",e.KaggleEditorRowDivider="#494e59",e.KaggleEditorVariableTypeText="#909db7",e.KaggleEditorSortIcon="#2a7ba1",e.KaggleEditorLogBackground="#3E4554",e.KaggleEditorRunningBackground="#B4E9FF",e.KaggleEditorCompletedBackground="#E4F5EF",e.KaggleEditorCompletedBorder="rgba(209, 239, 230, 0.502)",e.KaggleEditorCompletedFont="#158561",e.KaggleEditorErrorBackground="rgba(255, 178, 178, 0.502)",e.KaggleEditorErrorBorder="#F89090",e.KaggleEditorErrorFont="#D27069",e.KaggleEditorBorder="#E7E7E7",e.TextDark="rgba(0,0,0,1.0)",e.TextMedium="rgba(0,0,0,0.7)",e.TextSublink="rgba(0,0,0,0.55)",e.TextLight="rgba(0,0,0,0.4)",e.TextLightFaded="rgba(0,0,0,0.4)",e.TextDisabled="rgba(0,0,0,0.3)",e.TextLink="#008ABC",e.TextLinkHover="rgb(32, 190, 255)",e.TextTag="#699EB2",e.TextWhite="rgb(255,255,255)",e.HoverLight="rgba(0,0,0,0.03)",e.HoverMedium="rgba(0,0,0,0.09)",e.HoverBlue="rgba(32,190,255,0.06)",e.UserNovice="#5AC995",e.UserKaggler="#00BBFF",e.UserExpert="#95628F",e.UserMaster="#F96517",e.UserGrandmaster="#DCA917",e.UserStaff="#008ABC",e.UserNoviceFaded="#8CD6B4",e.UserKagglerFaded="#5FCEFC",e.UserExpertFaded="#95628F",e.UserExpertLight="#AA81A5",e.UserMasterFaded="#F78353",e.UserGrandmasterFaded="#E3C06B",e.UserStaffFaded="#008ABC",e.OrganizationFaded="#D9E1E4",e.Organization="#2E576C",e.Bronze="#8E5B3D",e.Silver="#838280",e.Gold="#B88121",e.InTheMoney="#00D27A",e.SiteBackground="#F6F9FA",e.ContentBackground="#FFFFFF",e.SubcontentBackground="#F8F8F8",e.SubcontentBackgroundFlash="rgb(249,252,253)",e.ContentBorder="rgb(222,223,224)",e.ContentBorderLight="#EBECEC",e.ContentBorderFaded="rgba(222,223,224,0.5)",e.SubheaderBackground="#F2F2F2",e.ContentHeaderBackground="#FBFBFB",e.BannerGray="#3D4045",e.BannerGrayDark="#38393C",e.CodeBackground="#21242a",e.CodeWhite="#f8f8f2",e.QuoteBackground="#f4f4f4",e.QuoteBorder="#cccccc",e.HeaderMenuGrayDark="#383A3D",e.HeaderMenuGrayMedium="#595B5E",e.HeaderMenuGrayLight="#6B6D70",e.HeaderMenuDropdownBorder="#E5E5E5",e.HeaderMenuGreyText="#777777",e.FooterBlack="#111111",e.FooterGrayLight="#C4C9CD",e.FooterGrayDark="#808080",e.FooterBorder="#DDDDDD",e.CompFeatured="#FF625C",e.CompRecruitment="#F8A650",e.CompResearch="#F4CE4A",e.CompPlayground="#00BBFF",e.CompGettingstarted="#5AC996",e.CompInclass="#86DCFF",e.CompMasters="#C0C0C0",e.CompAnalytics="#F8A650",e.InputBackgroundEdit="rgb(254,236,222)",e.CodeHighlightDeleteDark="rgb(243,182,182)",e.CodeHighlightDeleteMedium="rgb(249,220,220)",e.CodeHighlightDeleteLight="rgb(252,237,237)",e.CodeHighlightInsertDark="rgb(182,243,229)",e.CodeHighlightInsertMedium="rgb(220,249,241)",e.CodeHighlightInsertLight="rgb(237,252,248)",e.SocialIconFacebook="#3A589B",e.SocialIconFacebookLight="lighten(@color--social-icon--facebook, 5%)",e.SocialIconFacebookLightest="lighten(@color--social-icon--facebook, 10%)",e.SocialIconFacebookDark="darken(@color--social-icon--facebook, 5%)",e.SocialIconGoogle="#DF4A32",e.SocialIconGoogleLight="lighten(@color--social-icon--google, 5%)",e.SocialIconGoogleLightest="lighten(@color--social-icon--google, 10%)",e.SocialIconGoogleDark="darken(@color--social-icon--google, 5%)",e.SocialIconYahoo="#4B02BC",e.SocialIconYahooLight="lighten(@color--social-icon--yahoo, 10%)",e.SocialIconYahooLightest="lighten(@color--social-icon--yahoo, 15%)",e.SocialIconYahooDark="darken(@color--social-icon--yahoo, 5%)",e.EasternBlue="#1E9AB0",e.Sundown="#FFB1B3",e.Shakespeare="#4EABD1",e.MountainMeadow="#1AB385",e.BridalHeath="#FFF8ED",e.Alabaster="#FAFAFA",e.Iron="#D4D7D9",e.MineShaft="#373737",e.Concrete="#f2f2f2",e.MilanoRed="#b81104",e.Gothic="#6D92A1",e.Boulder="#7A7A7A",e.BlackSqueeze="#F2FAFA",e.BondiBlue="#0095b6",e.Botticelli="#c7dde5",e.DustyGray="#959595",e.Alto="#dbdbdb",e.Spindle="#b6d1ea",e.DoveGray="#6d6c6c",e.Nobel="#b7b1b1",e.Gallery="#efefef",e.PacificBlue="#009dc4",e.SilverChalice="#ACACAC",e.Honeydew="#F0FFF0",e.Abbey="#4C4F56",e.CrownOfThorns="#771f1f",e.GrayChateau="#A2AAB3",e.EasternBlueDarker="#158BBA",e.PolarDark="#E7F4F9",e.AquaIsland="#A1DAD7",e.PattensBlue="#DEF5FF",e.CatskillWhite="#EFF7F8",e.CatskillWhiteDarker="#D6DEDF",e.ConsoleTextQueued="rgb(172, 175, 180)",e.ConsoleTextStarting="rgb(239, 133, 7)",e.ConsoleTextRunning="rgb(29, 187, 153)",e.ConsoleTextEmphasis="rgb(231, 232, 233)",e.AdminOnlyBorder="#E6CAB0",e.InfoMessage="#008665",e.ErrorMessage="#803433"}(a||(a={})),function(e){e[e.ZSunken=-1]="ZSunken",e[e.ZBackground=0]="ZBackground",e[e.ZGround=1]="ZGround",e[e.ZForeground=2]="ZForeground",e[e.ZRaised=3]="ZRaised",e[e.Z4=4]="Z4",e[e.Z5=5]="Z5",e[e.Z6=6]="Z6",e[e.Z10=10]="Z10",e[e.Z11=11]="Z11",e[e.Z12=12]="Z12",e[e.Z15=15]="Z15",e[e.Z19=19]="Z19",e[e.Z20=20]="Z20",e[e.Z24=24]="Z24",e[e.Z25=25]="Z25",e[e.Z30=30]="Z30",e[e.Z50=50]="Z50",e[e.Z100=100]="Z100",e[e.Z150=150]="Z150",e[e.Z160=160]="Z160",e[e.Z170=170]="Z170",e[e.Z200=200]="Z200",e[e.Z300=300]="Z300",e[e.Z400=400]="Z400",e[e.Z999=999]="Z999",e[e.Z1000=1e3]="Z1000",e[e.Z1001=1001]="Z1001",e[e.Z1002=1002]="Z1002",e[e.Z1003=1003]="Z1003",e[e.Z1010=1010]="Z1010",e[e.Z2000=2e3]="Z2000",e[e.Z2500=2500]="Z2500",e[e.Z3000=3e3]="Z3000",e[e.Z99999=99999]="Z99999"}(r||(r={})),function(e){e.ScreenMobileMax="480px",e.ScreenTabletMin="481px",e.ScreenTabletMax="768px",e.ScreenDesktopMin="769px",e.ScreenDesktopMax="1024px",e.ScreenDesktopLargeMin="1025px",e.ScreenRedesignOffset="152px"}(o||(o={})),function(e){e.SiteWidthDesktop="950px",e.SiteWidthDesktopWrapper="990px",e.SiteWidthDesktopWide="90vw",e.BorderRadius="4px",e.ResponsiveContentPadding="20px",e.PadXs="4px",e.PadS="8px",e.PadM="16px",e.PadL="24px",e.PadXl="32px",e.PadXxl="40px",e.BarHeight="48px",e.CardS="80px",e.CardM="120px",e.DataGridMargin="12.5px"}(i||(i={})),function(e){e.FontFamilyInter="'Inter', sans-serif",e.FontFamilyZeitung="'zeitung', sans-serif",e.FontFamilyPressura="'Pressura', sans-serif",e.FontFamilyOpenSans="'Open Sans', sans-serif",e.FontFamilyMonospace="'Roboto Mono', Monaco, Consolas, monospace",e.FontFamilyFontAwesome="FontAwesome",e.FontWeightNormal="400",e.FontWeightMedium="500",e.FontWeightSemibold="600",e.FontWeightBold="700",e.FontBaseNumber="14",e.FontBasePx="14px",e.FontBaseBrowserMultiplier="87.5%",e.LineHeightNormal="1.375",e.LineHeightShort="1.2",e.LineHeightTall="1.5",e.FontSizeXs="10px",e.FontSizeS="12px",e.FontSizeM="14px",e.FontSizeL="20px",e.FontSizeXl="24px",e.FontSizeXxl="32px"}(s||(s={}));var c={Inter:"font-family: 'Inter', sans-serif;",Pressura:"font-family: 'Pressura', sans-serif;",OpenSans:"font-family: 'Open Sans', sans-serif;",Monospace:"font-family: 'Roboto Mono', Monaco, Consolas, monospace;",FontAwesome:"font-family: FontAwesome;",MaterialIcons:"font-family: undefined;",Consolas:"font-family: undefined;",Zeitung:"font-family: 'zeitung', sans-serif;"},u={screenMedia:l.b,min:function(e){return Object(l.b)({"min-width":e})},max:function(e){return Object(l.b)({"max-width":e})},mobile:Object(l.b)({"max-width":o.ScreenMobileMax}),nonMobile:Object(l.b)({"min-width":o.ScreenTabletMin}),tablet:Object(l.b)({"min-width":o.ScreenTabletMin,"max-width":o.ScreenTabletMax}),nonDesktop:Object(l.b)({"max-width":o.ScreenTabletMax}),desktop:Object(l.b)({"min-width":o.ScreenDesktopMin,"max-width":o.ScreenDesktopMax}),desktopLarge:Object(l.b)({"min-width":o.ScreenDesktopLargeMin})},d={default:"\n          text-decoration: none;\n          color: "+a.KaggleBlueDark+";\n          cursor: pointer;\n          &:hover {\n              color: "+a.KaggleBlue+";\n          }\n      ",alternate:"\n          text-decoration: none;\n          color: "+a.KaggleBlack+";\n          cursor: pointer;\n          font-weight: "+s.FontWeightMedium+";\n          &:hover {\n              text-decoration: underline;\n          }\n      ",danger:"\n          color: "+a.KaggleRed+";\n          cursor: pointer;\n          font-weight: "+s.FontWeightMedium+";\n          text-decoration: none;\n          &:hover {\n              cursor: pointer;\n              text-decoration: underline;\n          }\n      ",boldReserved:"\n          display: block;\n          content: attr(title);\n          font-weight: "+s.FontWeightMedium+";\n          height: 0;\n          color: transparent;\n          overflow: hidden;\n          visibility: hidden;\n      "},p=(s.FontWeightMedium,c.Inter,s.FontWeightMedium,a.KaggleBlueDark,c.Inter,s.FontWeightMedium,a.KaggleBlue,{truncate:"\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n      "})},1008:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r=a.createContext(!1)},1010:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g}));var a=n(31);const r=e=>{const t=o(e);return a.duration(t,"seconds").humanize()},o=e=>{return e?e>53687091200?10800:e>10737418240?3600:e>5368709120?1800:e>1073741824?900:e>524288e3?600:e>104857600?180:e>10485760?60:e>1048576?20:10:10},i=e=>l(new Date(e)),s=e=>c(new Date(e)),l=e=>e?a(e).format("DMMMYY"):"",c=e=>e?a(e).format("YYYY-MM-DD HH:mm:ss"):"",u=(e,t)=>null===e?"":e===1/0?"Inf":e===-1/0?"-Inf":t?d(e):p(e),d=e=>"number"!=typeof e?"":e>1e11?(e/1e9).toFixed(0)+"b":e>1e10?(e/1e9).toFixed(1)+"b":e>1e9?(e/1e9).toFixed(2)+"b":e>1e8?(e/1e6).toFixed(0)+"m":e>1e7?(e/1e6).toFixed(1)+"m":e>1e6?(e/1e6).toFixed(2)+"m":e>1e5?(e/1e3).toFixed(0)+"k":e>1e4?(e/1e3).toFixed(1)+"k":e.toFixed(0),p=e=>{if(null==e)return"";if(isNaN(e))return"NaN";const t=Math.abs(e);return t>1e11?`${m(e/1e9,0)}b`:t>1e10?`${m(e/1e9,1)}b`:t>1e9?`${m(e/1e9,2)}b`:t>1e8?`${m(e/1e6,0)}m`:t>1e7?`${m(e/1e6,1)}m`:t>1e6?`${m(e/1e6,2)}m`:t>1e5?`${m(e/1e3,0)}k`:t>1e4?`${m(e/1e3,1)}k`:t>1e3?`${m(e/1e3,2)}k`:m(e,t>100?0:t>10?1:2)},m=(e,t)=>Number.parseFloat(e.toFixed(t)).toString(),h=e=>{let t="."===e.substring(0,1)?e.substring(1):e;switch(t=t?t.toLowerCase():t,t){case"csv":case"tsv":case"xls":case"xlsx":return"table_chart";case"sqlite":return"storage";case"sqlitetable":return"table_chart";case"png":case"jpg":case"jpeg":case"gif":return"image";case"txt":case"json":case"ndjson":return"description";case"zip":case"7z":case"gz":case"tar":case"rar":case"bz2":return"drive_zip_outline";default:return"insert_drive_file"}},f=e=>e.substring(e.lastIndexOf(".")+1,e.length)||e,g=e=>{const t=e.replace(/tag:('?)(\w+)('?)/,"$2").trim();return`https://toolbox.google.com/datasetsearch/search?query=${encodeURIComponent(t)}%20-site%3Akaggle.com`}},1012:function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"m",(function(){return r})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"p",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"i",(function(){return v})),n.d(t,"a",(function(){return y}));const a=e=>"uploadContainer"===e.type,r=e=>"remoteUrlUploadContainer"===e.type,o=e=>"failed"===e.type,i=e=>"pending"===e.type,s=e=>"success"===e.type,l=e=>"githubContainer"===e.type,c=e=>"githubFile"===e.type,u=e=>"failed"===e.type,d=e=>"success"===e.type,p=e=>"pending"===e.type,m=e=>"invalid"===e.type,h=e=>"kernelOutputContainer"===e.type,f=e=>"loadingKernels"===e.type,g=e=>"listKernels"===e.type,b=e=>"loadingFiles"===e.type,v=e=>"listFiles"===e.type,y=e=>"gcsFileSetContainer"===e.type},1014:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c}));const a="discussions",r=809,o=908771,i="Communities",s="/discussion",l="BACK_TO_TAG_FORUM",c="https://forms.gle/YNqXMfFBZAAZiD9x6"},1015:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var a=n(145),r=n(1),o=n.n(r);const i=o()(a.u)`
  padding: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex-shrink: 0;
`,s=(o.a.div`
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  margin-top: -${e=>e.theme.size.pad.m}; /* HACK */
  padding: 0 ${e=>e.theme.size.pad.m} ${e=>e.theme.size.pad.l}
    ${e=>e.theme.size.pad.m};
`,o.a.div`
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  padding: 1px 6px;
`),l=o()(s)`
  border: none;
  background: none;
  color: ${e=>e.theme.colors.kaggle.red};
  padding: 1px 6px;
  height: 26px;

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.colors.kaggle.redDarkest};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.colors.text.light};
  }
`.withComponent("button"),c=(o()(s)`
  border: none;
  background: none;
  color: ${e=>e.theme.colors.kaggle.blueDark};

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.colors.kaggle.blue};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.colors.text.light};
  }
`.withComponent("button"),(e,t,n)=>e?n:t)},1016:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),o=n(0),i=n(1027);const s=r.a.div`
  align-items: center;
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: inline-flex;
  margin: ${e=>{const t=e.theme.material.spacing;return`${t(1)} ${t(3)} ${t(1)} 0`}};
  padding-right: ${e=>e.theme.material.spacing(3)};

  &:first-child {
    padding-left: 0;
  }

  &:last-child {
    border-right: 0;
  }
`,l=r()(i.a)`
  && {
    font-size: ${e=>e.theme.material.typography.body3.fontSize};
  }
`;function c({text:e,color:t,onClick:n,href:a}){return o.createElement(s,null,o.createElement(l,{color:t,bold:!0,href:a,onClick:n},e))}},1017:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));const a=(e,t)=>e.files.some(e=>e.state.type===t)||e.directories.some(e=>a(e,t)),r=e=>{const t=i(e),n=s(e);return 0===t?100:100*n/t},o=e=>e.files.length+e.directories.reduce((e,t)=>e+o(t),0),i=e=>e.files.reduce((e,t)=>t.size+e,0)+e.directories.reduce((e,t)=>e+i(t),0),s=e=>{return e.files.reduce((e,t)=>"uploading"===t.state.type?t.state.percentComplete*t.size/100+e:t.size+e,0)+e.directories.reduce((e,t)=>e+s(t),0)},l=(e,t)=>{const n={type:"uploadDirectory",name:"",files:e.files,directories:e.directories},a=t.reduce((e,t)=>{if(void 0===e)return;const n=e[e.length-1].directories.find(e=>e.name===t);return n?(e.push(n),e):void 0},[n]);if(Array.isArray(a))return a.slice(1)},c=(e,t)=>{const n={type:"existingDirectory",name:"",files:e.existingFiles,directories:e.existingDirectories},a=t.reduce((e,t)=>{if(void 0===e)return;const n=e[e.length-1].directories.find(e=>e.name===t);return n?(e.push(n),e):void 0},[n]);if(Array.isArray(a))return a.slice(1)},u=(e,t)=>{if("uploadDirectory"===t.type){const n=l(e,t.parts);return Array.isArray(n)?n.pop():void 0}if("existingDirectory"===t.type){const n=c(e,t.parts);return Array.isArray(n)?n.pop():void 0}},d=(e,t)=>{t(e),e.type,e.directories.forEach(e=>{d(e,t)})},p=(e,t)=>(e.type,e.files.filter(e=>t(e)).length+e.directories.reduce((e,n)=>e+p(n,t),0)),m=(e,t)=>{const{files:n,existingFiles:a,directories:r,existingDirectories:o}=e;return n.filter(e=>t(e)).length+a.filter(e=>t(e)).length+r.reduce((e,n)=>e+p(n,t),0)+o.reduce((e,n)=>e+p(n,t),0)}},1018:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n(145),r=n(1),o=n.n(r),i=n(1185);o.a.div`
  flex-grow: 1;
  display: flex;
  position: relative;
  line-height: 1.4;
`;const s=o.a.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 200px;
  flex: 1 1 auto;
`,l=o.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
`,c=o.a.div`
  display: flex;
  flex: 1 1 0;
  min-height: 0;
`,u=(o()(i.a)`
  position: absolute;
  top: ${e=>e.theme.size.pad.s};
  right: ${e=>e.theme.size.pad.s};
  justify-self: right;
`,o()(i.a)`
  justify-self: right;
`,o.a.div`
  position: relative;
  height: 28px;
  flex: 0 0 auto;
  display: flex;
  border-bottom: 1px solid
    ${e=>e.theme.material.color.brand.grey[100]};
  padding: 16px;
  align-items: center;
`),d=o()(a.p)`
  flex: 1 1 auto;
`,p=o()(a.p)`
  margin: 16px 0 8px 0;
`,m=o()(a.c)`
  margin-bottom: 24px;
`,h=o.a.div`
  padding: 0 16px;
  overflow-y: auto;
  flex: 1 1 auto;
`},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1);const r=a.defaultTheme.material.color.brand.grey,o=a.defaultTheme.material.color.white,i=a.defaultTheme.material.color.mode.light,s=a.defaultTheme.material.color.brand.blue,l=a.defaultTheme.material.color.status,c={light:{background:o,backgroundAlt:r[50],backgroundTransparent:"rgba(255, 255, 255, 0.8)",blue:s[700],blueHover:s[500],blueSelected:s[800],border:r[100],borderAlt:r[200],borderFocus:r[500],caution:l.caution[900],error:l.error[900],success:l.success[900],text:i.text.low,textLow:r[500],textMedium:i.text.medium,textHigh:r[900],text100:a.defaultTheme.material.color.text[100],text70:a.defaultTheme.material.color.text[70],text40:a.defaultTheme.material.color.text[40],scrollbarThumb:r[300],shadow:r[200]},dark:{background:a.darkPalette.cellBackground,backgroundAlt:r[800],backgroundTransparent:"rgba(0, 0, 0, 0.8)",blue:s[500],blueHover:s[500],blueSelected:s[400],border:a.darkPalette.lightLines,borderAlt:a.darkPalette.darkLines,borderFocus:r[300],caution:l.caution[500],error:l.error[500],success:l.success[500],text:a.darkPalette.text[70],textLow:a.darkPalette.text[50],textMedium:a.darkPalette.text[70],textHigh:a.darkPalette.text[100],text100:a.darkPalette.text[100],text70:a.darkPalette.text[70],text40:a.darkPalette.text[50],scrollbarThumb:r[300],shadow:"#000000"}}},1021:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"d",(function(){return y}));var a=n(6),r=n(1014);function o(e){return n=50,(t=e=e||"").length>n?t.slice(0,n-3)+"...":t;var t,n}function i(e){let t=0;for(const n of e)t++,t+=n.replies.length;return t}function s(e,t){for(e=e||"",t=t||"";e&&!e.endsWith("\n\n");)e+="\n";return e+function(e){return e?"> "+e.trim().replace(/(?:\r\n|\r|\n)/g,"\n> "):""}(t)+"\n\n"}function l(e){return e?e.hasAlreadyVotedDown?-1:e.hasAlreadyVotedUp?1:0:0}function c(e,t,n){var a,r,o,i;return{totalVotes:n,hasAlreadyVotedUp:1===t,hasAlreadyVotedDown:-1===t,canUpvote:null!==(a=null==e?void 0:e.canUpvote)&&void 0!==a&&a,canDownvote:null!==(r=null==e?void 0:e.canDownvote)&&void 0!==r&&r,voters:null!==(o=null==e?void 0:e.voters)&&void 0!==o?o:[],upvoters:null!==(i=null==e?void 0:e.upvoters)&&void 0!==i?i:[]}}function u(e){return e.map(e=>e.blobToken).filter(e=>Boolean(e))}function d(e,t){return!(!e||!t)&&(e.isAdmin||e.id===t)}function p(e,t){return!(!e||!t)&&e.id===t}function m(e){switch(e){case"topic":return"#20beff";case"admin":return"#008abc";case"datasetCreator":case"host":return"#CC615C";default:return""}}function h(e){switch(e){case"admin":return"Kaggle Staff";case"topic":return"Topic Author";case"host":return"Competition Host";case"datasetCreator":return"Dataset Creator";default:return""}}const f=(e,t)=>{const n={topicId:e.id};t&&(n.forumId=t),a.r.report(r.a,"discussions-topic-click",n)},g=(e,t)=>{const n={};void 0!==e?n.forumId=e:void 0!==t&&(n.tagId=t),a.r.report(r.a,"view",n)},b=e=>{a.r.report(r.a,"discussions-new-topic",{forumId:e})},v=e=>{a.r.report(r.a,"discussions-new-comment",{topicId:e})},y=e=>{var t;return{buganizerId:null!==(t=e.buganizerId)&&void 0!==t?t:null,followUpStatus:e.followUpStatus}}},1022:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(874),r=n(1),o=n(1366),i=n(0);function s(e){const{isDisabled:t,onClick:n,className:r}=e;return i.createElement(a.a,{emphasis:"medium",disabled:t,onClick:n,className:r,leadingIcon:"add"},"Upload Files")}function l(e){const t=Object(o.a)(r.BreakpointDown.PHONE),{isDisabled:n,onClick:s,className:l}=e;return i.createElement(a.a,{emphasis:"medium",disabled:n,onClick:s,className:l,leadingIcon:"add"},t?"Add":"Add Remote Files")}function c(e){const{isDisabled:t,onClick:n,className:r}=e;return i.createElement(a.a,{emphasis:"medium",disabled:t,onClick:n,className:r},"Back To Search")}},1023:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n.n(a),o=n(0);const i=r.a.a`
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  cursor: pointer;
  display: inline-block;
  outline: none;
  text-decoration: none;
  transition: background 170ms linear;

  &:hover,
  &:focus {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }

  &:active {
    background: ${e=>e.theme.material.color.brand.grey[100]};
  }
`,s=({onClick:e,href:t,children:n,title:a,className:r})=>o.createElement(i,{onClick:e,title:a,className:r,href:t},n)},1024:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var a=n(2),r=n(6);const o=()=>{try{const e=window.localStorage.getItem("KAGGLE_LANGUAGE_ID");if(!e)return"";const t=parseInt(e,10);return isNaN(t)?"":`languageId=${t}`}catch(e){return""}},i=e=>{const t=e.filter(e=>!!e).join("&");return`/code/welcome${t&&`?${t}`}`},s=()=>i([o()]),l=e=>i([o(),`datasetVersionId=${e}`]),c=e=>i([o(),`competitionId=${e}`]),u=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const t=d(e),n=yield Object(r.p)();n&&!n.isAnonymous||Object(r.u)("kernels","anonymousKernelCreation",{url:t}),window.location.href=t})),d=e=>(null==e?void 0:e.competitionId)?c(e.competitionId):(null==e?void 0:e.datasetVersionId)?l(e.datasetVersionId):(null==e?void 0:e.kernelVersionId)?(e=>i([o(),`scriptVersionId=${e}`]))(e.kernelVersionId):s()},1025:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(0);const r=Object.assign(Object.assign({},{}),{select:()=>{},setTableQuery:()=>{}}),o={dataLoadingState:{type:"success"},reference:{type:"dataset",id:0,databundleVersionId:0,datasetVersionId:0},dataSources:[],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:{maximized:!1,treeCollapsed:!1,tabularViewType:"detail"},userSettings:{userId:void 0,canEdit:!1}},i=Object.assign(Object.assign({},o),{dispatch:()=>{},dispatchAsync:()=>{}}),s=a.createContext(i),l=a.createContext(r)},1026:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"p",(function(){return f})),n.d(t,"o",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"c",(function(){return C})),n.d(t,"k",(function(){return k}));var a=n(145),r=n(1),o=n.n(r),i=n(1432),s=n(1019),l=n(1054);const c="148px",u="150px",d="110px",p="12px",m=(o.a.div`
  height: fit-content;
`,o.a.div`
  flex: 1 1 auto;
  overflow: auto;
  max-height: fit-content;

  ${e=>Object(l.a)(e)}
`),h=o.a.div`
  background-color: ${e=>s.a[e.theme.name].background};
  border-top: 1px solid ${e=>s.a[e.theme.name].border};
  flex: 1 1 auto;
  overflow-x: auto;
  min-height: ${"550px"};
  max-height: fit-content;

  ${e=>Object(l.a)(e)}
`,f=o.a.div`
  /* Note: no material border color found */
  border-bottom: 1px solid ${e=>s.a[e.theme.name].border};
  background-color: ${e=>s.a[e.theme.name].background};
  display: flex;
  flex-direction: row;
  height: fit-content;
  width: fit-content;
`,g=r.css`
  font-size: ${e=>e.theme.material.typography.body3.fontSize};
  /* Note: no material border color found */
  border-right: 1px solid ${e=>s.a[e.theme.name].border};
  flex: 1 1 auto;
  width: ${u};
  min-width: ${u};
  padding: ${"8px"} ${p};
  color: ${e=>s.a[e.theme.name].text};
  text-align: left;
  vertical-align: top;
  word-break: break-word;
`,b=o.a.div`
  ${g}
`,v=o()(b)`
  text-align: center;
  display: flex;
  justify-content: center;
  flex-direction: column;
`,y=o()(a.p)`
  color: ${e=>s.a[e.theme.name].blue};
`,E=o()(a.e)``,w=o()(a.i)`
  color: ${e=>s.a[e.theme.name].blue};
  font-family: "Inter", sans-serif;
`,x=o()(a.p)``,C=o()(i.a)`
  /* Prevent flickering on the tooltip hover inspired by
   * https://stackoverflow.com/questions/37902708/google-charts-tooltip-flickering
   */
  .google-visualization-tooltip {
    pointer-events: none;
  }
`,k=o()(a.b.withComponent("span"))`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
`},1027:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1);const r=n.n(a).a.a`
  cursor: pointer;
  text-decoration: none;
  font-weight: ${e=>e.bold?500:400};
  color: ${e=>"black"===e.color||"comment"===e.authorType?e.theme.material.color.text[70]:"grey"===e.color?e.theme.material.color.text[40]:"red"===e.color||"datasetCreator"===e.authorType||"host"===e.authorType?"#cc615c":"light-blue"===e.color||"topic"===e.authorType?"#20beff":"#008abc"};

  &:hover {
    color: ${e=>"black"===e.color||"comment"===e.authorType?e.theme.material.color.text[40]:"grey"===e.color?e.theme.material.color.text[40]:"red"===e.color||"datasetCreator"===e.authorType||"host"===e.authorType?"#b34834":"light-blue"===e.color||"topic"===e.authorType?"#008abc":"#20beff"};
  }
`},1030:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(6),r=n(126);function o(e){return e?Object.assign(Object.assign({},e),{tier:Object(r.e)(e.performanceTier),userUrl:e.profileUrl,id:e.id||-1}):null}a.c.Sdk.Discussions.Protos.TopicListCategory;const i=a.c.Sdk.Discussions.Protos.TopicListGroup,s=a.c.Sdk.Discussions.Protos.TopicListSortBy,l=a.c.Sdk.Discussions.Protos.TagCommunityFilter,c=a.c.Sdk.Discussions.Protos.TopicListRecency,u=a.c.Sdk.Discussions.Protos.TopicListMyActivity,d=a.c.Sdk.Discussions.Protos.TopicListAuthor},1031:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b}));var a,r,o=n(2),i=n(1144),s=n(1),l=n.n(s),c=n(55),u=n(0),d=n(1007),p=l.a.div.withConfig({displayName:"ContentBox_Title",componentId:"sc-6fbrxj"})(a||(a=Object(o.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  align-self: center;\n\n  overflow: hidden;\n\n  text-align: left;\n  max-width: 100%;\n\n  ",";\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n"],["\n  flex: 1 1 auto;\n  align-self: center;\n\n  overflow: hidden;\n\n  text-align: left;\n  max-width: 100%;\n\n  ",";\n  color: ",";\n  font-weight: ",";\n  font-size: ",";\n"])),d.c.Inter,d.b.TextLight,d.d.FontWeightMedium,d.d.FontSizeM),m=l.a.div.withConfig({displayName:"ContentBox_TabWrapper",componentId:"sc-1lpsn4a"})(r||(r=Object(o.__makeTemplateObject)(["\n  display: flex;\n  border-bottom: 1px solid ",";\n"],["\n  display: flex;\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.colors.border})),h=function(e){function t(t){var n=e.call(this,t)||this;return n.changeTab=function(e,t){n.setState({activeTabIndex:e}),t.action&&t.action()},n.state={activeTabIndex:t.activeTabIndex||0},n}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,a=t.panes,r=t.tabs,s=t.tabsRightSide,l=Object(o.__rest)(t,["children","panes","tabs","tabsRightSide"]),c=this.state.activeTabIndex;return u.createElement(u.Fragment,null,u.createElement(m,null,u.createElement(i.a,{tabs:r.map((function(e){return e.label})),onSelectItem:function(t){return e.changeTab(t,r[t])}}),u.createElement("div",{className:"content-box__tabs-right"},s)),u.createElement(g,Object(o.__assign)({},l),a?a[c]:n))},t}(u.Component),f=function(e){function t(t){var n=e.call(this,t)||this;return n.toggleCollapsed=function(){n.setState({isCollapsed:!n.state.isCollapsed})},n.state={isCollapsed:n.props.initiallyCollapsed},n.collapsedClass="fa fa-"+(n.props.collapsedIconFontAwesomeClass||"plus-square-o"),n.expandedClass="fa fa-"+(n.props.expandedIconFontAwesomeClassedIcon||"minus-square-o"),n.props.titleHref&&console.warn("titleHref not supported in CollapsibleContentBox"),n.props.title||console.warn("Untitled CollapsibleContentBox not supported"),n}return Object(o.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isCollapsed:e.initiallyCollapsed})},t.prototype.render=function(){var e="content-box__expand-toggle "+(this.state.isCollapsed?this.collapsedClass:this.expandedClass);return u.createElement("div",{className:c("content-box",this.props.className)},this.props.showLoader?u.createElement("div",{className:"content-box__loader-overlay"},u.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),u.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",u.createElement("div",{className:"content-box__title-bar--collapsible",onClick:this.props.onToggleCollapse?this.props.onToggleCollapse:this.toggleCollapsed,role:"button"},u.createElement("div",{className:e}),this.props.title&&u.createElement(p,null,this.props.title," "),this.props.titleBarRightSide?u.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null),this.state.isCollapsed?null:u.createElement("div",{className:c("content-box__content-section",this.props.contentClassName)},this.props.subTitleBar?u.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children))},t}(u.Component),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=u.createElement("div",{className:"content-box__title-bar"},u.createElement(p,{style:{lineHeight:(this.props.titleHeight?this.props.titleHeight:t.titleHeight)+"px"}},this.props.title),this.props.titleBarRightSide?u.createElement("div",{className:"content-box__right-side"},this.props.titleBarRightSide):null);return this.props.title?u.createElement("div",{className:c("content-box",{"content-box--grow":this.props.growVertically},this.props.className)},this.props.showLoader?u.createElement("div",{className:"content-box__loader-overlay"},u.createElement("div",{className:"content-box__loader-icon fa fa-refresh fa-spin fa-3x fa-fw margin-bottom"}),u.createElement("div",{className:"content-box__loader-message"},this.props.loaderMessage||"Please wait...")):"",this.props.titleHref?u.createElement("a",{className:"content-box__title-bar--link",href:this.props.titleHref},e):this.props.onTitleClick?u.createElement("div",{className:"content-box__title-bar--link",onClick:this.props.onTitleClick,role:"button"},e):u.createElement("div",null,e),u.createElement("div",{className:c("content-box__content-section",this.props.contentClassName,{"content-box__content-section--no-border":this.props.borderless})},this.props.subTitleBar?u.createElement("div",{className:"content-box__subtitle-bar"},this.props.subTitleBar):null,this.props.children)):u.createElement("div",{className:c("content-box","content-box--no-title",{"content-box--grow":this.props.growVertically},this.props.className)},u.createElement("div",{className:c("content-box__content-section content-box__content-section--no-title",this.props.borderless?"content-box__content-section--no-border":null,this.props.contentClassName)},u.createElement("div",{className:"content-box__simple-content-box"},u.createElement("div",{className:"content-box__simple-content"},this.props.children))))},t.titleHeight=46,t.subTitleHeight=15,t.margin=24,t}(u.Component),b=function(e){function t(t){var n=e.call(this,t)||this;return n.updateHeightWidth=function(){n.setState({screenHeight:window.innerHeight,screenWidth:window.innerWidth})},n.state={screenHeight:window.innerHeight,screenWidth:window.innerWidth},n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateHeightWidth)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateHeightWidth)},t.prototype.render=function(){var e=document.querySelector(".site-layout__header"),t=document.querySelector(".site-layout__footer"),n=e&&e.clientHeight||0,a=t&&t.clientHeight||0,r=this.props.title?this.props.titleHeight?this.props.titleHeight:g.titleHeight:0,i=this.props.subTitleBar?g.subTitleHeight:0,s=this.state.screenHeight-n-a-(this.state.screenWidth>=768?2*g.margin:0)-r-i-2,l=(this.props.className||"")+" content-box--fullscreen";return u.createElement(g,Object(o.__assign)({},this.props,{className:l,growVertically:!0}),u.createElement("div",{style:{height:s,minHeight:this.props.minHeight||0}},this.props.children))},t}(u.Component)},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(874),o=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isDisabled,n=e.href,a=e.onClick,i=e.text,s=e.children;return o.createElement(r.a,{disabled:t,href:n,onClick:t||!a?null:function(e){return a(e)}},s||i)},t}(o.Component)},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var a,r,o=n(2),i=n(1),s=n.n(i),l=n(55),c=n(0),u=n(196),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){return c.createElement("span",{className:l("tooltip-container",{"tooltip-container--left":this.props.alignLeft},{"tooltip-container--right":this.props.alignRight},this.props.className),"data-tooltip":this.props.tipText,"data-tooltip-size":this.props.size},this.props.children)},t}(c.Component),p=s.a.div.withConfig({displayName:"ToolTip_ToolTipContainer",componentId:"sc-f0vhmk"})(a||(a=Object(o.__makeTemplateObject)(["\n  display: inline-flex;\n"],["\n  display: inline-flex;\n"]))),m=s.a.div.withConfig({displayName:"ToolTip_ToolTipView",componentId:"sc-691fym"})(r||(r=Object(o.__makeTemplateObject)(["\n  ","\n  max-width: 60vw;\n"],["\n  ","\n  max-width: 60vw;\n"])),"\n    font-family: 'Inter', sans-serif;\n"),h=0,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tooltipId="tooltip_"+h++,t.getTipAttributes=function(){return{"data-tip":!0,"data-for":t.tooltipId}},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.tip,a=e.container,r=Object(o.__rest)(e,["children","tip","container"]),i=a||p,s=this.getTipAttributes(),l=t?c.Children.map(t,(function(e){return c.isValidElement(e)?c.cloneElement(e,s):c.createElement("span",Object(o.__assign)({},s),e)})):null;return c.createElement(i,Object(o.__assign)({},r),l,c.createElement(u,{id:this.tooltipId,effect:"solid"},c.createElement(m,null,n)))},t}(c.Component)},1034:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return E}));var a=n(6);const r=a.c.Sdk.Discussions.Protos.TopicListAuthor.UNSPECIFIED,o=a.c.Sdk.Discussions.Protos.TopicListCategory.ALL,i=a.c.Sdk.Discussions.Protos.TopicListGroup.ALL,s=a.c.Sdk.Discussions.Protos.TopicListMyActivity.UNSPECIFIED,l=a.c.Sdk.Discussions.Protos.TopicListRecency.UNSPECIFIED,c=a.c.Sdk.Discussions.Protos.TopicListSortBy.UNSPECIFIED,u=a.c.Sdk.Discussions.Protos.TagCommunityFilter.ALL,d="discussionsTopicList",p=["All","Owned","Upvoted"],m=["All","Owned","Bookmarks"],h=["All","Owned","Upvoted","Starred","Groups"],f=["All Categories","Forums","Competitions","Datasets"],g={"All Categories":a.c.Sdk.Discussions.Protos.TopicListCategory.ALL,Forums:a.c.Sdk.Discussions.Protos.TopicListCategory.FORUMS,Competitions:a.c.Sdk.Discussions.Protos.TopicListCategory.COMPETITIONS,Datasets:a.c.Sdk.Discussions.Protos.TopicListCategory.DATASETS},b={all:"All Categories",forums:"Forums",competitions:"Competitions",datasets:"Datasets",unspecified:"All Categories"},v=["Hotness","Recent Comments","Recently Posted","Most Votes","Most Comments","Relevance"],y={Hotness:a.c.Sdk.Discussions.Protos.TopicListSortBy.HOT,"Recent Comments":a.c.Sdk.Discussions.Protos.TopicListSortBy.RECENT,"Recently Posted":a.c.Sdk.Discussions.Protos.TopicListSortBy.NEW,"Most Votes":a.c.Sdk.Discussions.Protos.TopicListSortBy.TOP,"Most Comments":a.c.Sdk.Discussions.Protos.TopicListSortBy.ACTIVE,Relevance:a.c.Sdk.Discussions.Protos.TopicListSortBy.RELEVANCE},E={hot:"Hotness",recent:"Recent Comments",new:"Recently Posted",top:"Most Votes",active:"Most Comments",unspecified:"Hotness",relevance:"Relevance"}},1036:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return m}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(1007),u=l.a.div.withConfig({displayName:"Modal_ModalBackground",componentId:"sc-1jy59sc"})(a||(a=Object(i.__makeTemplateObject)(["\n  background-color: rgba(0, 0, 7, 0.4);\n  display: flex;\n  height: 100%;\n  left: 0;\n  overflow-y: scroll;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n"],["\n  background-color: rgba(0, 0, 7, 0.4);\n  display: flex;\n  height: 100%;\n  left: 0;\n  overflow-y: scroll;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n"]))),d=l.a.div.withConfig({displayName:"Modal_ModalContent",componentId:"sc-1ga175p"})(o||(o=Object(i.__makeTemplateObject)(["\n  background-color: #fff;\n  border-radius: ",";\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.03), 0 3px 9px rgba(0, 0, 0, 0.09);\n  display: inline-block;\n  margin: auto;\n\n  ","\n"],["\n  background-color: #fff;\n  border-radius: ",";\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.03), 0 3px 9px rgba(0, 0, 0, 0.09);\n  display: inline-block;\n  margin: auto;\n\n  ","\n"])),c.g.BorderRadius,c.f.mobile(r||(r=Object(i.__makeTemplateObject)(["\n        border-radius: 0;\n    "],["\n        border-radius: 0;\n    "])))),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("a",{role:"button",className:"modal__close-button "+this.props.className,onClick:function(){return t.props.onClose()}},"×")},n}(e.Component),m=function(t){function n(e){var n=t.call(this,e)||this;return n.handleOpenClick=function(){n.props.onShow(),n.openModal()},n.handleCloseClick=function(){n.props.onClose(),n.props.doNotCloseSelf||n.closeModal()},n.openModal=function(){document.querySelector("body").style.overflowX="hidden",document.querySelector("body").style.overflowY="scroll",document.querySelector("html").style.overflow="hidden",n.modalIsShown=!0},n.closeModal=function(){document.querySelector("body").style.overflow="visible",document.querySelector("html").style.overflow="visible",n.modalIsShown=!1},n.handleKeyDown=function(e){"Escape"===e.code&&n.modalIsShown&&n.handleCloseClick()},n.handleStopPropagation=function(e){e.stopPropagation()},n.modalIsShown=e.modalIsShown,n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.modalIsShown!==this.modalIsShown&&(e.modalIsShown?this.openModal():this.closeModal())},n.prototype.render=function(){return this.props.modalIsShown?e.createElement("div",{className:"modal"},e.createElement("div",{role:"button",className:this.props.buttonClassName,onClick:this.handleOpenClick}),e.createElement("div",{role:"button",className:"modal__background "+this.props.className,onMouseDown:this.handleCloseClick},e.createElement("div",{role:"button",className:"modal__content",style:Object(i.__assign)({display:"inline-block",margin:"auto"},this.props.modalContentStyle),onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children))):null},n}(e.Component)}).call(this,n(0))},1037:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e.type!==t.type)return!0;if("githubContainer"===e.type&&"githubContainer"===t.type)return e.state.type!==t.state.type||e.url!==t.url;if("uploadContainer"===e.type&&"uploadContainer"===t.type){if(e.files.length!==t.files.length||e.existingFiles.length!==t.existingFiles.length||e.directories.length!==t.directories.length||e.existingDirectories.length!==t.existingDirectories.length)return!0;if(e.directories.length>0||t.directories.length>0||e.existingDirectories.length>0||t.existingDirectories.length>0)return!0;for(let n=0;n<e.files.length;n++)if(s(e.files[n],t.files[n]))return!0;for(let n=0;n<e.existingFiles.length;n++)if(l(e.existingFiles[n],t.existingFiles[n]))return!0;return!1}if("remoteUrlUploadContainer"===e.type&&"remoteUrlUploadContainer"===t.type){if(e.children.length!==t.children.length)return!0;for(let n=0;n<e.children.length;n++)if(i(e.children[n],t.children[n]))return!0;return!1}if("kernelOutputContainer"===e.type&&"kernelOutputContainer"===t.type){if("listFiles"===e.state.type&&"listFiles"===t.state.type){if(r(e.state.kernel,t.state.kernel))return!0;if(e.state.files.length!==t.state.files.length)return!0;for(let n=0;n<e.state.files.length;n++)if(o(e.state.files[n],t.state.files[n]))return!0;return!1}if("listKernels"===e.state.type&&"listKernels"===t.state.type){if(e.state.query!==t.state.query)return!0;if(e.state.searchType!==t.state.searchType)return!0;if(e.state.kernels.length!==t.state.kernels.length)return!0;for(let n=0;n<e.state.kernels.length;n++)if(r(e.state.kernels[n],t.state.kernels[n]))return!0;return!1}}else if("gcsFileSetContainer"===e.type&&"gcsFileSetContainer"===t.type)return e.gcsUrl!==t.gcsUrl;return!0},r=(e,t)=>e.id!==t.id||e.title!==t.title||e.url!==t.url,o=(e,t)=>e.type!==t.type||e.name!==t.name||e.id!==t.id,i=(e,t)=>{if(e.type!==t.type||e.name!==t.name||e.url!==t.url)return!0;if("remoteUrlUploadFile"===e.type&&"remoteUrlUploadFile"===t.type){if(e.state.type!==t.state.type)return!0}else if("remoteUrlVersionedFile"===e.type&&"remoteUrlVersionedFile"===t.type&&e.id!==t.id)return!0;return!1},s=(e,t)=>{if(e.type!==t.type||e.name!==t.name||e.state.type!==t.state.type)return!0;if("uploading"===e.state.type&&"uploading"===t.state.type){if(e.state.percentComplete!==t.state.percentComplete)return!0}else if("duplicate"===e.state.type&&"duplicate"===t.state.type&&e.state.duplication.url!==t.state.duplication.url)return!0;return!1},l=(e,t)=>e.type!==t.type||e.name!==t.name||e.identifier.type!==t.identifier.type||("database"===e.identifier.type&&"database"===t.identifier.type?e.identifier.databundleVersionObjectId!==t.identifier.databundleVersionObjectId:"firestore"===e.identifier.type&&"firestore"===t.identifier.type&&e.identifier.gcsPath!==t.identifier.gcsPath)},1039:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a,r=n(2),o=n(1),i=n.n(o),s=n(55),l=n(1007),c=i.a.span.withConfig({displayName:"Icon_FeaturedIconWrapper",componentId:"sc-eypkcw"})(a||(a=Object(r.__makeTemplateObject)(["\n  font-size: ",";\n  text-transform: capitalize;\n  margin-top: -2px;\n  border-radius: "," "," 0 0;\n"],["\n  font-size: ",";\n  text-transform: capitalize;\n  margin-top: -2px;\n  border-radius: "," "," 0 0;\n"])),l.d.FontSizeXs,l.g.BorderRadius,l.g.BorderRadius);function u(t){var n=t.size?"fa-stack-"+t.size+"x":null,a=s(t.className,"fa","fa-"+t.name,n),o=t.color?{color:t.color}:null;return e.createElement("span",Object(r.__assign)({},t,{className:a,style:o}))}function d(t){return e.createElement(c,{className:"fa-stack"},e.createElement(u,{name:"circle-thin",size:2,className:t.className}),e.createElement(u,{name:"star",size:1,className:t.className}))}}).call(this,n(0))},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r=a.createContext(e=>a.createElement("div",null,e))},1041:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var a=n(2),r=n(145),o=n(108),i=n(249),s=n(874),l=n(6),c=n(1),u=n.n(c),d=n(0),p=n(1084),m=n(1042),h=n(1058),f=n(1219),g=n(1091),b=n(1027),v=n(1092);const y="Your message must have at least 10 characters.",E=u.a.div``,w=u.a.div`
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
`,x=u.a.div`
  align-items: center;
  display: flex;
  margin-left: auto;

  && > button + button {
    margin-left: 8px;
  }
`,C=u()(r.b)`
  && {
    font-weight: 500;
  }
`,k=u()(r.e)`
  display: flex;
  align-items: center;
  padding: ${e=>e.theme.material.spacing(1,0)};
`,S=u.a.div`
  margin-top: ${e=>e.theme.material.spacing(5)};
`,_=u.a.div`
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-left: ${e=>e.theme.material.spacing(1)};
`,O=u.a.div`
  display: flex;
  flex-direction: column;
  padding: ${e=>e.theme.material.spacing(2,2,4,2)};
`,T=u()(r.s)`
  && {
    /* No official KM error color yet, using this temporarily */
    color: #e23e3e;
  }
`,j=/\b(up-?)?vote\b/i,I=/\bplease\b/i;const D=()=>{const e=d.useRef(!1),t="Changes you made will not be saved, are you sure you want to leave this page?",n=n=>e.current?(n.returnValue=t,t):null;return d.useEffect(()=>(window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}),[]),[t=>{e.current=t}]},N=d.memo(({markdown:t,htmlFallback:n,isEditing:r,confirmButtonText:c,allowAttachments:u,onSave:N,onSaveSuccess:M,onCancel:F,attachments:P,focusOnInitialRender:L,topicId:A,isTopicContent:R,user:U})=>{const[z,$]=d.useState(!1),[B,V]=d.useState([]),[H,W]=d.useState([]),[q,K]=d.useState(t),[G,Y]=d.useState(P),[Z,Q]=d.useState(!1),[X]=D(),[J]=D(),[ee,te,ne]=((e,t)=>{const n=d.useRef(!1),a={contentType:t?"topic":"comment"};void 0!==e&&(a.topicId=e);const r=[e,t];return[d.useCallback(()=>{n.current||(l.r.report("discussions","upvote-spam-warning-shown",a),n.current=!0)},r),d.useCallback(e=>{l.r.reportImmediate("discussions","upvote-spam-warning-submitted",Object.assign(Object.assign({},a),{messageId:e}))},r),d.useCallback(e=>{l.r.reportImmediate("discussions","upvote-spam-potential-spam-submitted",Object.assign(Object.assign({},a),{messageId:e}))},r)]})(A,R),ae=((t,n)=>{const[a,r]=d.useState(!1),o=null==n?void 0:n.userUrl;return d.useEffect(()=>{o&&t?e(`${o}/discussion_counts.json`,{method:"GET"}).then(e=>e.json()).then(e=>{r(0===e.totalDiscussion)}):r(!1)},[o,t]),a})(r,U),re=d.useCallback(()=>{X(!1),J(!1),F&&F()},[F]);d.useEffect(()=>{K(t)},[t]),d.useEffect(()=>{Y(P)},[P]);const oe=d.useMemo(()=>(function(e,t){if(t&&j.test(e)){return new RegExp("https?://(www.)?kaggle.com"+t.userUrl,"i").test(e)}return!1})(q,U),[q,U]);if(r&&oe&&l.n.discussionsUpvoteSpamWarning&&ee(),!r)return d.createElement(E,null,t?d.createElement(g.a,{markdown:t}):d.createElement(g.a,{html:p(null!=n?n:"")}),d.createElement(S,null,P.map(e=>d.createElement(k,{key:e.id},d.createElement(b.a,{color:"black",href:e.url||""},e.name)))));const ie=({isSubmit:e})=>q.length<10&&e?(-1===B.indexOf(y)&&V([...B,y]),!1):(V([]),!0);let se;return l.n.discussionsUpvoteSpamWarning&&(ae||oe)&&(se=d.createElement(d.Fragment,null,d.createElement(f.b,null,"Did you know? Explicitly asking for upvotes is against our"," ",d.createElement("a",{href:"/community-guidelines",target:"_blank"},"community guidelines.")))),d.createElement(E,null,Boolean(B.length||H.length)&&d.createElement(O,null,B.concat(H).map(e=>d.createElement(T,{key:e},e))),d.createElement(f.a,{focusOnInitialRender:L,value:q,onChange:e=>{X(!0),K(e)},onBlur:()=>{W([]),ie({isSubmit:!1})},topicId:A,isTopicContent:R,warnings:se}),d.createElement(w,null,d.createElement(d.Fragment,null,Boolean(G.length)&&d.createElement(d.Fragment,null,d.createElement(C,null,"Attachments:"),G.map((e,t)=>d.createElement(k,{key:e.id},e.name,d.createElement(_,null,d.createElement(o.a,{onClick:()=>{l.l.discussionsService.deleteAttachment({attachmentId:e.id});const n=G.filter((e,n)=>n!==t);n.length||J(!1),Y(n)},icon:"remove_circle_outline",size:"xsmall"})))))),d.createElement(x,null,u&&d.createElement(i.a,{icon:"attach_file",size:"small",style:{width:"36px",height:"36px"},onClick:()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){if(!l.n.allowForumAttachments)return Q(!0),void l.r.report("discussions","attachment-attempted-but-disabled");V(B.filter(e=>"Attachments must be under 5MB."!==e));let e=[];try{e=yield Object(v.a)()}catch(e){V([...B,"Attachments must be under 5MB."])}if(!e.length)return;J(!0);const t=yield Promise.all(e.map(v.b));Y((P||[]).concat(t.map(e=>({id:Number(e.gcsInfo.id),name:e.name,url:e.gcsInfo.mediaLink,totalBytes:Number(e.gcsInfo.size),blobToken:e.token,fileType:null}))))}))}),F&&d.createElement(s.a,{emphasis:"medium",onClick:re,type:"button"},"Cancel"),d.createElement(s.a,{disabled:z,type:"button",onClick:()=>{if(W([]),!ie({isSubmit:!0}))return;const e=N({html:Object(h.a)(q),markdown:q,attachments:G}),t=e=>{X(!1),J(!1),l.n.discussionsUpvoteSpamWarning&&e&&(oe?te(e):function(e){return j.test(e)&&I.test(e)}(q)&&ne(e))};$(!0),e.then(({messageId:e})=>{t(e),M&&M()}).catch(e=>{throw e&&"object"==typeof e&&e.message&&W([e.message]),e}).finally(()=>$(!1))}},z?"Submitting...":c))),d.createElement(m.a,{open:Z,onClose:()=>Q(!1)}))})}).call(this,n(56))},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(360),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  margin-bottom: 10px;
`,l=e=>{const{open:t,onClose:n}=e;return i.createElement(a.a,{title:"Sorry, but...",acceptLabel:"ok",open:t,onClose:n},i.createElement(s,null,"We have disabled uploading forum attachments for the time being. Please use an alternative host for your file, and link to it from your forum post."),i.createElement(s,null,"Sorry for the inconvenience!"))}},1043:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s}));const a=(e,t,n,a,r,o,i)=>{e.logger.report("datasets",`uploader2-create-${t}`,Object.assign(Object.assign({},i),{createType:n,folderUploadsUsed:a,lastPrivacyChangeMechanism:r,showPublicCreationWarning:o}))},r=(e,t,n)=>{e.logger.report("datasets",`uploader2-${n?"open":"closed"}-${t}`)},o=(e,t,n)=>{e.logger.report("datasets","uploader2-duplicate",Object.assign(Object.assign({},n),{fileName:t}))},i=(e,t,n)=>{e.logger.report("datasets","uploader2-privacy-update",{isPrivate:t,source:n})},s=(e,t)=>{e.logger.report("datasets","uploader2-public-dataset-warning",{confirmed:t})}},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(88),r=n(1);const o=n.n(r).a.div`
  max-width: 952px;
  ${a.o};
`},1045:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(6);const r=a.c.Sdk.Users.Protos.BookmarkType,o=a.c.Sdk.Users.Protos.ConversionMethod},1046:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1012),r=n(1017);const o=e=>{if("uploadContainer"===e.type){const{files:t,existingFiles:n,directories:a,existingDirectories:o}=e;return t.reduce((e,t)=>e+t.size,0)+n.reduce((e,t)=>e+t.size,0)+a.reduce((e,t)=>e+Object(r.e)(t),0)+o.reduce((e,t)=>e+Object(r.e)(t),0)}if("remoteUrlUploadContainer"===e.type){const{children:t}=e;return t.reduce((e,t)=>"remoteUrlVersionedFile"===t.type?e+t.size:Object(a.p)(t.state)?e+t.state.size:0,0)}return 0}},1047:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(370),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  position: relative;
`,l=o.a.div`
  position: absolute;
  bottom: 100px;
  width: 1px;
  height: 1px;
`;class c extends i.Component{constructor(){super(...arguments),this.ref=i.createRef(),this.wasTriggered=!1,this.timeoutId=null,this.observer=Object(a.a)(([e])=>{this.props.fireOnce?this.props.isDisabled||(this.wasTriggered=!0,e.isIntersecting&&this.props.onVisible()):(window.clearInterval(this.intervalId),e.intersectionRatio&&(this.intervalId=window.setInterval(()=>{this.props.isDisabled||e.isIntersecting&&this.props.onVisible()},200)))}),this.pollVisibility=()=>{this.props.fireOnce&&!this.props.isDisabled&&!this.timeoutId&&this.isSentinelVisible()&&(this.wasTriggered=!1,this.timeoutId=window.setTimeout(()=>{!this.wasTriggered&&this.isSentinelVisible()&&(this.wasTriggered=!0,this.props.onVisible()),window.clearTimeout(this.timeoutId),this.timeoutId=null},200))}}isSentinelVisible(){if(!this.ref.current)return!1;const e=this.ref.current.getBoundingClientRect(),t=window.innerHeight;return e.bottom<=t}componentDidMount(){this.ref.current&&this.observer.observe(this.ref.current),this.pollingIntervalId=window.setInterval(this.pollVisibility,200)}componentWillUnmount(){window.clearInterval(this.intervalId),window.clearInterval(this.pollingIntervalId),this.observer.disconnect()}render(){return i.createElement(s,null,this.props.children,i.createElement(l,{ref:this.ref}))}}},1048:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return h}));var a=n(0),r=n(1141);const o=e=>Math.round(100*e)+"%",i=e=>null===e?"[null]":0===e.length||/^\s+$/.test(e)?"[empty]":e,s=(e,t)=>{Object(a.useEffect)(()=>{const n=n=>{n.key===e&&t()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])},l=(e,t)=>{Object(a.useEffect)(()=>{const n=n=>{e.map(e=>e.current&&e.current.contains(n.target)).reduce((e,t)=>e||t)||t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e])},c=e=>{switch(e.type){case"dataSource":case"databundle":case"databundleVersion":case"directory":return!1;case"file":switch(Object(r.d)(e.name)){case"xls":case"xlsx":case"sqlite":return!1;case"mat":case"doc":case"docx":case"exe":return!1;default:return!0}default:return!0}},u=(e,t)=>{var n,a;const{sourceUrl:r}=t;switch(e.type){case"file":if("dataset"===t.sourceType)return t.versionNumber?`${r}/download/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`:`${r}/download/${encodeURIComponent(e.path)}`;if("competition"===t.sourceType)return`${r}/download/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`;const o=e;return(null===(n=o.fileInfo)||void 0===n?void 0:n.downloadUrl)?o.fileInfo.downloadUrl:void 0;case"directory":const i=e;if(null===(a=null==i?void 0:i.compressionInfo)||void 0===a?void 0:a.filename){if("dataset"===t.sourceType)return t.versionNumber?`${r}/download-directory/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`:`${r}/download-directory/${encodeURIComponent(e.path)}`;if("competition"===t.sourceType)return`${r}/download-directory/${encodeURIComponent(e.path)}`}return;default:return}},d=(e,t)=>{window.open(e,t?"_blank":void 0)},p=e=>{window.location.assign(e)},m=(e,t)=>{var n,a,r,o,i,s,l,c,u,d,p,m;if("remoteUrlFileSet"===(null===(a=null===(n=null==t?void 0:t.databundleVersion)||void 0===n?void 0:n.databundleVersionInfo)||void 0===a?void 0:a.databundleVersionType)&&"file"===e.type)return null===(r=e.remoteUrlInfo)||void 0===r?void 0:r.url;if("remoteGitRepositoryFileSet"===(null===(i=null===(o=null==t?void 0:t.databundleVersion)||void 0===o?void 0:o.databundleVersionInfo)||void 0===i?void 0:i.databundleVersionType)&&(null===(s=null==t?void 0:t.databundle)||void 0===s?void 0:s.githubInfo))return`https://github.com/${t.databundle.githubInfo.ownerSlug}/${t.databundle.githubInfo.repositorySlug}`;if("kernelOutputFileSet"===(null===(c=null===(l=null==t?void 0:t.databundleVersion)||void 0===l?void 0:l.databundleVersionInfo)||void 0===c?void 0:c.databundleVersionType)&&(null===(u=null==t?void 0:t.kernelOutputInfo)||void 0===u?void 0:u.url))return t.kernelOutputInfo.url;if("gcsFileSet"===(null===(p=null===(d=null==t?void 0:t.databundleVersion)||void 0===d?void 0:d.databundleVersionInfo)||void 0===p?void 0:p.databundleVersionType)&&(null===(m=null==t?void 0:t.databundleVersion.storageInfo)||void 0===m?void 0:m.uploadDataLocation)){const e=t.databundleVersion.storageInfo.uploadDataLocation;return e.path?`gs://${e.bucket}/${e.path}`:`gs://${e.bucket}`}},h=e=>{if(e&&"file"===e.type){if(e.fileInfo.size>524288e3)return!1}return!0}},1049:function(e,t,n){"use strict";var a=n(6),r=n(0),o=n(88),i=n(1),s=n.n(i),l=n(1014),c=n(1081),u=n(1082),d=n(874),p=n(1151),m=n(1366),h=n(1174),f=n(1062);const g=s.a.div`
  ${o.j} {
    ${o.p};
  }
`,b=e=>{const{forumId:t,forumName:n,forumUrl:a,forumSubtitle:o,initialSubscriptionState:s,isNewTopicButtonVisible:l}=e,c=`@media (min-width: ${r.useContext(i.ThemeContext).size.breakpoint.screen.desktop.min})`,u=Object(m.a)(c),b=[r.createElement(f.a,{forumId:t,initialSubscriptionState:s,key:"follow"})];l&&b.push(r.createElement(d.a,{leadingIcon:"add",href:a+"/new",style:{marginLeft:"12px"},key:"new-topic"},"New Topic"));const v=r.createElement(h.a,{children:b,separator:""});return r.createElement(g,null,r.createElement(p.a,{title:n,subtitle:o,meta:u&&v,actions:!u&&r.createElement("div",{style:{display:"flex"}},v)}))};var v=n(1044),y=n(1060);const E=s.a.div`
  ${o.j} {
    ${o.p};
  }
`,w=e=>{var t,n,a,o;const{forum:i,siteForums:s,topicSort:d}=e;return r.createElement(c.a.Provider,{value:{isAdmin:null!==(a=null===(n=null===(t=window.Kaggle)||void 0===t?void 0:t.Current)||void 0===n?void 0:n.isAdmin)&&void 0!==a&&a,isProductFeedback:(null==i?void 0:i.id)===l.b}},r.createElement(v.a,null,r.createElement(u.a,{forums:s}),r.createElement(b,{forumId:i.id,forumName:i.name,forumUrl:i.url,forumSubtitle:null!==(o=i.subtitle)&&void 0!==o?o:"",isNewTopicButtonVisible:!0,initialSubscriptionState:i.subscriptionState}),r.createElement(E,null,r.createElement(y.a,{forumId:i.id,initialSort:x(d),tagId:null}))))};n.d(t,"b",(function(){return x})),n.d(t,"a",(function(){return C}));const x=e=>{switch(e){case"active":return a.c.Sdk.Discussions.Protos.TopicListSortBy.ACTIVE;case"hot":return a.c.Sdk.Discussions.Protos.TopicListSortBy.HOT;case"new":return a.c.Sdk.Discussions.Protos.TopicListSortBy.NEW;case"recent":return a.c.Sdk.Discussions.Protos.TopicListSortBy.RECENT;case"relevance":return a.c.Sdk.Discussions.Protos.TopicListSortBy.RELEVANCE;case"top":return a.c.Sdk.Discussions.Protos.TopicListSortBy.TOP;default:return a.c.Sdk.Discussions.Protos.TopicListSortBy.UNSPECIFIED}};function C({forum:e,siteForums:t,topicSort:n}){return r.createElement(w,{forum:e,siteForums:t,topicSort:n,currentUser:null,tagCommunities:[]})}},1052:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1053);const r=(e,t,n)=>{const r=(new Date).getTime();let o=!1;return[new Promise((i,s)=>{const l=()=>{const c=(new Date).getTime();!o&&e()?i():void 0!==n&&c-r>n?s(new a.a(`Timed out after ${c-r}ms.`)):setTimeout(l,t)};l()}),()=>{o=!0}]}},1053:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a extends Error{constructor(e){super(e),this.name="RetryTimeoutError"}}},1054:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(1019);const r=(e,t=2)=>`\n  ::-webkit-scrollbar {\n    width: ${e.theme.material.spacing(t)};\n    height: ${e.theme.material.spacing(t)};\n  }\n  ::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: ${a.a[e.theme.name].scrollbarThumb};\n  }\n`,o=(e,t)=>{return`max(${e||t?"100vh":"85vh"}, 742px)`}},1055:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(2);var a=n(108),r=n(1),o=n.n(r),i=n(0),s=n(1015);const l=o()(({isDisabled:e,...t})=>i.createElement(a.a,Object.assign({},t)))`
  color: ${e=>Object(s.d)(e.isDisabled,e.theme.colors.kaggle.red,e.theme.colors.text.light)};
`,c=e=>{const{isDisabled:t,onRemove:n}=e;return n?i.createElement(s.c,{disabled:t,onClick:n,"data-testid":"error-remove-icon"},i.createElement(a.a,{icon:"close"})):i.createElement(s.b,{"data-testid":"error-icon"},i.createElement(l,{isDisabled:t,icon:"warning"}))}},1056:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(2);var a=n(108),r=n(1),o=n.n(r),i=n(0),s=n(1015);const l=o()(({isDisabled:e,...t})=>i.createElement(a.a,Object.assign({},t)))`
  color: ${e=>Object(s.d)(e.isDisabled,e.theme.colors.kaggle.green,e.theme.colors.text.light)};
`,c=e=>{const{isDisabled:t,onRemove:n}=e;return n?i.createElement(s.c,{disabled:t,onClick:n,"data-testid":"success-remove-icon"},i.createElement(a.a,{icon:"close"})):i.createElement(s.b,{"data-testid":"success-icon"},i.createElement(l,{isDisabled:t,icon:"check"}))}},1057:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(1012);const r=()=>({container:{type:"githubContainer",url:"",state:{type:"invalid"}}}),o=e=>{const{url:t}=e;return c(t)?{container:{type:"githubContainer",url:t,state:{type:"pending"}}}:{container:{type:"githubContainer",url:t,state:{type:"invalid"}}}},i=e=>{const{container:t}=e;return Object(a.b)(t)?{container:Object.assign(Object.assign({},t),{state:{type:"failed"}})}:e},s=e=>t=>{const{content:n}=e,{container:r}=t;return Object(a.b)(r)?{container:Object.assign(Object.assign({},r),{state:{type:"success",content:n}})}:t},l=e=>{if(!c(e))return;const t=u(e).replace("https://github.com/","").split("/");return{owner:t[0],repository:t[1]}},c=e=>{const t=u(e);return!!t.startsWith("https://github.com/")&&!(t.replace("https://github.com/","").split("/").length<2)},u=e=>{if(0===e.length)return"";const t=e.trim().toLowerCase();return(t.startsWith("http://")?t.replace("http://","https://"):t.startsWith("https://")?t:"https://"+t).replace("www.github.com","github.com")}},1058:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1084),r=n(1213);const o=new r.Converter({disableForced4SpacesIndentedSublists:!0,emoji:!0,excludeTrailingPunctuationFromURLs:!0,ghCompatibleHeaderId:!0,ghMentions:!0,ghMentionsLink:"https://www.kaggle.com/{u}",openLinksInNewWindow:!0,prefixHeaderId:!0,parseImgDimensions:!0,simpleLineBreaks:!0,simplifiedAutoLink:!0,smartIndentationFix:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,tasklists:!0,literalMidWordUnderscores:!0});function i(e){return e=e.replace(/&gt;/g,">").replace(/&lt;/g,"<"),a(o.makeHtml(e),{allowedTags:a.defaults.allowedTags.concat(["h1","h2","img","del"]),allowedAttributes:{a:["href","name","target"],div:[],img:["src","alt","width","height"]},transformTags:{a:(e,t)=>{if(t.href&&t.href.startsWith("emoji::")){const e=t.href.split("::");return{tagName:"span",attribs:{title:e[e.length-1]}}}if(t.href&&t.href.startsWith("user::")){const n=t.href.split("::"),a=n[n.length-1];return{tagName:e,attribs:Object.assign(Object.assign({},t),{href:a})}}return{tagName:e,attribs:t}}}})}},1060:function(e,t,n){"use strict";var a=n(1405),r=n(6),o=n(1),i=n.n(o),s=n(0),l=n(1382),c=n(1014),u=n(1021),d=n(1034),p=n(1146),m=n(995),h=n(887),f=n(1365),g=n(145),b=n(886),v=n(885),y=n(1211),E=n(249),w=n(1380),x=n(3),C=n(1367),k=n(874),S=n(1366),_=n(350),O=n(183),T=n(1069);const j=i.a.div`
  & > div {
    margin: 0;
  }
`,I=i()(b.a)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,D=e=>r.x.searchTags({searchType:"searchResult",searchQuery:e,showSystemTags:!1,skip:0,take:10}).then(e=>e.tags),N=e=>{const{onChange:t,tags:n,canRemoveLastTag:a,maxTags:r=1/0,spaceBetween:o="0px",hoistToBody:i=!0}=e,l=n.length>=r,c=new Set(n.map(e=>e.id)),u=s.useCallback(e=>{l||!e||c.has(e.id)||t([...n,e])},[t,n,l]),d=s.useCallback(e=>{t(n.filter(t=>t.id!==e.id))},[t,n]),p=s.useCallback(e=>c.has(e.id),[n]),h=s.useCallback(e=>s.createElement(s.Fragment,null,s.createElement(_.a,null,s.createElement(O.a,{primaryText:e.name}))),[]),f=e=>{if(1!==n.length||a)return()=>{d(e)}};return s.createElement(s.Fragment,null,s.createElement(j,{style:{paddingBottom:o}},s.createElement(T.a,{label:"Search for tags",loadOptions:D,onSelect:u,optionRenderer:h,disabled:l,shouldExcludeOption:p,hoistToBody:i})),s.createElement(m.a,null,n.map(e=>s.createElement(I,{key:e.id,onRemove:f(e)},e.name))))};var M=n(1030);const F=[[M.d.COMMENTED,"Commented"],[M.d.PUBLISHED,"Published"],[M.d.VIEWED,"Viewed"]],P=[[M.b.ADMIN,"Admin"]],L=[[M.a.TAG_TOPICS_ONLY,"From this Community Only"]],A=[[M.e.LAST_30_DAYS,"Last 30 Days"],[M.e.LAST_7_DAYS,"Last 7 Days"],[M.e.TODAY,"Today"]],R=`@media ${o.BreakpointDown.PHONE}`,U=i.a.div`
  position: absolute;
  right: -12px;
  top: -12px;
`,z=i.a.div`
  display: flex;
  justify-content: flex-end;
  margin-top: 8px;
`,$=i()(m.a)`
  margin: 8px 0 24px 0;
  padding: 0;
`,B=i()(h.a)`
  display: flex;
  flex-direction: column;
  padding: 32px;
  width: 80%;
  z-index: 1000;
`,V=i()(f.a)`
  display: flex;
  padding: 32px;
  flex-direction: column;
  overflow: visible;
  width: 400px;
`,H=e=>{const{children:t,isOpen:n,onClose:a}=e,r=Object(S.a)(R);return n?r?s.createElement(B,{open:n,right:!0,onClose:a},t):s.createElement(V,{fixed:!1,open:n,onClose:a},t):null},W=e=>{const{heading:t,filterValue:n,options:a,clearFilter:r,setFilter:o}=e,i=s.useCallback(e=>{n===e?r():o(e)},[n,o,r]);return s.createElement(s.Fragment,null,s.createElement(g.q,null,t),s.createElement($,null,a.map(([e,t])=>s.createElement(b.a,{key:e,selected:n===e,onClick:()=>{i(e)},style:{marginBottom:"8px"}},t))))},q=e=>{const{currentSortName:t,filters:n,disabled:a=!1,showTagCommunityFilter:o=!1,sortOptions:i,setAdvancedFilters:l,onSortChange:c,onTagCommunityChange:u}=e,[m,h]=s.useState(!1),[f,b]=s.useState(n.recency),[_,O]=s.useState(n.myActivity),[T,j]=s.useState(n.author),[I,D]=s.useState(n.filterCategories),[$,B]=s.useState(n.tagCommunity),[V,q]=s.useState(new Map),K=Object(S.a)(R);s.useEffect(()=>{j(n.author),b(n.recency),O(n.myActivity),D(n.filterCategories),B(n.tagCommunity)},[n]),s.useEffect(()=>{o||$===d.k||B(d.k)},[o,$]);const G=s.useCallback(e=>{const t=new Map(V.entries());for(const n of e)t.set(n.id,n);q(t)},[V]);s.useEffect(()=>{const e=new Set(V.keys()),t=I.filter(t=>!e.has(t.id)).map(e=>e.id);return t.length>0?Object(p.a)(()=>r.x.getTagsById({tagIds:t}),e=>{G(e.tags)}):void 0},[I,G]);const Y=s.useCallback(()=>{$!==n.tagCommunity&&u&&u($),l({author:T,filterCategories:I,myActivity:_,recency:f,tagCommunity:$}),h(!1)},[T,I,_,f,$]),Z=s.useCallback(()=>{$!==d.k&&u&&u(d.k),l({author:d.e,filterCategories:[],myActivity:d.h,recency:d.i,tagCommunity:d.k}),h(!1)},[$]),Q=s.useMemo(()=>I.filter(e=>V.has(e.id)).map(e=>V.get(e.id)),[I,V]),X=s.useCallback(e=>{D(e.map(e=>({id:e.id,name:e.displayName}))),G(e)},[]),J=n.author!==d.e||n.myActivity!==d.h||n.recency!==d.i||n.filterCategories.length>0||n.tagCommunity!==d.k;return s.createElement(U,null,s.createElement(v.a,null,s.createElement(y.b,null,s.createElement(E.a,{icon:"filter_list",onClick:()=>{h(!0)},disabled:a}),s.createElement(w.a,{inset:"16px",exited:!J,style:{backgroundColor:x.o}})),s.createElement(H,{isOpen:m,onClose:()=>{h(!1)}},K&&s.createElement(s.Fragment,null,s.createElement(g.q,null,"SORT BY"),s.createElement("div",{style:{margin:"8px 0 24px 0"}},s.createElement(C.a,{options:i,onSelect:c,value:t}))),s.createElement(W,{heading:"RECENCY",filterValue:f,options:A,clearFilter:()=>{b(d.i)},setFilter:e=>{b(e)}}),s.createElement(W,{heading:"MY ACTIVITY",filterValue:_,options:F,clearFilter:()=>{O(d.h)},setFilter:e=>{O(e)}}),s.createElement(W,{heading:"AUTHOR",filterValue:T,options:P,clearFilter:()=>{j(d.e)},setFilter:e=>{j(e)}}),o&&s.createElement(W,{heading:"COMMUNITY TOPICS",filterValue:$,options:L,clearFilter:()=>{B(M.a.ALL)},setFilter:e=>{B(e)}}),s.createElement(g.q,{style:{display:"block",marginBottom:"8px"}},"TAGS"),s.createElement(N,{tags:Q,onChange:X,canRemoveLastTag:!0,hoistToBody:!1,spaceBetween:"16px"}),s.createElement(z,null,s.createElement(k.a,{emphasis:"low",onClick:Z,style:{marginRight:"8px"}},"Clear"),s.createElement(k.a,{onClick:Y},"Apply")))))};var K=n(993),G=n(1396),Y=n(1045),Z=n(1395),Q=n(1065),X=n(881),J=n(88),ee=n(259),te=n(182),ne=n(184),ae=n(119),re=n(1005),oe=n(108),ie=n(349),se=n(122),le=n(891),ce=n(1174),ue=n(1330),de=n(1134),pe=n(1121),me=n(1377);const he=new Map([[1,"up"],[0,"none"],[-1,"down"]]);function fe(e,t){return n=>r.l.discussionsService.voteOnForumMessage({forumMessageId:e,score:n?t:0})}const ge=s.memo(e=>{const{userVote:t,totalVotes:n,messageId:a,canUpvote:r,canDownvote:o}=e,i=s.useCallback(fe(a,1),[a]),l=s.useCallback(fe(a,-1),[a]),c=null!==Object(pe.b)();return s.createElement(me.a,{dense:!0,totalVotes:n,userVote:he.get(t),disabled:c&&!r&&!o,upOnly:!o&&r,onUpvote:i,onDownvote:l})});var be=n(884),ve=n(1381);const ye=i()(E.a)`
  height: 36px;
  width: 36px;
`,Ee=e=>{const{topic:t}=e,[n,a]=s.useState(!1);return s.createElement(v.a,null,s.createElement(ye,{icon:"more_horiz",size:"small",onClick:()=>{a(!0)}}),s.createElement(be.a,{open:n,onClose:()=>{a(!1)}},s.createElement(ve.a,{bookmark:{bookmarkType:Y.a.FORUM_TOPIC,bookmarkedEntityId:t.id}})))},we=(i.a.div`
  align-items: center;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  min-width: 35px;
`,i()(g.c)`
  color: ${x.j};
`),xe=i()(te.a)`
  position: relative;
`,Ce=i.a.div`
  align-items: center;
  background-color: ${x.t};
  bottom: 16px;
  box-sizing: border-box;
  border: 1px solid ${x.d};
  border-radius: 50%;
  display: flex;
  height: 24px;
  justify-content: space-around;
  right: 0px;
  position: absolute;
  width: 24px;
  z-index: 2;

  & i {
    font-size: 12px !important;
  }
`,ke=i()(ne.a)`
  margin-left: 8px;
`,Se=i.a.div`
  align-items: center;
  display: flex;
  margin-top: 4px;
`,_e=e=>{const{children:t}=e;return null},Oe=e=>{const{listItem:t,isForumListing:n,isTagCommunity:a}=e,r=t.authorUser,{lastCommentPostDate:o,parentName:i,parentUrl:l,commentCount:u}=t;let d=null,p=null,m=null;if(r)if(r.url){const e=e=>{e.preventDefault(),Object(X.b)(r.url)};d=s.createElement(g.v,{href:r.url,onClick:e},r.displayName)}else d=r.displayName;return u>0&&o&&(p=s.createElement(s.Fragment,null,"Last comment ",s.createElement(le.a,{time:o,condense:!0}))),(!n||a&&l!==c.g)&&(m=s.createElement(s.Fragment,null,"in ",s.createElement(g.v,{href:l||""},i))),s.createElement(ce.a,{separator:" · "},d,p,m)},Te=s.memo(e=>{const{initialModel:t,isForumListing:n,isTagCommunity:a=!1,selected:o=!1,starred:i=!1,onClick:l,onSelectionChange:c,onStarredChange:u}=e,d=t,p=s.useCallback(e=>{l&&l(d,e)},[d,l]),m=Object(S.a)(J.j),{thumbnailUrl:h,profileUrl:f,tier:g,displayName:b,id:v}=Object(ue.b)(Object(ue.c)(d.authorUser)),{lastViewDate:y,lastCommentPostDate:E}=d,w=y&&Object(ee.a)(y),x=E&&Object(ee.a)(E),C=!!w&&(null===x||x<w);return s.createElement(ae.a,null,s.createElement(_e,null,s.createElement(re.a,{onChange:e=>{e.stopPropagation(),c&&c()},checked:o})),!m&&s.createElement(xe,null,s.createElement(ue.a,{className:"discussions-item-avatar",displayName:b,id:v,openLinkInNewWindow:!0,profileUrl:f,size:"xlarge",thumbnailUrl:h,tier:g}),d.isSticky&&s.createElement(Ce,null,s.createElement(oe.a,{icon:"push_pin",size:"xxsmall"}))),s.createElement(ie.a,{href:d.topicUrl,onClick:p},s.createElement(O.a,{primaryText:d.title,secondaryText:s.createElement(Oe,{listItem:d,isForumListing:n,isTagCommunity:a}),emphasis:C?"low":"high"})),s.createElement(_e,null,s.createElement(de.a,{isStarred:i,topicId:d.id,onStarredChange:u})),s.createElement(ke,null,s.createElement(ge,{userVote:d.currentUserVote,totalVotes:d.votes,messageId:d.firstForumMessageId,canUpvote:d.canUpvote,canDownvote:d.canDownvote}),s.createElement(Se,null,d.commentCount>0&&s.createElement(we,null,d.commentCount," ",se("comment",d.commentCount)),r.n.bookmarksUI&&s.createElement(Ee,{topic:d}))))});var je=n(143),Ie=n(1370);const De=o.keyframes`
{ 
  0% 
  {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
`,Ne=i()(ae.a)`
  animation: ${De} 0.3s ease-out 0.2s 1 normal backwards running;
  display: flex;
  justify-content: space-between;
`,Me=i.a.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  justify-content: center;
`,Fe=i.a.div`
  background-color: ${x.c};
  border-radius: 12px;
  height: 24px;
  margin-bottom: 4px;
  width: 60px;
`,Pe=s.memo(e=>s.createElement(Ne,null,s.createElement(je.a,{width:"48px"},s.createElement(je.b,{height:"48px",width:"48px",zIndex:1}),s.createElement(je.b,{backgroundColor:"white",height:"41px",width:"41px",zIndex:2}),s.createElement(je.b,{height:"38px",width:"38px",zIndex:3})),s.createElement(Me,null,s.createElement(O.a,{primaryText:s.createElement(Ie.e,{fontSize:16,lineHeight:24,width:"50%"}),secondaryText:s.createElement(Ie.e,{fontSize:12,lineHeight:20,width:"33%"})})),s.createElement(ne.a,null,s.createElement(Fe,null),s.createElement(Ie.e,{fontSize:12,lineHeight:20,width:"75px"})))),Le=i()(g.a)`
  margin-top: 8px;
  text-align: center;
`,Ae=s.memo(({numItems:e})=>s.createElement(s.Fragment,null,Object(Q.c)(1,e).map(e=>s.createElement(Pe,{key:e})))),Re=e=>{const{topics:t,moreToLoad:n,isLoading:a,isTagCommunity:r,loadMoreCallback:o,onTopicClick:i,isBookmarks:l}=e,c=t.length>0?1:20,u=0===t.length&&!n;return s.createElement(K.a,{type:"avatar-list",variant:"two-line",loadMoreCallback:o,moreToLoad:n,isLoading:a,loadingSkeleton:s.createElement(Ae,{numItems:c})},l&&s.createElement(G.a,{bookmarkType:Y.a.FORUM_TOPIC}),u&&l&&s.createElement(Z.a,null),u&&!l&&s.createElement(Le,{emphasis:"disabled"},"No topics to show."),t.map(e=>s.createElement(Te,{key:e.id,initialModel:e,isForumListing:!0,isTagCommunity:r,onClick:i})))};var Ue=n(2),ze=n(1148),$e=n(369),Be=n(1072),Ve=n(1070);const He={category:d.f,group:d.g,search:"",sort:M.f.HOT,customGroupId:void 0,recency:d.i,myActivity:d.h,author:d.e,filterCategories:[],tagCommunity:d.k},We=(e,t,n)=>Object.assign(Object.assign({},e),{filters:Object.assign(Object.assign({},e.filters),{[t]:n})}),qe=(e,t)=>{let n=e;switch(t.type){case"next-page":n=Object.assign(Object.assign({},e),{currentPage:e.currentPage+1,loadingState:"loading"});break;case"fetch-page-start":n=Object.assign(Object.assign({},e),{loadingState:"loading"});break;case"fetch-page-success":const{page:a,topics:r}=t.payload;let o,i;0===r.length?(i="end-of-list",o=e.topics):(i="loaded",o=Object(ze.a)(e.topics,a,r)),n=Object.assign(Object.assign({},e),{loadingState:i,topics:o});break;case"set-advanced-filters":n=Object.assign(Object.assign({},e),{filters:Object.assign(Object.assign({},e.filters),t.payload)});break;case"set-group":n=We(e,"group",t.payload.group);break;case"set-search":n=We(e,"search",t.payload.query);break;case"set-sort":n=We(e,"sort",t.payload.sort);break;default:throw new Error(`Invalid action: ${t}`)}return n.filters!==e.filters&&(n=Object.assign(Object.assign({},n),{currentPage:1,loadingState:"loading",topics:new Map})),n},Ke=e=>({bookmarkType:Y.a.FORUM_TOPIC,bookmarkedEntityId:e.id}),Ge=(e,t)=>{const{forumId:n,tagId:a}=e,{appendBookmarks:r,bookmarks:o,setBookmarks:i}=Object(s.useContext)(Be.a),[l,c]=Object(s.useReducer)(qe,(e=>({currentPage:1,filters:Object.assign(Object.assign({},He),e),loadingState:"loading",topics:new Map}))(t)),{currentPage:u,filters:m,loadingState:h,topics:f}=l,g=Object(s.useCallback)(()=>{c({type:"next-page"})},[]),b=Object(s.useCallback)(()=>{c({type:"fetch-page-start"})},[]),v=Object(s.useCallback)(e=>{c({type:"set-advanced-filters",payload:e})},[]),y=Object(s.useCallback)(e=>{c({type:"set-group",payload:{group:e}})},[]),E=Object(s.useCallback)(e=>{c({type:"set-search",payload:{query:e}})},[]),w=Object(s.useCallback)(e=>{c({type:"set-sort",payload:{sort:e}})},[]),x=Object(s.useCallback)((e,t)=>{c({type:"fetch-page-success",payload:{page:e,topics:t}})},[]);Object(s.useEffect)(()=>{b();return Object(p.a)(()=>Ye({page:u,filters:m,forumId:n,tagId:a}),({page:e,topics:t})=>{x(e,t),r(t.filter(e=>e.isBookmarked).map(Ke))})},[u,m,n,a,x]),Object(s.useEffect)(()=>{const e=window.history.state||{},t=(e=>{const t=new URL(window.location.href),n=(e,n,a)=>{n===a?t.searchParams.delete(e):t.searchParams.set(e,n)};n("category",e.category,He.category),n("group",e.group,He.group),n("search",e.search,He.search);const a=""===e.search?e.sort:He.sort;return n("sort",Object(Ve.d)(a),"hotness"),n("recency",e.recency,He.recency),n("myActivity",e.myActivity,He.myActivity),n("author",e.author,He.author),n("tags",e.filterCategories.map(e=>{const t=e.name.replace(/[^\w\s]/g,"");return`${e.id}-${t}`}).join(","),""),t.toString()})(m);Object($e.f)(Object.assign(Object.assign({},e),{[d.l]:t}),document.title,t)},[m]);const C=Object(s.useMemo)(()=>Ze(u,f),[u,f]),k=Object(s.useMemo)(()=>"bookmarked"===m.group?C.filter(e=>o.has(Ke(e))):C,[C,o,m.group]),S=(e=>e.recency!==He.recency||e.myActivity!==He.myActivity||e.author!==He.author||e.filterCategories.length>0)(m),_=(e=>e.search!==He.search)(m);return Object(s.useEffect)(()=>{S&&E(He.search)},[S,E]),Object(s.useEffect)(()=>{_&&v({recency:He.recency,myActivity:He.myActivity,author:He.author,filterCategories:[],tagCommunity:He.tagCommunity})},[_,v]),Object(s.useEffect)(()=>{1===u&&"loading"===h&&i([])},[u,h]),{currentPage:u,filters:m,loadingState:h,topics:k,isSearchDisabled:S,areAdvancedFiltersDisabled:_,incrementPage:g,setAdvancedFilters:v,setGroup:y,setSearch:E,setSort:w}},Ye=e=>Object(Ue.__awaiter)(void 0,void 0,void 0,(function*(){const{filters:t,forumId:n,page:a,tagId:o}=e,i={category:t.category,group:t.group,customGroupingIds:[],author:t.author,myActivity:t.myActivity,recency:t.recency,filterCategoryIds:t.filterCategories.map(e=>e.id),searchQuery:t.search,sortBy:t.sort,page:a};let s;return s=o?yield r.l.discussionsService.getTopicListByCategoryId(Object.assign(Object.assign({},i),{listingCategoryId:o,tagCommunityFilter:t.tagCommunity})):yield r.l.discussionsService.getTopicListByForumId(Object.assign(Object.assign({},i),{forumId:n})),{page:a,topics:s.topics}})),Ze=(e,t)=>{const n=[];for(let a=1;a<=e;a++){const e=t.get(a);e&&n.push(...e)}return n};n.d(t,"a",(function(){return nt}));const Qe=new Map(Object.entries(d.n)),Xe=new Map(Object.entries(d.o)),Je=i()(a.a)`
  margin: 0;
`,et=i()(Je)`
  max-width: 100%;
`,tt=e=>{const{forumId:t,fullWidth:n=!1,initialSort:a,tagId:o,tagName:i,tagCommunityFilter:l,onTopicClick:p}=e;let m=Object(Ve.a)();const h=Object(Ve.e)();h?m=Object.assign(Object.assign({},m),{sort:h}):a&&"unspecified"!==a&&(m=Object.assign(Object.assign({},m),{sort:a})),l&&(m=Object.assign(Object.assign({},m),{tagCommunity:l}));const{filters:f,loadingState:g,topics:b,isSearchDisabled:v,areAdvancedFiltersDisabled:y,incrementPage:E,setAdvancedFilters:w,setGroup:x,setSearch:C,setSort:k}=Ge({forumId:t||void 0,tagId:o||void 0},m),S=s.useCallback(e=>{void 0!==e.searchQuery?C(e.searchQuery):void 0!==e.sortBy?k(e.sortBy):void 0!==e.tab&&x(e.tab)},[x,C,k]),_=s.useCallback(e=>{null!==o&&r.r.report(c.a,"topic-list-tag-topic-toggle",{tagId:o,tagName:i,filterValue:e})},[o,i]),O=s.useCallback(e=>{Object(u.l)(e,null!=t?t:void 0),p&&p(e)},[p,t]);s.useEffect(()=>{Object(u.m)(null!=t?t:void 0,null!=o?o:void 0)},[]);let T=d.p;r.n.bookmarksUI&&(T=d.q);let j,I,D,N=Qe;f.search?(T=["All"],j="all",I="relevance",D=!0):(j=f.group||"all",I=f.sort,D=!1,N=new Map([...N.entries()].filter(([e,t])=>"relevance"!==t)));const M=new Map(T.map(e=>{const t="Bookmarks"===e?"bookmarked":e.toLowerCase();return[e,t]})),F=n?et:Je;return s.createElement(F,{variant:"two-line",tabMap:M,selectedTab:j,sortByMap:N,selectedSortBy:I,filterCallback:S,filterMenu:s.createElement(q,{filters:f,currentSortName:Xe.get(f.sort),sortOptions:[...N.keys()],disabled:y,setAdvancedFilters:w,onSortChange:e=>{k(Qe.get(e))},showTagCommunityFilter:null!==o,onTagCommunityChange:_}),searchQueryValue:f.search,disableSort:D,disableSearch:v,searchBoxPlaceholder:v?"Clear filters to enable search":"",list:s.createElement(Re,{topics:b,loadMoreCallback:E,isLoading:"loading"===g,isTagCommunity:!!o,moreToLoad:"end-of-list"!==g,onTopicClick:O,isBookmarks:"bookmarked"===j})})},nt=e=>s.createElement(l.a,null,s.createElement(tt,Object.assign({},e)))},1061:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(88),r=n(1352),o=n(6),i=n(1),s=n.n(i),l=n(0),c=n(1021),u=n(1119),d=n(1041),p=n(1118);const m=s.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: 4px;
  display: flex;

  ${a.j} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,h=s.a.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: ${e=>e.theme.material.spacing(5)};
`,f=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,g=s()(r.a)`
  && {
    width: 100%;
  }
`,b=s.a.div`
  background: ${e=>e.theme.material.color.brand.grey[50]};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};

  ${a.j} {
    display: none;
  }
`,v=s.a.div`
  margin-top: ${e=>e.theme.material.spacing(2)};
`,y=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(6)};
`,E=e=>{const{user:t,allowAttachments:n,forumUrl:a,forumId:r,authorType:i,initialTag:s}=e,[E,w]=l.useState(""),x=l.useRef(null),C=s?[s]:[],[k,S]=l.useState(C),_=l.useCallback(()=>{null!==x.current&&(window.location.href=`${a}/${x.current}`)},[a]),O=l.useCallback(e=>{S(e)},[]),T=void 0===s;return l.createElement(m,null,l.createElement(b,null,t&&l.createElement(u.a,{model:t,authorType:i})),l.createElement(h,null,l.createElement(f,null,l.createElement(g,{label:"Topic Title",value:E,onChange:e=>w(e.target.value)})),o.n.tagsLearnAndDiscussionsUI?l.createElement(y,null,l.createElement(p.a,{tags:k,onSaveTags:O,canRemoveLastTag:T,topicId:"new"})):null,l.createElement(v,null,l.createElement(d.a,{allowAttachments:n,markdown:"",isEditing:!0,confirmButtonText:"Publish Topic",attachments:[],onSave:e=>o.l.discussionsService.createTopic({forumId:r,topicName:E,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(c.e)(e.attachments)},tagIds:k.map(e=>e.id)}).then(({topicId:e,messageId:t})=>(Object(c.k)(r),x.current=e,{messageId:t})),onSaveSuccess:_,isTopicContent:!0,user:t}))))}},1062:function(e,t,n){"use strict";var a=n(885),r=n(1365),o=n(348),i=n(912),s=n(1),l=n.n(s),c=n(0),u=n(874);const d=l()(u.a)`
  transition: all 0.3s ease;
  width: ${e=>e.active&&"128px"};
  box-sizing: border-box;

  i:after {
    content: ${e=>e.active?'"notifications_active"':'"notifications"'};
  }

  span:after {
    content: ${e=>e.active?'"Following"':'"Follow"'};
  }


  /* TODO(jomike) uncomment when Notification Settings options land.
  &:hover {
    i:after {
      content: ${e=>e.active?'"notifications_off"':'"notifications"'};
    }

    span:after {
      content: ${e=>e.active?'"Unfollow"':'"Follow"'};
    }
  } */
`,p=e=>{const{active:t,className:n,emphasis:a,onClick:r}=e;return c.createElement(d,{active:t,className:n,emphasis:a||"low",onClick:r}," ")};var m=n(6);n.d(t,"a",(function(){return f}));const h=m.c.Sdk.Notifications.Protos.SubscribeState,f=e=>{const{initialSubscriptionState:t,emphasis:n,forumId:s}=e,[l,u]=c.useState(t),[d,f]=c.useState(!1),g="unsubscribe"!==l,b=[{label:"Unfollow",value:h.UNSUBSCRIBE},{label:"Follow forum",value:h.SUBSCRIBE_SINGLE},{label:"Follow forum and comments",value:h.SUBSCRIBE_ALL}];return c.createElement(a.a,null,c.createElement(r.a,{anchorCorner:"bottomLeft",open:d,onClose:()=>f(!1)},c.createElement(o.a,{variant:"dense"},b.map(e=>c.createElement(i.a,{dense:!0,onClick:()=>(e=>{m.t.subscriptionService.subscribeTo({subscribe:e,isImplicit:!1,id:s,type:m.c.Sdk.Notifications.Protos.SubscriptionType.FORUM,parentType:m.c.Sdk.Notifications.Protos.NotificationRelatedItemType.UNSPECIFIED,parentId:null}),u(e)})(e.value),graphic:l===e.value?"done":"",primaryText:e.label})))),c.createElement(p,{active:g,onClick:()=>f(!0),emphasis:n}))}},1063:function(e,t,n){},1064:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(0),r=n(28),o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},s=Object(r.a)({displayName:"GridRoot",classNames:function(e){var t;return["mdc-layout-grid",(t={},t["mdc-layout-grid__cell--align-"+(e.align||"")]=void 0!==e.align,t["mdc-layout-grid--fixed-column-width"]=e.fixedColumnWidth,t)]},consumeProps:["fixedColumnWidth","align"]}),l=function(e){var t=e.children,n=i(e,["children"]),r=!(t&&"object"==typeof t&&"GridInner"===(t.type||{}).displayName);return a.createElement(s,o({},n),r?a.createElement(u,null,t):t)};l.displayName="Grid";var c=Object(r.a)({displayName:"GridCell",classNames:function(e){var t;return["mdc-layout-grid__cell",(t={},t["mdc-layout-grid__cell--order-"+(e.order||"")]=void 0!==e.order,t["mdc-layout-grid__cell--align-"+(e.align||"")]=void 0!==e.align,t["mdc-layout-grid__cell--span-"+(e.span||"")]=void 0!==e.span,t["mdc-layout-grid__cell--span-"+(e.phone||"")+"-phone"]=void 0!==e.phone,t["mdc-layout-grid__cell--span-"+(e.tablet||"")+"-tablet"]=void 0!==e.tablet,t["mdc-layout-grid__cell--span-"+(e.desktop||"")+"-desktop"]=void 0!==e.desktop,t)]},consumeProps:["span","phone","tablet","desktop","order","align"]}),u=Object(r.a)({displayName:"GridInner",classNames:["mdc-layout-grid__inner"]})},1065:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const a=(e,t)=>Array.from(new Array(t-e+1),(t,n)=>n+e),r=(e,t)=>e.concat(t),o=(e,t)=>i(e.map(t)),i=e=>e.reduce(r,[])},1066:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(145),r=n(108),o=n(6),i=n(1),s=n.n(i),l=n(0);const c={Wrapper:s.a.div`
    & * {
      color: ${e=>{switch(e.userVote){case-1:return"#b34834";case 0:return e.theme.material.color.brand.grey[500];case 1:return e.theme.material.color.brand.blue[600]}}} !important;
    }
  `,UpvoteWrapper:s.a.div`
    ${e=>e.canUpvote&&`\n      cursor: pointer;\n      &:hover * {\n        color: ${e.theme.material.color.brand.blue[400]} !important;\n      }\n    `};
  `,DownvoteWrapper:s.a.div`
    cursor: pointer;

    &:hover * {
      color: #b34834 !important;
    }
  `},u={Wrapper:s()(c.Wrapper)`
    align-items: center;
    display: inline-flex;
    flex-direction: column;
    height: ${e=>e.theme.material.spacing(19)};
    width: ${e=>e.theme.material.spacing(9)};
  `,Section:s.a.div`
    height: ${e=>e.theme.material.spacing(9)};
    width: ${e=>e.theme.material.spacing(9)};
  `,UpvoteWrapper:s()(c.UpvoteWrapper)`
    display: flex;
    flex-direction: column;
    align-items: center;
    height: ${e=>e.theme.material.spacing(12)};
    z-index: 1;
  `,DownvoteWrapper:s()(c.DownvoteWrapper)`
    cursor: pointer;
    position: relative;
    top: -${e=>e.theme.material.spacing(3)};
  `,NumVotes:s.a.div`
    position: relative;
    top: ${e=>e.canUpvote||e.canDownvote?"-12px":"24px"};
  `,Number:a.a,upvoteIcon:l.createElement(r.a,{icon:"arrow_drop_up",size:"large"}),downvoteIcon:l.createElement(r.a,{icon:"arrow_drop_down",size:"large"})},d={Wrapper:s()(c.Wrapper)`
    background: ${e=>e.theme.material.color.white};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
    display: inline-flex;
    overflow: hidden;
  `,Section:s.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    padding: ${e=>e.theme.material.spacing(1)};
  `,UpvoteWrapper:s()(c.UpvoteWrapper)`
    display: flex;
    align-items: center;
  `,DownvoteWrapper:s()(c.DownvoteWrapper)`
    cursor: pointer;
  `,NumVotes:s.a.div`
    box-sizing: border-box;
    align-items: center;
    border-left: ${e=>e.canUpvote&&`1px solid ${e.theme.material.color.brand.grey[200]}`};
    border-right: ${e=>e.canDownvote&&`1px solid ${e.theme.material.color.brand.grey[200]}`};
    display: flex;
    height: ${e=>e.theme.material.spacing(7)};
    padding: 0 ${e=>e.theme.material.spacing(3)};
  `,Number:a.c,upvoteIcon:l.createElement(r.a,{icon:"keyboard_arrow_up",size:"small"}),downvoteIcon:l.createElement(r.a,{icon:"keyboard_arrow_down",size:"small"})};function p({canUpvote:e,canDownvote:t,messageId:n,numVotes:a,userVote:r,onVoteChange:i,isCondensed:s,className:c}){const p=s?d:u;function m(e){return r===e?0:e}function h(e){return a+e-r}function f(e){o.l.discussionsService.voteOnForumMessage({forumMessageId:n,score:e})}return t=e&&t,l.createElement(p.Wrapper,{className:c,userVote:r},l.createElement(p.UpvoteWrapper,{canUpvote:e,onClick:t=>{if(!e)return;t.stopPropagation(),t.preventDefault();const n=m(1);f(n),i(h(n),n)}},e&&l.createElement(p.Section,null,p.upvoteIcon),l.createElement(p.NumVotes,{canUpvote:e,canDownvote:t},l.createElement(p.Number,null,a))),t&&l.createElement(p.DownvoteWrapper,{onClick:e=>{e.stopPropagation(),e.preventDefault();const t=m(-1);f(t),i(h(t),t)}},l.createElement(p.Section,null,p.downvoteIcon)))}},1067:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n(145),r=n(1005),o=n(252),i=n(1),s=n.n(i),l=n(0),c=n(1008);const u=s.a.div`
  padding: ${e=>e.theme.material.spacing(4)};
  display: flex;
  width: 100%;
  overflow-y: auto;
`,d=s.a.div`
  flex: 0 0 50%;
  .mdc-form-field {
    align-items: flex-start !important;
  }
`,p=s()(a.e.withComponent("p"))`
  color: ${e=>e.theme.material.color.text[50]};
`,m=s.a.div`
  margin: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(2)} ${e=>e.theme.material.spacing(4)} 0;
`,h={reuseOriginalSingleGcsZip:!1,disableRawUpload:!1,disableBundleCreation:!1,disableIndividualZipCreation:!1,disableDirectoryZipCreation:!1,disableDecompression:!1,gcsUploadUrl:""},f=e=>{const t=l.useContext(c.a),{flags:n,onFlagsChange:i}=e;return l.createElement(u,null,l.createElement(d,null,l.createElement(a.p,null,"Flags"),l.createElement(m,null,l.createElement(r.a,{title:"Reuse Single Zip",disabled:t,checked:n.reuseOriginalSingleGcsZip,onChange:e=>i(Object.assign(Object.assign({},n),{reuseOriginalSingleGcsZip:e.currentTarget.checked}))},"Reuse Single Zip",l.createElement(p,null,"If a single zip was uploaded, reuse this zip as-is as the bundle zip (ignored if not exactly one zip was uploaded)."))),l.createElement(m,null,l.createElement(r.a,{title:"Disable Kernels Upload",disabled:t,checked:n.disableRawUpload,onChange:e=>i(Object.assign(Object.assign({},n),{disableRawUpload:e.currentTarget.checked}))},"Disable Kernels Upload",l.createElement(p,null,"If enabled, no data will be uploaded to the kernels bucket / available for Notebooks."))),l.createElement(m,null,l.createElement(r.a,{title:"Disable bundle.zip Creation",disabled:t,checked:n.disableBundleCreation,onChange:e=>i(Object.assign(Object.assign({},n),{disableBundleCreation:e.currentTarget.checked}))},"Disable bundle.zip Creation",l.createElement(p,null,"Disables the creation of the bundle.zip (the archive containing all raw contents). If enabled, overrides 'Reuse Single Zip'."))),l.createElement(m,null,l.createElement(r.a,{title:"Disable Individual Zip Creation",disabled:t,checked:n.disableIndividualZipCreation,onChange:e=>i(Object.assign(Object.assign({},n),{disableIndividualZipCreation:e.currentTarget.checked}))},"Disable Individual Zip Creation",l.createElement(p,null,"By default, all files ",">","1mb get zipped individually, for faster downloads from the website. Settings this flag disables this functionality and always uses the raw files."))),l.createElement(m,null,l.createElement(r.a,{title:"Disable Directory Zip Creation",disabled:t,checked:n.disableDirectoryZipCreation,onChange:e=>i(Object.assign(Object.assign({},n),{disableDirectoryZipCreation:e.currentTarget.checked}))},"Disable Directory Zip Creation",l.createElement(p,null,"By default, all top-level directories with ",">","10 files get zipped, for faster downloads from the website. Settings this flag disables this functionality."))),l.createElement(m,null,l.createElement(r.a,{title:"Disable Decompression",disabled:t,checked:n.disableDecompression,onChange:e=>i(Object.assign(Object.assign({},n),{disableDecompression:e.currentTarget.checked}))},"Disable Decompression",l.createElement(p,null,"By default, all archive files (zip, tar.gz, 7zip, ...) get decompressed automatically. This setting disables it.")))),l.createElement(d,null,l.createElement(a.p,null,"Other settings"),l.createElement(m,null,l.createElement(o.TextInput,{placeholder:"GCS Upload URL",value:n.gcsUploadUrl?n.gcsUploadUrl:null,disabled:t,debounceMilliseconds:100,hasIndicator:!1,hideBorder:!1,sizeToContent:!1,onSave:e=>i(Object.assign(Object.assign({},n),{gcsUploadUrl:e}))}),l.createElement(p,null,"Set this path to a valid GCS URL to pull the data from there instead of using uploaded files (TPU usecase)."))))}},1069:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(2),r=n(1128),o=n(348),i=n(885),s=n(1002),l=n(1365),c=n(912),u=n(119),d=n(1),p=n.n(d),m=n(0),h=n(123);const f=p.a.div`
  margin: ${e=>e.theme.material.spacing(2)};
  width: 100%;
  overflow-y: visible;

  .mdc-menu-surface {
    width: 100%;
    max-height: 400px;
  }
`,g=p()(o.a)`
  width: ${e=>e.width};
`;let b=0,v=0;const y=e=>{const{className:t,label:n,small:o,loadOptions:d,onSelect:p,optionRenderer:y=(e=>m.createElement("div",null,e)),toKey:E=(e=>e.id||Object(r.a)(e)),shouldExcludeOption:w,disabled:x,autoFocus:C,hoistToBody:k=!0}=e,[S,_]=m.useState(""),[O,T]=m.useState([]),[j,I]=m.useState(!1),[D,N]=m.useState(-1),M=m.useRef();m.useEffect(()=>{M.current=Object(h.a)(200,e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){I(!0),T([]),b++;const t=b,n=yield d(e),a=w?n.filter(e=>!(null==w?void 0:w(e))):n;t>v&&(v=t,I(!1),T(a),N(-1))})))},[w,d]);const F=m.useCallback(e=>{"ArrowUp"===e.key?N(D>0?(D-1)%O.length:O.length-1):"ArrowDown"===e.key?N(D>=0?(D+1)%O.length:0):"Enter"===e.key&&(_(""),p(O[D]),e.stopPropagation())},[O,D]),P=m.useRef(null);return m.createElement(f,{className:t},m.createElement(i.a,{ref:P},m.createElement(s.a,{placeholder:x?"disabled":n,small:o,disabled:x,autoFocus:C,value:S,onChange:e=>{var t;_(e.target.value),null===(t=M.current)||void 0===t||t.call(M,e.target.value),N(-1)},className:"searchTextField",onKeyDown:F}),m.createElement(l.a,{open:!!S||j,onClose:()=>_(""),anchorCorner:"bottomLeft",hoistToBody:k,style:{zIndex:1001}},m.createElement(g,{className:"fullWidthSelectBoxList",variant:"dense",width:P.current?P.current.getBoundingClientRect().width+"px":"initial"},j&&m.createElement(c.a,{primaryText:"Searching..."}),!j&&O.map((e,t)=>m.createElement(u.a,{key:E(e),selected:t===D,onClick:()=>{_(""),p(e)}},y(e))),!j&&S&&0===O.length&&m.createElement(c.a,{primaryText:"No results found."})))))}},1070:function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return f}));var a=n(1030),r=n(1034);const o=new Map([[a.f.ACTIVE,"most-comments"],[a.f.HOT,"hotness"],[a.f.NEW,"published"],[a.f.RECENT,"recent-comments"],[a.f.RELEVANCE,"relevance"],[a.f.TOP,"votes"]]),i=new Map([...o.entries()].map(([e,t])=>[t,e])),s=new Set(o.keys()),l=/^(\d+)-?(.*)/,c=()=>{var e;const t=null!==(e=p("sort"))&&void 0!==e?e:"";return s.has(t)?t:i.has(t)?i.get(t):void 0},u=e=>o.get(e),d=()=>{const e=new URLSearchParams(window.location.search);return t=>e.get(t)||null},p=e=>d()(e),m=()=>{const e=d(),t=e("group")||r.g,n=(()=>{const n=e("custom"),a=n?parseInt(n,10):NaN;return"custom"!==t||isNaN(a)?null:a})();return{category:e("category")||r.f,group:t,search:e("search")||"",customGroup:n}},h=e=>{return e.split(",").map(e=>{const t=e.match(l);if(null===t)return null;{const[e,n]=t.slice(1);return{id:parseInt(e,10),name:n}}}).filter(e=>null!==e)},f=()=>{const e=d(),t=e("tags");return Object.assign(Object.assign({},m()),{recency:e("recency")||r.i,myActivity:e("myActivity")||r.h,author:e("author")||r.e,filterCategories:t?h(t):[]})}},1072:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(1073);const o=a.createContext({bookmarks:new r.a,addBookmark:e=>Promise.resolve(),removeBookmark:e=>Promise.resolve(),setBookmarks:e=>{},appendBookmarks:e=>{}})},1073:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1129),r=n(1045);class o{constructor(e){if(this.bookmarks=new Map(Object.values(r.a).map(e=>[e,new Set])),void 0!==e)for(const t of e)this.bookmarks.get(t.bookmarkType).add(t.bookmarkedEntityId)}has(e){return this.bookmarks.get(e.bookmarkType).has(e.bookmarkedEntityId)}add(...e){const t=new o(this.items());return e.forEach(e=>{t.bookmarks.get(e.bookmarkType).add(e.bookmarkedEntityId)}),t}delete(e){if(!this.has(e))return this;const t=new o;return this.bookmarks.forEach((n,r)=>{r===e.bookmarkType&&(n=Object(a.a)(n,e.bookmarkedEntityId)),t.bookmarks.set(r,n)}),t}iterItems(e){this.bookmarks.forEach((t,n)=>{t.forEach(t=>{e({bookmarkType:n,bookmarkedEntityId:t})})})}items(){const e=[];return this.iterItems(t=>{e.push(t)}),e}get size(){let e=0;return this.iterItems(t=>{e++}),e}}},1074:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n(2),r=n(1121),o=n(6),i=n(0),s=n(1072),l=n(1073),c=n(254),u=n(1045),d=n(1078);const p=o.c.Sdk.Users.Protos.LoginMessageId.BOOKMARK_LOGIN,m=(e,t,n,i,s)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const a={bookmark:e};t?yield o.A.bookmarkService.deleteBookmark(a):yield o.A.bookmarkService.createBookmark(a);const[l,p]=(e=>{const t=Object(r.e)();switch(e){case u.a.COMPETITION:return["Competition","TODO"];case u.a.DATASET:return["Dataset",`/${t}/datasets?tab=bookmarked`];case u.a.FORUM_TOPIC:return["Topic",`/${t}/discussion?group=upvoted`];case u.a.KERNEL:return["Notebook",`/${t}/code?tab=bookmarked`];default:throw new Error("Unknown bookmark type")}})(e.bookmarkType);if(t){i(e);const t=()=>{m(e,!1,n,i,!0)};c.a.notify({title:`${l} removed from bookmarks.`,dismissesOnAction:!0,actions:[{action:"Undo",label:"Undo",onClick:t}],timeout:d.a})}else{const t=()=>{window.location.href=p};n(e),s||c.a.notify({title:`${l} added to bookmarks!`,actions:[{action:"View",label:"View",onClick:t}],timeout:d.a})}})),h=e=>{const[t,n]=i.useState(new l.a(e)),r=i.useCallback(e=>{n(t=>t.add(e)),o.r.report("general","bookmark-added",e)},[]),s=i.useCallback(e=>{n(t=>t.delete(e)),o.r.report("general","bookmark-removed",e)},[]),c=i.useCallback(e=>{n(new l.a(e))},[]),u=i.useCallback(e=>{n(t=>t.add(...e))},[]);return{bookmarks:t,addBookmark:i.useCallback(e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return m(e,!1,r,s)})),[]),removeBookmark:i.useCallback(e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return m(e,!0,r,s)})),[]),setBookmarks:c,appendBookmarks:u}},f=e=>{const{bookmarks:t,addBookmark:n,removeBookmark:o}=i.useContext(s.a),[l,c]=i.useState(null),u=t.has(e),d=i.useCallback(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){if(null===Object(r.b)()){const e=`/account/login/?returnUrl=${encodeURIComponent(window.location.pathname)}&message=${p}`;return void(window.location.href=e)}if(null!==l)return;const t=u?()=>o(e):()=>n(e);c(!u);try{yield t()}finally{c(null)}})),[e.bookmarkType,e.bookmarkedEntityId,u,n,o,l]);return[null!=l?l:u,d]}},1077:function(e,t,n){"use strict";var a=n(251),r=n(1046),o=n(1017);n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d}));const i=5,s=50,l=6,c=50,u=(e,t,n)=>{if((e=>{if("uploadContainer"===e.type){return Object(o.b)(e,()=>!0)}return"remoteUrlUploadContainer"===e.type?e.children.length:0})(n)>e.maxFiles){return{status:"error",message:`Maximum number of files exceeded (${e.maxFiles})`}}const i=d(e,t),s=i.totalBytes-i.prevUsedBytes,l=Object(r.a)(n);if(l>s){return{status:"error",message:`The total size of the dataset (${a(l)}) must be below ${a(s)}`}}return{status:"success"}},d=(e,t)=>{if(t){const{totalBytes:t,usedBytes:n}=e.privateLimits;return{totalBytes:t,prevUsedBytes:n}}const{maxBytes:n}=e.publicLimits;return{totalBytes:n,prevUsedBytes:0}}},1078:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=5e3},1079:function(e,t,n){"use strict";var a=n(88),r=n(128),o=n(145),i=n(6),s=n(1),l=n.n(s),c=n(0),u=n(1047),d=n(1021),p=n(369),m=n(1328),h=n(1330),f=n(1117),g=n(1420),b=n(891),v=n(1027),y=n(1096);const E=l.a.div`
  display: flex;
  flex-grow: 1;
`,w=l.a.div`
  background: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  position: relative;

  ${a.j} {
    ${e=>!e.isNestedComment&&"\n      border-radius: 0;\n      border-left: 0;\n      border-right: 0;\n    "};
  }
`,x=l.a.div`
  background: ${e=>e.theme.material.color.white};
  border-right: 0;
  border-top: 0;
  border-left: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  height: ${e=>e.theme.material.spacing(2)};
  left: -6px;
  position: absolute;
  top: ${e=>e.theme.material.spacing(3)};
  transform: rotate(45deg);
  width: ${e=>e.theme.material.spacing(2)};

  ${a.j} {
    display: none;
  }
`,C=l.a.div`
  align-items: center;
  display: flex;
  flex-direction: column;
  margin-right: ${e=>e.theme.material.spacing(4)};

  ${a.j} {
    display: none;
  }
`,k=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,S=({avatarModel:e,medal:t,children:n,useBlankAvatar:a,isNestedComment:r})=>{const{thumbnailUrl:o,profileUrl:i,tier:s,displayName:l,id:u}=Object(h.b)(a?null:e);return c.createElement(E,null,e&&c.createElement(C,null,c.createElement(h.a,{thumbnailUrl:o,profileUrl:i,tier:s,displayName:l,id:u,size:"xlarge"}),c.createElement(k,null,c.createElement(y.a,{medal:t||null}))),c.createElement(w,{isNestedComment:r},c.createElement(x,null),n))};var _=n(1041),O=n(1016),T=n(1099),j=n(1101),I=n(1097),D=n(1100),N=n(1098),M=n(1102),F=n(1066);const P=l.a.div`
  display: flex;
`,L=l.a.div`
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(3)} ${t(6)} ${t(3)}`}};
`,A=l.a.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,R=l.a.div`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,U=l()(o.c)`
  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,z=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(7)};
`,$=l.a.div`
  margin: ${e=>e.theme.material.spacing(3)} 0;
  position: relative;
`,B=l.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  bottom: -${e=>e.theme.material.spacing(3)};
  box-sizing: border-box;
  height: ${e=>e.theme.material.spacing(3)};
  left: ${e=>e.theme.material.spacing(20)};
  position: absolute;
  width: 1px;

  ${a.j} {
    left: 28px;
  }
`,V=l()(B)`
  top: -${e=>e.theme.material.spacing(3)};
`,H=l.a.div`
  display: flex;
  flex-wrap: wrap;
  margin-top: ${e=>e.theme.material.spacing(4)};
`,W=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,q=l()(o.b)`
  color: ${e=>e.theme.material.color.text[40]};
  font-style: italic;
  margin-bottom: 16px;
`,K=l()(v.a)`
  && {
    ${e=>{const t=Object(d.b)(e.authorType);return t&&"color: "+t}};
  }
`,G=l.a.span`
  margin-left: 8px;
  border-radius: 4px;
  padding: 2px 8px;
  border: 1px solid ${e=>Object(d.b)(e.authorType)};
  color: ${e=>Object(d.b)(e.authorType)};
  white-space: nowrap;
`,Y=c.memo(({user:e,initialModel:t,topicId:n,isReadOnly:a,isNestedComment:r,onReplyClick:o,onReplyAdded:s,allowAttachments:l})=>{var u,y,E,w,x,C,k,Z,Q,X;const[J,ee]=c.useState(t),[te,ne]=c.useState(!1),[ae,re]=c.useState(!1),[oe,ie]=c.useState(!1),[se,le]=c.useState(""),[ce,ue]=c.useState(!1),de=e&&e.isAdmin;c.useEffect(()=>{ee(t)},[t]);const pe=c.useCallback(e=>i.l.discussionsService.createReply({messageId:J.id,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(d.e)(e.attachments)}}).then(()=>(s(),le(""),ie(!1),{messageId:J.id})),[J]),me=c.useCallback(()=>ie(!1),[]),he=c.useCallback(e=>i.l.discussionsService.updateMessage({messageId:J.id,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(d.e)(e.attachments)}}).then(()=>(ee(Object.assign(Object.assign({},J),{content:e.html,rawMarkdown:e.markdown,attachments:e.attachments})),ue(!1),{messageId:J.id})),[J]),fe=c.useCallback(()=>{ue(!1)},[]),ge=c.useCallback(()=>{ie(!0)},[]),be=c.useCallback(()=>{s()},[]);return c.createElement(P,{id:String(J.id)||""},c.createElement(S,{isNestedComment:r,avatarModel:Object(h.c)(J.author),useBlankAvatar:J.isDeleted,medal:J.medal},c.createElement(L,null,c.createElement(A,null,c.createElement(R,null,c.createElement(U,null,(null===(u=J.author)||void 0===u?void 0:u.displayName)&&c.createElement(c.Fragment,null,c.createElement(m.b,null,({targetRef:e,setTargetRef:t})=>{var n,a,r,o,i;return c.createElement(c.Fragment,null,c.createElement(K,{ref:t,authorType:J.authorType,bold:!0,href:null!==(a=null===(n=J.author)||void 0===n?void 0:n.url)&&void 0!==a?a:""},Object(d.g)(null!==(o=null===(r=J.author)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"")),c.createElement(m.a,{targetRef:e},c.createElement(f.a,{userId:null===(i=J.author)||void 0===i?void 0:i.id})))}),"comment"!==J.authorType&&c.createElement(G,{authorType:J.authorType},Object(d.c)(J.authorType)),"  •  "),Boolean(J.currentKernelVersion)&&c.createElement("span",null,"Posted on Version ",J.kernelVersion," of"," ",J.currentKernelVersion,"  •  "),Boolean(J.competitionRanking)&&c.createElement("span",null,"(",c.createElement(g.a,{num:J.competitionRanking})," in this Competition)","  •  "),c.createElement(b.a,{time:J.postDate}),!J.isDeleted&&c.createElement(c.Fragment,null,"  •  ",c.createElement(v.a,{color:te?"blue":"grey",onClick:()=>ne(!te)},"Options")),i.n.discussionsUpvoteSpamWarning?c.createElement(c.Fragment,null,"  •  ",c.createElement(I.a,{isFlagged:J.isFlagged,messageId:J.id,onFlag:()=>{ee(Object.assign(Object.assign({},J),{isFlagged:!0}))},renderLink:e=>c.createElement(v.a,{onClick:e,color:"grey"},"Report"),renderReported:()=>c.createElement(v.a,{color:"grey"},"Reported")})):null,Object(d.o)(e,null===(y=null==J?void 0:J.author)||void 0===y?void 0:y.id)&&c.createElement(c.Fragment,null,"  •  ",c.createElement(v.a,{color:ce?"blue":"grey",onClick:()=>{ue(!0)}},"Edit")),!a&&!J.isDeleted&&c.createElement(c.Fragment,null,"  •  ",c.createElement(v.a,{color:oe?"blue":"grey",onClick:()=>{r?o&&o():(le(""),ie(!oe))}},"Reply")))),!J.isDeleted&&c.createElement("div",null,c.createElement(F.a,{canUpvote:null!==(w=null===(E=J.votes)||void 0===E?void 0:E.canUpvote)&&void 0!==w&&w,canDownvote:null!==(C=null===(x=J.votes)||void 0===x?void 0:x.canDownvote)&&void 0!==C&&C,messageId:J.id,userVote:Object(d.h)(J.votes),onVoteChange:(e,t)=>{ee(Object.assign(Object.assign({},J),{votes:Object(d.i)(J.votes,t,e)}))},isCondensed:!0,numVotes:(null===(k=J.votes)||void 0===k?void 0:k.totalVotes)||0}))),(()=>{var t,a;return J.isDeleted?c.createElement(q,null,"This comment was deleted."):c.createElement(_.a,{allowAttachments:l,attachments:J.attachments,markdown:null!==(t=J.rawMarkdown)&&void 0!==t?t:"",htmlFallback:null!==(a=J.content)&&void 0!==a?a:"",isEditing:ce,confirmButtonText:"Update Comment",onSave:he,onCancel:fe,topicId:n,user:e})})(),te&&c.createElement(H,null,!a&&c.createElement(O.a,{text:"Quote",onClick:()=>{le(Object(d.a)(se,J.rawMarkdown||"")),ie(!0)}}),c.createElement(O.a,{text:"Permalink",href:`${window.location.origin}${window.location.pathname}#${J.id}`,onClick:e=>{e.preventDefault(),Object(p.g)("#"+J.id)}}),i.n.discussionsUpvoteSpamWarning?null:c.createElement(I.a,{isFlagged:J.isFlagged,messageId:J.id,onFlag:()=>{ee(Object.assign(Object.assign({},J),{isFlagged:!0}))}}),c.createElement(N.a,{numVotes:(null===(Q=null===(Z=J.votes)||void 0===Z?void 0:Z.voters)||void 0===Q?void 0:Q.length)||0,onClick:()=>re(!ae)}),Object(d.n)(e,null===(X=J.author)||void 0===X?void 0:X.id)&&c.createElement(T.a,{messageId:J.id,onDelete:()=>{window.location.reload()}}),de&&c.createElement(D.a,{messageId:J.id,isSpammed:J.isSpammed,onToggle:e=>{ee(Object.assign(Object.assign({},J),{isSpammed:e}))}}),de&&c.createElement(j.a,{messageId:J.id,initialModel:Object(d.d)(J.feedbackTrackingData)})),ae&&c.createElement(W,null,c.createElement(M.a,{currentUser:e,currentUserVote:Object(d.h)(J.votes),users:(J.votes&&J.votes.voters||[]).map(e=>Object(h.c)(e))})),(Boolean(J.replies.length)||oe)&&c.createElement(z,null,Boolean(J.replies.length)&&c.createElement(c.Fragment,null,J.replies.map((t,n)=>c.createElement($,{key:t.id},c.createElement(Y,{allowAttachments:l,user:e,isReadOnly:a,isNestedComment:!0,onReplyClick:ge,onReplyAdded:be,initialModel:t}),n<J.replies.length-1&&c.createElement(B,null)))),oe&&e&&c.createElement($,null,Boolean(J.replies.length)&&c.createElement(V,null),c.createElement(S,{isNestedComment:!0,avatarModel:e},c.createElement(L,null,c.createElement(_.a,{allowAttachments:l,attachments:[],markdown:se,isEditing:!0,confirmButtonText:"Post Comment",onSave:pe,onCancel:me,focusOnInitialRender:!0,topicId:n}))))))))});var Z=n(1123);n.d(t,"a",(function(){return de}));const Q=["Hotness","Most Votes","Newest","Oldest","Chronological"],X={Hotness:"hot","Most Votes":"top",Newest:"new",Oldest:"old",Chronological:"chronological"},J={unspecified:"Hotness",hot:"Hotness",top:"Most Votes",new:"Newest",old:"Oldest",chronological:"Chronological"},ee=l.a.div`
  position: relative;
`,te=l.a.div`
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;

  ${a.j} {
    ${a.n};
  }
`,ne=l.a.div`
  margin: 12px 0;
`,ae=l.a.span`
  color: ${e=>e.theme.material.color.text[50]};
`,re=l.a.div`
  display: flex;
  align-items: center;
`,oe=l()(o.c)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`,ie=l.a.div`
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,se=l()(ie)`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  padding: 12px 24px;
`,le=l.a.div`
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(7)};
`,ce=l.a.div`
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(3)} ${t(5)} ${t(4)}`}};
`,ue=l.a.div`
  position: absolute;
  bottom: 50px;
`,de=c.memo(({user:e,allowAttachments:t,isReadOnly:n,readOnlyReason:a,initialTopicId:s,kernelId:l,topicFirstMessageId:p,initialModel:m,initialSort:h,quotedComment:f,clearQuotedComment:g})=>{const[b,v]=c.useState(m),[y,E]=c.useState(J[h]),[w,x]=c.useState(""),[C,k]=c.useState(Math.random().toString()),[O,T]=c.useState(1),[j,I]=c.useState(s),[D,N]=c.useState(0),M=e=>{e&&(v(e),T(1))};!y&&h&&"unspecified"!==h&&E(J[h]),c.useLayoutEffect(()=>{requestAnimationFrame(()=>{Object(r.i)()})},[]),c.useEffect(()=>{M(m)},[m]),c.useEffect(()=>{f&&(x(Object(d.a)(w,f)),g&&g())},[f]),c.useEffect(()=>{D&&Object(r.j)(D.toString())},[D]);const F=(e,t,n)=>{if(!e)return;const a=y;i.l.getForumMessagesInTopic({topicId:j,newUserSort:X[y],page:null,pageSize:null,selection:null,filter:"all",includeFirstForumMessage:!1}).then(e=>{t===a&&M(e.comments),n&&N(n)})};c.useEffect(()=>{F(j,y)},[j,y]);const P=c.useCallback(()=>F(j,y),[j,y]),L=c.useCallback(e=>{if(!p&&!l)throw new Error("DiscussionsCommentList must specify oneof: kernelId, topicFirstMessageId");const t={markdown:e.markdown,html:e.html,blobFileTokens:Object(d.e)(e.attachments)};let n=Promise.resolve();return l?n=i.l.discussionsService.createKernelMessage({kernelId:l,message:t}):p&&(n=i.l.discussionsService.createReply({messageId:p,message:t})),n.then(e=>(e.topicId&&I(e.topicId),k(Math.random().toString()),x(""),F(j,y,e.messageId),Object(d.j)(j),{messageId:e.messageId})),n},[y]);if(n&&!a&&(!b||!b.length))return null;const A=25*O,R=b?Object(d.f)(b.slice(0,A)):0,U=b?Object(d.f)(b):0;return c.createElement(ee,null,c.createElement(te,null,c.createElement(ne,null,c.createElement(o.a,null,"Comments ",c.createElement(ae,null,"(",U,")"))),c.createElement(re,null,c.createElement(oe,null,"Sort by "),c.createElement(Z.a,{selectedOption:y,options:Q,onChange:e=>E(e)}))),e&&!e.isAnonymous&&!n&&c.createElement(le,null,c.createElement(S,{isNestedComment:!1,avatarModel:e},c.createElement(ce,null,c.createElement(_.a,{allowAttachments:t,key:C,markdown:w,isEditing:!0,confirmButtonText:"Post Comment",onSave:L,attachments:[],topicId:j,user:e})))),e&&n&&a&&c.createElement(se,null,a),b&&b.slice(0,A).map(a=>c.createElement(ie,{key:a.id},c.createElement(Y,{allowAttachments:t,user:e,isReadOnly:n,initialModel:a,onReplyAdded:P,topicId:j}))),c.createElement(ue,null,c.createElement(u.a,{fireOnce:!0,onVisible:()=>{R<U&&T(O+1)}})))})},1080:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(0),o=r.lazy((function(){return Promise.all([n.e(7),n.e(20),n.e(102),n.e(0),n.e(109)]).then(n.bind(null,1363)).then((function(e){return{default:e.VirtualizedSelectBox}}))})),i=function(e){return r.createElement(r.Suspense,{fallback:""},r.createElement(o,Object(a.__assign)({},e)))}},1081:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r=a.createContext({isAdmin:!1,isProductFeedback:!1})},1082:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(88),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  ${a.j} {
    ${a.n};
  }
`,l=o.a.div`
  height: ${e=>e.theme.material.spacing(12)};
  display: inline-flex;
  align-items: center;
  box-sizing: border-box;
  margin-right: ${e=>e.theme.material.spacing(4)};
  font-size: ${e=>e.theme.material.typography.button.fontSize};
  cursor: pointer;
  position: relative;
  font-weight: ${e=>e.theme.material.typography.button.fontWeight};
  color: ${e=>e.isSelected?e.theme.material.color.brand.blue[800]:e.theme.material.color.text[70]};
`,c=o.a.div`
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 3px;
  border-radius: 4px 4px 0 0;
  background: ${e=>e.theme.material.color.brand.blue[800]};
`,u=o.a.a`
  text-decoration: none;
`;function d({forums:e}){const t=window.location.pathname;return i.createElement(s,null,e.map(e=>{if(!e.url)return null;const n=t.startsWith(e.url);return i.createElement(u,{href:e.url,key:e.url},i.createElement(l,{isSelected:n},e.name,n&&i.createElement(c,null)))}))}},1083:function(e,t,n){"use strict";var a=n(2),r=n(88),o=n(145),i=n(1352),s=n(886),l=n(249),c=n(6),u=n(1),d=n.n(u),p=n(1366),m=n(0),h=n(1330),f=n(891),g=n(1027),b=n(1014),v=n(1021),y=n(1119),E=n(1079),w=n(1041),x=n(1096),C=n(1016),k=n(1074),S=n(1045),_=n(1382);const O=e=>{const[t,n]=Object(k.a)(e.bookmark),a=m.useCallback(e=>{e.preventDefault(),n()},[n]);return m.createElement(C.a,{text:t?"Remove Bookmark":"Bookmark",onClick:a})},T=e=>{if(!c.n.bookmarksUI)return null;const{forumTopicId:t}=e,n=e.isBookmarked,a={bookmarkType:S.a.FORUM_TOPIC,bookmarkedEntityId:t};return m.createElement(_.a,{bookmarks:n?[a]:void 0},m.createElement(O,{bookmark:a}))};var j=n(1099),I=n(1101);function D({isLocked:e,forumTopicId:t,onToggle:n}){const[r,o]=m.useState(!1);return m.createElement(C.a,{text:e?"Unlock":"Lock",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){r||(o(!0),yield c.l.discussionsService.updateForumTopicSettings({forumTopicId:t,settingToToggle:c.c.Sdk.Discussions.Protos.ForumTopicSettings.IS_READ_ONLY}),o(!1),n(!e))}))})}var N=n(1097),M=n(1100);function F({isStickied:e,forumTopicId:t,onToggle:n}){const[r,o]=m.useState(!1);return m.createElement(C.a,{text:e?"Unpin":"Pin",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){r||(o(!0),yield c.l.discussionsService.updateForumTopicSettings({forumTopicId:t,settingToToggle:c.c.Sdk.Discussions.Protos.ForumTopicSettings.IS_STICKY}),o(!1),n(!e))}))})}var P=n(1098),L=n(1118),A=n(1102),R=n(1066);n.d(t,"a",(function(){return le}));const U=d.a.div``,z=d.a.div`
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  margin-bottom: ${e=>e.theme.material.spacing(10)};

  ${r.j} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,$=d.a.div`
  padding: 0 28px 8px;
  width: 100%;
`,B=d.a.div`
  border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-top: 16px;
  padding-bottom: 12px;
`,V=d.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,H=d.a.div`
  align-items: center;
  display: flex;
`,W=d.a.div`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,q=d()(o.o)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  display: flex;
  align-items: center;

  && {
    font-family: Zeitung, sans-serif;
    color: ${e=>e.theme.material.color.text[70]};
  }
`,K=d.a.div`
  background: ${e=>e.theme.material.color.brand.grey[50]};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  ${r.j} {
    display: none;
  }
`,G=d.a.div`
  padding: 0 20px 8px;
`,Y=d.a.div`
  margin-top: ${e=>e.theme.material.spacing(6)};
`,Z=d.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,Q=d()(i.a)`
  margin: ${e=>e.theme.material.spacing(5,0)};
  && {
    width: 100%;
  }
`,X=d()(o.e)`
  && {
    color: ${e=>e.theme.material.color.text[40]};
  }
`,J=d()(X)`
  display: none;

  ${r.j} {
    display: flex;
    margin-bottom: 4px;
  }
`,ee=d.a.span`
  margin-right: 2px;
`,te=d.a.div`
  margin-top: ${e=>e.theme.material.spacing(5)};
`,ne=d.a.div`
  margin-top: ${e=>e.theme.material.spacing(2)};
  padding-bottom: ${e=>e.theme.material.spacing(1)};
`,ae=d.a.a`
  display: inline-block;
  margin-top: 8px;
  text-decoration: none;
`,re=d.a.div`
  margin-top: -17px;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,oe=d()(o.b)`
  color: ${e=>e.theme.material.color.text[40]};
  font-style: italic;
  margin-bottom: 16px;
`,ie=({tag:e})=>{const t=m.useCallback(()=>{c.r.reportImmediate("discussions","topic-tag-click",{tagId:e.id,tagName:e.displayName})},[e]);return m.createElement(ae,{href:e.tagUrl,onClick:t},m.createElement(s.a,null,e.displayName))},se=e=>{const{canEdit:t,isAdmin:n,onSaveTags:a,tags:r,canRemoveLastTag:o,topicId:i}=e;return c.n.tagsLearnAndDiscussionsUI?t||n?m.createElement(ne,null,m.createElement(L.a,{tags:r,onSaveTags:a,canRemoveLastTag:o,topicId:i})):0===r.length?null:m.createElement(ne,null,r.map(e=>m.createElement(ie,{key:e.id,tag:e}))):null};function le({user:e,initialModel:t,topicId:n}){var o,i,s,u,d,k,S,_,O,ne,ae,ie,le,ce,ue,de,pe,me,he,fe,ge;const[be,ve]=m.useState(null==t?void 0:t.isAdminStarred),[ye,Ee]=m.useState(t),[we,xe]=m.useState(!1),[Ce,ke]=m.useState(!1),[Se,_e]=m.useState(""),[Oe,Te]=m.useState(!1),[je,Ie]=m.useState(""),[De,Ne]=m.useState((null==t?void 0:t.tags)||[]),Me=Boolean(e&&e.isAdmin),Fe="/product-feedback"===(null==t?void 0:t.parentUrl),Pe=Object(p.a)(r.j),Le=m.useCallback(()=>_e(""),[]);m.useEffect(()=>{n&&!ye&&c.l.getForumTopicById({forumTopicId:n,includeComments:!0,selection:null}).then(e=>{Ee(e.forumTopic),Ne(e.forumTopic.tags)})},[n]);const Ae=m.useCallback(()=>Te(!1),[]),Re=m.useCallback(e=>ye?c.l.discussionsService.updateTopic({topicId:ye.id,topicName:je,message:{blobFileTokens:Object(v.e)(e.attachments),markdown:e.markdown,html:e.html},tagIds:De.map(e=>e.id)}).then(()=>(Ee(Object.assign(Object.assign({},ye),{name:je,firstMessage:Object.assign(Object.assign({},ye.firstMessage),{rawMarkdown:e.markdown,content:e.html,attachments:e.attachments}),tags:De})),Te(!1),{messageId:ye.firstMessageId})):Promise.resolve({messageId:null}),[ye,je,De]),Ue=c.n.discussionsUpvoteSpamWarning;m.useEffect(()=>{Ue&&!we&&xe(!0)},[Ue]);const ze=m.useCallback(e=>{Ne(e)},[]),$e=m.useCallback(e=>{c.x.tagService.updateForumTopicTags({forumTopicId:ye.id,tagIds:e.map(e=>e.id)}).then(()=>{Ne(e),Ee(Object.assign(Object.assign({},ye),{tags:e}))})},[ye]);if(!ye)return null;const Be=ye.firstMessage.isDeleted,Ve=Object(v.o)(e,ye&&ye.authorId),He=(null==ye?void 0:ye.forumId)===b.d,We=c.n.tagsLearnAndDiscussionsUI?{border:"none"}:{};return m.createElement(U,null,m.createElement(z,null,m.createElement(K,null,m.createElement(y.a,{model:Object(h.c)(ye.firstMessage.author),useBlankAvatar:Be,competitionRank:null===(o=ye.firstMessage)||void 0===o?void 0:o.competitionRanking,authorType:null===(i=ye.firstMessage)||void 0===i?void 0:i.authorType}),m.createElement(G,null,Ve&&m.createElement(C.a,{text:"Edit",color:Oe?"blue":"grey",onClick:()=>{var e;Ie(null!==(e=ye.name)&&void 0!==e?e:""),Te(!0)}}),Ue?null:m.createElement(C.a,{text:"Options",color:we?"blue":"grey",onClick:()=>xe(!we)}))),m.createElement($,null,m.createElement(B,{style:We},Oe?m.createElement(Q,{label:"Topic Title",value:je,onChange:e=>Ie(e.target.value)}):m.createElement(m.Fragment,null,m.createElement(V,null,!Be&&m.createElement(q,null,ye.name),m.createElement(J,null,m.createElement(ee,null,"By")," ",m.createElement(g.a,{href:null!==(d=null===(u=null===(s=ye.firstMessage)||void 0===s?void 0:s.author)||void 0===u?void 0:u.url)&&void 0!==d?d:"",authorType:null===(k=ye.firstMessage)||void 0===k?void 0:k.authorType},null===(_=null===(S=ye.firstMessage)||void 0===S?void 0:S.author)||void 0===_?void 0:_.displayName)),m.createElement(X,null,"Posted in"," ",m.createElement(g.a,{href:ye.parentUrl||""},ye.parentName)," ",ye.firstMessage.postDate&&m.createElement(f.a,{time:ye.firstMessage.postDate})),m.createElement(se,{canEdit:Ve,isAdmin:Me,tags:De,onSaveTags:$e,canRemoveLastTag:!He,topicId:ye.id})),!Be&&m.createElement(H,null,Me&&Fe&&m.createElement(l.a,{style:{marginLeft:"16px"},icon:be?"star":"star_outline",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){ve(!be),be?yield c.l.issuesService.adminUnstarForumTopic({forumTopicId:ye.id}):yield c.l.issuesService.adminStarForumTopic({forumTopicId:ye.id})}))}),m.createElement(W,null,m.createElement(x.a,{medal:ye.firstMessage.medal})),m.createElement(R.a,{canUpvote:null!==(ne=null===(O=ye.firstMessage.votes)||void 0===O?void 0:O.canUpvote)&&void 0!==ne&&ne,canDownvote:null!==(ie=null===(ae=ye.firstMessage.votes)||void 0===ae?void 0:ae.canDownvote)&&void 0!==ie&&ie,messageId:ye.firstMessageId,userVote:Object(v.h)(ye.firstMessage.votes),onVoteChange:(e,t)=>{Ee(Object.assign(Object.assign({},ye),{firstMessage:Object.assign(Object.assign({},ye.firstMessage),{votes:Object(v.i)(ye.firstMessage.votes,t,e)})}))},numVotes:(null===(le=ye.firstMessage.votes)||void 0===le?void 0:le.totalVotes)||0})))),c.n.tagsLearnAndDiscussionsUI&&Oe?m.createElement(re,null,m.createElement(L.a,{tags:De,onSaveTags:ze,canRemoveLastTag:!He,topicId:ye.id})):null,Be?m.createElement(oe,null,"This topic was deleted."):m.createElement(te,null,m.createElement(w.a,{allowAttachments:ye.allowAttachments,attachments:null!==(ue=null===(ce=ye.firstMessage)||void 0===ce?void 0:ce.attachments)&&void 0!==ue?ue:[],markdown:null!==(pe=null===(de=ye.firstMessage)||void 0===de?void 0:de.rawMarkdown)&&void 0!==pe?pe:"",htmlFallback:null!==(he=null===(me=ye.firstMessage)||void 0===me?void 0:me.content)&&void 0!==he?he:"",isEditing:Oe,confirmButtonText:"Update Topic",onCancel:Ae,onSave:Re,topicId:ye.id,isTopicContent:!0,user:e})),we&&ye.firstMessage&&m.createElement(Y,null,Ve&&Pe&&m.createElement(C.a,{text:"Edit",color:"blue",onClick:()=>{var e;Ie(null!==(e=ye.name)&&void 0!==e?e:""),Te(!0)}}),!ye.isLocked&&!Be&&m.createElement(C.a,{text:"Quote",onClick:()=>_e(ye.firstMessage.rawMarkdown||"")}),e&&(!Be||ye.isFollowed)&&m.createElement(C.a,{text:ye.isFollowed?"Unfollow":"Follow",onClick:()=>{c.t.subscriptionService.subscribeTo({subscribe:ye.isFollowed?c.c.Sdk.Notifications.Protos.SubscribeState.UNSUBSCRIBE:c.c.Sdk.Notifications.Protos.SubscribeState.SUBSCRIBE_SINGLE,isImplicit:!1,id:ye.id,type:c.c.Sdk.Notifications.Protos.SubscriptionType.FORUM_TOPIC,parentType:c.c.Sdk.Notifications.Protos.NotificationRelatedItemType.UNSPECIFIED,parentId:null}),Ee(Object.assign(Object.assign({},ye),{isFollowed:!ye.isFollowed}))}}),m.createElement(T,{forumTopicId:ye.id,isBookmarked:ye.isBookmarked}),m.createElement(N.a,{isFlagged:ye.firstMessage.isFlagged,messageId:ye.firstMessage.id,onFlag:()=>Ee(Object.assign(Object.assign({},ye),{firstMessage:Object.assign(Object.assign({},ye.firstMessage),{isFlagged:!0})}))}),!Be&&m.createElement(P.a,{numVotes:(null===(ge=null===(fe=ye.firstMessage.votes)||void 0===fe?void 0:fe.voters)||void 0===ge?void 0:ge.length)||0,onClick:()=>ke(!Ce)}),ye.canDelete&&!Be&&m.createElement(j.a,{topicId:ye.id,onDelete:()=>{window.location.href=ye.parentUrl||"/"}}),Me&&ye.firstMessageId&&!ye.isLocked&&m.createElement(M.a,{messageId:ye.firstMessageId,isSpammed:ye.firstMessage.isSpammed,onToggle:e=>Ee(Object.assign(Object.assign({},ye),{firstMessage:Object.assign(Object.assign({},ye.firstMessage),{isSpammed:e})}))}),Me&&m.createElement(D,{forumTopicId:ye.id,isLocked:ye.isLocked,onToggle:e=>Ee(Object.assign(Object.assign({},ye),{isLocked:e}))}),Me&&(!Be||ye.isStickied)&&m.createElement(F,{forumTopicId:ye.id,isStickied:ye.isStickied,onToggle:e=>{Ee(Object.assign(Object.assign({},ye),{isStickied:e}))}}),Me&&ye.firstMessage&&m.createElement(I.a,{initialModel:Object(v.d)(ye.firstMessage.feedbackTrackingData),messageId:ye.firstMessage.id})),Ce&&ye.firstMessage&&m.createElement(Z,null,m.createElement(A.a,{currentUser:e,currentUserVote:Object(v.h)(ye.firstMessage.votes),users:(ye.firstMessage.votes&&ye.firstMessage.votes.voters||[]).map(e=>Object(h.c)(e))})))),m.createElement(E.a,{allowAttachments:ye.allowAttachments,user:e,isReadOnly:ye.isLocked,initialTopicId:ye.id,topicFirstMessageId:ye.firstMessageId,quotedComment:Se,clearQuotedComment:Le,initialModel:ye.comments,initialSort:ye.commentSort}))}},1085:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(145),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 32px;
`,l=o()(a.p)`
  margin-bottom: 8px;
`,c=o()(a.b)`
  max-width: 400px;
  text-align: center;
`;function u(e){const{title:t,description:n}=e;return i.createElement(s,null,i.createElement(l,{"data-testid":"error-screen-header"},t),i.createElement(c,null,n))}},1086:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return m}));var a=n(252),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  display: flex;
  align-items: center;
  justify-content: center;

  text-align: center;
  background-color: rgba(220, 220, 220, 0.8);
`,l=o.a.div`
  background-color: ${e=>e.theme.material.color.white};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  color: ${e=>e.theme.material.color.text[70]};
  display: inline-block;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  width: 70%;
`,c=o.a.div`
  margin: ${e=>e.theme.material.spacing(5)}
    ${e=>e.theme.material.spacing(3)};
`,u=o.a.div`
  display: flex;
  justify-content: flex-end;
  margin: ${e=>e.theme.material.spacing(3)};
`,d=o()(a.Button)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  color: ${e=>e.theme.material.color.brand.grey[500]};

  &:hover {
    background-color: ${e=>e.theme.material.color.white};
    border: 1px solid ${e=>e.theme.material.color.brand.blue[500]};
    color: ${e=>e.theme.material.color.brand.blue[500]};
  }
`,p=o()(a.Button)`
  background-color: ${e=>e.theme.material.color.brand.blue[800]};

  &:hover {
    background-color: ${e=>e.theme.material.color.brand.blue[500]};
    color: ${e=>e.theme.material.color.white};
  }
`;function m(e){const{description:t,confirmText:n,cancelText:a,onAction:r}=e;return i.createElement(s,null,i.createElement(l,null,i.createElement(c,null,t),i.createElement(u,null,i.createElement(d,{variant:"secondary",tight:!0,onClick:()=>r("cancel")},a),i.createElement(p,{variant:"secondary",tight:!0,onClick:()=>r("confirm")},n))))}},1087:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return g}));var a=n(1217),r=n(1017);const o=(e,t)=>{const n=t[t.length-1],a=t.slice(0,t.length-1).reduce((e,t)=>{if(void 0===e)return;return e.directories.find(e=>e.name===t)},e);return a?a.files.find(e=>e.name===n):void 0},i=(e,t)=>{const n=t[t.length-1],a=t.slice(0,t.length-1).reduce((e,t)=>{if(void 0!==e){if("uploadContainer"===e.type){const n=e.directories.find(e=>e.name===t);return n||e.existingDirectories.find(e=>e.name===t)}return"uploadDirectory"===e.type?e.directories.find(e=>e.name===t):"existingDirectory"===e.type?e.directories.find(e=>e.name===t):void 0}},e);if(a&&"uploadContainer"===a.type){const e=a.files.find(e=>e.name===n);return e||a.existingFiles.find(e=>e.name===n)}return a&&"existingDirectory"===a.type?a.files.find(e=>e.name===n):a&&"uploadDirectory"===a.type?a.files.find(e=>e.name===n):void 0},s=e=>t=>{const{path:n,size:r}=e,{container:o}=t;if(0===n.length)return t;if("uploadContainer"===o.type){const e=n.slice(0,n.length-1),t=n[n.length-1];return{container:Object(a.a)(o,n=>{const a=e.reduce((e,t)=>{const n=e.directories.find(e=>e.name===t);if(n)return n;const a={type:"uploadDirectory",name:t,files:[],directories:[]};return e.directories.push(a),a},n),o={type:"uploadFile",name:t,size:r,state:{type:"uploading",percentComplete:0}};a.files.push(o)})}}return t},l=e=>t=>{const{container:n}=t,{percentComplete:r,path:i}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,i);t&&"uploading"===t.state.type&&(t.state.percentComplete=r)})}}return t},c=e=>t=>{const{container:n}=t,{token:r,path:i}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,i);t&&"uploading"===t.state.type&&(t.state={type:"complete",token:r})})}}return t},u=e=>t=>{const{container:n}=t,{path:r,duplication:i,token:s}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,r);t&&"uploading"===t.state.type&&(t.state={type:"duplicate",token:s,duplication:i})})}}return t},d=e=>t=>{const{container:n}=t,{path:r}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,r);t&&"uploading"===t.state.type&&(t.state={type:"failed"})})}}return t},p=(e,t)=>{let n,a=e;for(let o=t.length-1;o>=0;o--){const i=t[o];if(!(0===Object(r.a)(i,()=>!0)))break;a=0===o?e:t[o-1],n=i}void 0!==n&&("uploadContainer"===a.type&&"existingDirectory"===n.type?a.existingDirectories=a.existingDirectories.filter(e=>e!==n):a.directories=a.directories.filter(e=>e!==n))},m=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"root"!==o.type){const{parts:e}=o,t=e.slice(0,e.length-1),i=e[e.length-1];return{container:Object(a.a)(n,e=>{if("uploadDirectory"===o.type||"uploadFile"===o.type){const n=Object(r.g)(e,t),a=Array.isArray(n)?0===n.length?e:n[n.length-1]:void 0;a&&"uploadDirectory"===o.type?a.directories=a.directories.filter(e=>e.name!==i):a&&"uploadFile"===o.type&&(a.files=a.files.filter(e=>e.name!==i)),n&&p(e,n)}else{const n=Object(r.f)(e,t),a=Array.isArray(n)?0===n.length?e:n[n.length-1]:void 0;a&&"existingDirectory"===a.type?"existingDirectory"===o.type?a.directories=a.directories.filter(e=>e.name!==i):"existingFile"===o.type&&(a.files=a.files.filter(e=>e.name!==i)):a&&"uploadContainer"===a.type&&("existingDirectory"===o.type?a.existingDirectories=a.existingDirectories.filter(e=>e.name!==i):"existingFile"===o.type&&(a.existingFiles=a.existingFiles.filter(e=>e.name!==i))),n&&p(e,n)}})}}return t},h=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"uploadDirectory"===o.type){const{parts:e}=o;return{container:Object(a.a)(n,t=>{const n=Object(r.g)(t,e),a=Array.isArray(n)?0===n.length?t:n[n.length-1]:void 0;a&&"uploadDirectory"===a.type&&Object(r.j)(a,e=>{"uploadDirectory"===e.type&&(e.files=e.files.filter(e=>"failed"!==e.state.type))}),n&&p(t,n)})}}return t},f=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"uploadDirectory"===o.type){const{parts:e}=o;return{container:Object(a.a)(n,t=>{const n=Object(r.g)(t,e),a=Array.isArray(n)?0===n.length?t:n[n.length-1]:void 0;a&&"uploadDirectory"===a.type&&Object(r.j)(a,e=>{"uploadDirectory"===e.type&&(e.files=e.files.filter(e=>"duplicate"!==e.state.type))}),n&&p(t,n)})}}return t},g=()=>({container:{type:"uploadContainer",files:[],directories:[],existingDirectories:[],existingFiles:[]}})},1088:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h}));var a=n(1012);const r=e=>t=>{const{name:n,url:r}=e,{container:o}=t;if(Object(a.m)(o)&&n.length>0){const e={type:"remoteUrlUploadFile",name:n,url:r,state:{type:"pending"}};return{container:Object.assign(Object.assign({},o),{children:[...o.children,e]})}}return t},o=e=>t=>{const{oldName:n,newName:r}=e,{container:o}=t;if(Object(a.m)(o)){const e=d(r,o),{children:t}=o,{index:i,remoteFile:s}=u(t,n);if(s&&Object(a.p)(s.state))return{container:Object.assign(Object.assign({},o),{children:[...t.slice(0,i),Object.assign(Object.assign({},s),{name:e}),...t.slice(i+1)]})}}return t},i=e=>t=>{const{name:n,size:r}=e,{container:o}=t;if(Object(a.m)(o)){const{children:e}=o,{index:t,remoteFile:i}=u(e,n);if(i&&Object(a.o)(i.state))return{container:Object.assign(Object.assign({},o),{children:[...e.slice(0,t),Object.assign(Object.assign({},i),{state:{type:"success",size:r}}),...e.slice(t+1)]})}}return t},s=e=>t=>{const{name:n}=e,{container:r}=t;if(Object(a.m)(r)){const{children:e}=r,{index:t,remoteFile:o}=u(e,n);if(o&&Object(a.o)(o.state))return{container:Object.assign(Object.assign({},r),{children:[...e.slice(0,t),Object.assign(Object.assign({},o),{state:{type:"failed"}}),...e.slice(t+1)]})}}return t},l=e=>t=>{const{container:n}=t;return Object(a.m)(n)?{container:Object.assign(Object.assign({},n),{children:n.children.filter(t=>t.name!==e.name)})}:t},c=()=>({container:{type:"remoteUrlUploadContainer",children:[]}}),u=(e,t)=>{const n=e.findIndex(e=>"remoteUrlUploadFile"===e.type&&e.name===t);return{index:n,remoteFile:e[n]}},d=(e,t)=>{if(!t.children.some(t=>t.name===e))return e;for(let n=1;n<100;n++){const a=p(e,n);if(!t.children.some(e=>e.name===a))return a}return""},p=(e,t)=>{const n=e.split(".");if(n.length>1){return`${n.slice(0,n.length-1).join(".")}_${t}.${n[n.length-1]}`}return`${e}_${t}`},m=e=>{try{return void 0!==new URL(e)}catch(e){return!1}},h=(e,t)=>{try{const n=new URL(e),a=n.pathname.endsWith("/")?n.pathname.substr(0,n.pathname.length-1).split("/"):n.pathname.split("/");return a.length>0&&a[a.length-1].length>0?a[a.length-1]:t}catch(e){return t}}},1089:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));const a=()=>({container:{type:"gcsFileSetContainer",gcsUrl:""}}),r=e=>{const{gcsUrl:t}=e;return{container:{type:"gcsFileSetContainer",gcsUrl:t}}},o=e=>{if(!e)return!1;if(!e.startsWith("gs://"))return!1;return!!e.replace("gs://","")}},1090:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>"complete"===e.type||"duplicate"===e.type},1091:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(1122),r=n(128),o=n(1328),i=n(1),s=n.n(i),l=n(0),c=n(109),u=n(1117),d=n(1058);const p=s.a.div`
  font-family: ${e=>e.theme.material.typography.body2.fontFamily};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  line-height: 22px;
  color: ${e=>e.theme.material.color.text[70]};
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  ul,
  ol,
  p,
  hr,
  pre,
  blockquote,
  img {
    margin: ${e=>e.theme.material.spacing(5)} 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: ${e=>e.theme.material.color.text[100]};
    font-weight: 500;
  }

  h1 {
    font-size: 24px;
  }

  h2 {
    font-size: 22px;
  }

  h3 {
    font-size: 20px;
  }

  h4 {
    font-size: 18px;
  }

  h5 {
    font-size: 16px;
  }

  h6 {
    font-size: 14px;
  }

  hr {
    border: 0;
    border-top: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  }

  strong,
  b {
    font-weight: 800;
  }

  i,
  cite,
  em,
  var,
  address,
  dfn {
    font-style: italic;
  }

  a {
    color: ${e=>e.theme.material.color.brand.blue[800]};
    text-decoration: none;

    &:hover {
      color: ${e=>e.theme.material.color.brand.blue[600]};
    }
  }

  img {
    max-width: 100%;
  }

  ul,
  ol {
    margin: 0 0 0 16px;
  }

  ol {
    list-style-type: decimal;
    padding-left: ${e=>e.theme.material.spacing(4)};
  }

  ul {
    list-style-type: disc;
    padding-left: ${e=>e.theme.material.spacing(4)};
  }

  ul ol,
  ol ol {
    margin: 0;
    list-style-type: lower-latin;
  }

  ol ul,
  ul ul {
    list-style-type: circle;
  }

  li {
    margin: ${e=>e.theme.material.spacing(2)} 0;
  }

  p {
    &:first-child {
      margin-top: 0;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }

  pre,
  code {
    font-family: ${e=>e.theme.material.typography.code.fontFamily};
  }

  blockquote,
  code,
  pre {
    overflow-x: auto;
    background: ${e=>e.theme.material.color.brand.grey[50]};
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
  }

  pre code {
    border: none;
  }

  blockquote,
  pre {
    padding: ${e=>e.theme.material.spacing(4)};
  }

  table {
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    border-collapse: collapse;
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    padding: 0;
    table-layout: fixed;
  }

  th,
  td {
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    padding: ${e=>e.theme.material.spacing(2)};
  }

  th {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }

  td {
    background: ${e=>e.theme.material.color.white};
  }

  iframe {
    max-width: 100%;
  }

  del {
    text-decoration: line-through;
  }
`;function m({html:e,markdown:t}){const n=l.useRef(null),[i,s]=l.useState([]);return l.useLayoutEffect(()=>{if(n.current)return Object(a.a)(e||Object(d.a)(t),n.current)},[e,t]),l.useLayoutEffect(()=>{if(n.current){const e=e=>/https?:\/\/(?:www\.)?kaggle\.com\/[^\/]+(?:\/)?$/.test(e),t=e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.startsWith("@")},a=e=>(e.dataset.id||(e.dataset.id=Object(c.v4)()),e),r=e=>{const t=e.innerText.substring(1);return e.dataset.userName=t,e},o=Array.from(n.current.querySelectorAll("a")).filter(({href:t})=>e(t)).filter(t).map(a).map(r);s(o)}},[e,t]),e?l.createElement(l.Fragment,null,Object(r.l)(l.createElement(p,{ref:n}),e),i.map(e=>l.createElement(o.a,{key:e.dataset.id,targetRef:e},l.createElement(u.a,{userName:e.dataset.userName})))):t?l.createElement(l.Fragment,null,Object(r.l)(l.createElement(p,{ref:n}),Object(d.a)(t)),i.map(e=>l.createElement(o.a,{key:e.dataset.id,targetRef:e},l.createElement(u.a,{userName:e.dataset.userName})))):null}},1092:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(2),r=n(6);const o=5e6;function i(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{blobCreationInfo:t}=yield r.l.discussionsService.createAttachment({blobFileInfo:{name:e.name,contentType:e.type,contentLength:e.size,lastModifiedDate:null}}),{token:n,createUrl:a}=t,o=yield window.fetch(a,{method:"PUT",body:e});return{name:e.name,gcsInfo:yield o.json(),token:n}}))}function s(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{const n=document.createElement("input");n.type="file",n.style.display="none",n.addEventListener("change",a=>{const r=Array.from(a.currentTarget.files||[]);r.some(e=>e.size>o)?t():e(r),n.remove()}),document.body.appendChild(n),n.click()})}))}},1094:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var a=n(2),r=n(88),o=n(0),i={mobileMax:480+r.b,tabletMin:481+r.b,tabletMax:768+r.b,desktopMin:769+r.b,desktopMax:1024+r.b,desktopLargeMin:1025+r.b},s=function(e){function t(t){var n=e.call(this,t)||this;return n.onResize=function(){n.setState({windowWidth:window.innerWidth})},n.state={windowWidth:window.innerWidth},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillMount=function(){window.addEventListener("resize",this.onResize,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},t.prototype.componentDidMount=function(){this.onResize()},t.prototype.render=function(){var e=this.state.windowWidth;return(this.props.maxWidth?e>=this.props.minWidth&&e<=this.props.maxWidth:e>=this.props.minWidth)?this.props.children:null},t}(o.Component)},1095:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a=n(2),r=n(0);function o(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement("span",null,o(this.props.number))},t}(r.Component)},1096:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(6),r=n(1),o=n.n(r),i=n(0);const s=o.a.img`
  height: ${e=>e.theme.material.spacing(7)};
  width: ${e=>e.theme.material.spacing(7)};
`;function l({medal:e}){return e&&e!==a.c.Sdk.Users.Protos.Medal.UNSPECIFIED?i.createElement(s,{src:`/static/images/medals/discussion/${e}l@1x.png`}):null}},1097:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(2),r=n(144),o=n(145),i=n(997),s=n(874),l=n(6),c=n(1),u=n.n(c),d=n(0),p=n(1016);const m=u()(r.a)`
  &&& .mdc-dialog__surface {
    background: ${e=>e.theme.material.color.white};
    width: ${e=>e.theme.material.spacing(100)};
  }
`,h=u.a.div`
  display: flex;
  flex-direction: column;
`,f=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,g=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,b=u.a.div`
  display: flex;
  justify-content: flex-end;
`,v=u.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,y=u.a.textarea`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  box-sizing: border-box;
  padding: ${e=>e.theme.material.spacing(5)};
  height: ${e=>e.theme.material.spacing(25)};
  outline: 0;
  resize: none;
  width: 100%;
  margin-top: ${e=>e.theme.material.spacing(5)};
`,E=[{value:l.c.Sdk.Discussions.Protos.FlagReason.SPAM,reasonText:"Spammy message",promptText:d.createElement("div",null,"Anything else to add? (optional)")},{value:l.c.Sdk.Discussions.Protos.FlagReason.ABUSIVE,reasonText:"Abusive language",promptText:d.createElement("div",null,"Anything else to add? (optional)")},{value:l.c.Sdk.Discussions.Protos.FlagReason.UPVOTE_BEGGING,reasonText:"This post is explicitly asking for upvotes",promptText:d.createElement("div",null,"Anything else to add? (optional)")},{value:l.c.Sdk.Discussions.Protos.FlagReason.VOTE_MANIPULATION,reasonText:"Votes for this post are being manipulated",promptText:d.createElement("div",null,"Please describe the vote manipulation")},{value:l.c.Sdk.Discussions.Protos.FlagReason.OTHER,reasonText:"Other",promptText:d.createElement("div",null,"What are your concerns?")}];function w({messageId:e,isFlagged:t,onFlag:n,renderLink:c,renderReported:u}){const[w,x]=d.useState(!1),[C,k]=d.useState(l.c.Sdk.Discussions.Protos.FlagReason.UNSPECIFIED),[S,_]=d.useState(""),[O,T]=d.useState("initial");d.useEffect(()=>{w&&(k(l.c.Sdk.Discussions.Protos.FlagReason.UNSPECIFIED),_(""),T("initial"))},[w]);let j=E;l.n.discussionsUpvoteSpamWarning||(j=j.filter(e=>"upvoteBegging"!==e.value));const I=d.useCallback(()=>{x(!0)},[]);return t?u?u():d.createElement(p.a,{text:"Reported",color:"grey"}):d.createElement(d.Fragment,null,d.createElement(m,{open:w,onClose:()=>x(!1)},d.createElement(r.c,null,d.createElement(f,null,d.createElement(o.p,null,"Report Message")),"initial"===O&&d.createElement(d.Fragment,null,d.createElement(g,null,d.createElement(o.b,null,d.createElement(h,null,j.map(e=>d.createElement(i.a,{key:e.value,value:e.value,checked:C===e.value,onChange:()=>k(e.value)},e.reasonText))))),d.createElement(b,null,d.createElement(v,null,d.createElement(s.a,{emphasis:"low",onClick:()=>x(!1)},"Cancel")),d.createElement(v,null,d.createElement(s.a,{disabled:"unspecified"===C,onClick:()=>T("explanation")},"Next")))),"explanation"===O&&function(){var t;return d.createElement(d.Fragment,null,d.createElement(g,null,d.createElement(o.b,null,null===(t=E.find(e=>e.value===C))||void 0===t?void 0:t.promptText),d.createElement(y,{onChange:e=>_(e.target.value)})),d.createElement(b,null,d.createElement(v,null,d.createElement(s.a,{emphasis:"low",onClick:()=>x(!1)},"Cancel")),d.createElement(v,null,d.createElement(s.a,{onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){yield l.l.discussionsService.toggleFlagMessage({messageId:e,scriptVersionId:null,datasetVersionId:null,reasonType:C,explanation:S}),n(),x(!1)}))},"Report"))))}())),c?c(I):d.createElement(p.a,{onClick:I,text:"Report"}))}},1098:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),r=n(1016);function o({numVotes:e,onClick:t}){return a.createElement(r.a,{onClick:t,text:1===e?"1 Upvoter":`${e} Upvoters`})}},1099:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(2),r=n(144),o=n(874),i=n(145),s=n(6),l=n(1),c=n.n(l),u=n(0),d=n(1016);const p=c()(r.a)`
  &&& .mdc-dialog__surface {
    width: auto;
  }
`,m=c.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,h=c.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,f=c.a.div`
  display: flex;
  justify-content: flex-end;
`,g=c.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,b=c()(o.a)`
  && {
    background: #b34834;
  }
`;function v({topicId:e,messageId:t,onDelete:n}){const[l,c]=u.useState(!1),v=e?"Topic":"Comment",y=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){e?yield s.l.discussionsService.deleteTopic({topicId:e}):t&&(yield s.l.discussionsService.deleteMessage({messageId:t})),n(),c(!1)}));return u.createElement(u.Fragment,null,u.createElement(p,{open:l,onClose:()=>c(!1)},u.createElement(r.c,null,u.createElement(m,null,u.createElement(i.p,null,"Delete ",v,"?")),u.createElement(h,null,u.createElement(i.b,null,"You're about to delete this ",v.toLowerCase(),".")),u.createElement(f,null,u.createElement(g,null,u.createElement(o.a,{emphasis:"low",onClick:()=>c(!1)},"Cancel")),u.createElement(g,null,u.createElement(b,{onClick:()=>y()},"Delete"))))),u.createElement(d.a,{onClick:()=>c(!0),text:"Delete"}))}},1100:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(6),o=n(0),i=n(1016);function s({isSpammed:e,onToggle:t,messageId:n}){const[s,l]=o.useState(!1);return o.createElement(i.a,{text:e?"Unspam":"Spam",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){s||(l(!0),n&&(yield r.l.discussionsService.toggleSpamMessage({messageId:n})),l(!1),t(!e))}))})}},1101:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(144),r=n(145),o=n(997),i=n(1352),s=n(874),l=n(6),c=n(1),u=n.n(c),d=n(0),p=n(1016);const m=u()(a.a)`
  &&& .mdc-dialog__surface {
    width: auto;
  }
`,h=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,f=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,g=u.a.div`
  display: flex;
  justify-content: flex-end;
`,b=u.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,v=u.a.div`
  display: flex;
  flex-direction: column;
`;function y({messageId:e,initialModel:t}){const[n,c]=d.useState(t||{buganizerId:null,followUpStatus:"none"}),[u,y]=d.useState(!1),[E,w]=d.useState(n.buganizerId),[x,C]=d.useState(n.followUpStatus);return d.useEffect(()=>{var e,t;w(null!==(e=null==n?void 0:n.buganizerId)&&void 0!==e?e:null),C(null!==(t=null==n?void 0:n.followUpStatus)&&void 0!==t?t:"none")},[n]),d.createElement(d.Fragment,null,d.createElement(m,{open:u,onClose:()=>y(!1)},d.createElement(a.c,null,d.createElement(h,null,d.createElement(r.p,null,"Forum Feedback Tracking")),d.createElement(f,null,d.createElement(r.b,null,d.createElement("div",null,"Follow up status:"),d.createElement(v,null,d.createElement(o.a,{value:"none",checked:"none"===x,onChange:()=>C("none")},"None"),d.createElement(o.a,{value:"inProgress",checked:"inProgress"===x,onChange:()=>C("inProgress")},"In Progress"),d.createElement(o.a,{value:"done",checked:"done"===x,onChange:()=>C("done")},"Done")),d.createElement("div",null,"Bug Number:"," ",d.createElement(i.a,{value:E&&E.toString()||"",onChange:e=>{const t=(e.target.value||"").trim();w(t?Number(t):null)}})))),d.createElement(g,null,d.createElement(b,null,d.createElement(s.a,{onClick:()=>{l.l.updateFeedbackTrackingData({messageId:e,feedbackTrackingData:{buganizerId:E,followUpStatus:x}}).then(()=>{c({buganizerId:E,followUpStatus:x}),y(!1)})}},"Save"))))),d.createElement(p.a,{onClick:()=>y(!0),text:n.buganizerId?`Bug ${n.buganizerId}`:"No Bug"}))}},1102:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),o=n(0),i=n(1330);const s=r.a.div`
  display: flex;
  flex-wrap: wrap;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(4)} ${t(4)} ${t(1)}`}};
`,l=r.a.div`
  margin-right: ${e=>e.theme.material.spacing(4)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`;function c({currentUser:e,users:t,currentUserVote:n}){return t=t.slice(),e&&(t=t.filter(t=>t.id!==e.id),1===n&&t.unshift(e)),o.createElement(s,null,t.map(e=>{const{thumbnailUrl:t,profileUrl:n,tier:a,displayName:r,id:s}=Object(i.b)(e);return o.createElement(l,{key:e.id},o.createElement(i.a,{thumbnailUrl:t,profileUrl:n,tier:a,displayName:r,id:s,size:"xlarge"}))}))}},1117:function(e,t,n){"use strict";var a=n(145),r=n(1003),o=n(874),i=n(6),s=n(1),l=n.n(s),c=n(0),u=n(1329);function d(e){for(const t of p)if(e===t.value)return t.label;return null}const p=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua & Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"British Virgin Islands",value:"VG"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Caribbean Netherlands",value:"BQ"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo - Brazzaville",value:"CG"},{label:"Congo - Kinshasa",value:"CD"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Curaçao",value:"CW"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Côte d’Ivoire",value:"CI"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern Territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guernsey",value:"GG"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard & McDonald Islands",value:"HM"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Isle of Man",value:"IM"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jersey",value:"JE"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macau",value:"MO"},{label:"Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn Islands",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Romania",value:"RO"},{label:"Russia",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Réunion",value:"RE"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia & South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"St. Barthélemy",value:"BL"},{label:"St. Helena",value:"SH"},{label:"St. Kitts & Nevis",value:"KN"},{label:"St. Lucia",value:"LC"},{label:"St. Martin",value:"MF"},{label:"St. Pierre & Miquelon",value:"PM"},{label:"St. Vincent & Grenadines",value:"VC"},{label:"Sudan",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard & Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"São Tomé & Príncipe",value:"ST"},{label:"Taiwan",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad & Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks & Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"U.S. Outlying Islands",value:"UM"},{label:"U.S. Virgin Islands",value:"VI"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United States",value:"US"},{label:"United Kingdom",value:"GB"},{label:"United Arab Emirates",value:"AE"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Vatican City",value:"VA"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Wallis & Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}];n.d(t,"a",(function(){return y}));const m=l.a.a`
  text-decoration: none;
`,h=l.a.div`
  display: flex;
  position: relative;
  justify-content: space-between;
  align-items: start;
  padding-bottom: ${e=>e.theme.material.spacing(8)};
  padding-right: ${e=>e.theme.material.spacing(14)};
  word-break: break-word;
`,f=l.a.div`
  padding-bottom: ${e=>e.theme.material.spacing(6)};
`,g=l.a.div`
  position: absolute;
  right: 0;
  top: 0;
`,b=l.a.div`
  width: 320px;
  padding: 24px;
  box-sizing: border-box;
  z-index: 1001;
`,v=l.a.div`
  display: grid;
  grid-auto-flow: row;
  grid-row-gap: 4px;
`,y=({userId:e,userName:t})=>{if(!i.n.avatarProfilePreview)return null;const[n,s]=c.useState(!1),[l,p]=c.useState(null);if(c.useEffect(()=>{l&&s(l.isFollowing)},[l]),c.useEffect(()=>{let t=!0;return e&&i.A.profileService.getProfilePreview({userId:e}).then(e=>{t&&p(e)}).catch(()=>{}),()=>{t=!1}},[e]),c.useEffect(()=>{let n=!0;return t&&!e&&i.A.profileService.getProfilePreview({userName:t}).then(e=>{n&&p(e)}).catch(()=>{}),()=>{n=!1}},[t]),!l)return null;const y=(()=>{var e;const t=null!==(e=Object(u.a)(l.performanceTier))&&void 0!==e?e:"";return t.substring(0,1).toUpperCase()+t.substring(1)})(),E=[l.city,l.region,d(l.country)].filter(Boolean).join(", ");return c.createElement(b,null,c.createElement(h,null,c.createElement(v,null,c.createElement(m,{href:l.profileUrl},c.createElement(a.b,{emphasis:"low"},l.userName)),c.createElement(m,{href:l.profileUrl},c.createElement(a.o,{emphasis:"high"},l.displayName))),c.createElement(g,null,c.createElement(r.a,{displayName:l.displayName,tier:l.performanceTier,profileUrl:l.profileUrl,thumbnailUrl:l.thumbnailUrl}))),c.createElement(f,null,c.createElement(v,null,c.createElement(a.b,{emphasis:"low"},"Kaggle ",y),E&&c.createElement(a.b,{emphasis:"low"},E),l.occupation&&c.createElement(a.b,{emphasis:"low"},l.occupation))),c.createElement(o.a,{emphasis:"medium",onClick:e=>{e.stopPropagation(),n?i.A.usersService.unfollowUser({userName:l.userName}).then(()=>{s(!1)}).catch(()=>{}):i.A.usersService.followUser({userName:l.userName}).then(()=>{s(!0)}).catch(()=>{})}},n?"Unfollow":"Follow"))}},1118:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(995),r=n(886),o=n(249),i=n(885),s=n(874),l=n(1),c=n.n(l),u=n(0),d=n(1232);const p=[16637,13100,13200,16585,14100,3e3],m=c.a.div`
  align-items: center;
  display: flex;
  flex-direction: row;
`,h=c()(a.a)`
  margin-top: ${e=>e.theme.material.spacing(-2)};
  padding: 0 !important;
  & > a {
    margin-top: ${e=>e.theme.material.spacing(2)};
    text-decoration: none;
  }
`,f=e=>{const{tags:t,onEdit:n}=e;return u.createElement(m,null,u.createElement(h,null,t.map(e=>u.createElement("a",{key:e.id,href:e.tagUrl,target:"_blank"},u.createElement(r.a,null,e.displayName)))),u.createElement(o.a,{icon:"edit",size:"medium",onClick:n,title:"Edit Tags",style:{width:"34px",height:"34px"}}))},g=e=>{const{tags:t,topicId:n,onSaveTags:a,canRemoveLastTag:r=!0}=e,[o,l]=u.useState(!1),c=u.useCallback(()=>{l(!0)},[]),m=u.useCallback(e=>{l(!1),a(e)},[a]),h=u.useCallback(()=>{l(!1)},[]);return u.createElement(i.a,null,t.length>0?u.createElement(f,{onEdit:c,tags:t}):u.createElement(s.a,{emphasis:"medium",onClick:c},"Add Tags"),u.createElement(d.a,{isOpen:o,selectedTags:t,tagType:"discussions",taggedItem:{topicId:n},maxTags:5,minTags:r?0:1,placeholder:"Apply up to 5 tags to help Kaggle \nusers find your topic.",heading:"new"===n?"Add Tags":"Edit Tags",onApply:m,onClose:h,categoryOrder:p}))}},1119:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(145),r=n(1328),o=n(1),i=n.n(o),s=n(0),l=n(1330),c=n(1117),u=n(1420),d=n(1027),p=n(1021);const m=i.a.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  justify-content: space-between;
  width: ${e=>e.theme.material.spacing(50)};
`,h=i.a.div`
  display: flex;
  flex-direction: column;
  padding: 24px 16px 0 24px;
`,f=i()(a.r)`
  margin-top: ${e=>e.theme.material.spacing(3)};
  word-break: break-word;
  && {
    font-weight: 500;
  }
`,g=i()(a.b)`
  margin-top: 4px;
  && {
    color: ${e=>e.theme.material.color.text[40]};
  }
`;function b({model:e,useBlankAvatar:t,competitionRank:n,authorType:a}){if(!e)return null;const{thumbnailUrl:o,profileUrl:i,tier:b,displayName:v,id:y}=Object(l.b)(t?null:e);return s.createElement(m,null,s.createElement(h,null,s.createElement(l.a,{thumbnailUrl:o,profileUrl:i,tier:b,displayName:v,id:y,size:"xxlarge"}),s.createElement(f,null,s.createElement(r.b,null,({targetRef:t,setTargetRef:n})=>s.createElement(s.Fragment,null,s.createElement(d.a,{ref:n,href:e.userUrl||"",authorType:a},Object(p.g)(e.displayName)),s.createElement(r.a,{targetRef:t},s.createElement(c.a,{userId:e.id}))))),n&&s.createElement(g,null,s.createElement(u.a,{num:n})," place")))}},1120:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6);class r{constructor(e){this.report=(e,t)=>{t||(t={}),t.location=this.locationType,Object(a.u)("kernels",e,t)},this.locationType=e}}},1121:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s}));const a=()=>{var e,t,n,a,r,o,i,s,l,c;const u=(()=>{const e=window;return e&&e.Kaggle&&e.Kaggle.Current?e.Kaggle.Current:{}})();return{id:null!==(e=u.userId)&&void 0!==e?e:null,isAdmin:null!==(t=u.isAdmin)&&void 0!==t&&t,isAnonymous:null===(n=u.isAnonymous)||void 0===n||n,userName:null!==(a=u.userName)&&void 0!==a?a:null,displayName:null!==(r=u.userDisplayNameEscaped)&&void 0!==r?r:null,email:null!==(o=u.userEmail)&&void 0!==o?o:null,isPhoneVerified:null!==(i=u.userIsPhoneVerified)&&void 0!==i&&i,profileUrl:null!==(s=u.userProfileUrl)&&void 0!==s?s:null,tier:(null!==(l=u.tier)&&void 0!==l?l:"recalc").toLowerCase(),thumbnailUrl:null!==(c=u.userThumbnailUrl)&&void 0!==c?c:null}},r=()=>a().id,o=()=>a().isAdmin,i=()=>a().isAnonymous,s=()=>a().userName},1122:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1052);let r=!1;const o=(e,t)=>{if(!(e&&(e.indexOf("$$")>-1||e.indexOf("\\[")>-1||e.indexOf("\\(")>-1)))return()=>{};(()=>{if(!r){const e=document.getElementsByTagName("head")[0],t=["www.kaggle.com","admin.kaggle.com"].includes(window.location.hostname)?"www":"staging",n=document.createElement("script");n.type="text/x-mathjax-config",n.text='\nMathJax.Hub.Config({\n"HTML-CSS": {\npreferredFont: "TeX",\navailableFonts: ["STIX", "TeX"],\nlinebreaks: {\nautomatic: true\n},\nEqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)\n},\ntex2jax: {\ninlineMath: [["\\(", "\\)"], ["\\\\(", "\\\\)"]],\ndisplayMath: [["$$", "$$"], ["\\[", "\\]"]],\nprocessEscapes: true,\nignoreClass: "tex2jax_ignore|dno"\n},\nTeX: {\nnoUndefined: {\nattributes: {\nmathcolor: "red",\nmathbackground: "#FFEEEE",\nmathsize: "90%"\n}\n}\n},\nMacros: {\nhref: "{}"\n},\nskipStartupTypeset: false,\nmessageStyle: "none",\nextensions: [],\n});\n',e.appendChild(n);const a=document.createElement("script");a.type="text/javascript",a.src=`https://${t}.kaggleusercontent.com/static/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML`,e.appendChild(a),r=!0}})();const[n,o]=Object(a.a)(()=>"undefined"!=typeof MathJax&&!!MathJax&&!!MathJax.Hub,200);return n.then(()=>{MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}),o}},1123:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(145),r=n(108),o=n(1),i=n.n(o),s=n(0),l=n(1023);const c=i.a.div`
  display: inline-flex;
  cursor: pointer;
  flex-direction: column;
  min-width: ${e=>e.theme.material.spacing(40)};
  position: relative;
`,u=i.a.div`
  background: ${e=>e.theme.material.color.white};
  box-sizing: border-box;
  justify-content: space-between;
  display: flex;
  align-items: center;
  padding: 0 ${e=>e.theme.material.spacing(2)};
  height: ${e=>e.theme.material.spacing(7)};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return e.isOpen?`${t} ${t} 0 0`:t}};
`,d=i.a.div`
  background: ${e=>e.theme.material.color.white};
  box-sizing: border-box;
  display: ${e=>e.isOpen?"flex":"none"};
  flex-direction: column;
  position: absolute;
  top: ${e=>e.theme.material.spacing(7)};
  width: 100%;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-top: 0;
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return`0 0 ${t} ${t}`}};
  z-index: 1;
`,p=i.a.div`
  padding: 4px 8px;
`,m=i()(a.b)`
  && {
    color: ${e=>e.theme.material.color.text[70]};
  }
`;function h({options:e,selectedOption:t,onChange:n,className:a,isDisabled:i}){const[h,f]=s.useState(!1),g=s.useRef(document.createElement("div"));h&&i&&f(!1),s.useEffect(()=>{const e=e=>{if(!i){let t=e.target;const n=g.current;for(;t;){if(t===n)return;t=t.parentElement}f(!1)}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[i]);const b=s.useCallback(()=>{i||f(!h)},[i,h]);return s.createElement(c,{className:a,ref:g},s.createElement(u,{isOpen:h,onClick:b},s.createElement(m,null,t),i?null:s.createElement(r.a,{color:o.defaultTheme.material.color.text[50],size:"small",icon:h?"arrow_drop_up":"arrow_drop_down"})),s.createElement(d,{isOpen:h},[...e].map(e=>s.createElement(l.a,{key:e},s.createElement(p,{onClick:()=>{n(e),f(!1)}},s.createElement(m,null,e))))))}},1126:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(874),o=n(55),i=n(0),s=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;if(!this.props.text&&!this.props.children)throw new Error("Button requires children to be defined");return this.props.useKM?i.createElement(r.a,{disabled:this.props.isDisabled,emphasis:this.props.emphasis,href:this.props.href,onClick:this.props.onClick,style:this.props.style,disableRapidash:this.props.disableRapidash||!1},this.props.children||this.props.text):i.createElement("a",{id:this.props.id,href:this.props.href,style:this.props.style,className:o("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled||!this.props.onClick?null:function(t){e.props.onClick(t)},target:this.props.target,type:this.props.type,"data-disable-rapidash":!!this.props.disableRapidash&&this.props.disableRapidash},i.createElement("div",{className:o("button",this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null,this.props.className?this.props.className:null)},i.createElement("span",null,this.props.children||this.props.text)))},t}(i.Component)},1128:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const a=e=>{let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t},r=(...e)=>{if(1!==e.length)return a(e.map(e=>r(e)).join(","));let t=e[0];return Array.isArray(t)?r(...t):"object"==typeof t?r(Object.keys(t).join("|"),...Object.values(t)):(t&&"function"==typeof t.toString&&(t=t.toString()),a(`${t}`))}},1129:function(e,t,n){"use strict";function a(e,t){const n=new Set(e);for(const e of t)n.has(e)?n.delete(e):n.add(e);return n}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const r=(e,t)=>{const n=new Set(e);return n.delete(t),n}},1130:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(6);const r=(e,t,n)=>{if(t instanceof a.a){const a=t;return n.logger.report("datasets","data-explorer-v3-request-error",{context:e,error:t,isCanonicalError:!0}),a.message}return n.logger.report("datasets","data-explorer-v3-request-error",{context:e,error:t,isCanonicalError:!1}),t instanceof Error?t.message:"string"==typeof t?t:"Unknown error"}},1131:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1451);const r=(e,t)=>{if(!Object(a.a)(e))return;const n=t[e.path];return void 0===n?{state:"noCache",cache:{},baseInfo:[]}:n}},1132:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(2),r=n(1474),o=n(1473),i=n(145),s=n(144),l=n(988),c=n(874),u=n(6),d=n(1),p=n.n(d),m=n(0),h=n(1024),f=n(1244);const g=p.a.div``,b=p.a.div`
  display: flex;
  justify-content: center;
  margin: 8px 0;
`,v=p.a.div`
  display: flex;
  align-items: center;
  margin: 8px 0;
`,y=p.a.img`
  height: 60px;
  margin-right: 16px;
`,E=p.a.div`
  width: 100%;
  margin: 24px 0;
  border-bottom: 2px solid ${e=>e.theme.colors.border};
`,w=p()(r.a)`
  border: 1px solid ${e=>e.theme.colors.border};
  border-right: none;
  border-left: none;
  width: 90%;
  margin-bottom: 20px;
  padding-left: 16px;
`,x=p.a.div`
  margin: 16px 0;
  padding-left: 8px;
  padding-right: 8px;
`,C=p()(o.a)`
  margin-top: 16px;
  width: 100%;
`,k=p()(o.a)`
  margin-top: 16px;
  width: calc(50% - 8px);
`,S=p.a.span`
  display: inline-block;
  width: 16px;
`,_=e=>{const t=t=>Object(u.u)("competitions",t,{client:e.client});m.useEffect(()=>(t("submit-modal-open"),()=>t("submit-modal-close")),[]);const[n,r]=m.useState(void 0),[o,d]=m.useState("LOADING"),[p,_]=m.useState(""),O=!!n&&!n.onlyAllowKernelSubmissions,[T]=m.useState(O),[j,I]=m.useState([]),[D,N]=m.useState(0),[M,F]=m.useState([]),[P,L]=m.useState(0),[A,R]=m.useState([]),[U,z]=m.useState(void 0),[$,B]=m.useState(void 0),[V,H]=m.useState("Searching..."),[W,q]=m.useState("Searching..."),[K,G]=m.useState("Checking..."),[Y,Z]=m.useState(void 0),Q=e=>{_(e),"LOADING"!==o&&"READY"!==o||d("LOAD_ERROR")},X=()=>{"LOADING"===o&&d("READY")};m.useEffect(()=>{r(void 0),_(""),"LOAD_ERROR"!==o&&"READY"!==o||d("LOADING"),e.competitionId?u.i.competitionService.getCompetition({competitionId:e.competitionId,competitionName:""}).then(e=>{r(e)},e=>{Q(`Failed to load competition: ${e.message}`)}):Q("No competition provided.")},[e.competitionId]),m.useEffect(()=>{I([]),N(0),n&&u.q.listKernels(((e,t)=>({kernelFilterCriteria:{competitionId:e,userId:t,sortBy:"dateRun",pageSize:20,group:"profile",outputType:"",startRow:0,page:0,datasetId:null,datasourceType:null,forkParentScriptId:null,kernelType:null,language:null,tagIds:null,excludeResultsFilesOutputs:!1,wantOutputFiles:!0,search:null,after:null,hasGpuRun:null,privacy:"all"},detailFilterCriteria:null}))(n.id,e.userId)).then(t=>{const n=t.kernels;I(n),e.kernelId?n.some(t=>t.id===e.kernelId)?N(e.kernelId):Q(`Could not find provided notebook ${e.kernelId}`):n.length>0?N(n[0].id):"LOADING"===o&&d("NO_KERNELS")},e=>{Q(`Could not list notebooks: ${e.message}`)})},[n]),m.useEffect(()=>{F([]),L(0),H("Searching..."),D&&u.q.listKernelVersions({kernelId:D}).then(t=>{const n=t.items.filter(e=>!!e.run);F(n),e.kernelId===D&&e.kernelRunId?n.some(t=>t.run.id===e.kernelRunId)?L(e.kernelRunId):Q(`Could not find provided notebook version ${e.kernelRunId}`):n.length>0?L(n[0].run.id):(H("No Notebook Versions found"),X())},e=>{Q(`Could not list notebook versions: ${e.message}`)})},[D]),m.useEffect(()=>{if(R([]),z(void 0),q("Searching..."),!P)return;const t=e=>!!e.match(/submission/i);u.q.listKernelRunOutput({kernelRunId:P,pageSize:null,pageToken:null}).then(n=>{const a=n.items.filter(t=>!!t.fullPath&&(e.kernelRunId===P&&e.fileName===t.fullPath||(e=>-1===[".png",".jpg",".gif",".svg",".ipynb"].indexOf(e))(t.fileType||""))).sort((e,n)=>t(e.fullPath)?-1:t(n.fullPath)?1:0);R(a),e.kernelRunId===P&&e.fileName?a.some(t=>t.fullPath===e.fileName)?z(e.fileName):Q(`Could not find provided output file ${e.fileName}`):a.length>0?z(a[0].fullPath):(q("No Output Files found"),X())},e=>{Q(`Could not list output files: ${e.message}`)})},[P]),m.useEffect(()=>{B(void 0),U?(G("Checking..."),u.i.submissionService.canSubmit({createRequest:{competitionId:e.competitionId,kernelSource:{kernelRunId:P,fileName:U}}}).then(e=>{B(e),G("Submit"),e.maxDailySubmissions>0&&Z(e.maxDailySubmissions-e.numSubmissionsToday),X()},e=>{G("Submit"),Q("Could not check whether submission is allowed.")})):G("Submit")},[U]);const J=!(!n||!U||!(null==$?void 0:$.canSubmit)||"READY"!==o||p),ee=()=>m.createElement("div",null,m.createElement(C,{label:"Select Notebook",placeholder:"No Notebooks found",value:D?String(D):void 0,disabled:0===j.length,required:!0,onChange:e=>N(Number(e.target.value))},j.map(e=>m.createElement("option",{value:String(e.id),key:String(e.id),"aria-selected":D===e.id},e.title)))),te=()=>m.createElement(k,{label:"Notebook Version",placeholder:V,value:P?String(P):void 0,disabled:0===M.length,required:!0,onChange:e=>L(Number(e.target.value))},M.map(e=>{var t,n,a;return m.createElement("option",{value:String(null===(t=e.run)||void 0===t?void 0:t.id),key:String(null===(n=e.run)||void 0===n?void 0:n.id),"aria-selected":P===(null===(a=e.run)||void 0===a?void 0:a.id)},e.version.versionName||`Version ${e.version.versionNumber}`)})),ne=()=>m.createElement(k,{label:"Output File",placeholder:W,value:U,disabled:0===A.length,required:!0,onChange:e=>z(e.target.value),autoFocus:!0},A.map(e=>e.fullPath).map(e=>m.createElement("option",{value:e,key:e,"aria-selected":!1},e))),ae=()=>{if(!n)return null;const e=`/c/${n.competitionName}/overview`;return m.createElement(m.Fragment,null,m.createElement(v,null,m.createElement("a",{role:"button",href:e,target:"_blank"},m.createElement(y,{src:n.thumbnailImageUrl,alt:"Competition Overview"})),m.createElement(i.a,{emphasis:"high",useKM:!0},m.createElement(i.v,{href:e,target:"_blank"},n.title))),void 0!==Y&&m.createElement(g,null,m.createElement(i.b,{useKM:!0},"You have ",Y," submissions remaining today. Submissions reset daily.")))};return m.createElement(m.Fragment,null,m.createElement(s.d,null,"Submit to competition"),"LOADING"===o&&(()=>m.createElement(s.c,null,m.createElement(b,null,m.createElement(l.a,{size:"xlarge"})),m.createElement(b,null,"Preparing...")))(),"NO_KERNELS"===o&&(()=>m.createElement(s.c,null,ae(),m.createElement(w,{useKM:!1,variant:"error",graphic:"error_outline"},"You do not have any Notebooks linked to this Competition. Click below to create one!")))(),"READY"===o&&(()=>n?m.createElement(s.c,null,ae(),m.createElement(E,null),m.createElement(i.p,{useKM:!0},"Submission File:"),T?(()=>m.createElement("div",null,"File uploader not supported yet."))():(()=>m.createElement("div",null,ee(),m.createElement("div",null,te(),m.createElement(S,null),ne())))(),n.usesSynchronousReruns&&!n.postProcessorKernelId&&m.createElement(x,null,m.createElement("p",null,"In this competition, we will privately re-run your selected Notebook Version with a hidden test set substituted into the competition dataset. We then extract your chosen Output File from the re-run and use that to determine your score.")),!1===(null==$?void 0:$.canSubmit)&&m.createElement(w,{useKM:!1,variant:"error",graphic:"error_outline"},m.createElement(m.Fragment,null,m.createElement(i.r,{useKM:!0,emphasis:"high"},"Cannot submit"),m.createElement("br",null),$.notAllowedReasons.map(e=>m.createElement("div",{key:e.code},e.message))))):null)(),"SUBMITTING"===o&&(()=>m.createElement(s.c,null,m.createElement(b,null,m.createElement(l.a,{size:"xlarge"})),m.createElement(b,null,"Submitting...")))(),"SUCCEEDED"===o&&(()=>m.createElement(s.c,null,"Your entry has been submitted! It could take a while before your submission is scored. Check the status on your My Submissions page."))(),p&&m.createElement(w,{useKM:!1,variant:"error",graphic:"error_outline"},p),m.createElement(s.b,null,m.createElement(c.a,{style:{marginLeft:"16px"},onClick:()=>e.onHide(),emphasis:"low"},"READY"===o?"Cancel":"Close"),"READY"===o&&m.createElement(c.a,{style:{marginLeft:"16px"},onClick:()=>(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){if(!J)return;d("SUBMITTING"),t("submit-modal-clicked-submit");const e=e=>{d("FAILED"),_(e)};try{if(u.n.newSubmitRpcKernel)u.i.submissionService.createSubmission({competitionId:n.id,kernelSource:{kernelRunId:P,fileName:U}}).then(e=>d("SUCCEEDED")).catch(()=>e("Submit failed."));else{const t=yield Object(f.a)(P,U);t?t.ok?d("SUCCEEDED"):e(`Submit failed with status code ${t.status}.`):e("Could not reach the submission service. Please try again later.")}}catch(t){e(t.message)}})))(),disabled:!J},K),"SUCCEEDED"===o&&m.createElement(c.a,{style:{marginLeft:"16px"},href:`/c/${n.competitionName}/submissions`,target:"_blank"},"View My Submissions"),"NO_KERNELS"===o&&m.createElement(c.a,{style:{marginLeft:"16px"},href:Object(h.c)(n.id),target:"_blank"},"New Notebook")))},O=e=>m.createElement(s.a,{open:e.shouldShow,onClose:()=>e.onHide()},e.shouldShow&&m.createElement(_,Object.assign({},e)))},1133:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},r=function(t){e&&e.env,0},o=function(e,t,n){for(var o in e=a({},e),t){var i=t[o],s=void 0,l=function(e){return e};if(Array.isArray(i)?(s=i[0],l=i[1]):s=i,void 0!==e[o]){if(""===s)r((n||"")+" component prop '"+o+"' has been removed from and is no longer a valid prop.");else{e[s]=l(e[o]);var c="";e[s]!==e[o]&&(c=" The old value has also been converted from '"+e[o]+"' to '"+e[s]+"'"),r((n||"")+" component prop '"+o+"' has been replaced with '"+s+"'. "+c)}delete e[o]}}return e}}).call(this,n(253))},1134:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(249),o=n(6),i=n(0);const s=e=>{const{isStarred:t,topicId:n,onStarredChange:s}=e;return i.createElement(r.a,{icon:t?"star":"star_border",size:"medium",onClick:e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){e.preventDefault(),s&&s(),t?yield o.l.issuesService.adminUnstarForumTopic({forumTopicId:n}):yield o.l.issuesService.adminStarForumTopic({forumTopicId:n})}))})}},1136:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{for(const[n,a]of e.entries())if(a===t)return n}},1137:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(2),r=n(145),o=n(360),i=n(988),s=n(6),l=n(1),c=n.n(l),u=n(0);const d=c.a.div`
  align-items: center;
  display: flex;
  flex-direction: column;
  padding: 35px;
`;class p extends u.Component{constructor(e){super(e),this.onAcceptCompetitionRules=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){Object(s.u)("kernels","competition-rules-modal-accepted"),this.setState({isProcessingRulesAcceptance:!0}),yield this.props.onAcceptCompetitionRules(),this.setState({isProcessingRulesAcceptance:!1}),this.props.onClose()})),this.onDeclineCompetitionRules=()=>{Object(s.u)("kernels","competition-rules-modal-declined"),this.props.onClose()},this.renderSingleCompetitionText=()=>u.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the'," ",u.createElement(r.v,{href:this.props.competitions[0].rulesUrl,target:"_blank",rel:"noreferrer noopener"},"competition rules"),"."),this.renderMultipleCompetitionsText=()=>u.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the rules of the following competitions.',u.createElement("div",{style:{marginTop:"15px"}},this.props.competitions.map(this.renderCompetition))),this.renderCompetition=e=>u.createElement(r.b,null,u.createElement(r.v,{href:e.rulesUrl,target:"_blank"},e.title)),this.state={isProcessingRulesAcceptance:!1}}render(){return u.createElement(o.a,{title:"Competition Rules",acceptLabel:"I Understand and Accept",cancelLabel:"I Do Not Accept",open:this.props.show,onAccept:this.onAcceptCompetitionRules,onCancel:this.onDeclineCompetitionRules},u.createElement(d,null,u.createElement("div",null,1!==this.props.competitions.length||this.props.showLinkToRules?this.renderMultipleCompetitionsText():this.renderSingleCompetitionText()),this.state.isProcessingRulesAcceptance&&u.createElement(i.a,null)))}}},1138:function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),a=/MSIE \d/.test(e),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),i=a||r||o,s=i&&(a?document.documentMode||6:+(o||r)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),p=/Apple Computer/.test(navigator.vendor),m=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),f=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),b=f||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),v=f||/Mac/.test(t),y=/\bCrOS\b/.test(e),E=/win/i.test(t),w=d&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(d=!1,l=!0);var x=v&&(c||d&&(null==w||w<12.11)),C=n||i&&s>=9;function k(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var S,_=function(e,t){var n=e.className,a=k(t).exec(n);if(a){var r=n.slice(a.index+a[0].length);e.className=n.slice(0,a.index)+(r?a[1]+r:"")}};function O(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return O(e).appendChild(t)}function j(e,t,n,a){var r=document.createElement(e);if(n&&(r.className=n),a&&(r.style.cssText=a),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function I(e,t,n,a){var r=j(e,t,n,a);return r.setAttribute("role","presentation"),r}function D(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function N(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function M(e,t){var n=e.className;k(t).test(n)||(e.className+=(n?" ":"")+t)}function F(e,t){for(var n=e.split(" "),a=0;a<n.length;a++)n[a]&&!k(n[a]).test(t)&&(t+=" "+n[a]);return t}S=document.createRange?function(e,t,n,a){var r=document.createRange();return r.setEnd(a||e,n),r.setStart(e,t),r}:function(e,t,n){var a=document.body.createTextRange();try{a.moveToElementText(e.parentNode)}catch(e){return a}return a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a};var P=function(e){e.select()};function L(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function A(e,t,n){for(var a in t||(t={}),e)!e.hasOwnProperty(a)||!1===n&&t.hasOwnProperty(a)||(t[a]=e[a]);return t}function R(e,t,n,a,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=a||0,i=r||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return i+(t-o);i+=s-o,i+=n-i%n,o=s+1}}f?P=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:i&&(P=function(e){try{e.select()}catch(e){}});var U=function(){this.id=null};function z(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}U.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var $=30,B={toString:function(){return"CodeMirror.Pass"}},V={scroll:!1},H={origin:"*mouse"},W={origin:"+move"};function q(e,t,n){for(var a=0,r=0;;){var o=e.indexOf("\t",a);-1==o&&(o=e.length);var i=o-a;if(o==e.length||r+i>=t)return a+Math.min(i,t-r);if(r+=o-a,a=o+1,(r+=n-r%n)>=t)return a}}var K=[""];function G(e){for(;K.length<=e;)K.push(Y(K)+" ");return K[e]}function Y(e){return e[e.length-1]}function Z(e,t){for(var n=[],a=0;a<e.length;a++)n[a]=t(e[a],a);return n}function Q(){}function X(e,t){var n;return Object.create?n=Object.create(e):(Q.prototype=e,n=new Q),t&&A(t,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||J.test(e))}function te(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ee(e))||t.test(e):ee(e)}function ne(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ae=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ae.test(e)}function oe(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function ie(e,t,n){for(var a=t>n?-1:1;;){if(t==n)return t;var r=(t+n)/2,o=a<0?Math.ceil(r):Math.floor(r);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+a}}var se=null;function le(e,t,n){var a;se=null;for(var r=0;r<e.length;++r){var o=e[r];if(o.from<t&&o.to>t)return r;o.to==t&&(o.from!=o.to&&"before"==n?a=r:se=r),o.from==t&&(o.from!=o.to&&"before"!=n?a=r:se=r)}return null!=a?a:se}var ce=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,r=/[LRr]/,o=/[Lb1n]/,i=/[1n]/;function s(e,t,n){this.level=e,this.from=t,this.to=n}return function(l,c){var u="ltr"==c?"L":"R";if(0==l.length||"ltr"==c&&!n.test(l))return!1;for(var d,p=l.length,m=[],h=0;h<p;++h)m.push((d=l.charCodeAt(h))<=247?e.charAt(d):1424<=d&&d<=1524?"R":1536<=d&&d<=1785?t.charAt(d-1536):1774<=d&&d<=2220?"r":8192<=d&&d<=8203?"w":8204==d?"b":"L");for(var f=0,g=u;f<p;++f){var b=m[f];"m"==b?m[f]=g:g=b}for(var v=0,y=u;v<p;++v){var E=m[v];"1"==E&&"r"==y?m[v]="n":r.test(E)&&(y=E,"r"==E&&(m[v]="R"))}for(var w=1,x=m[0];w<p-1;++w){var C=m[w];"+"==C&&"1"==x&&"1"==m[w+1]?m[w]="1":","!=C||x!=m[w+1]||"1"!=x&&"n"!=x||(m[w]=x),x=C}for(var k=0;k<p;++k){var S=m[k];if(","==S)m[k]="N";else if("%"==S){var _=void 0;for(_=k+1;_<p&&"%"==m[_];++_);for(var O=k&&"!"==m[k-1]||_<p&&"1"==m[_]?"1":"N",T=k;T<_;++T)m[T]=O;k=_-1}}for(var j=0,I=u;j<p;++j){var D=m[j];"L"==I&&"1"==D?m[j]="L":r.test(D)&&(I=D)}for(var N=0;N<p;++N)if(a.test(m[N])){var M=void 0;for(M=N+1;M<p&&a.test(m[M]);++M);for(var F="L"==(N?m[N-1]:u),P=F==("L"==(M<p?m[M]:u))?F?"L":"R":u,L=N;L<M;++L)m[L]=P;N=M-1}for(var A,R=[],U=0;U<p;)if(o.test(m[U])){var z=U;for(++U;U<p&&o.test(m[U]);++U);R.push(new s(0,z,U))}else{var $=U,B=R.length;for(++U;U<p&&"L"!=m[U];++U);for(var V=$;V<U;)if(i.test(m[V])){$<V&&R.splice(B,0,new s(1,$,V));var H=V;for(++V;V<U&&i.test(m[V]);++V);R.splice(B,0,new s(2,H,V)),$=V}else++V;$<U&&R.splice(B,0,new s(1,$,U))}return"ltr"==c&&(1==R[0].level&&(A=l.match(/^\s+/))&&(R[0].from=A[0].length,R.unshift(new s(0,0,A[0].length))),1==Y(R).level&&(A=l.match(/\s+$/))&&(Y(R).to-=A[0].length,R.push(new s(0,p-A[0].length,p)))),"rtl"==c?R.reverse():R}}();function ue(e,t){var n=e.order;return null==n&&(n=e.order=ce(e.text,t)),n}var de=[],pe=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var a=e._handlers||(e._handlers={});a[t]=(a[t]||de).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||de}function he(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var a=e._handlers,r=a&&a[t];if(r){var o=z(r,n);o>-1&&(a[t]=r.slice(0,o).concat(r.slice(o+1)))}}}function fe(e,t){var n=me(e,t);if(n.length)for(var a=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,a)}function ge(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),fe(e,n||t.type,e,t),xe(t)||t.codemirrorIgnore}function be(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),a=0;a<t.length;++a)-1==z(n,t[a])&&n.push(t[a])}function ve(e,t){return me(e,t).length>0}function ye(e){e.prototype.on=function(e,t){pe(this,e,t)},e.prototype.off=function(e,t){he(this,e,t)}}function Ee(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function we(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function xe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Ce(e){Ee(e),we(e)}function ke(e){return e.target||e.srcElement}function Se(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),v&&e.ctrlKey&&1==t&&(t=3),t}var _e,Oe,Te=function(){if(i&&s<9)return!1;var e=j("div");return"draggable"in e||"dragDrop"in e}();function je(e){if(null==_e){var t=j("span","​");T(e,j("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(_e=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&s<8))}var n=_e?j("span","​"):j("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Ie(e){if(null!=Oe)return Oe;var t=T(e,document.createTextNode("AخA")),n=S(t,0,1).getBoundingClientRect(),a=S(t,1,2).getBoundingClientRect();return O(e),!(!n||n.left==n.right)&&(Oe=a.right-n.right<3)}var De,Ne=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],a=e.length;t<=a;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),i=o.indexOf("\r");-1!=i?(n.push(o.slice(0,i)),t+=i+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fe="oncopy"in(De=j("div"))||(De.setAttribute("oncopy","return;"),"function"==typeof De.oncopy),Pe=null,Le={},Ae={};function Re(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Le[e]=t}function Ue(e){if("string"==typeof e&&Ae.hasOwnProperty(e))e=Ae[e];else if(e&&"string"==typeof e.name&&Ae.hasOwnProperty(e.name)){var t=Ae[e.name];"string"==typeof t&&(t={name:t}),(e=X(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ue("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ue("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function ze(e,t){t=Ue(t);var n=Le[t.name];if(!n)return ze(e,"text/plain");var a=n(e,t);if($e.hasOwnProperty(t.name)){var r=$e[t.name];for(var o in r)r.hasOwnProperty(o)&&(a.hasOwnProperty(o)&&(a["_"+o]=a[o]),a[o]=r[o])}if(a.name=t.name,t.helperType&&(a.helperType=t.helperType),t.modeProps)for(var i in t.modeProps)a[i]=t.modeProps[i];return a}var $e={};function Be(e,t){A(t,$e.hasOwnProperty(e)?$e[e]:$e[e]={})}function Ve(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var a in t){var r=t[a];r instanceof Array&&(r=r.concat([])),n[a]=r}return n}function He(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function We(e,t,n){return!e.startState||e.startState(t,n)}var qe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Ke(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var a=0;;++a){var r=n.children[a],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function Ge(e,t,n){var a=[],r=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),a.push(o),++r})),a}function Ye(e,t,n){var a=[];return e.iter(t,n,(function(e){a.push(e.text)})),a}function Ze(e,t){var n=t-e.height;if(n)for(var a=e;a;a=a.parent)a.height+=n}function Qe(e){if(null==e.parent)return null;for(var t=e.parent,n=z(t.lines,e),a=t.parent;a;t=a,a=a.parent)for(var r=0;a.children[r]!=t;++r)n+=a.children[r].chunkSize();return n+t.first}function Xe(e,t){var n=e.first;e:do{for(var a=0;a<e.children.length;++a){var r=e.children[a],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i].height;if(t<s)break;t-=s}return n+i}function Je(e,t){return t>=e.first&&t<e.first+e.size}function et(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function tt(e,t,n){if(void 0===n&&(n=null),!(this instanceof tt))return new tt(e,t,n);this.line=e,this.ch=t,this.sticky=n}function nt(e,t){return e.line-t.line||e.ch-t.ch}function at(e,t){return e.sticky==t.sticky&&0==nt(e,t)}function rt(e){return tt(e.line,e.ch)}function ot(e,t){return nt(e,t)<0?t:e}function it(e,t){return nt(e,t)<0?e:t}function st(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function lt(e,t){if(t.line<e.first)return tt(e.first,0);var n=e.first+e.size-1;return t.line>n?tt(n,Ke(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?tt(e.line,t):n<0?tt(e.line,0):e}(t,Ke(e,t.line).text.length)}function ct(e,t){for(var n=[],a=0;a<t.length;a++)n[a]=lt(e,t[a]);return n}qe.prototype.eol=function(){return this.pos>=this.string.length},qe.prototype.sol=function(){return this.pos==this.lineStart},qe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},qe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},qe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},qe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},qe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},qe.prototype.skipToEnd=function(){this.pos=this.string.length},qe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},qe.prototype.backUp=function(e){this.pos-=e},qe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=R(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},qe.prototype.indentation=function(){return R(this.string,null,this.tabSize)-(this.lineStart?R(this.string,this.lineStart,this.tabSize):0)},qe.prototype.match=function(e,t,n){if("string"!=typeof e){var a=this.string.slice(this.pos).match(e);return a&&a.index>0?null:(a&&!1!==t&&(this.pos+=a[0].length),a)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},qe.prototype.current=function(){return this.string.slice(this.start,this.pos)},qe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},qe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},qe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ut=function(e,t){this.state=e,this.lookAhead=t},dt=function(e,t,n,a){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};function pt(e,t,n,a){var r=[e.state.modeGen],o={};wt(e,t.text,e.doc.mode,n,(function(e,t){return r.push(e,t)}),o,a);for(var i=n.state,s=function(a){n.baseTokens=r;var s=e.state.overlays[a],l=1,c=0;n.state=!0,wt(e,t.text,s.mode,n,(function(e,t){for(var n=l;c<e;){var a=r[l];a>e&&r.splice(l,1,e,r[l+1],a),l+=2,c=Math.min(e,a)}if(t)if(s.opaque)r.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=i,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:r,classes:o.bgClass||o.textClass?o:null}}function mt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var a=ht(e,Qe(t)),r=t.text.length>e.options.maxHighlightLength&&Ve(e.doc.mode,a.state),o=pt(e,t,a);r&&(a.state=r),t.stateAfter=a.save(!r),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ht(e,t,n){var a=e.doc,r=e.display;if(!a.mode.startState)return new dt(a,!0,t);var o=function(e,t,n){for(var a,r,o=e.doc,i=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>i;--s){if(s<=o.first)return o.first;var l=Ke(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof ut?c.lookAhead:0)<=o.modeFrontier))return s;var u=R(l.text,null,e.options.tabSize);(null==r||a>u)&&(r=s-1,a=u)}return r}(e,t,n),i=o>a.first&&Ke(a,o-1).stateAfter,s=i?dt.fromSaved(a,i,o):new dt(a,We(a.mode),o);return a.iter(o,t,(function(n){ft(e,n.text,s);var a=s.line;n.stateAfter=a==t-1||a%5==0||a>=r.viewFrom&&a<r.viewTo?s.save():null,s.nextLine()})),n&&(a.modeFrontier=s.line),s}function ft(e,t,n,a){var r=e.doc.mode,o=new qe(t,e.options.tabSize,n);for(o.start=o.pos=a||0,""==t&&gt(r,n.state);!o.eol();)bt(r,o,n.state),o.start=o.pos}function gt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=He(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function bt(e,t,n,a){for(var r=0;r<10;r++){a&&(a[0]=He(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}dt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},dt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},dt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},dt.fromSaved=function(e,t,n){return t instanceof ut?new dt(e,Ve(e.mode,t.state),n,t.lookAhead):new dt(e,Ve(e.mode,t),n)},dt.prototype.save=function(e){var t=!1!==e?Ve(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ut(t,this.maxLookAhead):t};var vt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function yt(e,t,n,a){var r,o,i=e.doc,s=i.mode,l=Ke(i,(t=lt(i,t)).line),c=ht(e,t.line,n),u=new qe(l.text,e.options.tabSize,c);for(a&&(o=[]);(a||u.pos<t.ch)&&!u.eol();)u.start=u.pos,r=bt(s,u,c.state),a&&o.push(new vt(u,r,Ve(i.mode,c.state)));return a?o:new vt(u,r,c.state)}function Et(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var a=n[1]?"bgClass":"textClass";null==t[a]?t[a]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[a])||(t[a]+=" "+n[2])}return e}function wt(e,t,n,a,r,o,i){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new qe(t,e.options.tabSize,a),p=e.options.addModeClass&&[null];for(""==t&&Et(gt(n,a.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,i&&ft(e,t,a,d.pos),d.pos=t.length,l=null):l=Et(bt(n,d,a.state,p),o),p){var m=p[0].name;m&&(l="m-"+(l?m+" "+l:m))}if(!s||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var h=Math.min(d.pos,c+5e3);r(h,u),c=h}}var xt=!1,Ct=!1;function kt(e,t,n){this.marker=e,this.from=t,this.to=n}function St(e,t){if(e)for(var n=0;n<e.length;++n){var a=e[n];if(a.marker==t)return a}}function _t(e,t){for(var n,a=0;a<e.length;++a)e[a]!=t&&(n||(n=[])).push(e[a]);return n}function Ot(e,t){if(t.full)return null;var n=Je(e,t.from.line)&&Ke(e,t.from.line).markedSpans,a=Je(e,t.to.line)&&Ke(e,t.to.line).markedSpans;if(!n&&!a)return null;var r=t.from.ch,o=t.to.ch,i=0==nt(t.from,t.to),s=function(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==i.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(i.inclusiveRight?o.to>=t:o.to>t);(a||(a=[])).push(new kt(i,o.from,s?null:o.to))}}return a}(n,r,i),l=function(e,t,n){var a;if(e)for(var r=0;r<e.length;++r){var o=e[r],i=o.marker;if(null==o.to||(i.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==i.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(i.inclusiveLeft?o.from<=t:o.from<t);(a||(a=[])).push(new kt(i,s?null:o.from-t,null==o.to?null:o.to-t))}}return a}(a,o,i),c=1==t.text.length,u=Y(t.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){var p=s[d];if(null==p.to){var m=St(l,p.marker);m?c&&(p.to=null==m.to?null:m.to+u):p.to=r}}if(l)for(var h=0;h<l.length;++h){var f=l[h];null!=f.to&&(f.to+=u),null==f.from?St(s,f.marker)||(f.from=u,c&&(s||(s=[])).push(f)):(f.from+=u,c&&(s||(s=[])).push(f))}s&&(s=Tt(s)),l&&l!=s&&(l=Tt(l));var g=[s];if(!c){var b,v=t.text.length-2;if(v>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(b||(b=[])).push(new kt(s[y].marker,null,null));for(var E=0;E<v;++E)g.push(b);g.push(l)}return g}function Tt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function jt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function It(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Dt(e){return e.inclusiveLeft?-1:0}function Nt(e){return e.inclusiveRight?1:0}function Mt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var a=e.find(),r=t.find(),o=nt(a.from,r.from)||Dt(e)-Dt(t);if(o)return-o;var i=nt(a.to,r.to)||Nt(e)-Nt(t);return i||t.id-e.id}function Ft(e,t){var n,a=Ct&&e.markedSpans;if(a)for(var r=void 0,o=0;o<a.length;++o)(r=a[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Mt(n,r.marker)<0)&&(n=r.marker);return n}function Pt(e){return Ft(e,!0)}function Lt(e){return Ft(e,!1)}function At(e,t){var n,a=Ct&&e.markedSpans;if(a)for(var r=0;r<a.length;++r){var o=a[r];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Mt(n,o.marker)<0)&&(n=o.marker)}return n}function Rt(e,t,n,a,r){var o=Ke(e,t),i=Ct&&o.markedSpans;if(i)for(var s=0;s<i.length;++s){var l=i[s];if(l.marker.collapsed){var c=l.marker.find(0),u=nt(c.from,n)||Dt(l.marker)-Dt(r),d=nt(c.to,a)||Nt(l.marker)-Nt(r);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?nt(c.to,n)>=0:nt(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?nt(c.from,a)<=0:nt(c.from,a)<0)))return!0}}}function Ut(e){for(var t;t=Pt(e);)e=t.find(-1,!0).line;return e}function zt(e,t){var n=Ke(e,t),a=Ut(n);return n==a?t:Qe(a)}function $t(e,t){if(t>e.lastLine())return t;var n,a=Ke(e,t);if(!Bt(e,a))return t;for(;n=Lt(a);)a=n.find(1,!0).line;return Qe(a)+1}function Bt(e,t){var n=Ct&&t.markedSpans;if(n)for(var a=void 0,r=0;r<n.length;++r)if((a=n[r]).marker.collapsed){if(null==a.from)return!0;if(!a.marker.widgetNode&&0==a.from&&a.marker.inclusiveLeft&&Vt(e,t,a))return!0}}function Vt(e,t,n){if(null==n.to){var a=n.marker.find(1,!0);return Vt(e,a.line,St(a.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r=void 0,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vt(e,t,r))return!0}function Ht(e){for(var t=0,n=(e=Ut(e)).parent,a=0;a<n.lines.length;++a){var r=n.lines[a];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function Wt(e){if(0==e.height)return 0;for(var t,n=e.text.length,a=e;t=Pt(a);){var r=t.find(0,!0);a=r.from.line,n+=r.from.ch-r.to.ch}for(a=e;t=Lt(a);){var o=t.find(0,!0);n-=a.text.length-o.from.ch,n+=(a=o.to.line).text.length-o.to.ch}return n}function qt(e){var t=e.display,n=e.doc;t.maxLine=Ke(n,n.first),t.maxLineLength=Wt(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Wt(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var Kt=function(e,t,n){this.text=e,It(this,t),this.height=n?n(this):1};function Gt(e){e.parent=null,jt(e)}Kt.prototype.lineNo=function(){return Qe(this)},ye(Kt);var Yt={},Zt={};function Qt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Zt:Yt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Xt(e,t){var n=I("span",null,null,l?"padding-right: .1px":null),a={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o=r?t.rest[r-1]:t.line,i=void 0;a.pos=0,a.addToken=en,Ie(e.display.measure)&&(i=ue(o,e.doc.direction))&&(a.addToken=tn(a.addToken,i)),a.map=[],an(o,a,mt(e,o,t!=e.display.externalMeasured&&Qe(o))),o.styleClasses&&(o.styleClasses.bgClass&&(a.bgClass=F(o.styleClasses.bgClass,a.bgClass||"")),o.styleClasses.textClass&&(a.textClass=F(o.styleClasses.textClass,a.textClass||""))),0==a.map.length&&a.map.push(0,0,a.content.appendChild(je(e.display.measure))),0==r?(t.measure.map=a.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(a.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=a.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return fe(e,"renderLine",e,t.line,a.pre),a.pre.className&&(a.textClass=F(a.pre.className,a.textClass||"")),a}function Jt(e){var t=j("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function en(e,t,n,a,r,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,a="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),a+=o,n=" "==o}return a}(t,e.trailingSpace):t,d=e.cm.state.specialChars,p=!1;if(d.test(t)){c=document.createDocumentFragment();for(var m=0;;){d.lastIndex=m;var h=d.exec(t),f=h?h.index-m:t.length-m;if(f){var g=document.createTextNode(u.slice(m,m+f));i&&s<9?c.appendChild(j("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+f,g),e.col+=f,e.pos+=f}if(!h)break;m+=f+1;var b=void 0;if("\t"==h[0]){var v=e.cm.options.tabSize,y=v-e.col%v;(b=c.appendChild(j("span",G(y),"cm-tab"))).setAttribute("role","presentation"),b.setAttribute("cm-text","\t"),e.col+=y}else"\r"==h[0]||"\n"==h[0]?((b=c.appendChild(j("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((b=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),i&&s<9?c.appendChild(j("span",[b])):c.appendChild(b),e.col+=1);e.map.push(e.pos,e.pos+1,b),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),i&&s<9&&(p=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||a||r||p||o){var E=n||"";a&&(E+=a),r&&(E+=r);var w=j("span",[c],E,o);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,l[x]);return e.content.appendChild(w)}e.content.appendChild(c)}}function tn(e,t){return function(n,a,r,o,i,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+a.length;;){for(var d=void 0,p=0;p<t.length&&!((d=t[p]).to>c&&d.from<=c);p++);if(d.to>=u)return e(n,a,r,o,i,s,l);e(n,a.slice(0,d.to-c),r,o,null,s,l),o=null,a=a.slice(d.to-c),c=d.to}}}function nn(e,t,n,a){var r=!a&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!a&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function an(e,t,n){var a=e.markedSpans,r=e.text,o=0;if(a)for(var i,s,l,c,u,d,p,m=r.length,h=0,f=1,g="",b=0;;){if(b==h){l=c=u=s="",p=null,d=null,b=1/0;for(var v=[],y=void 0,E=0;E<a.length;++E){var w=a[E],x=w.marker;if("bookmark"==x.type&&w.from==h&&x.widgetNode)v.push(x);else if(w.from<=h&&(null==w.to||w.to>h||x.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&b>w.to&&(b=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==h&&(u+=" "+x.startStyle),x.endStyle&&w.to==b&&(y||(y=[])).push(x.endStyle,w.to),x.title&&((p||(p={})).title=x.title),x.attributes)for(var C in x.attributes)(p||(p={}))[C]=x.attributes[C];x.collapsed&&(!d||Mt(d.marker,x)<0)&&(d=w)}else w.from>h&&b>w.from&&(b=w.from)}if(y)for(var k=0;k<y.length;k+=2)y[k+1]==b&&(c+=" "+y[k]);if(!d||d.from==h)for(var S=0;S<v.length;++S)nn(t,0,v[S]);if(d&&(d.from||0)==h){if(nn(t,(null==d.to?m+1:d.to)-h,d.marker,null==d.from),null==d.to)return;d.to==h&&(d=!1)}}if(h>=m)break;for(var _=Math.min(m,b);;){if(g){var O=h+g.length;if(!d){var T=O>_?g.slice(0,_-h):g;t.addToken(t,T,i?i+l:l,u,h+T.length==b?c:"",s,p)}if(O>=_){g=g.slice(_-h),h=_;break}h=O,u=""}g=r.slice(o,o=n[f++]),i=Qt(n[f++],t.cm.options)}}else for(var j=1;j<n.length;j+=2)t.addToken(t,r.slice(o,o=n[j]),Qt(n[j+1],t.cm.options))}function rn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Lt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Qe(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Bt(e,t)}function on(e,t,n){for(var a,r=[],o=t;o<n;o=a){var i=new rn(e.doc,Ke(e.doc,o),o);a=o+i.size,r.push(i)}return r}var sn=null,ln=null;function cn(e,t){var n=me(e,t);if(n.length){var a,r=Array.prototype.slice.call(arguments,2);sn?a=sn.delayedCallbacks:ln?a=ln:(a=ln=[],setTimeout(un,0));for(var o=function(e){a.push((function(){return n[e].apply(null,r)}))},i=0;i<n.length;++i)o(i)}}function un(){var e=ln;ln=null;for(var t=0;t<e.length;++t)e[t]()}function dn(e,t,n,a){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?hn(e,t):"gutter"==o?gn(e,t,n,a):"class"==o?fn(e,t):"widget"==o&&bn(e,t,a)}t.changes=null}function pn(e){return e.node==e.text&&(e.node=j("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),i&&s<8&&(e.node.style.zIndex=2)),e.node}function mn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Xt(e,t)}function hn(e,t){var n=t.text.className,a=mn(e,t);t.text==t.node&&(t.node=a.pre),t.text.parentNode.replaceChild(a.pre,t.text),t.text=a.pre,a.bgClass!=t.bgClass||a.textClass!=t.textClass?(t.bgClass=a.bgClass,t.textClass=a.textClass,fn(e,t)):n&&(t.text.className=n)}function fn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var a=pn(t);t.background=a.insertBefore(j("div",null,n),a.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?pn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function gn(e,t,n,a){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=pn(t);t.gutterBackground=j("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=pn(t),s=t.gutter=j("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(j("div",et(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(j("div",[u],"CodeMirror-gutter-elt","left: "+a.gutterLeft[c]+"px; width: "+a.gutterWidth[c]+"px"))}}}function bn(e,t,n){t.alignable&&(t.alignable=null);for(var a=t.node.firstChild,r=void 0;a;a=r)r=a.nextSibling,"CodeMirror-linewidget"==a.className&&t.node.removeChild(a);yn(e,t,n)}function vn(e,t,n,a){var r=mn(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),fn(e,t),gn(e,t,n,a),yn(e,t,a),t.node}function yn(e,t,n){if(En(e,t.line,t,n,!0),t.rest)for(var a=0;a<t.rest.length;a++)En(e,t.rest[a],t,n,!1)}function En(e,t,n,a,r){if(t.widgets)for(var o=pn(n),i=0,s=t.widgets;i<s.length;++i){var l=s[i],c=j("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),wn(l,c,n,a),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),cn(l,"redraw")}}function wn(e,t,n,a){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=a.wrapperWidth;t.style.left=a.fixedPos+"px",e.coverGutter||(r-=a.gutterTotalWidth,t.style.paddingLeft=a.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-a.gutterTotalWidth+"px"))}function xn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!D(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,j("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Cn(e,t){for(var n=ke(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function kn(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function _n(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,j("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,a={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(a.left)||isNaN(a.right)||(e.cachedPaddingH=a),a}function On(e){return $-e.display.nativeBarWidth}function Tn(e){return e.display.scroller.clientWidth-On(e)-e.display.barWidth}function jn(e){return e.display.scroller.clientHeight-On(e)-e.display.barHeight}function In(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var a=0;a<e.rest.length;a++)if(e.rest[a]==t)return{map:e.measure.maps[a],cache:e.measure.caches[a]};for(var r=0;r<e.rest.length;r++)if(Qe(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Dn(e,t,n,a){return Fn(e,Mn(e,t),n,a)}function Nn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[da(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Mn(e,t){var n=Qe(t),a=Nn(e,n);a&&!a.text?a=null:a&&a.changes&&(dn(e,a,n,ia(e)),e.curOp.forceUpdate=!0),a||(a=function(e,t){var n=Qe(t=Ut(t)),a=e.display.externalMeasured=new rn(e.doc,t,n);a.lineN=n;var r=a.built=Xt(e,a);return a.text=r.pre,T(e.display.lineMeasure,r.pre),a}(e,t));var r=In(a,t,n);return{line:t,view:a,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Fn(e,t,n,a,r){t.before&&(n=-1);var o,l=n+(a||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var a=e.options.lineWrapping,r=a&&Tn(e);if(!t.measure.heights||a&&t.measure.width!=r){var o=t.measure.heights=[];if(a){t.measure.width=r;for(var i=t.text.firstChild.getClientRects(),s=0;s<i.length-1;s++){var l=i[s],c=i[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,a){var r,o=An(t.map,n,a),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var p=0;p<4;p++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((r=i&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Rn(S(l,c,u).getClientRects(),a)).left||r.right||0==c)break;u=c,c-=1,d="right"}i&&s<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Pe)return Pe;var t=T(e,j("span","x")),n=t.getBoundingClientRect(),a=S(t,0,1).getBoundingClientRect();return Pe=Math.abs(n.left-a.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*a,bottom:t.bottom*a}}(e.display.measure,r))}else{var m;c>0&&(d=a="right"),r=e.options.lineWrapping&&(m=l.getClientRects()).length>1?m["right"==a?m.length-1:0]:l.getBoundingClientRect()}if(i&&s<9&&!c&&(!r||!r.left&&!r.right)){var h=l.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+oa(e.display),top:h.top,bottom:h.bottom}:Ln}for(var f=r.top-t.rect.top,g=r.bottom-t.rect.top,b=(f+g)/2,v=t.view.measure.heights,y=0;y<v.length-1&&!(b<v[y]);y++);var E=y?v[y-1]:0,w=v[y],x={left:("right"==d?r.right:r.left)-t.rect.left,right:("left"==d?r.left:r.right)-t.rect.left,top:E,bottom:w};return r.left||r.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=f,x.rbottom=g),x}(e,t,n,a)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}var Pn,Ln={left:0,right:0,top:0,bottom:0};function An(e,t,n){for(var a,r,o,i,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(r=0,o=1,i="left"):t<l?o=1+(r=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(r=(o=l-s)-1,t>=l&&(i="right")),null!=r){if(a=e[c+2],s==l&&n==(a.insertLeft?"left":"right")&&(i=n),"left"==n&&0==r)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)a=e[2+(c-=3)],i="left";if("right"==n&&r==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)a=e[(c+=3)+2],i="right";break}return{node:a,start:r,end:o,collapse:i,coverStart:s,coverEnd:l}}function Rn(e,t){var n=Ln;if("left"==t)for(var a=0;a<e.length&&(n=e[a]).left==n.right;a++);else for(var r=e.length-1;r>=0&&(n=e[r]).left==n.right;r--);return n}function Un(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function zn(e){e.display.externalMeasure=null,O(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Un(e.display.view[t])}function $n(e){zn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Bn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Vn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=xn(e.widgets[n]));return t}function Wn(e,t,n,a,r){if(!r){var o=Hn(t);n.top+=o,n.bottom+=o}if("line"==a)return n;a||(a="local");var i=Ht(t);if("local"==a?i+=kn(e.display):i-=e.display.viewOffset,"page"==a||"window"==a){var s=e.display.lineSpace.getBoundingClientRect();i+=s.top+("window"==a?0:Vn());var l=s.left+("window"==a?0:Bn());n.left+=l,n.right+=l}return n.top+=i,n.bottom+=i,n}function qn(e,t,n){if("div"==n)return t;var a=t.left,r=t.top;if("page"==n)a-=Bn(),r-=Vn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();a+=o.left,r+=o.top}var i=e.display.lineSpace.getBoundingClientRect();return{left:a-i.left,top:r-i.top}}function Kn(e,t,n,a,r){return a||(a=Ke(e.doc,t.line)),Wn(e,a,Dn(e,a,t.ch,r),n)}function Gn(e,t,n,a,r,o){function i(t,i){var s=Fn(e,r,t,i?"right":"left",o);return i?s.left=s.right:s.right=s.left,Wn(e,a,s,n)}a=a||Ke(e.doc,t.line),r||(r=Mn(e,a));var s=ue(a,e.doc.direction),l=t.ch,c=t.sticky;if(l>=a.text.length?(l=a.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return i("before"==c?l-1:l,"before"==c);function u(e,t,n){return i(n?e-1:e,1==s[t].level!=n)}var d=le(s,l,c),p=se,m=u(l,d,"before"==c);return null!=p&&(m.other=u(l,p,"before"!=c)),m}function Yn(e,t){var n=0;t=lt(e.doc,t),e.options.lineWrapping||(n=oa(e.display)*t.ch);var a=Ke(e.doc,t.line),r=Ht(a)+kn(e.display);return{left:n,right:n,top:r,bottom:r+a.height}}function Zn(e,t,n,a,r){var o=tt(e,t,n);return o.xRel=r,a&&(o.outside=a),o}function Qn(e,t,n){var a=e.doc;if((n+=e.display.viewOffset)<0)return Zn(a.first,0,null,-1,-1);var r=Xe(a,n),o=a.first+a.size-1;if(r>o)return Zn(a.first+a.size-1,Ke(a,o).text.length,null,1,1);t<0&&(t=0);for(var i=Ke(a,r);;){var s=ta(e,i,r,t,n),l=At(i,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==r)return c;i=Ke(a,r=c.line)}}function Xn(e,t,n,a){a-=Hn(t);var r=t.text.length,o=ie((function(t){return Fn(e,n,t-1).bottom<=a}),r,0);return{begin:o,end:r=ie((function(t){return Fn(e,n,t).top>a}),o,r)}}function Jn(e,t,n,a){return n||(n=Mn(e,t)),Xn(e,t,n,Wn(e,t,Fn(e,n,a),"line").top)}function ea(e,t,n,a){return!(e.bottom<=n)&&(e.top>n||(a?e.left:e.right)>t)}function ta(e,t,n,a,r){r-=Ht(t);var o=Mn(e,t),i=Hn(t),s=0,l=t.text.length,c=!0,u=ue(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?aa:na)(e,t,n,o,u,a,r);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var p,m,h=null,f=null,g=ie((function(t){var n=Fn(e,o,t);return n.top+=i,n.bottom+=i,!!ea(n,a,r,!1)&&(n.top<=r&&n.left<=a&&(h=t,f=n),!0)}),s,l),b=!1;if(f){var v=a-f.left<f.right-a,y=v==c;g=h+(y?0:1),m=y?"after":"before",p=v?f.left:f.right}else{c||g!=l&&g!=s||g++,m=0==g?"after":g==t.text.length?"before":Fn(e,o,g-(c?1:0)).bottom+i<=r==c?"after":"before";var E=Gn(e,tt(n,g,m),"line",t,o);p=E.left,b=r<E.top?-1:r>=E.bottom?1:0}return Zn(n,g=oe(t.text,g,1),m,b,a-p)}function na(e,t,n,a,r,o,i){var s=ie((function(s){var l=r[s],c=1!=l.level;return ea(Gn(e,tt(n,c?l.to:l.from,c?"before":"after"),"line",t,a),o,i,!0)}),0,r.length-1),l=r[s];if(s>0){var c=1!=l.level,u=Gn(e,tt(n,c?l.from:l.to,c?"after":"before"),"line",t,a);ea(u,o,i,!0)&&u.top>i&&(l=r[s-1])}return l}function aa(e,t,n,a,r,o,i){var s=Xn(e,t,a,i),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,p=0;p<r.length;p++){var m=r[p];if(!(m.from>=c||m.to<=l)){var h=Fn(e,a,1!=m.level?Math.min(c,m.to)-1:Math.max(l,m.from)).right,f=h<o?o-h+1e9:h-o;(!u||d>f)&&(u=m,d=f)}}return u||(u=r[r.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function ra(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Pn){Pn=j("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Pn.appendChild(document.createTextNode("x")),Pn.appendChild(j("br"));Pn.appendChild(document.createTextNode("x"))}T(e.measure,Pn);var n=Pn.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),O(e.measure),n||1}function oa(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=j("span","xxxxxxxxxx"),n=j("pre",[t],"CodeMirror-line-like");T(e.measure,n);var a=t.getBoundingClientRect(),r=(a.right-a.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function ia(e){for(var t=e.display,n={},a={},r=t.gutters.clientLeft,o=t.gutters.firstChild,i=0;o;o=o.nextSibling,++i){var s=e.display.gutterSpecs[i].className;n[s]=o.offsetLeft+o.clientLeft+r,a[s]=o.clientWidth}return{fixedPos:sa(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:a,wrapperWidth:t.wrapper.clientWidth}}function sa(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function la(e){var t=ra(e.display),n=e.options.lineWrapping,a=n&&Math.max(5,e.display.scroller.clientWidth/oa(e.display)-3);return function(r){if(Bt(e.doc,r))return 0;var o=0;if(r.widgets)for(var i=0;i<r.widgets.length;i++)r.widgets[i].height&&(o+=r.widgets[i].height);return n?o+(Math.ceil(r.text.length/a)||1)*t:o+t}}function ca(e){var t=e.doc,n=la(e);t.iter((function(e){var t=n(e);t!=e.height&&Ze(e,t)}))}function ua(e,t,n,a){var r=e.display;if(!n&&"true"==ke(t).getAttribute("cm-not-content"))return null;var o,i,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,i=t.clientY-s.top}catch(t){return null}var l,c=Qn(e,o,i);if(a&&1==c.xRel&&(l=Ke(e.doc,c.line).text).length==c.ch){var u=R(l,l.length,e.options.tabSize)-l.length;c=tt(c.line,Math.max(0,Math.round((o-_n(e.display).left)/oa(e.display))-u))}return c}function da(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,a=0;a<n.length;a++)if((t-=n[a].size)<0)return a}function pa(e,t,n,a){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),a||(a=0);var r=e.display;if(a&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ct&&zt(e.doc,t)<r.viewTo&&ha(e);else if(n<=r.viewFrom)Ct&&$t(e.doc,n+a)>r.viewFrom?ha(e):(r.viewFrom+=a,r.viewTo+=a);else if(t<=r.viewFrom&&n>=r.viewTo)ha(e);else if(t<=r.viewFrom){var o=fa(e,n,n+a,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=a):ha(e)}else if(n>=r.viewTo){var i=fa(e,t,t,-1);i?(r.view=r.view.slice(0,i.index),r.viewTo=i.lineN):ha(e)}else{var s=fa(e,t,t,-1),l=fa(e,n,n+a,1);s&&l?(r.view=r.view.slice(0,s.index).concat(on(e,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=a):ha(e)}var c=r.externalMeasured;c&&(n<c.lineN?c.lineN+=a:t<c.lineN+c.size&&(r.externalMeasured=null))}function ma(e,t,n){e.curOp.viewChanged=!0;var a=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(a.externalMeasured=null),!(t<a.viewFrom||t>=a.viewTo)){var o=a.view[da(e,t)];if(null!=o.node){var i=o.changes||(o.changes=[]);-1==z(i,n)&&i.push(n)}}}function ha(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function fa(e,t,n,a){var r,o=da(e,t),i=e.display.view;if(!Ct||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=i[l].size;if(s!=t){if(a>0){if(o==i.length-1)return null;r=s+i[o].size-t,o++}else r=s-t;t+=r,n+=r}for(;zt(e.doc,n)!=n;){if(o==(a<0?0:i.length-1))return null;n+=a*i[o-(a<0?1:0)].size,o+=a}return{index:o,lineN:n}}function ga(e){for(var t=e.display.view,n=0,a=0;a<t.length;a++){var r=t[a];r.hidden||r.node&&!r.changes||++n}return n}function ba(e){e.display.input.showSelection(e.display.input.prepareSelection())}function va(e,t){void 0===t&&(t=!0);for(var n=e.doc,a={},r=a.cursors=document.createDocumentFragment(),o=a.selection=document.createDocumentFragment(),i=0;i<n.sel.ranges.length;i++)if(t||i!=n.sel.primIndex){var s=n.sel.ranges[i];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&ya(e,s.head,r),l||wa(e,s,o)}}return a}function ya(e,t,n){var a=Gn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(j("div"," ","CodeMirror-cursor"));if(r.style.left=a.left+"px",r.style.top=a.top+"px",r.style.height=Math.max(0,a.bottom-a.top)*e.options.cursorHeight+"px",a.other){var o=n.appendChild(j("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=a.other.left+"px",o.style.top=a.other.top+"px",o.style.height=.85*(a.other.bottom-a.other.top)+"px"}}function Ea(e,t){return e.top-t.top||e.left-t.left}function wa(e,t,n){var a=e.display,r=e.doc,o=document.createDocumentFragment(),i=_n(e.display),s=i.left,l=Math.max(a.sizerWidth,Tn(e)-a.sizer.offsetLeft)-i.right,c="ltr"==r.direction;function u(e,t,n,a){t<0&&(t=0),t=Math.round(t),a=Math.round(a),o.appendChild(j("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(a-t)+"px"))}function d(t,n,a){var o,i,d=Ke(r,t),p=d.text.length;function m(n,a){return Kn(e,tt(t,n),"div",d,a)}function h(t,n,a){var r=Jn(e,d,null,t),o="ltr"==n==("after"==a)?"left":"right";return m("after"==a?r.begin:r.end-(/\s/.test(d.text.charAt(r.end-1))?2:1),o)[o]}var f=ue(d,r.direction);return function(e,t,n,a){if(!e)return a(t,n,"ltr",0);for(var r=!1,o=0;o<e.length;++o){var i=e[o];(i.from<n&&i.to>t||t==n&&i.to==t)&&(a(Math.max(i.from,t),Math.min(i.to,n),1==i.level?"rtl":"ltr",o),r=!0)}r||a(t,n,"ltr")}(f,n||0,null==a?p:a,(function(e,t,r,d){var g="ltr"==r,b=m(e,g?"left":"right"),v=m(t-1,g?"right":"left"),y=null==n&&0==e,E=null==a&&t==p,w=0==d,x=!f||d==f.length-1;if(v.top-b.top<=3){var C=(c?E:y)&&x,k=(c?y:E)&&w?s:(g?b:v).left,S=C?l:(g?v:b).right;u(k,b.top,S-k,b.bottom)}else{var _,O,T,j;g?(_=c&&y&&w?s:b.left,O=c?l:h(e,r,"before"),T=c?s:h(t,r,"after"),j=c&&E&&x?l:v.right):(_=c?h(e,r,"before"):s,O=!c&&y&&w?l:b.right,T=!c&&E&&x?s:v.left,j=c?h(t,r,"after"):l),u(_,b.top,O-_,b.bottom),b.bottom<v.top&&u(s,b.bottom,null,v.top),u(T,v.top,j-T,v.bottom)}(!o||Ea(b,o)<0)&&(o=b),Ea(v,o)<0&&(o=v),(!i||Ea(b,i)<0)&&(i=b),Ea(v,i)<0&&(i=v)})),{start:o,end:i}}var p=t.from(),m=t.to();if(p.line==m.line)d(p.line,p.ch,m.ch);else{var h=Ke(r,p.line),f=Ke(r,m.line),g=Ut(h)==Ut(f),b=d(p.line,p.ch,g?h.text.length+1:null).end,v=d(m.line,g?0:null,m.ch).start;g&&(b.top<v.top-2?(u(b.right,b.top,null,b.bottom),u(s,v.top,v.left,v.bottom)):u(b.right,b.top,v.left-b.right,b.bottom)),b.bottom<v.top&&u(s,b.bottom,null,v.top)}n.appendChild(o)}function xa(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ca(e){e.state.focused||(e.display.input.focus(),Sa(e))}function ka(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,_a(e))}),100)}function Sa(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(fe(e,"focus",e,t),e.state.focused=!0,M(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),xa(e))}function _a(e,t){e.state.delayingBlurEvent||(e.state.focused&&(fe(e,"blur",e,t),e.state.focused=!1,_(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Oa(e){for(var t=e.display,n=t.lineDiv.offsetTop,a=0;a<t.view.length;a++){var r=t.view[a],o=e.options.lineWrapping,l=void 0,c=0;if(!r.hidden){if(i&&s<8){var u=r.node.offsetTop+r.node.offsetHeight;l=u-n,n=u}else{var d=r.node.getBoundingClientRect();l=d.bottom-d.top,!o&&r.text.firstChild&&(c=r.text.firstChild.getBoundingClientRect().right-d.left-1)}var p=r.line.height-l;if((p>.005||p<-.005)&&(Ze(r.line,l),Ta(r.line),r.rest))for(var m=0;m<r.rest.length;m++)Ta(r.rest[m]);if(c>e.display.sizerWidth){var h=Math.ceil(c/oa(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=r.line,e.display.maxLineChanged=!0)}}}}function Ta(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],a=n.node.parentNode;a&&(n.height=a.offsetHeight)}}function ja(e,t,n){var a=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;a=Math.floor(a-kn(e));var r=n&&null!=n.bottom?n.bottom:a+e.wrapper.clientHeight,o=Xe(t,a),i=Xe(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,i=Xe(t,Ht(Ke(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=i&&(o=Xe(t,Ht(Ke(t,l))-e.wrapper.clientHeight),i=l)}return{from:o,to:Math.max(i,o+1)}}function Ia(e,t){var n=e.display,a=ra(e.display);t.top<0&&(t.top=0);var r=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=jn(e),i={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Sn(n),l=t.top<a,c=t.bottom>s-a;if(t.top<r)i.scrollTop=l?0:t.top;else if(t.bottom>r+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=r&&(i.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,p=Tn(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),m=t.right-t.left>p;return m&&(t.right=t.left+p),t.left<10?i.scrollLeft=0:t.left<d?i.scrollLeft=Math.max(0,t.left-(m?0:10)):t.right>p+d-3&&(i.scrollLeft=t.right+(m?0:10)-p),i}function Da(e,t){null!=t&&(Fa(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Na(e){Fa(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Ma(e,t,n){null==t&&null==n||Fa(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Fa(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Pa(e,Yn(e,t.from),Yn(e,t.to),t.margin))}function Pa(e,t,n,a){var r=Ia(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-a,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+a});Ma(e,r.scrollLeft,r.scrollTop)}function La(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||cr(e,{top:t}),Aa(e,t,!0),n&&cr(e),rr(e,100))}function Aa(e,t,n){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Ra(e,t,n,a){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!a||(e.doc.scrollLeft=t,pr(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ua(e){var t=e.display,n=t.gutters.offsetWidth,a=Math.round(e.doc.height+Sn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:a,scrollHeight:a+On(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var za=function(e,t,n){this.cm=n;var a=this.vert=j("div",[j("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=j("div",[j("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=r.tabIndex=-1,e(a),e(r),pe(a,"scroll",(function(){a.clientHeight&&t(a.scrollTop,"vertical")})),pe(r,"scroll",(function(){r.clientWidth&&t(r.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,i&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};za.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,a=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?a+"px":"0";var r=e.viewHeight-(t?a:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?a+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?a:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==a&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?a:0,bottom:t?a:0}},za.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},za.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},za.prototype.zeroWidthHack=function(){var e=v&&!m?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new U,this.disableVert=new U},za.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function a(){var r=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,a)}))},za.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var $a=function(){};function Ba(e,t){t||(t=Ua(e));var n=e.display.barWidth,a=e.display.barHeight;Va(e,t);for(var r=0;r<4&&n!=e.display.barWidth||a!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Oa(e),Va(e,Ua(e)),n=e.display.barWidth,a=e.display.barHeight}function Va(e,t){var n=e.display,a=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=a.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=a.bottom)+"px",n.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=a.bottom+"px",n.scrollbarFiller.style.width=a.right+"px"):n.scrollbarFiller.style.display="",a.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=a.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}$a.prototype.update=function(){return{bottom:0,right:0}},$a.prototype.setScrollLeft=function(){},$a.prototype.setScrollTop=function(){},$a.prototype.clear=function(){};var Ha={native:za,null:$a};function Wa(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&_(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ha[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),pe(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Ra(e,t):La(e,t)}),e),e.display.scrollbars.addClass&&M(e.display.wrapper,e.display.scrollbars.addClass)}var qa=0;function Ka(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++qa},t=e.curOp,sn?sn.ops.push(t):t.ownsGroup=sn={ops:[t],delayedCallbacks:[]}}function Ga(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var a=0;a<e.ops.length;a++){var r=e.ops[a];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(n)}finally{sn=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Ya(t[n]);for(var a=0;a<t.length;a++)Za(t[a]);for(var r=0;r<t.length;r++)Qa(t[r]);for(var o=0;o<t.length;o++)Xa(t[o]);for(var i=0;i<t.length;i++)Ja(t[i])}(e)}))}function Ya(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=On(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=On(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&qt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ir(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Za(e){e.updatedDisplay=e.mustUpdate&&sr(e.cm,e.update)}function Qa(e){var t=e.cm,n=t.display;e.updatedDisplay&&Oa(t),e.barMeasure=Ua(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Dn(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+On(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Tn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Xa(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Ra(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==N();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Ba(t,e.barMeasure),e.updatedDisplay&&dr(t,e.barMeasure),e.selectionChanged&&xa(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ca(e.cm)}function Ja(e){var t=e.cm,n=t.display,a=t.doc;e.updatedDisplay&&lr(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Aa(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Ra(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!ge(e,"scrollCursorIntoView")){var n=e.display,a=n.sizer.getBoundingClientRect(),r=null;if(t.top+a.top<0?r=!0:t.bottom+a.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!h){var o=j("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-kn(e.display))+"px;\n                         height: "+(t.bottom-t.top+On(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,a){var r;null==a&&(a=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?tt(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?tt(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var i=!1,s=Gn(e,t),l=n&&n!=t?Gn(e,n):s,c=Ia(e,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-a,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+a}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(La(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(i=!0)),null!=c.scrollLeft&&(Ra(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(i=!0)),!i)break}return r}(t,lt(a,e.scrollToPos.from),lt(a,e.scrollToPos.to),e.scrollToPos.margin));var r=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(r)for(var i=0;i<r.length;++i)r[i].lines.length||fe(r[i],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&fe(o[s],"unhide");n.wrapper.offsetHeight&&(a.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&fe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function er(e,t){if(e.curOp)return t();Ka(e);try{return t()}finally{Ga(e)}}function tr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Ka(e);try{return t.apply(e,arguments)}finally{Ga(e)}}}function nr(e){return function(){if(this.curOp)return e.apply(this,arguments);Ka(this);try{return e.apply(this,arguments)}finally{Ga(this)}}}function ar(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Ka(t);try{return e.apply(this,arguments)}finally{Ga(t)}}}function rr(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,L(or,e))}function or(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,a=ht(e,t.highlightFrontier),r=[];t.iter(a.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(a.line>=e.display.viewFrom){var i=o.styles,s=o.text.length>e.options.maxHighlightLength?Ve(t.mode,a.state):null,l=pt(e,o,a,!0);s&&(a.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!i||i.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),p=0;!d&&p<i.length;++p)d=i[p]!=o.styles[p];d&&r.push(a.line),o.stateAfter=a.save(),a.nextLine()}else o.text.length<=e.options.maxHighlightLength&&ft(e,o.text,a),o.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>n)return rr(e,e.options.workDelay),!0})),t.highlightFrontier=a.line,t.modeFrontier=Math.max(t.modeFrontier,a.line),r.length&&er(e,(function(){for(var t=0;t<r.length;t++)ma(e,r[t],"text")}))}}var ir=function(e,t,n){var a=e.display;this.viewport=t,this.visible=ja(a,e.doc,t),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=Tn(e),this.force=n,this.dims=ia(e),this.events=[]};function sr(e,t){var n=e.display,a=e.doc;if(t.editorIsHidden)return ha(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==ga(e))return!1;mr(e)&&(ha(e),t.dims=ia(e));var r=a.first+a.size,o=Math.max(t.visible.from-e.options.viewportMargin,a.first),i=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(a.first,n.viewFrom)),n.viewTo>i&&n.viewTo-i<20&&(i=Math.min(r,n.viewTo)),Ct&&(o=zt(e.doc,o),i=$t(e.doc,i));var s=o!=n.viewFrom||i!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var a=e.display;0==a.view.length||t>=a.viewTo||n<=a.viewFrom?(a.view=on(e,t,n),a.viewFrom=t):(a.viewFrom>t?a.view=on(e,t,a.viewFrom).concat(a.view):a.viewFrom<t&&(a.view=a.view.slice(da(e,t))),a.viewFrom=t,a.viewTo<n?a.view=a.view.concat(on(e,a.viewTo,n)):a.viewTo>n&&(a.view=a.view.slice(0,da(e,n)))),a.viewTo=n}(e,o,i),n.viewOffset=Ht(Ke(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=ga(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=N();if(!t||!D(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var a=window.getSelection();a.anchorNode&&a.extend&&D(e.display.lineDiv,a.anchorNode)&&(n.anchorNode=a.anchorNode,n.anchorOffset=a.anchorOffset,n.focusNode=a.focusNode,n.focusOffset=a.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var a=e.display,r=e.options.lineNumbers,o=a.lineDiv,i=o.firstChild;function s(t){var n=t.nextSibling;return l&&v&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=a.view,u=a.viewFrom,d=0;d<c.length;d++){var p=c[d];if(p.hidden);else if(p.node&&p.node.parentNode==o){for(;i!=p.node;)i=s(i);var m=r&&null!=t&&t<=u&&p.lineNumber;p.changes&&(z(p.changes,"gutter")>-1&&(m=!1),dn(e,p,u,n)),m&&(O(p.lineNumber),p.lineNumber.appendChild(document.createTextNode(et(e.options,u)))),i=p.node.nextSibling}else{var h=vn(e,p,u,n);o.insertBefore(h,i)}u+=p.size}for(;i;)i=s(i)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=N()&&(e.activeElt.focus(),e.anchorNode&&D(document.body,e.anchorNode)&&D(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,rr(e,400)),n.updateLineNumbers=null,!0}function lr(e,t){for(var n=t.viewport,a=!0;(a&&e.options.lineWrapping&&t.oldDisplayWidth!=Tn(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-jn(e),n.top)}),t.visible=ja(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&sr(e,t);a=!1){Oa(e);var r=Ua(e);ba(e),Ba(e,r),dr(e,r),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function cr(e,t){var n=new ir(e,t);if(sr(e,n)){Oa(e),lr(e,n);var a=Ua(e);ba(e),Ba(e,a),dr(e,a),n.finish()}}function ur(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function dr(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+On(e)+"px"}function pr(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var a=sa(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=a+"px",i=0;i<n.length;i++)if(!n[i].hidden){e.options.fixedGutter&&(n[i].gutter&&(n[i].gutter.style.left=o),n[i].gutterBackground&&(n[i].gutterBackground.style.left=o));var s=n[i].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=a+r+"px")}}function mr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=et(e.options,t.first+t.size-1),a=e.display;if(n.length!=a.lineNumChars){var r=a.measure.appendChild(j("div",[j("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,i=r.offsetWidth-o;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(o,a.lineGutter.offsetWidth-i)+1,a.lineNumWidth=a.lineNumInnerWidth+i,a.lineNumChars=a.lineNumInnerWidth?n.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",ur(e.display),!0}return!1}function hr(e,t){for(var n=[],a=!1,r=0;r<e.length;r++){var o=e[r],i=null;if("string"!=typeof o&&(i=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;a=!0}n.push({className:o,style:i})}return t&&!a&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function fr(e){var t=e.gutters,n=e.gutterSpecs;O(t),e.lineGutter=null;for(var a=0;a<n.length;++a){var r=n[a],o=r.className,i=r.style,s=t.appendChild(j("div",null,"CodeMirror-gutter "+o));i&&(s.style.cssText=i),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ur(e)}function gr(e){fr(e.display),pa(e),pr(e)}function br(e,t,a,r){var o=this;this.input=a,o.scrollbarFiller=j("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=j("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=I("div",null,"CodeMirror-code"),o.selectionDiv=j("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=j("div",null,"CodeMirror-cursors"),o.measure=j("div",null,"CodeMirror-measure"),o.lineMeasure=j("div",null,"CodeMirror-measure"),o.lineSpace=I("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=I("div",[o.lineSpace],"CodeMirror-lines");o.mover=j("div",[c],null,"position: relative"),o.sizer=j("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=j("div",null,null,"position: absolute; height: "+$+"px; width: 1px;"),o.gutters=j("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=j("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=j("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),i&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&b||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=hr(r.gutters,r.lineNumbers),fr(o),a.init(o)}ir.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ir.prototype.finish=function(){for(var e=0;e<this.events.length;e++)fe.apply(null,this.events[e])};var vr=0,yr=null;function Er(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function wr(e){var t=Er(e);return t.x*=yr,t.y*=yr,t}function xr(e,t){var a=Er(t),r=a.x,o=a.y,i=e.display,s=i.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(r&&c||o&&u){if(o&&v&&l)e:for(var p=t.target,m=i.view;p!=s;p=p.parentNode)for(var h=0;h<m.length;h++)if(m[h].node==p){e.display.currentWheelTarget=p;break e}if(r&&!n&&!d&&null!=yr)return o&&u&&La(e,Math.max(0,s.scrollTop+o*yr)),Ra(e,Math.max(0,s.scrollLeft+r*yr)),(!o||o&&u)&&Ee(t),void(i.wheelStartX=null);if(o&&null!=yr){var f=o*yr,g=e.doc.scrollTop,b=g+i.wrapper.clientHeight;f<0?g=Math.max(0,g+f-50):b=Math.min(e.doc.height,b+f+50),cr(e,{top:g,bottom:b})}vr<20&&(null==i.wheelStartX?(i.wheelStartX=s.scrollLeft,i.wheelStartY=s.scrollTop,i.wheelDX=r,i.wheelDY=o,setTimeout((function(){if(null!=i.wheelStartX){var e=s.scrollLeft-i.wheelStartX,t=s.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(yr=(yr*vr+n)/(vr+1),++vr)}}),200)):(i.wheelDX+=r,i.wheelDY+=o))}}i?yr=-.53:n?yr=15:u?yr=-.7:p&&(yr=-1/3);var Cr=function(e,t){this.ranges=e,this.primIndex=t};Cr.prototype.primary=function(){return this.ranges[this.primIndex]},Cr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],a=e.ranges[t];if(!at(n.anchor,a.anchor)||!at(n.head,a.head))return!1}return!0},Cr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new kr(rt(this.ranges[t].anchor),rt(this.ranges[t].head));return new Cr(e,this.primIndex)},Cr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Cr.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var a=this.ranges[n];if(nt(t,a.from())>=0&&nt(e,a.to())<=0)return n}return-1};var kr=function(e,t){this.anchor=e,this.head=t};function Sr(e,t,n){var a=e&&e.options.selectionsMayTouch,r=t[n];t.sort((function(e,t){return nt(e.from(),t.from())})),n=z(t,r);for(var o=1;o<t.length;o++){var i=t[o],s=t[o-1],l=nt(s.to(),i.from());if(a&&!i.empty()?l>0:l>=0){var c=it(s.from(),i.from()),u=ot(s.to(),i.to()),d=s.empty()?i.from()==i.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new kr(d?u:c,d?c:u))}}return new Cr(t,n)}function _r(e,t){return new Cr([new kr(e,t||e)],0)}function Or(e){return e.text?tt(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Tr(e,t){if(nt(e,t.from)<0)return e;if(nt(e,t.to)<=0)return Or(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,a=e.ch;return e.line==t.to.line&&(a+=Or(t).ch-t.to.ch),tt(n,a)}function jr(e,t){for(var n=[],a=0;a<e.sel.ranges.length;a++){var r=e.sel.ranges[a];n.push(new kr(Tr(r.anchor,t),Tr(r.head,t)))}return Sr(e.cm,n,e.sel.primIndex)}function Ir(e,t,n){return e.line==t.line?tt(n.line,e.ch-t.ch+n.ch):tt(n.line+(e.line-t.line),e.ch)}function Dr(e){e.doc.mode=ze(e.options,e.doc.modeOption),Nr(e)}function Nr(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,rr(e,100),e.state.modeGen++,e.curOp&&pa(e)}function Mr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Fr(e,t,n,a){function r(e){return n?n[e]:null}function o(e,n,r){!function(e,t,n,a){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),jt(e),It(e,n);var r=a?a(e):1;r!=e.height&&Ze(e,r)}(e,n,r,a),cn(e,"change",e,t)}function i(e,t){for(var n=[],o=e;o<t;++o)n.push(new Kt(c[o],r(o),a));return n}var s=t.from,l=t.to,c=t.text,u=Ke(e,s.line),d=Ke(e,l.line),p=Y(c),m=r(c.length-1),h=l.line-s.line;if(t.full)e.insert(0,i(0,c.length)),e.remove(c.length,e.size-c.length);else if(Mr(e,t)){var f=i(0,c.length-1);o(d,d.text,m),h&&e.remove(s.line,h),f.length&&e.insert(s.line,f)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+p+u.text.slice(l.ch),m);else{var g=i(1,c.length-1);g.push(new Kt(p+u.text.slice(l.ch),m,a)),o(u,u.text.slice(0,s.ch)+c[0],r(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),r(0)),e.remove(s.line+1,h);else{o(u,u.text.slice(0,s.ch)+c[0],r(0)),o(d,p+d.text.slice(l.ch),m);var b=i(1,c.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,b)}cn(e,"change",e,t)}function Pr(e,t,n){!function e(a,r,o){if(a.linked)for(var i=0;i<a.linked.length;++i){var s=a.linked[i];if(s.doc!=r){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,a,l))}}}(e,null,!0)}function Lr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,ca(e),Dr(e),Ar(e),e.options.lineWrapping||qt(e),e.options.mode=t.modeOption,pa(e)}function Ar(e){("rtl"==e.doc.direction?M:_)(e.display.lineDiv,"CodeMirror-rtl")}function Rr(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ur(e,t){var n={from:rt(t.from),to:Or(t),text:Ge(e,t.from,t.to)};return Hr(e,n,t.from.line,t.to.line+1),Pr(e,(function(e){return Hr(e,n,t.from.line,t.to.line+1)}),!0),n}function zr(e){for(;e.length&&Y(e).ranges;)e.pop()}function $r(e,t,n,a){var r=e.history;r.undone.length=0;var o,i,s=+new Date;if((r.lastOp==a||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&r.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(zr(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(r,r.lastOp==a)))i=Y(o.changes),0==nt(t.from,t.to)&&0==nt(t.from,i.to)?i.to=Or(t):o.changes.push(Ur(e,t));else{var l=Y(r.done);for(l&&l.ranges||Vr(e.sel,r.done),o={changes:[Ur(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=a,r.lastOrigin=r.lastSelOrigin=t.origin,i||fe(e,"historyAdded")}function Br(e,t,n,a){var r=e.history,o=a&&a.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||function(e,t,n,a){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==a.ranges.length&&n.somethingSelected()==a.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(r.done),t))?r.done[r.done.length-1]=t:Vr(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,a&&!1!==a.clearRedo&&zr(r.undone)}function Vr(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Hr(e,t,n,a){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,a),(function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Wr(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function qr(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var a=[],r=0;r<t.text.length;++r)a.push(Wr(n[r]));return a}(e,t),a=Ot(e,t);if(!n)return a;if(!a)return n;for(var r=0;r<n.length;++r){var o=n[r],i=a[r];if(o&&i)e:for(var s=0;s<i.length;++s){for(var l=i[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else i&&(n[r]=i)}return n}function Kr(e,t,n){for(var a=[],r=0;r<e.length;++r){var o=e[r];if(o.ranges)a.push(n?Cr.prototype.deepCopy.call(o):o);else{var i=o.changes,s=[];a.push({changes:s});for(var l=0;l<i.length;++l){var c=i[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&z(t,Number(u[1]))>-1&&(Y(s)[d]=c[d],delete c[d])}}}return a}function Gr(e,t,n,a){if(a){var r=e.anchor;if(n){var o=nt(t,r)<0;o!=nt(n,r)<0?(r=t,t=n):o!=nt(t,n)<0&&(t=n)}return new kr(r,t)}return new kr(n||t,t)}function Yr(e,t,n,a,r){null==r&&(r=e.cm&&(e.cm.display.shift||e.extend)),eo(e,new Cr([Gr(e.sel.primary(),t,n,r)],0),a)}function Zr(e,t,n){for(var a=[],r=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)a[o]=Gr(e.sel.ranges[o],t[o],null,r);eo(e,Sr(e.cm,a,e.sel.primIndex),n)}function Qr(e,t,n,a){var r=e.sel.ranges.slice(0);r[t]=n,eo(e,Sr(e.cm,r,e.sel.primIndex),a)}function Xr(e,t,n,a){eo(e,_r(t,n),a)}function Jr(e,t,n){var a=e.history.done,r=Y(a);r&&r.ranges?(a[a.length-1]=t,to(e,t,n)):eo(e,t,n)}function eo(e,t,n){to(e,t,n),Br(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function to(e,t,n){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var a={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new kr(lt(e,t[n].anchor),lt(e,t[n].head))},origin:n&&n.origin};return fe(e,"beforeSelectionChange",e,a),e.cm&&fe(e.cm,"beforeSelectionChange",e.cm,a),a.ranges!=t.ranges?Sr(e.cm,a.ranges,a.ranges.length-1):t}(e,t,n));var a=n&&n.bias||(nt(t.primary().head,e.sel.primary().head)<0?-1:1);no(e,ro(e,t,a,!0)),n&&!1===n.scroll||!e.cm||Na(e.cm)}function no(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,be(e.cm)),cn(e,"cursorActivity",e))}function ao(e){no(e,ro(e,e.sel,null,!1))}function ro(e,t,n,a){for(var r,o=0;o<t.ranges.length;o++){var i=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=io(e,i.anchor,s&&s.anchor,n,a),c=io(e,i.head,s&&s.head,n,a);(r||l!=i.anchor||c!=i.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new kr(l,c))}return r?Sr(e.cm,r,t.primIndex):t}function oo(e,t,n,a,r){var o=Ke(e,t.line);if(o.markedSpans)for(var i=0;i<o.markedSpans.length;++i){var s=o.markedSpans[i],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(r&&(fe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--i;continue}break}if(!l.atomic)continue;if(n){var d=l.find(a<0?1:-1),p=void 0;if((a<0?u:c)&&(d=so(e,d,-a,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(p=nt(d,n))&&(a<0?p<0:p>0))return oo(e,d,t,a,r)}var m=l.find(a<0?-1:1);return(a<0?c:u)&&(m=so(e,m,a,m.line==t.line?o:null)),m?oo(e,m,t,a,r):null}}return t}function io(e,t,n,a,r){var o=a||1,i=oo(e,t,n,o,r)||!r&&oo(e,t,n,o,!0)||oo(e,t,n,-o,r)||!r&&oo(e,t,n,-o,!0);return i||(e.cantEdit=!0,tt(e.first,0))}function so(e,t,n,a){return n<0&&0==t.ch?t.line>e.first?lt(e,tt(t.line-1)):null:n>0&&t.ch==(a||Ke(e,t.line)).text.length?t.line<e.first+e.size-1?tt(t.line+1,0):null:new tt(t.line,t.ch+n)}function lo(e){e.setSelection(tt(e.firstLine(),0),tt(e.lastLine()),V)}function co(e,t,n){var a={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return a.canceled=!0}};return n&&(a.update=function(t,n,r,o){t&&(a.from=lt(e,t)),n&&(a.to=lt(e,n)),r&&(a.text=r),void 0!==o&&(a.origin=o)}),fe(e,"beforeChange",e,a),e.cm&&fe(e.cm,"beforeChange",e.cm,a),a.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function uo(e,t,n){if(e.cm){if(!e.cm.curOp)return tr(e.cm,uo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=co(e,t,!0))){var a=xt&&!n&&function(e,t,n){var a=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||a&&-1!=z(a,n)||(a||(a=[])).push(n)}})),!a)return null;for(var r=[{from:t,to:n}],o=0;o<a.length;++o)for(var i=a[o],s=i.find(0),l=0;l<r.length;++l){var c=r[l];if(!(nt(c.to,s.from)<0||nt(c.from,s.to)>0)){var u=[l,1],d=nt(c.from,s.from),p=nt(c.to,s.to);(d<0||!i.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(p>0||!i.inclusiveRight&&!p)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-3}}return r}(e,t.from,t.to);if(a)for(var r=a.length-1;r>=0;--r)po(e,{from:a[r].from,to:a[r].to,text:r?[""]:t.text,origin:t.origin});else po(e,t)}}function po(e,t){if(1!=t.text.length||""!=t.text[0]||0!=nt(t.from,t.to)){var n=jr(e,t);$r(e,t,n,e.cm?e.cm.curOp.id:NaN),fo(e,t,n,Ot(e,t));var a=[];Pr(e,(function(e,n){n||-1!=z(a,e.history)||(yo(e.history,t),a.push(e.history)),fo(e,t,null,Ot(e,t))}))}}function mo(e,t,n){var a=e.cm&&e.cm.state.suppressEdits;if(!a||n){for(var r,o=e.history,i=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(r=s[c],n?!r.ranges||r.equals(e.sel):r.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(a)return void s.push(r);break}if(Vr(r,l),n&&!r.equals(e.sel))return void eo(e,r,{clearRedo:!1});i=r}var u=[];Vr(i,l),l.push({changes:u,generation:o.generation}),o.generation=r.generation||++o.maxGeneration;for(var d=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),p=function(n){var a=r.changes[n];if(a.origin=t,d&&!co(e,a,!1))return s.length=0,{};u.push(Ur(e,a));var o=n?jr(e,a):Y(s);fo(e,a,o,qr(e,a)),!n&&e.cm&&e.cm.scrollIntoView({from:a.from,to:Or(a)});var i=[];Pr(e,(function(e,t){t||-1!=z(i,e.history)||(yo(e.history,a),i.push(e.history)),fo(e,a,null,qr(e,a))}))},m=r.changes.length-1;m>=0;--m){var h=p(m);if(h)return h.v}}}}function ho(e,t){if(0!=t&&(e.first+=t,e.sel=new Cr(Z(e.sel.ranges,(function(e){return new kr(tt(e.anchor.line+t,e.anchor.ch),tt(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){pa(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,a=n.viewFrom;a<n.viewTo;a++)ma(e.cm,a,"gutter")}}function fo(e,t,n,a){if(e.cm&&!e.cm.curOp)return tr(e.cm,fo)(e,t,n,a);if(t.to.line<e.first)ho(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);ho(e,r),t={from:tt(e.first,0),to:tt(t.to.line+r,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:tt(o,Ke(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ge(e,t.from,t.to),n||(n=jr(e,t)),e.cm?function(e,t,n){var a=e.doc,r=e.display,o=t.from,i=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=Qe(Ut(Ke(a,o.line))),a.iter(l,i.line+1,(function(e){if(e==r.maxLine)return s=!0,!0}))),a.sel.contains(t.from,t.to)>-1&&be(e),Fr(a,t,n,la(e)),e.options.lineWrapping||(a.iter(l,o.line+t.text.length,(function(e){var t=Wt(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,a=t-1;a>n;a--){var r=Ke(e,a).stateAfter;if(r&&(!(r instanceof ut)||a+r.lookAhead<t)){n=a+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(a,o.line),rr(e,400);var c=t.text.length-(i.line-o.line)-1;t.full?pa(e):o.line!=i.line||1!=t.text.length||Mr(e.doc,t)?pa(e,o.line,i.line+1,c):ma(e,o.line,"text");var u=ve(e,"changes"),d=ve(e,"change");if(d||u){var p={from:o,to:i,text:t.text,removed:t.removed,origin:t.origin};d&&cn(e,"change",e,p),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}(e.cm,t,a):Fr(e,t,a),to(e,n,V),e.cantEdit&&io(e,tt(e.firstLine(),0))&&(e.cantEdit=!1)}}function go(e,t,n,a,r){var o;a||(a=n),nt(a,n)<0&&(n=(o=[a,n])[0],a=o[1]),"string"==typeof t&&(t=e.splitLines(t)),uo(e,{from:n,to:a,text:t,origin:r})}function bo(e,t,n,a){n<e.line?e.line+=a:t<e.line&&(e.line=t,e.ch=0)}function vo(e,t,n,a){for(var r=0;r<e.length;++r){var o=e[r],i=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)bo(o.ranges[s].anchor,t,n,a),bo(o.ranges[s].head,t,n,a)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=tt(c.from.line+a,c.from.ch),c.to=tt(c.to.line+a,c.to.ch);else if(t<=c.to.line){i=!1;break}}i||(e.splice(0,r+1),r=0)}}}function yo(e,t){var n=t.from.line,a=t.to.line,r=t.text.length-(a-n)-1;vo(e.done,n,a,r),vo(e.undone,n,a,r)}function Eo(e,t,n,a){var r=t,o=t;return"number"==typeof t?o=Ke(e,st(e,t)):r=Qe(t),null==r?null:(a(o,r)&&e.cm&&ma(e.cm,r,n),o)}function wo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function xo(e){this.children=e;for(var t=0,n=0,a=0;a<e.length;++a){var r=e[a];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}kr.prototype.from=function(){return it(this.anchor,this.head)},kr.prototype.to=function(){return ot(this.anchor,this.head)},kr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,a=e+t;n<a;++n){var r=this.lines[n];this.height-=r.height,Gt(r),cn(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var a=0;a<t.length;++a)t[a].parent=this},iterN:function(e,t,n){for(var a=e+t;e<a;++e)if(n(this.lines[e]))return!0}},xo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var a=this.children[n],r=a.chunkSize();if(e<r){var o=Math.min(t,r-e),i=a.height;if(a.removeInner(e,o),this.height-=i-a.height,r==o&&(this.children.splice(n--,1),a.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof wo))){var s=[];this.collapse(s),this.children=[new wo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(var i=r.lines.length%25+25,s=i;s<r.lines.length;){var l=new wo(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++a,0,l),l.parent=this}r.lines=r.lines.slice(0,i),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new xo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=z(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var a=new xo(e.children);a.parent=e,e.children=[a,t],e=a}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var a=0;a<this.children.length;++a){var r=this.children[a],o=r.chunkSize();if(e<o){var i=Math.min(t,o-e);if(r.iterN(e,i,n))return!0;if(0==(t-=i))break;e=0}else e-=o}}};var Co=function(e,t,n){if(n)for(var a in n)n.hasOwnProperty(a)&&(this[a]=n[a]);this.doc=e,this.node=t};function ko(e,t,n){Ht(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Da(e,n)}Co.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,a=Qe(n);if(null!=a&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=xn(this);Ze(n,Math.max(0,n.height-o)),e&&(er(e,(function(){ko(e,n,-o),ma(e,a,"widget")})),cn(e,"lineWidgetCleared",e,this,a))}},Co.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,a=this.line;this.height=null;var r=xn(this)-t;r&&(Bt(this.doc,a)||Ze(a,a.height+r),n&&er(n,(function(){n.curOp.forceUpdate=!0,ko(n,a,r),cn(n,"lineWidgetChanged",n,e,Qe(a))})))},ye(Co);var So=0,_o=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++So};function Oo(e,t,n,a,r){if(a&&a.shared)return function(e,t,n,a,r){(a=A(a)).shared=!1;var o=[Oo(e,t,n,a,r)],i=o[0],s=a.widgetNode;return Pr(e,(function(e){s&&(a.widgetNode=s.cloneNode(!0)),o.push(Oo(e,lt(e,t),lt(e,n),a,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;i=Y(o)})),new To(o,i)}(e,t,n,a,r);if(e.cm&&!e.cm.curOp)return tr(e.cm,Oo)(e,t,n,a,r);var o=new _o(e,r),i=nt(t,n);if(a&&A(a,o,!1),i>0||0==i&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=I("span",[o.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Rt(e,t.line,t,n,o)||t.line!=n.line&&Rt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ct=!0}o.addToHistory&&$r(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&Ut(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Ze(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new kt(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Bt(e,t)&&Ze(t,0)})),o.clearOnEnter&&pe(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(xt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++So,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)pa(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)ma(c,u,"text");o.atomic&&ao(c.doc),cn(c,"markerAdded",c,o)}return o}_o.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Ka(e),ve(this,"clear")){var n=this.find();n&&cn(this,"clear",n.from,n.to)}for(var a=null,r=null,o=0;o<this.lines.length;++o){var i=this.lines[o],s=St(i.markedSpans,this);e&&!this.collapsed?ma(e,Qe(i),"text"):e&&(null!=s.to&&(r=Qe(i)),null!=s.from&&(a=Qe(i))),i.markedSpans=_t(i.markedSpans,s),null==s.from&&this.collapsed&&!Bt(this.doc,i)&&e&&Ze(i,ra(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Ut(this.lines[l]),u=Wt(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=a&&e&&this.collapsed&&pa(e,a,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ao(e.doc)),e&&cn(e,"markerCleared",e,this,a,r),t&&Ga(e),this.parent&&this.parent.clear()}},_o.prototype.find=function(e,t){var n,a;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],i=St(o.markedSpans,this);if(null!=i.from&&(n=tt(t?o:Qe(o),i.from),-1==e))return n;if(null!=i.to&&(a=tt(t?o:Qe(o),i.to),1==e))return a}return n&&{from:n,to:a}},_o.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,a=this.doc.cm;t&&a&&er(a,(function(){var r=t.line,o=Qe(t.line),i=Nn(a,o);if(i&&(Un(i),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!Bt(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=xn(n)-s;l&&Ze(r,r.height+l)}cn(a,"markerChanged",a,e)}))},_o.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=z(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},_o.prototype.detachLine=function(e){if(this.lines.splice(z(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},ye(_o);var To=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function jo(e){return e.findMarks(tt(e.first,0),e.clipPos(tt(e.lastLine())),(function(e){return e.parent}))}function Io(e){for(var t=function(t){var n=e[t],a=[n.primary.doc];Pr(n.primary.doc,(function(e){return a.push(e)}));for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==z(a,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}},n=0;n<e.length;n++)t(n)}To.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();cn(this,"clear")}},To.prototype.find=function(e,t){return this.primary.find(e,t)},ye(To);var Do=0,No=function(e,t,n,a,r){if(!(this instanceof No))return new No(e,t,n,a,r);null==n&&(n=0),xo.call(this,[new wo([new Kt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=tt(n,0);this.sel=_r(o),this.history=new Rr(null),this.id=++Do,this.modeOption=t,this.lineSep=a,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Fr(this,{from:o,to:o,text:e}),eo(this,_r(o),V)};No.prototype=X(xo.prototype,{constructor:No,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,a=0;a<t.length;++a)n+=t[a].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ye(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ar((function(e){var t=tt(this.first,0),n=this.first+this.size-1;uo(this,{from:t,to:tt(n,Ke(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Ma(this.cm,0,0),eo(this,_r(t),V)})),replaceRange:function(e,t,n,a){go(this,e,t=lt(this,t),n=n?lt(this,n):t,a)},getRange:function(e,t,n){var a=Ge(this,lt(this,e),lt(this,t));return!1===n?a:a.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return Ke(this,e)},getLineNumber:function(e){return Qe(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ke(this,e)),Ut(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return lt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ar((function(e,t,n){Xr(this,lt(this,"number"==typeof e?tt(e,t||0):e),null,n)})),setSelection:ar((function(e,t,n){Xr(this,lt(this,e),lt(this,t||e),n)})),extendSelection:ar((function(e,t,n){Yr(this,lt(this,e),t&&lt(this,t),n)})),extendSelections:ar((function(e,t){Zr(this,ct(this,e),t)})),extendSelectionsBy:ar((function(e,t){Zr(this,ct(this,Z(this.sel.ranges,e)),t)})),setSelections:ar((function(e,t,n){if(e.length){for(var a=[],r=0;r<e.length;r++)a[r]=new kr(lt(this,e[r].anchor),lt(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),eo(this,Sr(this.cm,a,t),n)}})),addSelection:ar((function(e,t,n){var a=this.sel.ranges.slice(0);a.push(new kr(lt(this,e),lt(this,t||e))),eo(this,Sr(this.cm,a,a.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,a=0;a<n.length;a++){var r=Ge(this,n[a].from(),n[a].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,a=0;a<n.length;a++){var r=Ge(this,n[a].from(),n[a].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[a]=r}return t},replaceSelection:function(e,t,n){for(var a=[],r=0;r<this.sel.ranges.length;r++)a[r]=e;this.replaceSelections(a,t,n||"+input")},replaceSelections:ar((function(e,t,n){for(var a=[],r=this.sel,o=0;o<r.ranges.length;o++){var i=r.ranges[o];a[o]={from:i.from(),to:i.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var a=[],r=tt(e.first,0),o=r,i=0;i<t.length;i++){var s=t[i],l=Ir(s.from,r,o),c=Ir(Or(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[i],d=nt(u.head,u.anchor)<0;a[i]=new kr(d?c:l,d?l:c)}else a[i]=new kr(l,l)}return new Cr(a,e.sel.primIndex)}(this,a,t),l=a.length-1;l>=0;l--)uo(this,a[l]);s?Jr(this,s):this.cm&&Na(this.cm)})),undo:ar((function(){mo(this,"undo")})),redo:ar((function(){mo(this,"redo")})),undoSelection:ar((function(){mo(this,"undo",!0)})),redoSelection:ar((function(){mo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,a=0;a<e.done.length;a++)e.done[a].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Rr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Kr(this.history.done),undone:Kr(this.history.undone)}},setHistory:function(e){var t=this.history=new Rr(this.history.maxGeneration);t.done=Kr(e.done.slice(0),null,!0),t.undone=Kr(e.undone.slice(0),null,!0)},setGutterMarker:ar((function(e,t,n){return Eo(this,e,"gutter",(function(e){var a=e.gutterMarkers||(e.gutterMarkers={});return a[t]=n,!n&&ne(a)&&(e.gutterMarkers=null),!0}))})),clearGutter:ar((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Eo(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,ne(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=Ke(this,e)))return null}else if(null==(t=Qe(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ar((function(e,t,n){return Eo(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[a]){if(k(n).test(e[a]))return!1;e[a]+=" "+n}else e[a]=n;return!0}))})),removeLineClass:ar((function(e,t,n){return Eo(this,e,"gutter"==t?"gutter":"class",(function(e){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[a];if(!r)return!1;if(null==n)e[a]=null;else{var o=r.match(k(n));if(!o)return!1;var i=o.index+o[0].length;e[a]=r.slice(0,o.index)+(o.index&&i!=r.length?" ":"")+r.slice(i)||null}return!0}))})),addLineWidget:ar((function(e,t,n){return function(e,t,n,a){var r=new Co(e,n,a),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Eo(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!Bt(e,t)){var a=Ht(t)<e.scrollTop;Ze(t,t.height+xn(r)),a&&Da(o,r.height),o.curOp.forceUpdate=!0}return!0})),o&&cn(o,"lineWidgetAdded",o,r,"number"==typeof t?t:Qe(t)),r}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Oo(this,lt(this,e),lt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return Oo(this,e=lt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Ke(this,(e=lt(this,e)).line).markedSpans;if(n)for(var a=0;a<n.length;++a){var r=n[a];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=lt(this,e),t=lt(this,t);var a=[],r=e.line;return this.iter(e.line,t.line+1,(function(o){var i=o.markedSpans;if(i)for(var s=0;s<i.length;s++){var l=i[s];null!=l.to&&r==e.line&&e.ch>=l.to||null==l.from&&r!=e.line||null!=l.from&&r==t.line&&l.from>=t.ch||n&&!n(l.marker)||a.push(l.marker.parent||l.marker)}++r})),a},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var a=0;a<n.length;++a)null!=n[a].from&&e.push(n[a].marker)})),e},posFromIndex:function(e){var t,n=this.first,a=this.lineSeparator().length;return this.iter((function(r){var o=r.text.length+a;if(o>e)return t=e,!0;e-=o,++n})),lt(this,tt(n,t))},indexFromPos:function(e){var t=(e=lt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new No(Ye(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var a=new No(Ye(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:e.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var a=t[n],r=a.find(),o=e.clipPos(r.from),i=e.clipPos(r.to);if(nt(o,i)){var s=Oo(e,o,i,a.primary,a.primary.type);a.markers.push(s),s.parent=a}}}(a,jo(this)),a},unlinkDoc:function(e){if(e instanceof Ti&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Io(jo(this));break}if(e.history==this.history){var n=[e.id];Pr(e,(function(e){return n.push(e.id)}),!0),e.history=new Rr(null),e.history.done=Kr(this.history.done,n),e.history.undone=Kr(this.history.undone,n)}},iterLinkedDocs:function(e){Pr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ne(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ar((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&er(t=this.cm,(function(){Ar(t),pa(t)})))}))}),No.prototype.eachLine=No.prototype.iter;var Mo=0;function Fo(e){var t=this;if(Po(t),!ge(t,e)&&!Cn(t.display,e)){Ee(e),i&&(Mo=+new Date);var n=ua(t,e,!0),a=e.dataTransfer.files;if(n&&!t.isReadOnly())if(a&&a.length&&window.FileReader&&window.File)for(var r=a.length,o=Array(r),s=0,l=function(e,a){if(!t.options.allowDropFileTypes||-1!=z(t.options.allowDropFileTypes,e.type)){var i=new FileReader;i.onload=tr(t,(function(){var e=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[a]=e,++s==r){var l={from:n=lt(t.doc,n),to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};uo(t.doc,l),Jr(t.doc,_r(n,Or(l)))}})),i.readAsText(e)}},c=0;c<r;++c)l(a[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var u=e.dataTransfer.getData("Text");if(u){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),to(t.doc,_r(n,n)),d)for(var p=0;p<d.length;++p)go(t.doc,"",d[p].anchor,d[p].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Po(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Lo(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],a=0;a<t.length;a++){var r=t[a].CodeMirror;r&&n.push(r)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ao=!1;function Ro(){var e;Ao||(pe(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Lo(Uo)}),100))})),pe(window,"blur",(function(){return Lo(_a)})),Ao=!0)}function Uo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var zo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},$o=0;$o<10;$o++)zo[$o+48]=zo[$o+96]=String($o);for(var Bo=65;Bo<=90;Bo++)zo[Bo]=String.fromCharCode(Bo);for(var Vo=1;Vo<=12;Vo++)zo[Vo+111]=zo[Vo+63235]="F"+Vo;var Ho={};function Wo(e){var t,n,a,r,o=e.split(/-(?!$)/);e=o[o.length-1];for(var i=0;i<o.length-1;i++){var s=o[i];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);a=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),a&&(e="Shift-"+e),e}function qo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==a){delete e[n];continue}for(var r=Z(n.split(" "),Wo),o=0;o<r.length;o++){var i=void 0,s=void 0;o==r.length-1?(s=r.join(" "),i=a):(s=r.slice(0,o+1).join(" "),i="...");var l=t[s];if(l){if(l!=i)throw new Error("Inconsistent bindings for "+s)}else t[s]=i}delete e[n]}for(var c in t)e[c]=t[c];return e}function Ko(e,t,n,a){var r=(t=Qo(t)).call?t.call(e,a):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ko(e,t.fallthrough,n,a);for(var o=0;o<t.fallthrough.length;o++){var i=Ko(e,t.fallthrough[o],n,a);if(i)return i}}}function Go(e){var t="string"==typeof e?e:zo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Yo(e,t,n){var a=e;return t.altKey&&"Alt"!=a&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=a&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Cmd"!=a&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=a&&(e="Shift-"+e),e}function Zo(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=zo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Yo(n,e,t))}function Qo(e){return"string"==typeof e?Ho[e]:e}function Xo(e,t){for(var n=e.doc.sel.ranges,a=[],r=0;r<n.length;r++){for(var o=t(n[r]);a.length&&nt(o.from,Y(a).to)<=0;){var i=a.pop();if(nt(i.from,o.from)<0){o.from=i.from;break}}a.push(o)}er(e,(function(){for(var t=a.length-1;t>=0;t--)go(e.doc,"",a[t].from,a[t].to,"+delete");Na(e)}))}function Jo(e,t,n){var a=oe(e.text,t+n,n);return a<0||a>e.text.length?null:a}function ei(e,t,n){var a=Jo(e,t.ch,n);return null==a?null:new tt(t.line,a,n<0?"after":"before")}function ti(e,t,n,a,r){if(e){var o=ue(n,t.doc.direction);if(o){var i,s=r<0?Y(o):o[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Mn(t,n);i=r<0?n.text.length-1:0;var u=Fn(t,c,i).top;i=ie((function(e){return Fn(t,c,e).top==u}),r<0==(1==s.level)?s.from:s.to-1,i),"before"==l&&(i=Jo(n,i,1))}else i=r<0?s.to:s.from;return new tt(a,i,l)}}return new tt(a,r<0?n.text.length:0,r<0?"before":"after")}Ho.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ho.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ho.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ho.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ho.default=v?Ho.macDefault:Ho.pcDefault;var ni={selectAll:lo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),V)},killLine:function(e){return Xo(e,(function(t){if(t.empty()){var n=Ke(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:tt(t.head.line+1,0)}:{from:t.head,to:tt(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Xo(e,(function(t){return{from:tt(t.from().line,0),to:lt(e.doc,tt(t.to().line+1,0))}}))},delLineLeft:function(e){return Xo(e,(function(e){return{from:tt(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Xo(e,(function(t){var n=e.charCoords(t.head,"div").top+5,a=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:a}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(tt(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(tt(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ai(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return ri(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=Ke(e.doc,t),a=function(e){for(var t;t=Lt(e);)e=t.find(1,!0).line;return e}(n);return a!=n&&(t=Qe(a)),ti(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),W)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),W)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,a=e.coordsChar({left:0,top:n},"div");return a.ch<e.getLine(a.line).search(/\S/)?ri(e,t.head):a}),W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),a=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),i=R(e.getLine(o.line),o.ch,a);t.push(G(a-i%a))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return er(e,(function(){for(var t=e.listSelections(),n=[],a=0;a<t.length;a++)if(t[a].empty()){var r=t[a].head,o=Ke(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new tt(r.line,r.ch-1)),r.ch>0)r=new tt(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),tt(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var i=Ke(e.doc,r.line-1).text;i&&(r=new tt(r.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+i.charAt(i.length-1),tt(r.line-1,i.length-1),r,"+transpose"))}n.push(new kr(r,r))}e.setSelections(n)}))},newlineAndIndent:function(e){return er(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var a=0;a<t.length;a++)e.indentLine(t[a].from().line,null,!0);Na(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ai(e,t){var n=Ke(e.doc,t),a=Ut(n);return a!=n&&(t=Qe(a)),ti(!0,e,a,t,1)}function ri(e,t){var n=ai(e,t.line),a=Ke(e.doc,n.line),r=ue(a,e.doc.direction);if(!r||0==r[0].level){var o=Math.max(0,a.text.search(/\S/)),i=t.line==n.line&&t.ch<=o&&t.ch;return tt(n.line,i?0:o,n.sticky)}return n}function oi(e,t,n){if("string"==typeof t&&!(t=ni[t]))return!1;e.display.input.ensurePolled();var a=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=B}finally{e.display.shift=a,e.state.suppressEdits=!1}return r}var ii=new U;function si(e,t,n,a){var r=e.state.keySeq;if(r){if(Go(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ii.set(50,(function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())})),li(e,r+" "+t,n,a))return!0}return li(e,t,n,a)}function li(e,t,n,a){var r=function(e,t,n){for(var a=0;a<e.state.keyMaps.length;a++){var r=Ko(t,e.state.keyMaps[a],n,e);if(r)return r}return e.options.extraKeys&&Ko(t,e.options.extraKeys,n,e)||Ko(t,e.options.keyMap,n,e)}(e,t,a);return"multi"==r&&(e.state.keySeq=t),"handled"==r&&cn(e,"keyHandled",e,t,n),"handled"!=r&&"multi"!=r||(Ee(n),xa(e)),!!r}function ci(e,t){var n=Zo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?si(e,"Shift-"+n,t,(function(t){return oi(e,t,!0)}))||si(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return oi(e,t)})):si(e,n,t,(function(t){return oi(e,t)})))}var ui=null;function di(e){var t=this;if(t.curOp.focus=N(),!ge(t,e)){i&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var a=ci(t,e);d&&(ui=a?n:null,!a&&88==n&&!Fe&&(v?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(_(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n))}M(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n)}(t)}}function pi(e){16==e.keyCode&&(this.doc.sel.shift=!1),ge(this,e)}function mi(e){var t=this;if(!(Cn(t.display,e)||ge(t,e)||e.ctrlKey&&!e.altKey||v&&e.metaKey)){var n=e.keyCode,a=e.charCode;if(d&&n==ui)return ui=null,void Ee(e);if(!d||e.which&&!(e.which<10)||!ci(t,e)){var r=String.fromCharCode(null==a?n:a);"\b"!=r&&(function(e,t,n){return si(e,"'"+n+"'",t,(function(t){return oi(e,t,!0)}))}(t,e,r)||t.display.input.onKeyPress(e))}}}var hi,fi,gi=function(e,t,n){this.time=e,this.pos=t,this.button=n};function bi(e){var t=this,n=t.display;if(!(ge(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Cn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ei(t,e)){var a=ua(t,e),r=Se(e),o=a?function(e,t){var n=+new Date;return fi&&fi.compare(n,e,t)?(hi=fi=null,"triple"):hi&&hi.compare(n,e,t)?(fi=new gi(n,e,t),hi=null,"double"):(hi=new gi(n,e,t),fi=null,"single")}(a,r):"single";window.focus(),1==r&&t.state.selectingText&&t.state.selectingText(e),a&&function(e,t,n,a,r){var o="Click";return"double"==a?o="Double"+o:"triple"==a&&(o="Triple"+o),si(e,Yo(o=(1==t?"Left":2==t?"Middle":"Right")+o,r),r,(function(t){if("string"==typeof t&&(t=ni[t]),!t)return!1;var a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a=t(e,n)!=B}finally{e.state.suppressEdits=!1}return a}))}(t,r,a,o,e)||(1==r?a?function(e,t,n,a){i?setTimeout(L(Ca,e),0):e.curOp.focus=N();var r,o=function(e,t,n){var a=e.getOption("configureMouse"),r=a?a(e,t,n):{};if(null==r.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;r.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==r.extend||e.doc.extend)&&(r.extend=e.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=v?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(v?n.altKey:n.ctrlKey)),r}(e,n,a),c=e.doc.sel;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(r=c.contains(t))>-1&&(nt((r=c.ranges[r]).from(),t)<0||t.xRel>0)&&(nt(r.to(),t)>0||t.xRel<0)?function(e,t,n,a){var r=e.display,o=!1,c=tr(e,(function(t){l&&(r.scroller.draggable=!1),e.state.draggingText=!1,he(r.wrapper.ownerDocument,"mouseup",c),he(r.wrapper.ownerDocument,"mousemove",u),he(r.scroller,"dragstart",d),he(r.scroller,"drop",c),o||(Ee(t),a.addNew||Yr(e.doc,n,null,null,a.extend),l||i&&9==s?setTimeout((function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()}),20):r.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(r.scroller.draggable=!0),e.state.draggingText=c,c.copy=!a.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),pe(r.wrapper.ownerDocument,"mouseup",c),pe(r.wrapper.ownerDocument,"mousemove",u),pe(r.scroller,"dragstart",d),pe(r.scroller,"drop",c),ka(e),setTimeout((function(){return r.input.focus()}),20)}(e,a,t,o):function(e,t,n,a){var r=e.display,o=e.doc;Ee(t);var i,s,l=o.sel,c=l.ranges;if(a.addNew&&!a.extend?(s=o.sel.contains(n),i=s>-1?c[s]:new kr(n,n)):(i=o.sel.primary(),s=o.sel.primIndex),"rectangle"==a.unit)a.addNew||(i=new kr(n,n)),n=ua(e,t,!0,!0),s=-1;else{var u=vi(e,n,a.unit);i=a.extend?Gr(i,u.anchor,u.head,a.extend):u}a.addNew?-1==s?(s=c.length,eo(o,Sr(e,c.concat([i]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==a.unit&&!a.extend?(eo(o,Sr(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Qr(o,s,i,H):(s=0,eo(o,new Cr([i],0),H),l=o.sel);var d=n;function p(t){if(0!=nt(d,t))if(d=t,"rectangle"==a.unit){for(var r=[],c=e.options.tabSize,u=R(Ke(o,n.line).text,n.ch,c),p=R(Ke(o,t.line).text,t.ch,c),m=Math.min(u,p),h=Math.max(u,p),f=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));f<=g;f++){var b=Ke(o,f).text,v=q(b,m,c);m==h?r.push(new kr(tt(f,v),tt(f,v))):b.length>v&&r.push(new kr(tt(f,v),tt(f,q(b,h,c))))}r.length||r.push(new kr(n,n)),eo(o,Sr(e,l.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,E=i,w=vi(e,t,a.unit),x=E.anchor;nt(w.anchor,x)>0?(y=w.head,x=it(E.from(),w.anchor)):(y=w.anchor,x=ot(E.to(),w.head));var C=l.ranges.slice(0);C[s]=function(e,t){var n=t.anchor,a=t.head,r=Ke(e.doc,n.line);if(0==nt(n,a)&&n.sticky==a.sticky)return t;var o=ue(r);if(!o)return t;var i=le(o,n.ch,n.sticky),s=o[i];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=i+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(a.line!=n.line)l=(a.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=le(o,a.ch,a.sticky),d=u-i||(a.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var p=o[c+(l?-1:0)],m=l==(1==p.level),h=m?p.from:p.to,f=m?"after":"before";return n.ch==h&&n.sticky==f?t:new kr(new tt(n.line,h,f),a)}(e,new kr(lt(o,x),y)),eo(o,Sr(e,C,s),H)}}var m=r.wrapper.getBoundingClientRect(),h=0;function f(t){e.state.selectingText=!1,h=1/0,t&&(Ee(t),r.input.focus()),he(r.wrapper.ownerDocument,"mousemove",g),he(r.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var g=tr(e,(function(t){0!==t.buttons&&Se(t)?function t(n){var i=++h,s=ua(e,n,!0,"rectangle"==a.unit);if(s)if(0!=nt(s,d)){e.curOp.focus=N(),p(s);var l=ja(r,o);(s.line>=l.to||s.line<l.from)&&setTimeout(tr(e,(function(){h==i&&t(n)})),150)}else{var c=n.clientY<m.top?-20:n.clientY>m.bottom?20:0;c&&setTimeout(tr(e,(function(){h==i&&(r.scroller.scrollTop+=c,t(n))})),50)}}(t):f(t)})),b=tr(e,f);e.state.selectingText=b,pe(r.wrapper.ownerDocument,"mousemove",g),pe(r.wrapper.ownerDocument,"mouseup",b)}(e,a,t,o)}(t,a,o,e):ke(e)==n.scroller&&Ee(e):2==r?(a&&Yr(t.doc,a),setTimeout((function(){return n.input.focus()}),20)):3==r&&(C?t.display.input.onContextMenu(e):ka(t)))}}function vi(e,t,n){if("char"==n)return new kr(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new kr(tt(t.line,0),lt(e.doc,tt(t.line+1,0)));var a=n(e,t);return new kr(a.from,a.to)}function yi(e,t,n,a){var r,o;if(t.touches)r=t.touches[0].clientX,o=t.touches[0].clientY;else try{r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;a&&Ee(t);var i=e.display,s=i.lineDiv.getBoundingClientRect();if(o>s.bottom||!ve(e,n))return xe(t);o-=s.top-i.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=i.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r)return fe(e,n,e,Xe(e.doc,o),e.display.gutterSpecs[l].className,t),xe(t)}}function Ei(e,t){return yi(e,t,"gutterClick",!0)}function wi(e,t){Cn(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&yi(e,t,"gutterContextMenu",!1)}(e,t)||ge(e,t,"contextmenu")||C||e.display.input.onContextMenu(t)}function xi(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$n(e)}gi.prototype.compare=function(e,t,n){return this.time+400>e&&0==nt(t,this.pos)&&n==this.button};var Ci={toString:function(){return"CodeMirror.Init"}},ki={},Si={};function _i(e,t,n){if(!t!=!(n&&n!=Ci)){var a=e.display.dragFunctions,r=t?pe:he;r(e.display.scroller,"dragstart",a.start),r(e.display.scroller,"dragenter",a.enter),r(e.display.scroller,"dragover",a.over),r(e.display.scroller,"dragleave",a.leave),r(e.display.scroller,"drop",a.drop)}}function Oi(e){e.options.lineWrapping?(M(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(_(e.display.wrapper,"CodeMirror-wrap"),qt(e)),ca(e),pa(e),$n(e),setTimeout((function(){return Ba(e)}),100)}function Ti(e,t){var n=this;if(!(this instanceof Ti))return new Ti(e,t);this.options=t=t?A(t):{},A(ki,t,!1);var a=t.value;"string"==typeof a?a=new No(a,t.mode,null,t.lineSeparator,t.direction):t.mode&&(a.modeOption=t.mode),this.doc=a;var r=new Ti.inputStyles[t.inputStyle](this),o=this.display=new br(e,a,r,t);for(var c in o.wrapper.CodeMirror=this,xi(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wa(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new U,keySeq:null,specialChars:null},t.autofocus&&!b&&o.input.focus(),i&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;pe(t.scroller,"mousedown",tr(e,bi)),pe(t.scroller,"dblclick",i&&s<11?tr(e,(function(t){if(!ge(e,t)){var n=ua(e,t);if(n&&!Ei(e,t)&&!Cn(e.display,t)){Ee(t);var a=e.findWordAt(n);Yr(e.doc,a.anchor,a.head)}}})):function(t){return ge(e,t)||Ee(t)}),pe(t.scroller,"contextmenu",(function(t){return wi(e,t)}));var n,a={end:0};function r(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(a=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,a=t.top-e.top;return n*n+a*a>400}pe(t.scroller,"touchstart",(function(r){if(!ge(e,r)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(r)&&!Ei(e,r)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-a.end<=300?a:null},1==r.touches.length&&(t.activeTouch.left=r.touches[0].pageX,t.activeTouch.top=r.touches[0].pageY)}})),pe(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),pe(t.scroller,"touchend",(function(n){var a=t.activeTouch;if(a&&!Cn(t,n)&&null!=a.left&&!a.moved&&new Date-a.start<300){var i,s=e.coordsChar(t.activeTouch,"page");i=!a.prev||o(a,a.prev)?new kr(s,s):!a.prev.prev||o(a,a.prev.prev)?e.findWordAt(s):new kr(tt(s.line,0),lt(e.doc,tt(s.line+1,0))),e.setSelection(i.anchor,i.head),e.focus(),Ee(n)}r()})),pe(t.scroller,"touchcancel",r),pe(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(La(e,t.scroller.scrollTop),Ra(e,t.scroller.scrollLeft,!0),fe(e,"scroll",e))})),pe(t.scroller,"mousewheel",(function(t){return xr(e,t)})),pe(t.scroller,"DOMMouseScroll",(function(t){return xr(e,t)})),pe(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ge(e,t)||Ce(t)},over:function(t){ge(e,t)||(function(e,t){var n=ua(e,t);if(n){var a=document.createDocumentFragment();ya(e,n,a),e.display.dragCursor||(e.display.dragCursor=j("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,a)}}(e,t),Ce(t))},start:function(t){return function(e,t){if(i&&(!e.state.draggingText||+new Date-Mo<100))Ce(t);else if(!ge(e,t)&&!Cn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!p)){var n=j("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(e,t)},drop:tr(e,Fo),leave:function(t){ge(e,t)||Po(e)}};var l=t.input.getField();pe(l,"keyup",(function(t){return pi.call(e,t)})),pe(l,"keydown",tr(e,di)),pe(l,"keypress",tr(e,mi)),pe(l,"focus",(function(t){return Sa(e,t)})),pe(l,"blur",(function(t){return _a(e,t)}))}(this),Ro(),Ka(this),this.curOp.forceUpdate=!0,Lr(this,a),t.autofocus&&!b||this.hasFocus()?setTimeout(L(Sa,this),20):_a(this),Si)Si.hasOwnProperty(c)&&Si[c](n,t[c],Ci);mr(this),t.finishInit&&t.finishInit(this);for(var u=0;u<ji.length;++u)ji[u](n);Ga(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ti.defaults=ki,Ti.optionHandlers=Si;var ji=[];function Ii(e,t,n,a){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=ht(e,t).state:n="prev");var i=e.options.tabSize,s=Ke(o,t),l=R(s.text,null,i);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(a||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==B||c>150)){if(!a)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?R(Ke(o,t-1).text,null,i):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",p=0;if(e.options.indentWithTabs)for(var m=Math.floor(c/i);m;--m)p+=i,d+="\t";if(p<c&&(d+=G(c-p)),d!=u)return go(o,d,tt(t,0),tt(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<o.sel.ranges.length;h++){var f=o.sel.ranges[h];if(f.head.line==t&&f.head.ch<u.length){var g=tt(t,u.length);Qr(o,h,new kr(g,g));break}}}Ti.defineInitHook=function(e){return ji.push(e)};var Di=null;function Ni(e){Di=e}function Mi(e,t,n,a,r){var o=e.doc;e.display.shift=!1,a||(a=o.sel);var i=+new Date-200,s="paste"==r||e.state.pasteIncoming>i,l=Ne(t),c=null;if(s&&a.ranges.length>1)if(Di&&Di.text.join("\n")==t){if(a.ranges.length%Di.text.length==0){c=[];for(var u=0;u<Di.text.length;u++)c.push(o.splitLines(Di.text[u]))}}else l.length==a.ranges.length&&e.options.pasteLinesPerSelection&&(c=Z(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,p=a.ranges.length-1;p>=0;p--){var m=a.ranges[p],h=m.from(),f=m.to();m.empty()&&(n&&n>0?h=tt(h.line,h.ch-n):e.state.overwrite&&!s?f=tt(f.line,Math.min(Ke(o,f.line).text.length,f.ch+Y(l).length)):s&&Di&&Di.lineWise&&Di.text.join("\n")==t&&(h=f=tt(h.line,0)));var g={from:h,to:f,text:c?c[p%c.length]:l,origin:r||(s?"paste":e.state.cutIncoming>i?"cut":"+input")};uo(e.doc,g),cn(e,"inputRead",e,g)}t&&!s&&Pi(e,t),Na(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Fi(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||er(t,(function(){return Mi(t,n,0,null,"paste")})),!0}function Pi(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,a=n.ranges.length-1;a>=0;a--){var r=n.ranges[a];if(!(r.head.ch>100||a&&n.ranges[a-1].head.line==r.head.line)){var o=e.getModeAt(r.head),i=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){i=Ii(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Ke(e.doc,r.head.line).text.slice(0,r.head.ch))&&(i=Ii(e,r.head.line,"smart"));i&&cn(e,"electricInput",e,r.head.line)}}}function Li(e){for(var t=[],n=[],a=0;a<e.doc.sel.ranges.length;a++){var r=e.doc.sel.ranges[a].head.line,o={anchor:tt(r,0),head:tt(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function Ai(e,t,n,a){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",a?"":"off"),e.setAttribute("spellcheck",!!t)}function Ri(){var e=j("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=j("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),f&&(e.style.border="1px solid black"),Ai(e),t}function Ui(e,t,n,a,r){var o=t,i=n,s=Ke(e,t.line);function l(a){var o,i;if(null==(o=r?function(e,t,n,a){var r=ue(t,e.doc.direction);if(!r)return ei(t,n,a);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=le(r,n.ch,n.sticky),i=r[o];if("ltr"==e.doc.direction&&i.level%2==0&&(a>0?i.to>n.ch:i.from<n.ch))return ei(t,n,a);var s,l=function(e,n){return Jo(t,e instanceof tt?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Mn(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==i.level){var d=1==i.level==a<0,p=l(n,d?1:-1);if(null!=p&&(d?p<=i.to&&p<=u.end:p>=i.from&&p>=u.begin)){var m=d?"before":"after";return new tt(n.line,p,m)}}var h=function(e,t,a){for(var o=function(e,t){return t?new tt(n.line,l(e,1),"before"):new tt(n.line,e,"after")};e>=0&&e<r.length;e+=t){var i=r[e],s=t>0==(1!=i.level),c=s?a.begin:l(a.end,-1);if(i.from<=c&&c<i.to)return o(c,s);if(c=s?i.from:l(i.to,-1),a.begin<=c&&c<a.end)return o(c,s)}},f=h(o+a,a,u);if(f)return f;var g=a>0?u.end:l(u.begin,-1);return null==g||a>0&&g==t.text.length||!(f=h(a>0?0:r.length-1,a,c(g)))?null:f}(e.cm,s,t,n):ei(s,t,n))){if(a||(i=t.line+n)<e.first||i>=e.first+e.size||(t=new tt(i,t.ch,t.sticky),!(s=Ke(e,i))))return!1;t=ti(r,e.cm,s,t.line,n)}else t=o;return!0}if("char"==a)l();else if("column"==a)l(!0);else if("word"==a||"group"==a)for(var c=null,u="group"==a,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||l(!p);p=!1){var m=s.text.charAt(t.ch)||"\n",h=te(m,d)?"w":u&&"\n"==m?"n":!u||/\s/.test(m)?null:"p";if(!u||p||h||(h="s"),c&&c!=h){n<0&&(n=1,l(),t.sticky="after");break}if(h&&(c=h),n>0&&!l(!p))break}var f=io(e,t,o,i,!0);return at(o,f)&&(f.hitSide=!0),f}function zi(e,t,n,a){var r,o,i=e.doc,s=t.left;if("page"==a){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*ra(e.display),3);r=(n>0?t.bottom:t.top)+n*c}else"line"==a&&(r=n>0?t.bottom+3:t.top-3);for(;(o=Qn(e,s,r)).outside;){if(n<0?r<=0:r>=i.height){o.hitSide=!0;break}r+=5*n}return o}var $i=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new U,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Bi(e,t){var n=Nn(e,t.line);if(!n||n.hidden)return null;var a=Ke(e.doc,t.line),r=In(n,a,t.line),o=ue(a,e.doc.direction),i="left";o&&(i=le(o,t.ch)%2?"right":"left");var s=An(r.map,t.ch,i);return s.offset="right"==s.collapse?s.end:s.start,s}function Vi(e,t){return t&&(e.bad=!0),e}function Hi(e,t,n){var a;if(t==e.display.lineDiv){if(!(a=e.display.lineDiv.childNodes[n]))return Vi(e.clipPos(tt(e.display.viewTo-1)),!0);t=null,n=0}else for(a=t;;a=a.parentNode){if(!a||a==e.display.lineDiv)return null;if(a.parentNode&&a.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==a)return Wi(o,t,n)}}function Wi(e,t,n){var a=e.text.firstChild,r=!1;if(!t||!D(a,t))return Vi(tt(Qe(e.line),0),!0);if(t==a&&(r=!0,t=a.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return Vi(tt(Qe(o),o.text.length),r)}var i=3==t.nodeType?t:null,s=t;for(i||1!=t.childNodes.length||3!=t.firstChild.nodeType||(i=t.firstChild,n&&(n=i.nodeValue.length));s.parentNode!=a;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,a){for(var r=-1;r<(c?c.length:0);r++)for(var o=r<0?l.map:c[r],i=0;i<o.length;i+=3){var s=o[i+2];if(s==t||s==n){var u=Qe(r<0?e.line:e.rest[r]),d=o[i]+a;return(a<0||s!=t)&&(d=o[i+(a?1:0)]),tt(u,d)}}}var d=u(i,s,n);if(d)return Vi(d,r);for(var p=s.nextSibling,m=i?i.nodeValue.length-n:0;p;p=p.nextSibling){if(d=u(p,p.firstChild,0))return Vi(tt(d.line,d.ch-m),r);m+=p.textContent.length}for(var h=s.previousSibling,f=n;h;h=h.previousSibling){if(d=u(h,h.firstChild,-1))return Vi(tt(d.line,d.ch+f),r);f+=h.textContent.length}}$i.prototype.init=function(e){var t=this,n=this,a=n.cm,r=n.div=e.lineDiv;function o(e){if(!ge(a,e)){if(a.somethingSelected())Ni({lineWise:!1,text:a.getSelections()}),"cut"==e.type&&a.replaceSelection("",null,"cut");else{if(!a.options.lineWiseCopyCut)return;var t=Li(a);Ni({lineWise:!0,text:t.text}),"cut"==e.type&&a.operation((function(){a.setSelections(t.ranges,0,V),a.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var o=Di.text.join("\n");if(e.clipboardData.setData("Text",o),e.clipboardData.getData("Text")==o)return void e.preventDefault()}var i=Ri(),s=i.firstChild;a.display.lineSpace.insertBefore(i,a.display.lineSpace.firstChild),s.value=Di.text.join("\n");var l=document.activeElement;P(s),setTimeout((function(){a.display.lineSpace.removeChild(i),l.focus(),l==r&&n.showPrimarySelection()}),50)}}Ai(r,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize),pe(r,"paste",(function(e){ge(a,e)||Fi(e,a)||s<=11&&setTimeout(tr(a,(function(){return t.updateFromDOM()})),20)})),pe(r,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),pe(r,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),pe(r,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),pe(r,"touchstart",(function(){return n.forceCompositionEnd()})),pe(r,"input",(function(){t.composing||t.readFromDOMSoon()})),pe(r,"copy",o),pe(r,"cut",o)},$i.prototype.prepareSelection=function(){var e=va(this.cm,!1);return e.focus=this.cm.state.focused,e},$i.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},$i.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$i.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,a=t.doc.sel.primary(),r=a.from(),o=a.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var i=Hi(t,e.anchorNode,e.anchorOffset),s=Hi(t,e.focusNode,e.focusOffset);if(!i||i.bad||!s||s.bad||0!=nt(it(i,s),r)||0!=nt(ot(i,s),o)){var l=t.display.view,c=r.line>=t.display.viewFrom&&Bi(t,r)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Bi(t,o);if(!u){var d=l[l.length-1].measure,p=d.maps?d.maps[d.maps.length-1]:d.map;u={node:p[p.length-1],offset:p[p.length-2]-p[p.length-3]}}if(c&&u){var m,h=e.rangeCount&&e.getRangeAt(0);try{m=S(c.node,c.offset,u.offset,u.node)}catch(e){}m&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),m.collapsed||(e.removeAllRanges(),e.addRange(m))):(e.removeAllRanges(),e.addRange(m)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},$i.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},$i.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},$i.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},$i.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return D(this.div,t)},$i.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},$i.prototype.blur=function(){this.div.blur()},$i.prototype.getField=function(){return this.div},$i.prototype.supportsTouch=function(){return!0},$i.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():er(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},$i.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},$i.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Hi(t,e.anchorNode,e.anchorOffset),a=Hi(t,e.focusNode,e.focusOffset);n&&a&&er(t,(function(){eo(t.doc,_r(n,a),V),(n.bad||a.bad)&&(t.curOp.selectionChanged=!0)}))}}},$i.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,a=this.cm,r=a.display,o=a.doc.sel.primary(),i=o.from(),s=o.to();if(0==i.ch&&i.line>a.firstLine()&&(i=tt(i.line-1,Ke(a.doc,i.line-1).length)),s.ch==Ke(a.doc,s.line).text.length&&s.line<a.lastLine()&&(s=tt(s.line+1,0)),i.line<r.viewFrom||s.line>r.viewTo-1)return!1;i.line==r.viewFrom||0==(e=da(a,i.line))?(t=Qe(r.view[0].line),n=r.view[0].node):(t=Qe(r.view[e].line),n=r.view[e-1].node.nextSibling);var l,c,u=da(a,s.line);if(u==r.view.length-1?(l=r.viewTo-1,c=r.lineDiv.lastChild):(l=Qe(r.view[u+1].line)-1,c=r.view[u+1].node.previousSibling),!n)return!1;for(var d=a.doc.splitLines(function(e,t,n,a,r){var o="",i=!1,s=e.doc.lineSeparator(),l=!1;function c(){i&&(o+=s,l&&(o+=s),i=l=!1)}function u(e){e&&(c(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,p=t.getAttribute("cm-marker");if(p){var m=e.findMarks(tt(a,0),tt(r+1,0),(g=+p,function(e){return e.id==g}));return void(m.length&&(o=m[0].find(0))&&u(Ge(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var h=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;h&&c();for(var f=0;f<t.childNodes.length;f++)d(t.childNodes[f]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),h&&(i=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return o}(a,n,c,t,l)),p=Ge(a.doc,tt(t,0),tt(l,Ke(a.doc,l).text.length));d.length>1&&p.length>1;)if(Y(d)==Y(p))d.pop(),p.pop(),l--;else{if(d[0]!=p[0])break;d.shift(),p.shift(),t++}for(var m=0,h=0,f=d[0],g=p[0],b=Math.min(f.length,g.length);m<b&&f.charCodeAt(m)==g.charCodeAt(m);)++m;for(var v=Y(d),y=Y(p),E=Math.min(v.length-(1==d.length?m:0),y.length-(1==p.length?m:0));h<E&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)++h;if(1==d.length&&1==p.length&&t==i.line)for(;m&&m>i.ch&&v.charCodeAt(v.length-h-1)==y.charCodeAt(y.length-h-1);)m--,h++;d[d.length-1]=v.slice(0,v.length-h).replace(/^\u200b+/,""),d[0]=d[0].slice(m).replace(/\u200b+$/,"");var w=tt(t,m),x=tt(l,p.length?Y(p).length-h:0);return d.length>1||d[0]||nt(w,x)?(go(a.doc,d,w,x,"+input"),!0):void 0},$i.prototype.ensurePolled=function(){this.forceCompositionEnd()},$i.prototype.reset=function(){this.forceCompositionEnd()},$i.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$i.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},$i.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||er(this.cm,(function(){return pa(e.cm)}))},$i.prototype.setUneditable=function(e){e.contentEditable="false"},$i.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||tr(this.cm,Mi)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},$i.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},$i.prototype.onContextMenu=function(){},$i.prototype.resetPosition=function(){},$i.prototype.needsContentAttribute=!0;var qi=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new U,this.hasSelection=!1,this.composing=null};qi.prototype.init=function(e){var t=this,n=this,a=this.cm;this.createField(e);var r=this.textarea;function o(e){if(!ge(a,e)){if(a.somethingSelected())Ni({lineWise:!1,text:a.getSelections()});else{if(!a.options.lineWiseCopyCut)return;var t=Li(a);Ni({lineWise:!0,text:t.text}),"cut"==e.type?a.setSelections(t.ranges,null,V):(n.prevInput="",r.value=t.text.join("\n"),P(r))}"cut"==e.type&&(a.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),f&&(r.style.width="0px"),pe(r,"input",(function(){i&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),pe(r,"paste",(function(e){ge(a,e)||Fi(e,a)||(a.state.pasteIncoming=+new Date,n.fastPoll())})),pe(r,"cut",o),pe(r,"copy",o),pe(e.scroller,"paste",(function(t){if(!Cn(e,t)&&!ge(a,t)){if(!r.dispatchEvent)return a.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,r.dispatchEvent(o)}})),pe(e.lineSpace,"selectstart",(function(t){Cn(e,t)||Ee(t)})),pe(r,"compositionstart",(function(){var e=a.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:a.markText(e,a.getCursor("to"),{className:"CodeMirror-composing"})}})),pe(r,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},qi.prototype.createField=function(e){this.wrapper=Ri(),this.textarea=this.wrapper.firstChild},qi.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,a=va(e);if(e.options.moveInputWithCursor){var r=Gn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),i=t.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+i.top-o.top)),a.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+i.left-o.left))}return a},qi.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},qi.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&P(this.textarea),i&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",i&&s>=9&&(this.hasSelection=null))}},qi.prototype.getField=function(){return this.textarea},qi.prototype.supportsTouch=function(){return!1},qi.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!b||N()!=this.textarea))try{this.textarea.focus()}catch(e){}},qi.prototype.blur=function(){this.textarea.blur()},qi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},qi.prototype.receivedFocus=function(){this.slowPoll()},qi.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},qi.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},qi.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,a=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(n)&&!a&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var r=n.value;if(r==a&&!t.somethingSelected())return!1;if(i&&s>=9&&this.hasSelection===r||v&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=r.charCodeAt(0);if(8203!=o||a||(a="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(a.length,r.length);l<c&&a.charCodeAt(l)==r.charCodeAt(l);)++l;return er(t,(function(){Mi(t,r.slice(l),a.length-l,null,e.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=r,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},qi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},qi.prototype.onKeyPress=function(){i&&s>=9&&(this.hasSelection=null),this.fastPoll()},qi.prototype.onContextMenu=function(e){var t=this,n=t.cm,a=n.display,r=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=ua(n,e),c=a.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&tr(n,eo)(n.doc,_r(o),V);var u,p=r.style.cssText,m=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),a.input.focus(),l&&window.scrollTo(null,u),a.input.reset(),n.somethingSelected()||(r.value=t.prevInput=" "),t.contextMenuPending=b,a.selForContextMenu=n.doc.sel,clearTimeout(a.detectingSelectAll),i&&s>=9&&g(),C){Ce(e);var f=function(){he(window,"mouseup",f),setTimeout(b,20)};pe(window,"mouseup",f)}else setTimeout(b,50)}function g(){if(null!=r.selectionStart){var e=n.somethingSelected(),o="​"+(e?r.value:"");r.value="⇚",r.value=o,t.prevInput=e?"":"​",r.selectionStart=1,r.selectionEnd=o.length,a.selForContextMenu=n.doc.sel}}function b(){if(t.contextMenuPending==b&&(t.contextMenuPending=!1,t.wrapper.style.cssText=m,r.style.cssText=p,i&&s<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=c),null!=r.selectionStart)){(!i||i&&s<9)&&g();var e=0,o=function(){a.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==t.prevInput?tr(n,lo)(n):e++<10?a.detectingSelectAll=setTimeout(o,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(o,200)}}},qi.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},qi.prototype.setUneditable=function(){},qi.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,a,r,o){e.defaults[n]=a,r&&(t[n]=o?function(e,t,n){n!=Ci&&r(e,t,n)}:r)}e.defineOption=n,e.Init=Ci,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Dr(e)}),!0),n("indentUnit",2,Dr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Nr(e),$n(e),pa(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],a=e.doc.first;e.doc.iter((function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(tt(a,o))}a++}));for(var r=n.length-1;r>=0;r--)go(e.doc,t,n[r],tt(n[r].line,n[r].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ci&&e.refresh()})),n("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",b?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!E),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){xi(e),gr(e)}),!0),n("keyMap","default",(function(e,t,n){var a=Qo(t),r=n!=Ci&&Qo(n);r&&r.detach&&r.detach(e,a),a.attach&&a.attach(e,r||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Oi,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=hr(t,e.options.lineNumbers),gr(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?sa(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Ba(e)}),!0),n("scrollbarStyle","native",(function(e){Wa(e),Ba(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=hr(e.options.gutters,t),gr(e)}),!0),n("firstLineNumber",1,gr,!0),n("lineNumberFormatter",(function(e){return e}),gr,!0),n("showCursorWhenSelecting",!1,ba,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(_a(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,_i),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,ba,!0),n("singleCursorHeightPerLine",!0,ba,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Nr,!0),n("addModeClass",!1,Nr,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Nr,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Ti),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var a=this.options,r=a[e];a[e]==n&&"mode"!=e||(a[e]=n,t.hasOwnProperty(e)&&tr(this,t[e])(this,n,r),fe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Qo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:nr((function(t,n){var a=t.token?t:e.getMode(this.options,t);if(a.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var a=0,r=n(t);a<e.length&&n(e[a])<=r;)a++;e.splice(a,0,t)}(this.state.overlays,{mode:a,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,pa(this)})),removeOverlay:nr((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var a=t[n].modeSpec;if(a==e||"string"==typeof e&&a.name==e)return t.splice(n,1),this.state.modeGen++,void pa(this)}})),indentLine:nr((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&Ii(this,e,t,n)})),indentSelection:nr((function(e){for(var t=this.doc.sel.ranges,n=-1,a=0;a<t.length;a++){var r=t[a];if(r.empty())r.head.line>n&&(Ii(this,r.head.line,e,!0),n=r.head.line,a==this.doc.sel.primIndex&&Na(this));else{var o=r.from(),i=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1;for(var l=s;l<n;++l)Ii(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[a].from().ch>0&&Qr(this.doc,a,new kr(o,c[a].to()),V)}}})),getTokenAt:function(e,t){return yt(this,e,t)},getLineTokens:function(e,t){return yt(this,tt(e),t,!0)},getTokenTypeAt:function(e){e=lt(this.doc,e);var t,n=mt(this,Ke(this.doc,e.line)),a=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var i=a+r>>1;if((i?n[2*i-1]:0)>=o)r=i;else{if(!(n[2*i+1]<o)){t=n[2*i+2];break}a=i+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var a=[];if(!n.hasOwnProperty(t))return a;var r=n[t],o=this.getModeAt(e);if("string"==typeof o[t])r[o[t]]&&a.push(r[o[t]]);else if(o[t])for(var i=0;i<o[t].length;i++){var s=r[o[t][i]];s&&a.push(s)}else o.helperType&&r[o.helperType]?a.push(r[o.helperType]):r[o.name]&&a.push(r[o.name]);for(var l=0;l<r._global.length;l++){var c=r._global[l];c.pred(o,this)&&-1==z(a,c.val)&&a.push(c.val)}return a},getStateAfter:function(e,t){var n=this.doc;return ht(this,(e=st(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Gn(this,null==e?n.head:"object"==typeof e?lt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Kn(this,lt(this.doc,e),t||"page")},coordsChar:function(e,t){return Qn(this,(e=qn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=qn(this,{top:e,left:0},t||"page").top,Xe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var a,r=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,r=!0),a=Ke(this.doc,e)}else a=e;return Wn(this,a,{top:0,left:0},t||"page",n||r).top+(r?this.doc.height-Ht(a):0)},defaultTextHeight:function(){return ra(this.display)},defaultCharWidth:function(){return oa(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,a,r){var o,i,s,l=this.display,c=(e=Gn(this,lt(this.doc,e))).bottom,u=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),l.sizer.appendChild(t),"over"==a)c=e.top;else if("above"==a||"near"==a){var d=Math.max(l.wrapper.clientHeight,this.doc.height),p=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==a||e.bottom+t.offsetHeight>d)&&e.top>t.offsetHeight?c=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=d&&(c=e.bottom),u+t.offsetWidth>p&&(u=p-t.offsetWidth)}t.style.top=c+"px",t.style.left=t.style.right="","right"==r?(u=l.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(l.sizer.clientWidth-t.offsetWidth)/2),t.style.left=u+"px"),n&&(o=this,i={left:u,top:c,right:u+t.offsetWidth,bottom:c+t.offsetHeight},null!=(s=Ia(o,i)).scrollTop&&La(o,s.scrollTop),null!=s.scrollLeft&&Ra(o,s.scrollLeft))},triggerOnKeyDown:nr(di),triggerOnKeyPress:nr(mi),triggerOnKeyUp:pi,triggerOnMouseDown:nr(bi),execCommand:function(e){if(ni.hasOwnProperty(e))return ni[e].call(null,this)},triggerElectric:nr((function(e){Pi(this,e)})),findPosH:function(e,t,n,a){var r=1;t<0&&(r=-1,t=-t);for(var o=lt(this.doc,e),i=0;i<t&&!(o=Ui(this.doc,o,r,n,a)).hitSide;++i);return o},moveH:nr((function(e,t){var n=this;this.extendSelectionsBy((function(a){return n.display.shift||n.doc.extend||a.empty()?Ui(n.doc,a.head,e,t,n.options.rtlMoveVisually):e<0?a.from():a.to()}),W)})),deleteH:nr((function(e,t){var n=this.doc.sel,a=this.doc;n.somethingSelected()?a.replaceSelection("",null,"+delete"):Xo(this,(function(n){var r=Ui(a,n.head,e,t,!1);return e<0?{from:r,to:n.head}:{from:n.head,to:r}}))})),findPosV:function(e,t,n,a){var r=1,o=a;t<0&&(r=-1,t=-t);for(var i=lt(this.doc,e),s=0;s<t;++s){var l=Gn(this,i,"div");if(null==o?o=l.left:l.left=o,(i=zi(this,l,r,n)).hitSide)break}return i},moveV:nr((function(e,t){var n=this,a=this.doc,r=[],o=!this.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy((function(i){if(o)return e<0?i.from():i.to();var s=Gn(n,i.head,"div");null!=i.goalColumn&&(s.left=i.goalColumn),r.push(s.left);var l=zi(n,s,e,t);return"page"==t&&i==a.sel.primary()&&Da(n,Kn(n,l,"div").top-s.top),l}),W),r.length)for(var i=0;i<a.sel.ranges.length;i++)a.sel.ranges[i].goalColumn=r[i]})),findWordAt:function(e){var t=Ke(this.doc,e.line).text,n=e.ch,a=e.ch;if(t){var r=this.getHelper(e,"wordChars");"before"!=e.sticky&&a!=t.length||!n?++a:--n;for(var o=t.charAt(n),i=te(o,r)?function(e){return te(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};n>0&&i(t.charAt(n-1));)--n;for(;a<t.length&&i(t.charAt(a));)++a}return new kr(tt(e.line,n),tt(e.line,a))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):_(this.display.cursorDiv,"CodeMirror-overwrite"),fe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:nr((function(e,t){Ma(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-On(this)-this.display.barHeight,width:e.scrollWidth-On(this)-this.display.barWidth,clientHeight:jn(this),clientWidth:Tn(this)}},scrollIntoView:nr((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:tt(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Fa(e),e.curOp.scrollToPos=t}(this,e):Pa(this,e.from,e.to,e.margin)})),setSize:nr((function(e,t){var n=this,a=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=a(e)),null!=t&&(this.display.wrapper.style.height=a(t)),this.options.lineWrapping&&zn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){ma(n,r,"widget");break}++r})),this.curOp.forceUpdate=!0,fe(this,"refresh",this)})),operation:function(e){return er(this,e)},startOperation:function(){return Ka(this)},endOperation:function(){return Ga(this)},refresh:nr((function(){var e=this.display.cachedTextHeight;pa(this),this.curOp.forceUpdate=!0,$n(this),Ma(this,this.doc.scrollLeft,this.doc.scrollTop),ur(this.display),(null==e||Math.abs(e-ra(this.display))>.5)&&ca(this),fe(this,"refresh",this)})),swapDoc:nr((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Lr(this,e),$n(this),this.display.input.reset(),Ma(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,cn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},ye(e),e.registerHelper=function(t,a,r){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][a]=r},e.registerGlobalHelper=function(t,a,r,o){e.registerHelper(t,a,o),n[t]._global.push({pred:r,val:o})}}(Ti);var Ki="iter insert remove copy getEditor constructor".split(" ");for(var Gi in No.prototype)No.prototype.hasOwnProperty(Gi)&&z(Ki,Gi)<0&&(Ti.prototype[Gi]=function(e){return function(){return e.apply(this.doc,arguments)}}(No.prototype[Gi]));return ye(No),Ti.inputStyles={textarea:qi,contenteditable:$i},Ti.defineMode=function(e){Ti.defaults.mode||"null"==e||(Ti.defaults.mode=e),Re.apply(this,arguments)},Ti.defineMIME=function(e,t){Ae[e]=t},Ti.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ti.defineMIME("text/plain","null"),Ti.defineExtension=function(e,t){Ti.prototype[e]=t},Ti.defineDocExtension=function(e,t){No.prototype[e]=t},Ti.fromTextArea=function(e,t){if((t=t?A(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=N();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function a(){e.value=s.getValue()}var r;if(e.form&&(pe(e.form,"submit",a),!t.leaveSubmitMethodAlone)){var o=e.form;r=o.submit;try{var i=o.submit=function(){a(),o.submit=r,o.submit(),o.submit=i}}catch(e){}}t.finishInit=function(n){n.save=a,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,a(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(he(e.form,"submit",a),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=r))}},e.style.display="none";var s=Ti((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=he,e.on=pe,e.wheelEventPixels=wr,e.Doc=No,e.splitLines=Ne,e.countColumn=R,e.findColumn=q,e.isWordChar=ee,e.Pass=B,e.signal=fe,e.Line=Kt,e.changeEnd=Or,e.scrollbarModel=Ha,e.Pos=tt,e.cmpPos=nt,e.modes=Le,e.mimeModes=Ae,e.resolveMode=Ue,e.getMode=ze,e.modeExtensions=$e,e.extendMode=Be,e.copyState=Ve,e.startState=We,e.innerMode=He,e.commands=ni,e.keyMap=Ho,e.keyName=Zo,e.isModifierKey=Go,e.lookupKey=Ko,e.normalizeKeyMap=qo,e.StringStream=qe,e.SharedTextMarker=To,e.TextMarker=_o,e.LineWidget=Co,e.e_preventDefault=Ee,e.e_stopPropagation=we,e.e_stop=Ce,e.addClass=M,e.contains=D,e.rmClass=_,e.keyNames=zo}(Ti),Ti.version="5.49.0",Ti}()},1140:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(999),o=n(0);const i=(e,t)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const n=o.createElement("div",null,o.createElement("span",null,"You are about to delete the following Notebook:",o.createElement("br",null),"'",e,"'",o.createElement("br",null),"This cannot be reversed. Are you sure?"),t&&o.createElement("div",{style:{fontWeight:500}},o.createElement("br",null),"WARNING!",o.createElement("br",null),"This Notebook was used to make a Competition Submission.",o.createElement("br",null),"If you delete this Notebook, it may invalidate the linked Submission(s)."));return Object(r.c)(n,"Confirm Deletion","Yes, delete","Cancel")}))},1141:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return E}));var a=n(108),r=n(1),o=n.n(r),i=n(0),s=n(1154);const l=o.a.img`
  height: ${e=>e.size};
  width: ${e=>e.size};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
`,c=o.a.svg`
  height: ${e=>e.size};
  width: ${e=>e.size};
`,u=/(?:\.([^.]+))?$/,d=r.defaultTheme.material.color.brand.grey[700],p={xxsmall:"12px",xsmall:"18px",small:"20px",medium:"24px",large:"36px",xlarge:"48px",inline:"24px"},m=(e,t=s.c,n)=>{switch(e.type){case"dataSource":return f(e,t,n);case"databundle":case"databundleVersion":return i.createElement(a.a,{icon:"folder_special",size:t,color:n});case"table":return i.createElement(a.a,{icon:"calendar_view_week",size:t,color:n});case"directory":return i.createElement(a.a,{icon:"folder",size:t,color:n});case"file":return b(e.name,t,n)}return i.createElement(a.a,{icon:"insert_drive_file",size:t})},h=(e,t=s.c,n=d)=>{if(e)switch(e){case"remoteUrlFileSet":return i.createElement(a.a,{icon:C(p[t],n),color:n,size:t});case"remoteGitRepositoryFileSet":return i.createElement(a.a,{icon:k(p[t],n),color:n,size:t});case"kernelOutputFileSet":return i.createElement(a.a,{icon:"code",size:t,color:n});case"fileset":case"bigQuery":default:return}},f=(e,t=s.c,n)=>{switch(e.sourceType){case"notebookOutput":return i.createElement(a.a,{icon:"file_copy",size:t,color:n});case"utilityScript":return i.createElement(a.a,{icon:"code",size:t,color:n});default:return g(e.imageUrl,t)}},g=(e,t)=>i.createElement(l,{src:e,size:p[t]}),b=(e,t=s.c,n)=>{const r=v(e);if(!r)return i.createElement(a.a,{icon:"insert_drive_file",size:t,color:n});if(y(r))return i.createElement(a.a,{icon:"insert_photo",size:t,color:n});switch(r){case"txt":return i.createElement(a.a,{icon:"article",size:t,color:n});case"csv":case"tsv":case"xls":case"xlsx":return i.createElement(a.a,{icon:"calendar_view_week",size:t,color:n});case"mpg":case"mpeg":case"avi":case"mp4":case"mov":case"m4v":case"webm":case"ogv":return i.createElement(a.a,{icon:"movie",size:t,color:n});case"mp3":case"wav":case"ogg":return i.createElement(a.a,{icon:"audiotrack",size:t,color:n});case"zip":case"tar":case"rar":case"gz":case"bz":case"bz2":case"7z":case"7zip":return i.createElement(a.a,{icon:"drive_zip_outline",size:t,color:n});case"pdf":return i.createElement(a.a,{icon:"drive_pdf_outline",size:t,color:n});case"md":return i.createElement(a.a,{icon:"article",size:t,color:n});case"js":case"py":return i.createElement(a.a,{icon:"code",size:t,color:n});case"xml":return i.createElement(a.a,{icon:"article",size:t,color:n});case"html":return i.createElement(a.a,{icon:"web_asset",size:t,color:n});case"json":case"jsonl":case"jsonp":case"geojson":case"ldjson":return i.createElement(a.a,{icon:x(p[t]),color:n,size:t});case"sqlite":return i.createElement(a.a,{icon:w(p[t]),color:n,size:t});default:return i.createElement(a.a,{icon:"insert_drive_file",color:n,size:t})}},v=e=>{if(!e)return;const t=e.trim().toLowerCase(),n=u.exec(t);return null==n||n.length<2?void 0:n[1]},y=e=>{if(!e)return!1;switch(e){case"png":case"gif":case"bmp":case"jpg":case"jpeg":case"svg":case"tiff":return!0;default:return!1}},E=e=>"file"===e.type&&(e=>{if(!e)return!1;switch(e){case"png":case"gif":case"jpg":case"svg":return!0;default:return!1}})(v(e.name)),w=e=>i.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"currentColor"},size:e},i.createElement("g",null,i.createElement("rect",{id:"bounds",style:{fill:"none"},width:"24",height:"24"}),i.createElement("path",{id:"Rectangle",d:"M19,2c1.1,0,1.9,0.8,2,1.9L21,4v16c0,1.1-0.8,1.9-1.9,2L19,22H5c-1.1,0-1.9-0.8-2-1.9L3,20V4\nc0-1.1,0.8-1.9,1.9-2L5,2H19z M5,19.9L5,19.9L18.9,20l0.1,0l0-15.9L19,4L5.1,4L5,4L5,19.9z"}),i.createElement("rect",{x:"3",y:"14",style:{fillRule:"evenodd",clipRule:"evenodd"},width:"17",height:"2"}),i.createElement("rect",{id:"Rectangle-Copy",x:"3",y:"8",style:{fillRule:"evenodd",clipRule:"evenodd"},width:"17",height:"2"}),i.createElement("circle",{id:"Oval",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"6",r:"1"}),i.createElement("circle",{id:"Oval-Copy",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"12",r:"1"}),i.createElement("circle",{id:"Oval-Copy-2",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"18",r:"1"}))),x=e=>i.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"currentColor"},size:e},i.createElement("g",null,i.createElement("rect",{id:"bounds",style:{fill:"none"},width:"24",height:"24"}),i.createElement("path",{id:"Shape",d:"M11,7h2v2h-2V7z M11,11h2v7h-2V11z"}),i.createElement("path",{d:"M2,12v-1c0,0,0,0,0,0c1.1,0,2-0.9,2-2l0,0V4c0,0,0,0,0,0c0-1.1,0.9-2,2-2c0,0,0,0,0,0h3v2H6\n c0,0,0,2,0,6c0,0,0,0,0,0h0c0,1.1-0.9,2-2,2c0,0,0,0,0,0C4,12,3.3,12,2,12z"}),i.createElement("path",{d:"M22,12v-1c0,0,0,0,0,0c-1.1,0-2-0.9-2-2l0,0V4c0,0,0,0,0,0c0-1.1-0.9-2-2-2c0,0,0,0,0,0h-3v2h3\n c0,0,0,2,0,6c0,0,0,0,0,0h0c0,1.1,0.9,2,2,2c0,0,0,0,0,0C20,12,20.7,12,22,12z"}),i.createElement("path",{d:"M2,12v1c0,0,0,0,0,0c1.1,0,2,0.9,2,2l0,0v5c0,0,0,0,0,0c0,1.1,0.9,2,2,2c0,0,0,0,0,0h3v-2H6\n c0,0,0-2,0-6c0,0,0,0,0,0h0c0-1.1-0.9-2-2-2c0,0,0,0,0,0C4,12,3.3,12,2,12z"}),i.createElement("path",{d:"M22,12v1c0,0,0,0,0,0c-1.1,0-2,0.9-2,2l0,0v5c0,0,0,0,0,0c0,1.1-0.9,2-2,2c0,0,0,0,0,0h-3v-2h3\n c0,0,0-2,0-6c0,0,0,0,0,0h0c0-1.1,0.9-2,2-2c0,0,0,0,0,0C20,12,20.7,12,22,12z"}))),C=(e,t)=>i.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 12 12",size:e},i.createElement("path",{style:{fill:"none"},d:"M33.2-7.3h24v24h-24V-7.3z"}),i.createElement("path",{d:"M47.2-5.3h-8c-1.1,0-2,0.9-2,2v8.8c0.1,0,0.1,0,0.2-0.1c0.5-0.6,1.1-1,1.8-1.2v-7.5h7v5h5v11h-12v-1.4h-1\n\tc-0.4,0-0.7-0.1-1-0.2v1.6c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12L47.2-5.3z"}),i.createElement("path",{d:"M42.1,7c-0.2-1.1-1.1-1.9-2.2-1.9c-0.8,0-1.5,0.4-1.9,1.1c-1,0.1-1.8,1-1.8,2c0,1.1,0.9,2,2,2h3.7c0.9,0,1.7-0.7,1.7-1.7\n\tC43.6,7.8,42.9,7.1,42.1,7z"}),i.createElement("g",null,i.createElement("path",{style:{fill:t},d:"M3.4,9.7C2,9.7,0.8,8.5,0.8,7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2C4,3.2,4.9,2.7,6,2.7\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H3.4z"}),i.createElement("path",{style:{fill:"#FFFFFF"},d:"M6,3.1c1.3,0,2.4,0.9,2.6,2.3C8.7,5.7,8.9,5.9,9.3,6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8H3.4\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C4.3,3.6,5.1,3.1,6,3.1 M6,2.3C4.8,2.3,3.7,2.9,3.1,4\n\t\tC1.6,4.2,0.4,5.5,0.4,7c0,1.7,1.4,3,3,3h5.6c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C9.1,3.5,7.7,2.3,6,2.3L6,2.3z"})),i.createElement("path",{style:{fill:t,stroke:"#FFFFFF",strokeMiterlimit:10},d:"M23.7,5.3c-0.2-1.3-1.3-2.2-2.6-2.2c-0.9,0-1.8,0.5-2.2,1.3c-1.2,0.1-2.1,1.2-2.1,2.4c0,1.3,1.1,2.4,2.4,2.4\n\th4.4c1.1,0,2-0.8,2-2C25.5,6.3,24.7,5.5,23.7,5.3z"})),k=(e,t)=>i.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 12 12",size:e},i.createElement("ellipse",{style:{fill:"#FFFFFF"},cx:"6.1",cy:"7.3",rx:"3.6",ry:"2"}),i.createElement("path",{style:{fill:"none"},d:"M48.2-7.3h24v24h-24V-7.3z"}),i.createElement("path",{d:"M62.2-5.3h-8c-1.1,0-2,0.9-2,2v14.7c0.1,0,0.1,1,0.2,0.9c0.5-0.6,1.1-0.6,1.8-0.8V-3.3h7v5h5v11h-12v-1.4h-1\n\tc-0.4,0-0.7-0.1-1-0.2v1.6c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12L62.2-5.3z"}),i.createElement("path",{style:{fill:t,stroke:"#FFFFFF",strokeMiterlimit:10},d:"M38.7,5.3c-0.2-1.3-1.3-2.2-2.6-2.2c-0.9,0-1.8,0.5-2.2,1.3c-1.2,0.1-2.1,1.2-2.1,2.4c0,1.3,1.1,2.4,2.4,2.4\n\th4.4c1.1,0,2-0.8,2-2C40.4,6.3,39.6,5.5,38.7,5.3z"}),i.createElement("g",null,i.createElement("rect",{style:{fill:"none"},x:"0",y:"0",width:"12",height:"12.1"})),i.createElement("g",null,i.createElement("path",{style:{fill:t},d:"M18.4,9.7c-1.5,0-2.7-1.2-2.7-2.7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2C19,3.2,19.9,2.7,21,2.7\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H18.4z"}),i.createElement("path",{style:{fill:"#FFFFFF"},d:"M21,3.1c1.3,0,2.4,0.9,2.6,2.3c0.1,0.3,0.3,0.6,0.6,0.6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8h-5.6\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C19.2,3.6,20,3.1,21,3.1 M21,2.3c-1.2,0-2.3,0.6-2.9,1.7\n\t\tc-1.5,0.2-2.7,1.5-2.7,3c0,1.7,1.4,3,3,3H24c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C24,3.5,22.7,2.3,21,2.3L21,2.3z"})),i.createElement("g",null,i.createElement("rect",{style:{fill:"none"},x:"15",y:"0",width:"12",height:"12.1"})),i.createElement("g",null,i.createElement("path",{style:{fill:t},d:"M51.7,14.4c-1.5,0-2.7-1.2-2.7-2.7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2c0.5-0.9,1.5-1.5,2.6-1.5\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H51.7z"}),i.createElement("path",{style:{fill:"#FFFFFF"},d:"M54.3,7.7c1.3,0,2.4,0.9,2.6,2.3c0.1,0.3,0.3,0.6,0.6,0.6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8h-5.6\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C52.5,8.2,53.4,7.7,54.3,7.7 M54.3,7c-1.2,0-2.3,0.6-2.9,1.7\n\t\tc-1.5,0.2-2.7,1.5-2.7,3c0,1.7,1.4,3,3,3h5.6c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C57.3,8.2,56,7,54.3,7L54.3,7z"})),i.createElement("g",null,i.createElement("rect",{style:{fill:"none"},x:"48.2",y:"4.6",width:"12",height:"12.1"})),i.createElement("g",null,i.createElement("path",{style:{fill:t},d:"M5.1,9.9c-1.9,0-3.5-1.6-3.5-3.5c0-0.8,0.3-1.4,0.6-1.9l0.1-1.1l0-0.8C2.3,2.2,2.5,2,2.6,2c0.1,0,0.2,0,0.2,0\n\t\tc0.3,0,0.5,0.2,0.5,0.2L4,2.5L5,3.1h2.3L8,2.5l0.8-0.3c0,0,0.2-0.2,0.5-0.2c0.1,0,0.3,0.1,0.3,0.1c0.2,0.2,0.2,0.5,0.2,0.6l0.1,0.8\n\t\tL10,4.6c0.4,0.5,0.6,1.2,0.6,1.8c0,1.9-1.6,3.5-3.5,3.5H5.1z M4.8,6.1c-0.7,0-1.2,0.5-1.2,1.2s0.5,1.2,1.2,1.2h2.8\n\t\tc0.7,0,1.2-0.5,1.2-1.2S8.3,6.1,7.6,6.1H4.8z"}),i.createElement("path",{style:{fill:"#FFFFFF"},d:"M2.9,2.3c0.2,0,0.3,0.1,0.3,0.1l0.7,0.4l1,0.6c0,0,0.1,0,0.2,0h2.1c0.1,0,0.1,0,0.2,0l0.9-0.6L9,2.5\n\t\tc0,0,0.2-0.1,0.3-0.1c0,0,0.1,0,0.1,0c0.1,0.1,0.1,0.3,0.1,0.3l0.1,0.8l0.1,1.2c0.4,0.5,0.6,1.1,0.6,1.7c0,1.7-1.4,3.1-3.1,3.1H5.1\n\t\tC3.4,9.5,2,8.1,2,6.4c0-0.7,0.3-1.3,0.6-1.8l0.1-1.2V2.6c0,0,0-0.3,0.1-0.3C2.8,2.3,2.8,2.3,2.9,2.3 M4.8,8.9h2.8\n\t\tc0.9,0,1.6-0.7,1.6-1.6S8.5,5.7,7.6,5.7H4.8c-0.9,0-1.6,0.7-1.6,1.6S3.9,8.9,4.8,8.9 M2.9,1.6c-0.1,0-0.3,0-0.4,0.1\n\t\tC2.2,1.7,1.9,2,1.9,2.6v0.8l-0.1,1c-0.3,0.5-0.6,1.2-0.6,2c0,2.1,1.7,3.8,3.9,3.8h2.1c2.1,0,3.9-1.7,3.9-3.8c0-0.7-0.2-1.4-0.6-2\n\t\tl-0.1-1l-0.1-0.8c0-0.2-0.1-0.5-0.3-0.8C9.7,1.7,9.5,1.7,9.3,1.7C9,1.7,8.8,1.8,8.6,1.9L8,2.1c0,0-0.1,0-0.1,0.1L7.1,2.7H5.1\n\t\tL4.2,2.2L3.6,1.8C3.4,1.7,3.2,1.6,2.9,1.6L2.9,1.6z M4.8,8.2c-0.5,0-0.9-0.4-0.9-0.8s0.4-0.8,0.9-0.8h2.8c0.5,0,0.8,0.4,0.8,0.8\n\t\tS8,8.2,7.6,8.2H4.8L4.8,8.2z"})),i.createElement("g",null,i.createElement("ellipse",{style:{fill:t},cx:"4.8",cy:"7.2",rx:"0.6",ry:"0.8"})),i.createElement("g",null,i.createElement("ellipse",{style:{fill:t},cx:"7.7",cy:"7.2",rx:"0.6",ry:"0.8"})))},1143:function(e,t,n){"use strict";var a=n(2),r=n(145),o=n(144),i=n(245),s=n(6),l=n(1),c=n.n(l),u=n(0);n.d(t,"a",(function(){return h}));const d=c.a.img`
  width: 267px;
  padding: 16px 0px;
`,p=c.a.ol`
  list-style-position: inside;
  list-style-type: decimal;
`,m=c()(r.b)`
  ${e=>e.theme.font.main.weight.bold};
  margin: 15px 0px;
`,h=e=>{const[t,n]=u.useState(!0),{onClose:l,sessionId:c,isDraft:h}=e,[f,g]=u.useState("primary"),[b,v]=u.useState({status:"loading"}),{analyticsClient:y}=u.useContext(s.b).legacyClients;u.useEffect(()=>{(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const e=yield s.q.exportKernelRunForCaip({kernelSessionId:c,useDraft:h});e.signedUrl?v({status:"success",payload:e}):v({status:"error",message:"Did not receive signed url."})})))()},[c,h]);return u.createElement(o.a,{open:t,onClose:t=>{const a=e.isDraft?"editor":"viewer";if("warn"===t.detail.action&&"success"===b.status)g("warn"),y.logger.report("kernels","caip-export-warn",{from:a,sessionId:e.sessionId,warnings:b.payload.warnings});else if("continue"===t.detail.action&&"success"===b.status&&b.payload.signedUrl){const t=function(e,t,n,a){let r="Kaggle";"r"===a?r="R:3":n&&(r="KaggleGPU");const o=encodeURIComponent(e);return`https://console.cloud.google.com/ai-platform/notebooks/deploy-notebook;environment=${r}?q=${encodeURIComponent(`download_url=${o}  &name=${t}  &url=`)}`}(b.payload.signedUrl,e.notebookTitle,e.usesAccelerator,e.languageName);y.logger.report("kernels","caip-export-redirect",{from:a,sessionId:e.sessionId}),window.open(t,"_blank")}else n(!1),y.logger.report("kernels","caip-export-close",{sessionId:e.sessionId,from:a}),l()}},u.createElement(o.d,null,"Upgrade to Google Cloud AI Platform Notebooks"),"primary"===f?(()=>u.createElement(u.Fragment,null,u.createElement(o.c,null,u.createElement(d,{src:"/static/images/logos/google-cloud-logo-lockup.png",alt:"Google Cloud logo"}),u.createElement("div",null,u.createElement(r.b,{emphasis:"medium"},"Access more compute power by exporting your notebook and its dependencies to Google Cloud AI Platform Notebooks where you can customize a virtual machine without quotas or runtime limits."),u.createElement(m,{emphasis:"high"},"This process is three steps:"),u.createElement(r.b,{emphasis:"medium"},u.createElement(p,null,u.createElement("li",null,"Setup a billing-enabled Google Cloud Project"),u.createElement("li",null,"Setup your notebook instance and optionally customize your machine"),u.createElement("li",null,"Run your code without limits"))))),u.createElement(o.b,null,u.createElement(i.a,{emphasis:"low",action:"close"},"Cancel"),"success"===b.status?u.createElement(i.a,{action:b.payload.warnings.length>0?"warn":"continue",isDefaultAction:!0},"Continue"):u.createElement(i.a,{action:"continue",disabled:!0,isDefaultAction:!0},"Loading"))))():(()=>{if("success"===b.status)return u.createElement(u.Fragment,null,u.createElement(o.c,null,u.createElement(d,{src:"/static/images/logos/google-cloud-logo-lockup.png",alt:"Google Cloud logo"}),u.createElement("div",null,u.createElement(m,{emphasis:"high"},"Warnings"),u.createElement(r.b,{emphasis:"medium"},u.createElement(p,null,b.payload.warnings.slice(0,5).map((e,t)=>u.createElement("li",{key:t},e)))))),u.createElement(o.b,null,u.createElement(i.a,{action:"close"},"Cancel"),u.createElement(i.a,{action:"continue",isDefaultAction:!0},"Continue")));g("primary")})())}},1144:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n(145),s=n(3);const l={light:{border:s.d,hover:s.n,selected:s.n},dark:{border:s.i,default:s.t,selected:s.t}};n.d(t,"a",(function(){return m}));const c=r.a.div`
  display: flex;
  flex-wrap: nowrap;
  height: 48px;
  width: 100%;
  overflow-x: scroll;

  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
  &::-webkit-scrollbar {
    display: none;
  }

  border-bottom: ${e=>e.showDivider&&`1px solid ${l[e.theme.name].border}`};
`,u=r.a.button`
  padding: 0 12px;
  border: none;
  outline: none;
  background: none;
  cursor: pointer;

  &:hover {
    ${i.r} {
      color: ${e=>l[e.theme.name].selected};
    }
  }
`,d=r.a.span`
  position: absolute;
  bottom: 0;
  left: 0;
  height: 3px;
  width: 100%;
  background-color: ${e=>l[e.theme.name].selected};
  border: none;
  border-radius: 3px 3px 0 0;
`,p=r.a.div`
  height: 100%;
  display: flex;
  white-space: nowrap;
  align-items: center;
  position: relative;
`,m=e=>{const[t,n]=o.useState(e.selectedIndex||0);return o.useEffect(()=>{"number"==typeof e.selectedIndex&&n(e.selectedIndex)},[e.selectedIndex]),o.createElement(c,{showDivider:e.showDivider,className:e.className,style:e.style,role:"tablist","aria-label":e.label},e.tabs.map((a,r)=>o.createElement(u,{onClick:t=>{n(r),e.onSelectItem(r,t)},key:a,role:"tab","aria-selected":r===t},o.createElement(p,null,o.createElement(i.r,{emphasis:r===t?"high":"low"},a),r===t&&o.createElement(d,null)))))}},1145:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(353),r=n(993),o=n(1),i=n.n(o),s=n(0),l=n(1072),c=n(1045),u=n(1395),d=n(1396),p=n(1354);const m=i.a.div`
  margin-top: 8px;
`,h=i.a.div`
  height: 100%;
  width: 100%;
`,f=e=>{const{emptyListPlaceholder:t,loadMoreCallback:n,moreToLoad:o,isLoading:i,onNotebookDeleted:f,analyticsLogger:g,isInModal:b=!1,filter:v}=e;let{kernelsList:y}=e;const{bookmarks:E}=s.useContext(l.a),w="bookmarked"===(null==v?void 0:v.tab),x=y.length?1:20,C=s.createElement(h,null,[...Array(x).keys()].map(e=>s.createElement(a.a,{key:e})));w&&(y=y.filter(e=>E.has({bookmarkType:c.a.KERNEL,bookmarkedEntityId:e.id})));const k=y.map(e=>s.createElement(p.a,{notebook:e,key:e.id,onNotebookDeleted:f,analyticsLogger:g,isInModal:b})),S=o||y.length>0;let _=null;return S||(_=w?s.createElement(u.a,null):s.createElement(m,null,t)),s.createElement(r.a,{type:"avatar-list",variant:"three-line",loadMoreCallback:n,moreToLoad:o,isLoading:i,loadingSkeleton:C},w&&s.createElement(d.a,{bookmarkType:c.a.KERNEL}),S?k:_)}},1146:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{let a=!1;return e().then(e=>{a||t(e)}).catch(e=>{n&&!a&&n(e)}),()=>{a=!0}}},1147:function(e,t,n){"use strict";function a(e){return function(){return e}}var r=function(){};r.thatReturns=a,r.thatReturnsFalse=a(!1),r.thatReturnsTrue=a(!0),r.thatReturnsNull=a(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},1148:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{const a=new Map(e.entries());return a.set(t,n),a}},1150:function(e,t,n){"use strict";var a=n(2),r=n(6),o=n(31),i=n(0),s=n(1010),l=n(145),c=n(874),u=n(144),d=n(1),p=n.n(d);const m=p.a.div`
  display: flex;
`,h=p.a.img`
  flex: 0;
  margin-right: 16px;
  height: 196px;
  width: 196px;
`,f=p.a.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: left;
`,g=p()(l.l)`
  margin: 16px 0 24px 0;
  flex: 0;
`,b=p()(l.a)`
  flex: 1;
`,v=p()(l.u)``,y=p.a.div`
  flex: 0;
  display: flex;
`,E=p.a.div`
  flex: 1;
`,w=p()(c.a)`
  margin-right: 8px;
`;class x extends i.Component{render(){const{open:e,disabled:t,title:n,description:a,button:r,error:o,type:s,statusComponent:l,onAction:d,onDismiss:p}=this.props,x="error"===s?"uploader_error.png":"success"===s?"uploader_success.png":"uploader_progress.png";return i.createElement(u.a,{open:e,onClose:d,width:"780px"},i.createElement(m,null,i.createElement(h,{src:`/static/images/datasets/${x}`}),i.createElement(f,null,i.createElement(g,{emphasis:"high"},n),i.createElement(b,{emphasis:"medium"},a,o&&i.createElement(v,{emphasis:"high"},o)),i.createElement(y,null,l,i.createElement(E,null),p&&i.createElement(w,{disabled:t,emphasis:"low",onClick:p,type:"button"},"Dismiss"),i.createElement(c.a,{disabled:t,emphasis:"high",onClick:d},r)))))}}function C(e){const{open:t,disabled:n,description:a,button:r,error:o,onAction:s,onDismiss:l}=e;return i.createElement(x,{open:t,disabled:n,type:"error",title:"Oh no! Upload failed",button:r,description:a,error:o,onAction:s,onDismiss:l})}var k=n(1404);const S=p.a.div`
  width: 200px;
  margin-top: 16px;
`;function _(e){const{open:t,disabled:n,description:a,button:r,percentComplete:o,estimatedTimeHumanized:s,onAction:l,onDismiss:c}=e,u=i.createElement(i.Fragment,null,"We estimate this dataset will take ",s," to process.",i.createElement("br",null),a),d=i.createElement(S,null,i.createElement(k.a,{closed:!1,progress:o}));return i.createElement(x,{open:t,disabled:n,type:"progress",title:"We are processing your data",button:r,description:u,statusComponent:d,onAction:l,onDismiss:c})}function O(e){const{open:t,disabled:n,description:a,button:r,onAction:o,onDismiss:s}=e;return i.createElement(x,{open:t,disabled:n,type:"success",title:"Success!",button:r,description:a,onAction:o,onDismiss:s})}n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return N}));const T=10;class j extends i.Component{constructor(){super(...arguments),this.pollInterval=2e3,this.state={processingState:this.props.stubProcessingState||{type:"not-started"}},this.onUploadSuccess=e=>{this.setState({processingState:{type:"processing",dataset:e,timer:window.setInterval(this.pollStatus,this.pollInterval),failedPolls:0,progress:{creationStart:o().toString(),percentComplete:0}}})},this.onCloseRequest=()=>{const{onCloseRequest:e,resetOnClose:t}=this.props,{processingState:n}=this.state;e(n),!0===t&&this.resetState()},this.resetState=()=>{this.setState({processingState:{type:"not-started"}})},this.pollStatus=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{processingState:e}=this.state;if(D(e)){const{failedPolls:t,dataset:n}=e,{databundleVersionId:a}=n;try{const t=yield r.k.getDatabundleVersionCreationStatus({databundleVersionId:a});"ready"===t.status?(clearInterval(e.timer),this.handleProcessingSuccess()):"failed"===t.status?(clearInterval(e.timer),this.handleProcessingFailure(t.userMessage)):this.updateProcessingProgress(t.creationPercentComplete)}catch(n){t>T?(clearInterval(e.timer),this.handleProcessingFailure("Failed to check creation status. Please try again later.")):this.setState({processingState:Object.assign(Object.assign({},e),{failedPolls:t+1})})}}})),this.handleProcessingSuccess=()=>{this.setState(e=>{const{processingState:t}=e;return D(t)?(clearInterval(t.timer),{processingState:Object.assign(Object.assign({},t),{type:"success"})}):e})},this.handleProcessingFailure=e=>{this.setState(t=>{const{processingState:n}=t;return D(n)?(clearInterval(n.timer),{processingState:Object.assign(Object.assign({},n),{type:"failed",userMessage:e})}):t})},this.updateProcessingProgress=e=>{this.setState(t=>{const{processingState:n}=t;return D(n)&&e?{processingState:Object.assign(Object.assign({},n),{type:"processing",progress:Object.assign(Object.assign({},n.progress),{percentComplete:e}),failedPolls:0})}:t})}}componentWillUnmount(){const{processingState:e}=this.state;D(e)&&clearInterval(e.timer)}render(){const{isOpen:e,isDisabled:t,renderUploader:n,successScreen:a,failureScreen:r,processingScreen:o}=this.props,{processingState:l}=this.state;if(I(l))return n({onCloseRequest:this.onCloseRequest,onCreateSuccess:this.onUploadSuccess});if(N(l)){const{buttonText:n,descriptionText:r}=a;return i.createElement(O,{open:e,disabled:t,button:n,description:r,onAction:this.onCloseRequest})}if(M(l)){const{userMessage:n}=l,{buttonText:a,descriptionText:o}=r;return i.createElement(C,{open:e,disabled:t,button:a,description:o,error:n||void 0,onAction:this.onCloseRequest})}{const{buttonText:n,descriptionText:a}=o,{dataset:r,progress:c}=l,{percentComplete:u}=c,d=Object(s.a)(r.databundleSize);return i.createElement(_,{open:e,disabled:t,button:n,description:a,estimatedTimeHumanized:d,percentComplete:u,onAction:this.onCloseRequest})}}}const I=e=>"not-started"===e.type,D=e=>"processing"===e.type,N=e=>"success"===e.type,M=e=>"failed"===e.type},1151:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n(145),s=n(3);const l={light:{separator:s.c},dark:{separator:s.j}};n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));const c=r.a.div`
  border-bottom: ${e=>e.separator&&`1px solid ${e.contentTheme.separator}`};
  display: flex;
  padding: 24px 0px;
  box-sizing: border-box;
  justify-content: space-between;
  align-items: center;
  width: 100%;

  @media ${a.MaterialBreakpointDown.TABLET} {
    flex-wrap: ${e=>"wrap"===e.wrap&&"wrap"};
    justify-content: center;
  }
`,u=r.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-right: 48px;
  flex: 1 1 auto;

  @media ${a.MaterialBreakpointDown.TABLET} {
    margin-right: 0;
  }
`,d=r()(i.k)`
  font-weight: bold;
  font-family: ${e=>e.theme.material.typography.display1.fontFamily};
`,p=r()(i.s)`
  line-height: 22px;
  max-width: ${e=>{var t;return null!==(t=e.maxWidth)&&void 0!==t?t:"485px"}};
`,m=r.a.div``,h=r.a.div`
  align-items: center;
  justify-content: center;
  display: flex;
  flex-shrink: 0;

  @media ${a.MaterialBreakpointDown.TABLET} {
    display: ${e=>"hide"===e.wrap&&"none"};
  }
`,f=r.a.div`
  border-bottom: ${e=>e.separator&&`1px solid ${e.contentTheme.separator}`};
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 0px;
  box-sizing: border-box;

  @media ${a.MaterialBreakpointDown.TABLET} {
    flex-wrap: ${e=>"wrap"===e.wrap&&"wrap"};
  }
`,g=e=>{const{className:t,title:n,separator:r,subtitle:i,subtitleMaxWidth:s,meta:g,wrap:b="wrap",style:v,actions:y,condensed:E}=e,w=o.useContext(a.ThemeContext),x=l[w.name];return E?o.createElement(f,{wrap:b,className:t,separator:r,contentTheme:x,style:v},o.createElement(d,null,n),y&&o.createElement(m,null,y)):o.createElement(c,{wrap:b,className:t,separator:r,contentTheme:x,style:v},o.createElement(u,null,o.createElement(d,{style:{marginBottom:"16px"}},n),o.createElement(p,{style:{marginBottom:"24px"},maxWidth:s},i),y&&o.createElement(m,null,y)),o.createElement(h,{wrap:b},g))},b=r()(g)`
  height: auto;
  padding-top: 62px;
  padding-bottom: 22px;
`},1152:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(2),r=n(874),o=n(55),i=n(0),s=n(1032),l=n(1036),c=n(1180),u=function(e){var t=e.confirmText||"Confirm",n=e.cancelText||"Cancel",a=e.isProcessing||!0===e.confirmDisabled;return i.createElement("div",{className:o("confirm__form",e.className)},e.title&&i.createElement("div",{className:"confirm__title"},e.title),e.subtitle&&i.createElement("div",{className:"confirm__subtitle"},e.subtitle),i.createElement("div",{className:"confirm__content"},e.children),i.createElement("div",{className:"confirm__buttons"},i.createElement(r.a,{emphasis:"low",style:{marginRight:"8px"},disabled:e.isProcessing,"data-test-id":"confirm__cancel-button",onClick:!e.isProcessing&&e.onCancel},n),i.createElement(r.a,{emphasis:"high",disabled:a,"data-test-id":"confirm__confirm-button",onClick:!a&&e.onConfirm},t),e.isProcessing&&i.createElement("div",{className:"confirm__is-processing"},i.createElement("span",{className:"fa fa-spin fa-circle-o-notch"}))))},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isShown,n=Object(a.__rest)(e,["isShown"]),r=n.isProcessing,o=n.onCancel;return i.createElement(l.a,{onClose:r?function(){}:o,onShow:function(){},modalIsShown:t},i.createElement(u,Object(a.__assign)({},n)))},t}(i.Component);var p=function(e){var t=e.children,n=Object(a.__rest)(e,["children"]);return i.createElement(c.a,Object(a.__assign)({},n),(function(e){return t((function(t,n){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return r=function(e){return void 0!==e.title?e:{title:e}}(t),[4,e((function(e){return i.createElement(u,Object(a.__assign)({},r,{onCancel:function(){return e(!1)},onConfirm:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return n?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return e(!0),[2]}}))}))}}))}))];case 1:return[2,o.sent()||!1]}}))}))}))}))},m=function(e){var t=e.onClick,n=e.onVisible,r=e.confirm,o=void 0===r?{}:r,l=Object(a.__rest)(e,["onClick","onVisible","confirm"]),c=Object(a.__read)(i.useState(!!o.isShown),2),u=c[0],p=c[1],m=Object(a.__read)(i.useState(!!o.isProcessing),2),h=m[0],f=m[1],g=function(e){p(e),n&&n(e)},b=Object(a.__assign)(Object(a.__assign)({},o),{isShown:u,isProcessing:h,onCancel:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return o.onCancel?[4,o.onCancel()]:[3,2];case 1:e.sent(),e.label=2;case 2:return g(!1),[2]}}))}))},onConfirm:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return f(!0),t?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return o.onConfirm?[4,o.onConfirm()]:[3,4];case 3:e.sent(),e.label=4;case 4:return f(!1),g(!1),[2]}}))}))}});return i.createElement(i.Fragment,null,i.createElement(s.a,Object(a.__assign)({},l,{onClick:function(){return g(!0)}})),i.createElement(d,Object(a.__assign)({},b)))}},1153:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h}));var a=n(2),r=n(147),o=n(1241);function i(e){var t=e.loaded,n=void 0===t?0:t,a=e.total,r=void 0===a?0:a,o={addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(e){return!0}};return{loaded:n,total:r,lengthComputable:r>0,timeStamp:Date.now(),type:"SyntheticProgressEvent",preventDefault:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){},bubbles:!1,cancelable:!1,cancelBubble:!1,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!0,srcElement:{},deepPath:function(){return[]},initEvent:{},currentTarget:o,target:o,composed:!1,NONE:1,AT_TARGET:1,BUBBLING_PHASE:1,CAPTURING_PHASE:1}}var s,l={id:"00000000-0000-0000-0000-000000000000",name:"Pending",source:"UNKNOWN",context:{entityId:-1,entityName:null,type:"generic"},progressProps:{description:"Pending",initiatedTimeStamp:Date.now(),progressEvent:i({loaded:0,total:0})},bypassed:!1,errorType:null,errors:null},c={solution:null,solutionMapping:null,submission:null,submissionMapping:null},u=function(t){return Object(a.__awaiter)(void 0,void 0,Promise,(function(){var n;return Object(a.__generator)(this,(function(a){return n=e.Admin.getBackgroundTask,s&&(n=n.with(s)),[2,n({id:t})]}))}))};function d(e,t,n,i){var s,l=this;void 0===t&&(t=null),void 0===n&&(n=u);var c=null,d=null,m=null,h=null;var f=function(e){r(e,"taskProgress must exist to report notifications on");var n=function(e){return!function(e){if(!e)return!0;if(e.bypassed)return!0;if(function(e){if(!e||!e.progressProps)return!1;var t=e.progressProps.progressEvent;return t&&!1===t.isLengthComputable||0===t.loaded&&0===t.total}(e))return!1;return function(e){return!!(e&&e.errors&&e.errors.length)}(e)||p(e)}(e)}(e);if(e.errorType&&e.errors&&e.errors.length)!function(e){var n=e.errors.map((function(e){return new o.a(e)}));h&&h(t?t(e.errorType,n):n)}(e);else if(n)d&&d(e);else{if(!p(e))throw new Error("unknown state of taskProgress: "+JSON.stringify(e));m&&m(e)}return n},g=function(e,t,o){void 0===o&&(o=2e3),window.clearTimeout(s),s=window.setTimeout((function(){(function(e){return Object(a.__awaiter)(l,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return r(e,"taskProgress must exist to poll progress"),[4,n(e.id)];case 1:return(t=a.sent())||!e.context?[3,3]:[4,i(e.context)];case 2:t=a.sent(),a.label=3;case 3:return[2,t]}}))}))})(e).then((function(e){f(e)?g(e,t):t(e)})).catch((function(e){if(!h)throw e;h([e])}))}),o)};return Object.defineProperty((function(t,n){return new Promise((function(o,i){(function(t,n,o){return Object(a.__awaiter)(l,void 0,void 0,(function(){var i,s,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:o||"function"!=typeof n||(o=n,n=void 0),o||(o=function(e){}),a.label=1;case 1:return a.trys.push([1,3,,4]),c&&c(),[4,e(t,n)];case 2:return i=a.sent(),r((s=i).id,"taskProgress should have an id"),f(s)?g(s,o):o(s),[2,s];case 3:throw l=a.sent(),h&&h([l]),l;case 4:return[2]}}))}))})(t,n,o).catch(i)}))}),"subscribe",{value:function(e,t,n,a,r){return c=e,d=t,m=n,h=a,function(e){return function(){c=null,d=null,m=null,h=null,e()}}(r)},enumerable:!0,configurable:!0})}function p(e){if(e.bypassed)return!0;var t=e&&e.progressProps?e.progressProps.progressEvent:null;return t&&0!==t.total&&t.total===t.loaded}function m(e){if(!e.progressEvent)return 0;var t=e.progressEvent,n=t.loaded,a=t.total,r=t.timeStamp-e.initiatedTimeStamp,o=(a-n)/(a?n/r:0),i=Math.round(o/1e3);return i===1/0||isNaN(i)?null:i}function h(e){var t=m(e);if(null==t)return"";if(1===t)return"1 sec left";if(t<60)return t+" secs left";var n=Math.floor(t/60);if(1===n)return"1 min left";if(n<60)return n+" mins left";var a=Math.floor(t/3600);return 1===a?"1 hour left":a+" hours left"}}).call(this,n(367))},1154:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return g}));var a=n(145),r=n(252),o=n(1),i=n.n(o),s=n(1019);const l=4,c="xsmall",u=i.a.div`
  display: flex;
  cursor: pointer;
  color: ${e=>e.selected&&s.a[e.theme.name].blueSelected};
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,d=i.a.div`
  display: flex;
  cursor: pointer;
  color: ${e=>s.a[e.theme.name].textLow};
`,p=i.a.div`
  flex: 0 0 ${e=>e.theme.material.spacing(l)};
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  margin-right: ${e=>e.theme.material.spacing(2)};
  width: ${e=>e.theme.material.spacing(l)};
  height: ${e=>e.theme.material.spacing(l)};
`,m=i.a.div`
  flex: 0 0 ${e=>e.theme.material.spacing(l)};
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  margin-right: ${e=>e.theme.material.spacing(2)};
  width: ${e=>e.theme.material.spacing(l)};
  height: ${e=>e.theme.material.spacing(l)};
  position: relative;
`,h=i.a.div`
  left: -2px;
  bottom: -4px;
  position: absolute;
`,f=i()(a.b)`
  flex: 1 1 auto;
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,g=i()(r.Tooltip)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`},1158:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(249),r=n(144),o=n(1),i=n.n(o),s=n(0),l=n(1008);const c=i.a.div`
  margin: -32px;
  position: relative;
`,u=i.a.div`
  display: flex;
  height: 480px;
`,d=i()(a.a)`
  position: absolute;
  top: 14px;
  right: 8px;
  height: 32px;
  width: 32px;
`,p=e=>{const{open:t,headerBar:n,onClose:a,children:o}=e;return s.createElement(r.a,{open:t,onClose:a},s.createElement(c,null,s.createElement(l.a.Consumer,null,e=>!e&&s.createElement(d,{icon:"close",onClick:a})),n,s.createElement(u,null,o)))}},1159:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(0),i=n(1085);const s=r.a.a`
  color: ${e=>e.theme.colors.text.link};
  text-decoration: none;

  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`;function l(){return o.createElement(i.a,{title:"Ooooops, something went wrong.",description:o.createElement(o.Fragment,null,"Please try reopening this dialog. If the problem persists, please contact ",o.createElement(s,{href:"mailto:support@kaggle.com"},"contact support")," and we'll get you squared away.")})}},1160:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(988),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  flex-grow: 1;

  display: flex;
  align-items: center;
  justify-content: center;

  color: ${e=>e.theme.colors.kaggle.blueDark};
  padding: ${e=>e.theme.size.pad.m};
`;function l(){return i.createElement(s,null,i.createElement(a.a,{size:"xlarge"}))}},1161:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(2),r=n(1352),o=n(145),i=n(6),s=n(1),l=n.n(s),c=n(0),u=n(1089),d=n(1018),p=n(1037);const m=l()(r.a)`
  width: 100%;
  height: unset;
`,h=l()(o.b)`
  color: ${e=>e.theme.material.color.status.error[700]};
  margin: 16px 0;
`;let f=(()=>{class e extends c.Component{constructor(){super(...arguments),this.shouldComponentUpdate=e=>{const{container:t}=this.props;return Object(p.a)(t,e.container)},this.renderStatusMessage=(e,t)=>{if(!e&&t)return c.createElement(h,null,"This does not seem to be a valid GCS Url (for example gs://bucket/path).")},this.getStatusIcon=(e,t)=>e||t?t?"priority_high":void 0:"check",this.onGcsUrlChange=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:t}=this.props;t("gcsFileSetContainer","set",{gcsUrl:e})}))}render(){const{container:e}=this.props,{gcsUrl:t}=e,n=""===t,a=!n&&!Object(u.a)(t);return c.createElement(d.c,null,c.createElement(d.a,{"data-testid":"remote-gcsfileset-header"},"Import Google Cloud Storage Files"),c.createElement(d.b,{emphasis:"low"},"Create a dataset from a public Google Cloud Storage bucket or path."),c.createElement(m,{label:"Public GCS URL",value:t,status:a?"invalid":"normal",onChange:e=>this.onGcsUrlChange(e.currentTarget.value),trailingIcon:this.getStatusIcon(n,a)}),this.renderStatusMessage(n,a))}}return e.contextType=i.b,e})()},1162:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const a=[{key:"uploadContainer",icon:"upload_file"},{key:"remoteUrlUploadContainer",icon:"link"},{key:"githubContainer",icon:"github"},{key:"kernelOutputContainer",icon:"code"},{key:"gcsFileSetContainer",icon:"cloud"}].map(e=>e),r={key:"settings",icon:"settings",isEnd:!0},o={key:"adminFlags",icon:"lock",isEnd:!0},i=e=>e.isAdmin?[...a,o,r]:[...a,r],s=e=>e.isAdmin?[...a,o]:[...a]},1163:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var a=n(1090),r=n(1057);const o=(e,t)=>{const{title:n,slug:a,isPrivate:r,licenseId:o,owner:i,referrer:s,flags:c,taskId:u,competitionId:d}=t;return Object.assign(Object.assign({},l(e)),{title:n,slug:a,isPrivate:r,licenseId:o,ownerOrganizationId:i.isOrganization?i.id:null,ownerUserId:i.isOrganization?null:i.id,referrer:s,description:null,overview:null,flags:v(c),taskId:u||null,competitionId:d||null})},i=(e,t)=>Object.assign(Object.assign(Object.assign({},l(e)),t),{deleteOldVersions:!1,overview:null,description:null,flags:v(t.flags)}),s=(e,t)=>Object.assign(Object.assign(Object.assign({},l(e)),t),{flags:v(t.flags)}),l=e=>{switch(e.type){case"uploadContainer":return c(e);case"remoteUrlUploadContainer":return h(e);case"githubContainer":return f(e);case"kernelOutputContainer":return g(e);case"gcsFileSetContainer":return b(e)}throw new Error("invalid container supplied")},c=e=>{return{databundleVersionType:"fileset",files:e.files.filter(e=>Object(a.a)(e.state)).map(e=>u(e)),existingFiles:e.existingFiles.map(e=>d(e)),directories:e.directories.map(e=>p(e)),existingDirectories:e.existingDirectories.map(e=>m(e)),remoteUrlInfos:[],githubInfo:null,kernelOutputInfo:null,gcsFileSetInfo:null,flags:null}},u=e=>({name:e.name,token:e.state.token}),d=e=>{const t={type:"existingFile",name:e.name,size:e.size};return"firestore"===e.identifier.type?Object.assign(Object.assign({},t),{gcsPath:e.identifier.gcsPath,legacyInfo:null}):Object.assign(Object.assign({},t),{gcsPath:"",legacyInfo:{databundleVersionObjectId:e.identifier.databundleVersionObjectId,blobFileId:e.identifier.blobFileId}})},p=e=>({name:e.name,files:e.files.map(e=>u(e)),directories:e.directories.map(e=>p(e))}),m=e=>({name:e.name,files:e.files.map(e=>d(e)),directories:e.directories.map(e=>m(e))}),h=e=>{return{databundleVersionType:"remoteUrlFileSet",remoteUrlInfos:e.children.filter(e=>{return"remoteUrlUploadFile"===e.type&&"success"===e.state.type||"remoteUrlVersionedFile"===e.type}).map(e=>({name:e.name,url:e.url})),files:[],existingFiles:[],directories:[],existingDirectories:[],githubInfo:null,kernelOutputInfo:null,gcsFileSetInfo:null,flags:null}},f=e=>{const t=Object(r.a)(e.url),n={databundleVersionType:"remoteGitRepositoryFileSet",files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,kernelOutputInfo:null,gcsFileSetInfo:null,flags:null};return t?Object.assign(Object.assign({},n),{githubInfo:{ownerSlug:t.owner,repositorySlug:t.repository,lastUpdatedHash:null}}):n},g=e=>"listFiles"!==e.state.type?{databundleVersionType:"kernelOutputFileSet",kernelOutputInfo:{kernelId:0,kernelVersionId:0,kernelOutputFiles:[]},files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,gcsFileSetInfo:null,flags:null}:{databundleVersionType:"kernelOutputFileSet",kernelOutputInfo:{kernelId:e.state.kernel.id,kernelVersionId:e.state.kernel.lastKernelRunId,kernelOutputFiles:[]},files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,gcsFileSetInfo:null,flags:null},b=e=>({databundleVersionType:"gcsFileSet",kernelOutputInfo:null,files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,gcsFileSetInfo:{gcsUrl:e.gcsUrl},flags:null}),v=e=>{if(!e)return null;const{reuseOriginalSingleGcsZip:t,disableRawUpload:n,disableBundleCreation:a,disableIndividualZipCreation:r,disableDirectoryZipCreation:o,gcsUploadUrl:i,disableDecompression:s}=e;return{disableWorker:!1,disableMetadata:!1,disableStatus:!1,disableStatusPubSub:!1,disableFinalResult:!1,disableEmbeddedFilesystem:!0,useStandaloneZipperForBundle:!0,migration:!1,migrationIsCurrentDatabundleVersion:!1,reuseOriginalSingleGcsZip:t,disableRawUpload:n,disableBundleCreation:a,disableDirectoryZipCreation:o,disableIndividualZipCreation:r,disableDecompression:s,gcsUploadUrl:i||null}}},1164:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return E})),n.d(t,"m",(function(){return w}));var a=n(145),r=n(1908),o=n(1),i=n.n(o);const s=e=>e.theme.material.color.brand.grey[500],l=e=>e.theme.material.color.brand.grey[100],c=e=>e.theme.material.color.brand.grey[50],u=e=>e.theme.material.spacing(4),d=e=>e.theme.material.spacing(6),p=e=>e.theme.material.spacing(1),m=i.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  background-color: ${e=>e.theme.material.color.white};
`,h=i.a.li`
  box-sizing: border-box;
  list-style-type: none;
  background-color: ${e=>!0===e.selected?e.theme.material.color.brand.blue[50]:e.theme.material.color.white};
  border-top: 1px solid ${l};
  padding: ${u} ${d};
  display: flex;
  position: relative;
  justify-content: space-between;
  cursor: pointer;

  &:hover {
    background-color: ${c};
  }
`,f=i.a.div`
  flex: 1 1 0;
  min-width: 0;
`,g=(i.a.div`
  flex: 0 0 auto;
  min-width: 0;
  margin-left: ${d};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,i.a.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-left: ${e=>e.theme.material.spacing(20)};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`),b=i.a.div`
  display: flex;
`,v=i()(a.u)`
  flex: 1 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,y=i()(a.e)`
  color: ${s};
`,E=i()(a.v)`
  color: ${s};
  /* link needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};

  :visited {
    color: ${s};
  }
  :hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,w=i()(r.a)`
  /* needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};
`},1166:function(e,t,n){"use strict";var a=n(2),r=n(6),o=n(1),i=n.n(o),s=n(0),l=n(1259),c=n(1086),u=n(1087),d=n(1186),p=n(1043),m=n(1008),h=n(1017),f=n(1022),g=n(145),b=n(108);const v=i.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.material.color.text[70]};
`,y=i()(g.s)`
  display: flex;
  white-space: nowrap;
`,E=i()(g.s.withComponent("button"))`
  display: flex;
  white-space: nowrap;
  background: none;
  border: none;

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.material.color.anchor.hover};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.material.color.text[70]};
  }
`,w=i()(b.a)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`,x=i()(b.a)`
  margin: 0 ${e=>e.theme.material.spacing(2)} 0
    ${e=>e.theme.material.spacing(2)};
`;function C({path:e,onPathChange:t,className:n}){const a=s.useContext(m.a);return s.createElement(v,{className:n},s.createElement(E,{key:"root-path",disabled:a,onClick:()=>t([])},s.createElement(w,{icon:"folder",size:"small"}),"root"),s.createElement(x,{icon:"chevron_right",size:"xsmall"}),e.map((n,r)=>{const o=r===e.length-1,i=e.slice(0,r+1),l=o?s.createElement(y,null,s.createElement(w,{icon:"folder",size:"small"}),n):s.createElement(E,{disabled:a,onClick:()=>t(i)},s.createElement(w,{icon:"folder",size:"small"}),n);return s.createElement(s.Fragment,{key:i.join("/")},l,!o&&s.createElement(x,{icon:"chevron_right",size:"xsmall"}))}))}var k=n(251),S=n(122);const _=i()(g.b.withComponent("li"))`
  list-style-type: none;
  padding: 0 16px;

  &:hover {
    cursor: ${e=>e.isDisabled?"default":"pointer"};
    background-color: ${e=>e.isDisabled?"transparent":e.theme.material.color.brand.grey[50]};
  }
`;function O({children:e,onHover:t,onClick:n,className:a}){const r=s.useContext(m.a);return s.createElement(_,{isDisabled:r,onMouseOver:!r&&t?()=>t(!0):void 0,onMouseLeave:!r&&t?()=>t(!1):void 0,onClick:r?void 0:n,className:a},e)}var T=n(255);const j=i()(T.a)`
  width: 200px;
  height: ${e=>e.theme.font.main.size.m};
`,I=i()(g.b)`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.xs};
`,D=i()(g.b)`
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline;
`,N=i()(g.b)`
  display: inline;
`,M=i()(e=>{const t=s.useContext(m.a),{percent:n,className:a}=e;return s.createElement(j,{className:a,strokeLinecap:"butt",percent:n,strokeWidth:2,trailWidth:0,strokeColor:t?"rgba(0,0,0,0.4)":"#86dcff",trailColor:"rgba(0,0,0,0.1)","data-testid":"progress-bar"})})`
  margin-right: ${e=>e.theme.size.pad.s};
`,F=i()(g.e.withComponent("div"))`
  padding: 0 40px 4px 34px;
`,P=i.a.p`
  margin: 0;
`,L=i()(g.v.withComponent("button"))`
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  color: ${e=>e.theme.material.color.anchor.base};
  padding: 0 0 0 4px;

  border: none;
  background: none;

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`;function A(e){const t=s.useContext(m.a),{error:n}=e,a="folder-error"===n.type?"Folder contains files that failed to upload.":"folder-duplication"===n.type?"Folder contains files that exist in other datasets or competitions.":s.createElement(s.Fragment,null,"This file already exists in ",n.entity," ",s.createElement(g.v,{title:`${n.entityName} ${n.entity}`,href:n.href,target:"_blank",rel:"noopener"},n.entityName," ",s.createElement(b.a,{icon:"open_in_new",size:"inline"})),". Consider removing it and using the existing data source."),r="folder-error"===n.type?"Remove Failed Uploads":"folder-duplication"===n.type?"Remove Duplicates":void 0;return s.createElement(F,null,s.createElement(P,null,a,!t&&"file-duplication"!==n.type&&s.createElement(L,{onClick:n.onAction},r)))}var R=n(1015);const U=i()(({isDisabled:e,...t})=>s.createElement(b.a,Object.assign({},t)))`
  color: ${e=>Object(R.d)(e.isDisabled,e.theme.colors.kaggle.orange,e.theme.colors.text.light)};
`,z=e=>{const{isDisabled:t,onRemove:n}=e;return n?s.createElement(R.c,{disabled:t,onClick:n,"data-testid":"duplicate-remove-icon"},s.createElement(b.a,{icon:"close"})):s.createElement(R.b,{"data-testid":"duplicate-icon"},s.createElement(U,{isDisabled:t,icon:"warning"}))};var $=n(1055),B=n(1056);function V(e){const t=s.useContext(m.a),{directory:n,onRemove:a}=e;return Object(h.i)(n,"failed")?s.createElement($.a,{isDisabled:t,onRemove:a}):Object(h.i)(n,"duplicate")?s.createElement(z,{isDisabled:t,onRemove:a}):Object(h.i)(n,"uploading")?s.createElement(R.c,{disabled:t,onClick:a,"data-testid":"uploading-directory-remove-icon"},s.createElement(b.a,{icon:"close"})):s.createElement(B.a,{isDisabled:t,onRemove:a})}const H=i()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
  width: 24px;
`;function W(e){const t=s.useContext(m.a),[n,a]=s.useState(!1),{directory:r,className:o,onNavigate:i,onRemove:l,onRemoveDuplicates:c,onRemoveFailed:u}=e,d=Object(h.i)(r,"failed")?s.createElement(A,{error:{type:"folder-error",onAction:e=>{e.stopPropagation(),u()}}}):Object(h.i)(r,"duplicate")?s.createElement(A,{error:{type:"folder-duplication",onAction:e=>{e.stopPropagation(),c()}}}):void 0,p=Object(h.h)(r),f=k(Object(h.e)(r)),g=Object(h.d)(r);return s.createElement(O,{key:r.name,onClick:t?void 0:i,onHover:a,className:o},s.createElement(I,null,s.createElement(H,{icon:"folder",size:"small"}),s.createElement(D,null,r.name," ",s.createElement(N,{emphasis:"low"},"(",f,", ",g," ",S("file",g),")")),p<100&&s.createElement(M,{percent:p}),s.createElement(V,{directory:r,onRemove:n?e=>{e.stopPropagation(),l()}:void 0,"data-testid":"remove-directory-icon"})),d)}var q=n(1010);function K(e){const t=s.useContext(m.a),{fileState:n,onRemove:a}=e;return"uploading"===n.type?s.createElement(s.Fragment,null,s.createElement(R.c,{disabled:t,onClick:a,"data-testid":"uploading-file-remove-icon"},s.createElement(b.a,{icon:"close"}))):"failed"===n.type?s.createElement($.a,{isDisabled:t,onRemove:a}):"duplicate"===n.type?s.createElement(z,{isDisabled:t,onRemove:a}):s.createElement(B.a,{isDisabled:t,onRemove:a})}const G=i()(O)`
  &:hover {
    cursor: default;
  }
`,Y=i()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
  width: 24px;
`;function Z(e){const[t,n]=s.useState(!1),{file:a,onRemove:r}=e,o=Object(q.d)(Object(q.b)(name)),i=s.createElement(Y,{icon:o});return s.createElement(G,{onHover:n},s.createElement(I,null,i,s.createElement(D,null,a.name," ",s.createElement(N,{emphasis:"low"},"(",k(a.size),")")),"uploading"===a.state.type&&s.createElement(M,{percent:a.state.percentComplete}),s.createElement(K,{fileState:a.state,onRemove:t?r:void 0})),"duplicate"===a.state.type&&s.createElement(A,{error:{type:"file-duplication",entityName:a.state.duplication.name,href:a.state.duplication.url,entity:a.state.duplication.type}}))}const Q=i.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,X=i()(C)`
  overflow-x: auto;
  overflow-y: hidden;
  margin: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  ::-webkit-scrollbar {
    height: ${e=>e.theme.material.spacing(1)};
  }
  ::-webkit-scrollbar-thumb {
    background-color: ${e=>e.theme.material.color.brand.grey[200]};
  }
`,J=i.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`;function ee(e){const t=s.useContext(m.a),{path:n,directory:a,onOpenFileDialog:r,onPathChange:o,onRemove:i,onRemoveDuplicates:l,onRemoveFailed:c}=e,{directories:u,files:d}=a;return s.createElement(s.Fragment,null,s.createElement(Q,null,s.createElement(X,{path:n,onPathChange:o}),s.createElement(J,null,s.createElement(f.a,{isDisabled:t,onClick:r}))),u.map(e=>{const t=[...n,e.name];return s.createElement(W,{key:t.join("/"),directory:e,onNavigate:()=>o(t),onRemove:()=>i({type:"uploadDirectory",parts:t}),onRemoveDuplicates:()=>l(t),onRemoveFailed:()=>c(t)})}),d.map(e=>{const t=[...n,e.name];return s.createElement(Z,{key:t.join("/"),file:e,onRemove:()=>i({type:"uploadFile",parts:t})})}))}const te=i.a.div`
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;

  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0.96;

  background-color: ${e=>e.theme.material.color.white};
  z-index: ${e=>e.theme.zindex.foreground};
`,ne=i.a.div`
  display: flex;
`,ae=i()(g.p)`
  margin-left: 16px;
`;function re(){return s.createElement(te,null,s.createElement(ne,null,s.createElement(b.a,{icon:"file_upload"}),s.createElement(ae,null,"Drop to upload file")))}const oe=i.a.div`
  display: flex;
  flex: 1 1 0;
  flex-direction: column;
  position: relative;
  overflow-y: auto;
`;function ie(e){const{getRootProps:t,getInputProps:n,isDragActive:a,children:r}=e;return s.createElement(oe,Object.assign({},t()),s.createElement("input",Object.assign({},n(),{"data-testid":"dropzone-input"})),a&&s.createElement(re,null),r)}var se=n(874);const le=i.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 24px;
`,ce=i.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.large};
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 16px 0;
`,ue=i()(g.p)`
  margin-top: 16px;
`,de=i()(g.c)`
  margin-top: 8px;
`,pe=i()(g.c)`
  margin-top: 16px;
  margin-bottom: 16px;
`;function me(e){const t=s.useContext(m.a),{onOpenFileDialog:n}=e;return s.createElement(le,null,s.createElement(ce,null,s.createElement(b.a,{icon:"upload_file"}),s.createElement(ue,null,"Drag and drop files to upload"),s.createElement(de,{emphasis:"low"},"Consider zipping large directories for faster uploads")),s.createElement(pe,{emphasis:"low"},"or"),s.createElement(se.a,{emphasis:"medium",disabled:t,onClick:n},"Browse Files"))}const he=i()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function fe(e){const t=s.useContext(m.a),{directory:n,className:a,onNavigate:r,onRemove:o}=e,i=k(Object(h.e)(n)),l=Object(h.d)(n);return s.createElement(O,{key:n.name,onClick:t?void 0:r,className:a},s.createElement(I,null,s.createElement(he,{icon:"folder",size:"small"}),s.createElement(D,null,n.name," ",s.createElement(N,null,"(",i,", ",l," ",S("file",l),")")),s.createElement(R.c,{disabled:t,onClick:e=>{e.stopPropagation(),o()},"data-testid":"remove-directory-icon"},s.createElement(b.a,{icon:"close"}))))}const ge=i()(O)`
  &:hover {
    cursor: default;
  }
`,be=i()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function ve(e){const t=s.useContext(m.a),{file:n,onRemove:a}=e,r=Object(q.d)(Object(q.b)(name)),o=s.createElement(be,{icon:r});return s.createElement(ge,null,s.createElement(I,null,o,s.createElement(D,null,n.name," ",s.createElement(N,null,"(",k(n.size),")")),s.createElement(R.c,{disabled:t,onClick:a,"data-testid":"remove-file-icon"},s.createElement(b.a,{icon:"close"}))))}const ye=i.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Ee=i()(C)`
  overflow-x: auto;
  overflow-y: hidden;
  margin: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  ::-webkit-scrollbar {
    height: ${e=>e.theme.material.spacing(1)};
  }
  ::-webkit-scrollbar-thumb {
    background-color: ${e=>e.theme.material.color.brand.grey[200]};
  }
`,we=i.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`;function xe(e){const t=s.useContext(m.a),{path:n,directory:a,onOpenFileDialog:r,onPathChange:o,onRemove:i}=e,{directories:l,files:c}=a;return s.createElement(s.Fragment,null,s.createElement(ye,null,s.createElement(Ee,{path:n,onPathChange:o}),s.createElement(we,null,s.createElement(f.a,{isDisabled:t,onClick:r}))),l.map(e=>{const t=[...n,e.name];return s.createElement(fe,{key:t.join("/"),directory:e,onNavigate:()=>o(t),onRemove:()=>i({type:"existingDirectory",parts:t})})}),c.map(e=>{const t=[...n,e.name];return s.createElement(ve,{key:t.join("/"),file:e,onRemove:()=>i({type:"existingFile",parts:t})})}))}var Ce=n(1018);const ke=i.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 16px;
`,Se=i.a.div`
  padding: 0 16px;
`,_e=i.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`,Oe=i()(g.b)`
  font-style: italic;
  color: ${e=>e.theme.colors.text.medium};
  margin-left: ${e=>e.theme.size.pad.l};
`;function Te(e){const t=s.useContext(m.a),{container:n,onOpenFileDialog:a,onPathChange:r,onRemove:o,onRemoveDuplicates:i,onRemoveFailed:l}=e,{directories:c,files:u,existingDirectories:d,existingFiles:p}=n,h=c.length>0||u.length>0,g=d.length>0||p.length>0;return s.createElement(s.Fragment,null,s.createElement(ke,null,s.createElement(Ce.a,{"data-testid":"local-directories-header"},"Uploaded files"),s.createElement(_e,null,s.createElement(f.a,{isDisabled:t,onClick:a}))),h?s.createElement(s.Fragment,null,c.map(e=>s.createElement(W,{key:`dir-${e.name}`,directory:e,onNavigate:()=>r("uploadDirectory",[e.name]),onRemove:()=>{o({type:"uploadDirectory",parts:[e.name]})},onRemoveDuplicates:()=>i([e.name]),onRemoveFailed:()=>l([e.name])})),u.map(e=>s.createElement(Z,{key:`file-${e.name}`,file:e,onRemove:()=>o({type:"uploadFile",parts:[e.name]})}))):s.createElement(Oe,null,"Use the file explorer or drag-and-drop to upload more files"),g&&s.createElement(s.Fragment,null,s.createElement(Se,null,s.createElement(Ce.a,null,"Previously uploaded files")),d.map(e=>s.createElement(fe,{key:`dir-${e.name}`,directory:e,onNavigate:()=>r("existingDirectory",[e.name]),onRemove:()=>o({type:"existingDirectory",parts:[e.name]})})),p.map(e=>s.createElement(ve,{key:`file-${e.name}`,file:e,onRemove:()=>o({type:"existingFile",parts:[e.name]})}))))}n.d(t,"a",(function(){return Ie}));const je=i.a.div`
  position: relative;
  flex-grow: 1;
`;function Ie(e){const t=s.useContext(m.a),n=s.useContext(r.b),{container:a,datasetId:o,competitionId:i,onUpdate:u}=e,[d,p]=s.useState({type:"root"}),[f,g]=s.useState([]),{directories:b,files:v,existingDirectories:y,existingFiles:E}=a,{getRootProps:w,getInputProps:x,open:C,isDragActive:k}=Object(l.b)({disabled:t,noClick:!0,noKeyboard:!0,onDrop:e=>{De({bothClients:n,datasetId:o,competitionId:i,onUpdate:u,droppedFiles:e,container:a,setConflictFiles:g,setPath:p})}});if(f.length>0)return s.createElement(je,null,s.createElement(c.a,{description:"One or more files in your selection have the same names as existing\n          files. Do you want to replace the existing files?",cancelText:"Cancel",confirmText:"Replace files",onAction:e=>{"cancel"===e?g([]):(Ne({bothClients:n,datasetId:o,competitionId:i,temporaryFiles:f,setPath:p,onUpdate:u}),g([]))}}));if(0===b.length&&0===v.length&&0===y.length&&0===E.length)return s.createElement(ie,{isDragActive:k,getRootProps:w,getInputProps:x},s.createElement("input",Object.assign({},x())),s.createElement(me,{onOpenFileDialog:C}));const S=Object(h.c)(a,d);return"root"===d.type||void 0===S?s.createElement(ie,{isDragActive:k,getRootProps:w,getInputProps:x},s.createElement("input",Object.assign({},x())),f&&f.map(e=>e.file.name),s.createElement(Te,{container:a,onPathChange:(e,t)=>p({type:e,parts:t}),onOpenFileDialog:C,onRemove:e=>u("uploadContainer","remove",{path:e}),onRemoveDuplicates:e=>{u("uploadContainer","removeDuplicates",{path:{type:"uploadDirectory",parts:e}})},onRemoveFailed:e=>{u("uploadContainer","removeFailed",{path:{type:"uploadDirectory",parts:e}})}})):s.createElement(ie,{isDragActive:k,getRootProps:w,getInputProps:x},s.createElement("input",Object.assign({},x())),"uploadDirectory"===S.type?s.createElement(ee,{path:d.parts,directory:S,onPathChange:e=>p({type:"uploadDirectory",parts:e}),onOpenFileDialog:C,onRemove:e=>u("uploadContainer","remove",{path:e}),onRemoveDuplicates:e=>{u("uploadContainer","removeDuplicates",{path:{type:"uploadDirectory",parts:e}})},onRemoveFailed:e=>{u("uploadContainer","removeFailed",{path:{type:"uploadDirectory",parts:e}})}}):s.createElement(xe,{path:d.parts,directory:S,onPathChange:e=>p({type:"existingDirectory",parts:e}),onOpenFileDialog:C,onRemove:e=>u("uploadContainer","remove",{path:e})}))}const De=e=>{const{bothClients:t,droppedFiles:n,datasetId:a,competitionId:r,container:o,setPath:i,setConflictFiles:s,onUpdate:l}=e,c=n.filter(e=>Pe(e.path||e.name)).map(e=>{const t="string"==typeof e.path?e.path.split("/").filter(e=>e):[e.name];return{file:e,parts:t,hasNameConflict:Object(u.d)(o,t)}});c.some(e=>e.hasNameConflict)?s(c):Ne({bothClients:t,datasetId:a,competitionId:r,temporaryFiles:c,setPath:i,onUpdate:l})},Ne=e=>{const{bothClients:t,temporaryFiles:n,datasetId:a,competitionId:o,setPath:i,onUpdate:s}=e;n.map(e=>{const{parts:n,file:a}=e;return s("uploadContainer","remove",{path:{type:"existingFile",parts:n}}),s("uploadContainer","remove",{path:{type:"uploadFile",parts:n}}),s("uploadContainer","start",{path:n,size:a.size}),{uploadPromise:Object(d.c)(t.legacyClients.blobFilesClient.createNewBlob,r.d.DatasetVersionFilesV2,a),parts:n}}).forEach(e=>Me({bothClients:t,datasetId:a,competitionId:o,onUpdate:s,fileUpload:e})),i({type:"root"})},Me=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetId:t,competitionId:n,bothClients:a,fileUpload:r,onUpdate:o}=e,{uploadPromise:i,parts:s}=r;i.onProgress=e=>{if(e.isDone&&e.hasFailed)return void o("uploadContainer","failed",{path:s});const{progressEvent:t}=e.progressProps;if(!t)return;const{loaded:n,total:a}=t;o("uploadContainer","progress",{path:s,percentComplete:100*n/a})};try{const e=yield i,{token:r}=e,{datasetsClient:l}=a.clients,c=yield l.detectDuplicate({blobFileToken:r,currentDatasetId:t||null,currentCompetitionId:n||null});if(null!==c){const{analyticsClient:t}=a.legacyClients;Object(p.b)(t,e.name,c),o("uploadContainer","duplicate",{path:s,token:r,duplication:c})}else o("uploadContainer","complete",{path:s,token:r})}catch(e){o("uploadContainer","failed",{path:s})}})),Fe=["__MACOSX",".DS_Store","__pycache__"],Pe=e=>!Fe.some(t=>e&&e.includes(t))},1167:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n(1012),s=n(1022),l=n(1085),c=n(1037),u=n(108),d=n(988),p=n(145),m=n(1015),h=n(2),f=n(1352),g=n(348),b=n(1367),v=n(6),y=n(123),E=n(912),w=n(1003),x=n(1010);const C=r()(p.u.withComponent("a"))`
  text-decoration: none;
  color: ${e=>e.theme.material.color.text[100]};

  &:hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,k=r()(u.a)`
  margin-left: ${e=>e.theme.size.margin.s};
`,S=r.a.div`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-top: -16px; /* HACK: Otherwise it gets some weird extra margin */
`,_=r.a.span`
  margin-right: 8px;
`,O=r()(u.a)`
  margin: 0 4px 0 0;
`;class T extends o.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.renderFile=e=>{const t=Object(x.d)(Object(x.b)(e.name));return o.createElement(_,{key:e.id},o.createElement(O,{icon:t,size:"inline"}),e.name)},this.onClick=e=>{const{onSelect:t}=this.props;this.titleLinkRef&&this.titleLinkRef.contains(e.target)||t()},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,kernel:t}=this.props,{isHovered:n}=this.state,{title:a,owner:r,url:i,outputFiles:s}=t;return o.createElement(E.a,{disabled:e,key:name,onClick:e?void 0:this.onClick,graphic:o.createElement(w.a,{displayName:r.name,thumbnailUrl:r.imageUrl,profileUrl:`/${r.slug}`,openLinkInNewWindow:!0,size:"xlarge",tier:null===r.userTier?void 0:r.userTier}),primaryText:o.createElement(C,{href:i,target:"_blank",ref:e=>this.titleLinkRef=e,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},a,n&&o.createElement(k,{icon:"open_in_new",size:"inline"})),secondaryText:o.createElement(S,null,s.map(e=>this.renderFile(e)))})}}const j=50,I=20,D="Public Notebooks",N="Your Work",M=r.a.div`
  overflow-y: auto;
  flex-grow: 1;
`,F=r.a.div`
  display: flex;
  align-items: center;
  padding: 16px;
`,P=r()(f.a)`
  flex: 1 1 auto;
  height: 34px;
  margin-right: 16px;

  && .mdc-text-field__input {
    height: 32px !important;
  }

  && .mdc-floating-label {
    top: 8px;
  }

  && .mdc-floating-label--float-above {
    display: none !important;
  }

  && .mdc-notched-outline--notched .mdc-notched-outline__notch {
    display: none !important;
  }
`,L=r.a.div`
  flex-grow: 1;
  display: flex;
  justify-content: center;
  margin: 48px;
`,A=r.a.div`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.m};
  text-align: center;
`;let R=(()=>{class e extends o.Component{constructor(){super(...arguments),this.debouncedSearch=Object(y.a)(500,()=>this.onSearch()),this.state={hasMore:!1,isSearchingMore:!1},this.renderWaiting=()=>o.createElement(L,null,o.createElement(d.a,{size:"xlarge"})),this.renderList=e=>{const{isDisabled:t}=this.props;return o.createElement(g.a,{variant:"two-line"},e.map(e=>o.createElement(T,{isDisabled:t,kernel:e,onSelect:()=>this.onSelect(e),key:`kernel_${e.id}`})))},this.onSelect=e=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:t}=this.props;if(e.outputFiles.length<5)t("kernelOutputContainer","setKernel",{id:e.id});else{t("kernelOutputContainer","setLoadingFiles",{id:e.id});try{const{kernelsClient:n}=this.context.clients;t("kernelOutputContainer","setFiles",{files:(yield n.listKernelRunOutput({kernelRunId:e.lastKernelRunId,pageSize:j,pageToken:null})).items.map(z)})}catch(e){t("kernelOutputContainer","failed",void 0)}}})),this.onScroll=e=>{const{container:t}=this.props;if(!Object(i.j)(t.state))return;const n=e.currentTarget,a=n&&n.scrollTop||document.body.scrollTop,r=n&&n.scrollHeight||document.body.scrollHeight,o=n.clientHeight||window.innerHeight;Math.ceil(a+o)>=r-30&&this.onSearchMore()},this.onSearchMore=()=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{isSearchingMore:n,hasMore:a}=this.state;if(!Object(i.j)(e.state)||n||!a)return;const{state:r}=e,{query:o,searchType:s,kernels:l}=r,c=l&&l.length>0?l[l.length-1].id:void 0;try{this.setState({isSearchingMore:!0});const e=yield this.searchKernels(s,o,c),n=e.length===I;this.setState({isSearchingMore:!1,hasMore:n}),t("kernelOutputContainer","addToKernelList",{moreKernels:e})}catch(e){t("kernelOutputContainer","failed",void 0),this.setState({isSearchingMore:!1})}})),this.onQueryChange=e=>{const{onUpdate:t}=this.props;t("kernelOutputContainer","setQuery",{query:e}),this.debouncedSearch()},this.onSearchTypeChange=e=>{const{onUpdate:t}=this.props;t("kernelOutputContainer","setSearchType",{searchType:e?"yourWork":"public"}),this.debouncedSearch()},this.onSearch=()=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props;if(!Object(i.l)(e.state)&&!Object(i.j)(e.state))return;const{state:n}=e,{query:a,searchType:r}=n;t("kernelOutputContainer","setQuery",{query:a});try{const e=yield this.searchKernels(r,a,void 0),n=e.length===I;this.setState({isSearchingMore:!1,hasMore:n}),t("kernelOutputContainer","setKernelList",{kernels:e})}catch(e){t("kernelOutputContainer","failed",void 0)}}))}componentDidMount(){this.debouncedSearch()}render(){const{isDisabled:e,container:t}=this.props,{isSearchingMore:n}=this.state;if(!Object(i.l)(t.state)&&!Object(i.j)(t.state))return;const{state:a}=t,{query:r,searchType:s}=a;return o.createElement(M,{onScroll:e=>this.onScroll(e),"data-testid":"kernel-list-wrapper"},o.createElement(F,null,o.createElement(P,{disabled:e,label:"Search notebooks",value:r,onChange:e=>this.onQueryChange(e.currentTarget.value)}),o.createElement(b.a,{dense:!0,disabled:e,options:[D,N],onSelect:e=>this.onSearchTypeChange(e===N),value:"public"===s?D:N})),Object(i.l)(t.state)&&this.renderWaiting(),Object(i.j)(t.state)&&this.renderList(t.state.kernels),n&&o.createElement(A,null,"Loading more kernels..."))}searchKernels(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function*(){const a={kernelFilterCriteria:{competitionId:null,datasetId:null,datasourceType:null,forkParentScriptId:null,kernelType:null,language:null,page:0,userId:null,tagIds:null,startRow:0,outputType:"Data",excludeResultsFilesOutputs:!0,wantOutputFiles:!0,sortBy:"public"===e?"hotness":"dateRun",pageSize:I,group:"public"===e?"everyone":"profile",search:t.length>0?t:"",after:n||null,hasGpuRun:null,privacy:"all"},detailFilterCriteria:null},r=yield this.context.clients.kernelsClient.listKernels(a);return U(r.kernels)}))}}return e.contextType=v.b,e})();const U=e=>{return e.map(e=>{if(null===e.currentUrlSlug||null===e.author)return null;return{id:e.id,lastKernelRunId:e.scriptVersionId,url:e.scriptUrl,owner:{id:e.author.id,imageUrl:e.author.thumbnailUrl,slug:e.author.userName,isOrganization:!1,name:e.author.displayName,userTier:e.author.performanceTier},title:e.title,outputFiles:e.outputFiles.map(z)}}).filter(e=>!!e)},z=e=>{return{id:e.kernelSessionOutputFileId,name:e.name,size:e.contentLength,type:"kernelOutputFile"}};var $=n(251);const B=r.a.li`
  padding: 0 16px;

  &:hover {
    background-color: ${e=>e.isDisabled?"transparent":e.theme.material.color.brand.grey[50]};
  }
`,V=r.a.div`
  display: flex;
  align-items: center;
  padding: 4px;
`,H=r()(u.a)`
  margin-right: 8px;
  color: ${e=>e.theme.material.color.text[50]};
`,W=r()(p.b)`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,q=r()(p.b)`
  white-space: nowrap;
  margin: 0 8px;
`;class K extends o.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,file:t}=this.props,{name:n,size:a}=t,r=Object(x.d)(Object(x.b)(n)),i=o.createElement(H,{icon:r});return o.createElement(B,{isDisabled:e,key:n,onMouseOver:e?void 0:this.onMouseOver,onMouseLeave:e?void 0:this.onMouseLeave},o.createElement(V,null,i,o.createElement(W,{emphasis:"high"},n),o.createElement(q,{emphasis:"low"},"(",$(a),")")))}}const G=r.a.div`
  overflow-y: auto;
  flex-grow: 1;
  height: 100%;
`,Y=r.a.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,Z=r()(m.a)`
  flex-grow: 1;
  flex-shrink: 1;
`,Q=r()(s.c)`
  margin: 0 ${e=>e.theme.size.margin.m};
`,X=r.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`,J=r.a.li`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  padding: ${e=>e.theme.size.pad.m};
  background-color: ${e=>e.theme.material.color.brand.grey[100]};
  color: ${e=>e.theme.colors.text.light};
  margin-bottom: ${e=>e.theme.size.pad.s};
`,ee=r.a.div`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.m};
`,te=r.a.span`
  cursor: pointer;
  color: ${e=>e.theme.colors.kaggle.blueDark};
  :hover {
    color: ${e=>e.theme.colors.kaggle.blue};
  }
`,ne=r()(u.a)`
  margin-left: ${e=>e.theme.size.margin.s};
`,ae=r.a.a`
  color: ${e=>e.theme.colors.text.medium};
  ${e=>e.theme.font.main.weight.normal};
  text-decoration: none;
  cursor: pointer;
  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`,re=100;class oe extends o.Component{constructor(){super(...arguments),this.renderLoading=()=>o.createElement(L,null,o.createElement(d.a,{size:"large"})),this.renderList=e=>{const{isDisabled:t,allowBackToSearch:n,onRemove:a,onBack:r}=this.props,i=e.length>re?e.slice(0,re):e,s=i.length<e.length;if(0===i.length)return o.createElement(ee,null,"Select at least one file in order to continue."," ",n&&o.createElement(o.Fragment,null,o.createElement(te,{onClick:r},"Search again")," to select a new Kernel output."));const l=i.map(e=>o.createElement(K,{isDisabled:t,key:e.name,file:e,onRemove:()=>a(e.id)}));return o.createElement(X,null,s&&o.createElement(J,null,o.createElement(p.b,{emphasis:"medium"},"This preview only shows the first ",re," files from the notebook output. The resulting dataset will contain all files.")),l)}}render(){const{isDisabled:e,kernel:t,allowBackToSearch:n,onBack:a}=this.props,{outputFiles:r,title:i,url:s}=t,l=void 0===r?this.renderLoading():this.renderList(r);return o.createElement(G,null,o.createElement(Y,null,o.createElement(Z,null,"Kernel:"," ",o.createElement(ae,{href:s,target:"_blank"},i,o.createElement(ne,{icon:"open_in_new",size:"inline"}))),n&&o.createElement(Q,{onClick:a,isDisabled:e})),l)}}n.d(t,"a",(function(){return ce}));const ie=r.a.div`
  width: 100%;
  position: relative;
`,se=r.a.div`
  margin-top: 48px;
`,le=r()(s.c)`
  position: absolute;
  top: ${e=>e.theme.size.margin.m};
  right: ${e=>e.theme.size.margin.m};
`;class ce extends o.Component{constructor(){super(...arguments),this.shouldComponentUpdate=e=>{const{container:t}=this.props;return Object(c.a)(t,e.container)}}render(){const{isDisabled:e,container:t,allowBackToSearch:n,onUpdate:a}=this.props;return Object(i.l)(t.state)||Object(i.j)(t.state)?o.createElement(R,{isDisabled:e,onUpdate:a,container:t}):Object(i.k)(t.state)||Object(i.i)(t.state)?o.createElement(ie,null,o.createElement(oe,{kernel:{title:t.state.kernel.title,url:t.state.kernel.url,outputFiles:Object(i.i)(t.state)?t.state.files:void 0},isDisabled:e,allowBackToSearch:n,onRemove:e=>a("kernelOutputContainer","removeFile",{id:e}),onBack:()=>a("kernelOutputContainer","reset",void 0)})):o.createElement(ie,null,o.createElement(se,null,o.createElement(l.a,{title:"Unable to load Kernels",description:"We ran into an issue retrieving the list of Kernels."})),n&&o.createElement(le,{onClick:()=>a("kernelOutputContainer","reset",void 0),isDisabled:e}))}}},1168:function(e,t,n){"use strict";var a=n(2),r=n(1352),o=n(145),i=n(6),s=n(1),l=n.n(s),c=n(0),u=n(1088),d=n(1022),p=n(1018),m=n(1037),h=n(108),f=n(251),g=n(1010),b=n(1012),v=n(1055),y=n(1015),E=n(988);l()(h.a)`
  color: ${e=>Object(y.d)(e.isDisabled,e.theme.colors.kaggle.blueDark,e.theme.colors.text.light)};
`;const w=e=>{const{isDisabled:t,onRemove:n,isHovered:a}=e;return a?c.createElement(y.c,{disabled:t,onClick:()=>n(),"data-testid":"pending-remove-icon"},c.createElement(h.a,{icon:"close"})):c.createElement(y.b,null,c.createElement(E.a,{progress:t?.8:void 0}))};var x=n(1056);const C=l.a.li`
  padding: 4px 16px;

  &:hover {
    background-color: ${e=>e.isDisabled?"transparent":e.theme.material.color.brand.grey[50]};
  }
`,k=l.a.div`
  display: flex;
  align-items: center;
  padding: 4px 4px 0 4px;
`,S=l()(h.a)`
  margin: 0 8px;
`,_=l()(o.b)`
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,O=l.a.input`
  padding: 0;
  padding-bottom: 1px;
  background-color: transparent;
  border: 1px solid transparent;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};

  &:focus {
    outline: none;
  }

  &:hover {
    border: 1px solid ${e=>e.theme.material.color.brand.grey[50]};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
  }
`,T=l()(o.b)`
  flex: 0 0 auto;
  margin: 0 8px;
`,j=l()(o.c)`
  padding: 0 32px 4px 40px;
`,I=l.a.a`
  text-decoration: none;
  color: ${e=>e.theme.material.color.anchor.base};
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  &:hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`;class D extends c.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.renderItemStatus=e=>{const{onRemove:t,isDisabled:n}=this.props,{isHovered:a}=this.state,{name:r}=e;if("remoteUrlVersionedFile"===e.type)return c.createElement(y.c,{disabled:n,onClick:()=>t(r)},c.createElement(h.a,{icon:"close"}));const{state:o}=e;return Object(b.p)(o)?c.createElement(x.a,{isDisabled:n,onRemove:a?()=>t(r):void 0}):Object(b.o)(o)?c.createElement(w,{isDisabled:n,isHovered:a,onRemove:()=>t(r)}):Object(b.n)(o)?c.createElement(v.a,{isDisabled:n,onRemove:a?()=>t(r):void 0}):void 0},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,file:t,onRename:n}=this.props,{name:a,url:r}=t,o=Object(g.d)(Object(g.b)(a)),i="remoteUrlVersionedFile"===t.type?t.size:Object(b.p)(t.state)?t.state.size:void 0,s="remoteUrlUploadFile"===t.type&&Object(b.p)(t.state)&&!e;return c.createElement(C,{isDisabled:e,onMouseOver:e?void 0:this.onMouseOver,onMouseLeave:e?void 0:this.onMouseLeave},c.createElement(k,null,c.createElement(S,{icon:o,size:"inline"}),c.createElement(_,null,s?c.createElement(O,{value:a,placeholder:"Enter a file name",onChange:e=>n(a,e.currentTarget.value)}):a),void 0!==i&&i<=0?c.createElement(T,{emphasis:"low"},"unknown"):i&&c.createElement(T,{emphasis:"low"},"(",f(i),")"),this.renderItemStatus(t)),c.createElement(j,null,c.createElement(I,{title:r,href:r,target:"_blank",rel:"noopener"},r," ",c.createElement(h.a,{icon:"open_in_new",size:"inline"}))))}}const N=l.a.div`
  width: 100%;
`,M=l.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`;function F(e){const{isDisabled:t,showHelpMessage:n,files:a,onRemove:r,onRename:o}=e,i=a.map(e=>c.createElement(D,{isDisabled:t,key:e.url,file:e,onRemove:r,onRename:o}));return c.createElement(N,null,c.createElement(p.c,null,c.createElement(p.a,{"data-testid":"remote-files-header"},"Remote Files"),n&&c.createElement(p.b,{emphasis:"low"},"Create a dataset from remote URLs. URLs must point to a file.")),c.createElement(M,null,i))}const P=l.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`;function L(e){const{isDisabled:t,files:n,onRemove:a,onRename:r}=e,o=n.map(e=>c.createElement(D,{key:e.name,isDisabled:t,file:e,onRemove:a,onRename:r}));return c.createElement(c.Fragment,null,c.createElement(p.c,null,c.createElement(p.a,null,"Previous remote files")),c.createElement(P,null,o))}n.d(t,"a",(function(){return $}));const A=l.a.div`
  overflow-y: auto;
  flex-grow: 1;
`,R=l()(r.a)`
  flex: 1 1 auto;
  height: unset;
  margin-right: 16px;
`,U=l.a.div`
  display: flex;
  align-items: center;
  margin-top: 8px;
`,z=l()(o.b)`
  color: ${e=>e.theme.material.color.status.error[700]};
  margin-right: 16px;
`;let $=(()=>{class e extends c.Component{constructor(){super(...arguments),this.state={urlToAdd:{value:"",isValid:!1,isDuplicate:!1}},this.shouldComponentUpdate=(e,t)=>{const{container:n}=this.props,{urlToAdd:a}=this.state;return a.value!==t.urlToAdd.value||a.isValid!==t.urlToAdd.isValid||a.isDuplicate!==t.urlToAdd.isDuplicate||Object(m.a)(n,e.container)},this.onRemove=e=>{const{onUpdate:t}=this.props;t("remoteUrlUploadContainer","remove",{name:e})},this.onRename=(e,t)=>{const{onUpdate:n}=this.props;n("remoteUrlUploadContainer","rename",{oldName:e,newName:t})},this.onUrlToAddChange=e=>{const{container:t}=this.props;this.setState({urlToAdd:{value:e,isValid:Object(u.d)(e),isDuplicate:t.children.some(t=>t.url===e)}})},this.onAddUrl=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{urlToAdd:n}=this.state,{value:a}=n;this.setState({urlToAdd:{value:"",isValid:!1,isDuplicate:!1}});const r=Object(u.e)(Object(u.c)(a,`file_${e.children.length+1}`),e);r&&(t("remoteUrlUploadContainer","add",{name:r,url:a}),yield this.onValidate(r,a))})),this.onValidate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:n}=this.props,{datasetsClient:a}=this.context.clients;try{const r=yield a.getRemoteUrlFileInfo({url:t});n("remoteUrlUploadContainer","success",{name:e,size:r.contentLength})}catch(t){n("remoteUrlUploadContainer","failed",{name:e})}})),this.canAddUrl=()=>{const{urlToAdd:e}=this.state,{isValid:t,isDuplicate:n}=e;return t&&!n}}render(){const{isDisabled:e,container:t}=this.props,{urlToAdd:n}=this.state,{children:a}=t,{value:r,isValid:o}=n,i=a.filter(e=>"remoteUrlVersionedFile"===e.type),s=a.filter(e=>"remoteUrlUploadFile"===e.type),l=!this.canAddUrl()&&r.length>0;return c.createElement(A,null,i.length>0&&c.createElement(L,{isDisabled:e,files:i,onRemove:this.onRemove,onRename:this.onRename}),c.createElement(F,{isDisabled:e,showHelpMessage:0===i.length,files:s,onRemove:this.onRemove,onRename:this.onRename}),!e&&c.createElement(p.c,null,c.createElement(U,null,c.createElement(R,{autoFocus:!0,label:"URL",value:r,status:l?"invalid":"normal",onChange:e=>this.onUrlToAddChange(e.currentTarget.value)}),l&&c.createElement(z,null,o?"URL already added":"Invalid URL"),c.createElement(d.b,{isDisabled:!this.canAddUrl(),onClick:this.onAddUrl}))))}}return e.contextType=i.b,e})()},1169:function(e,t,n){"use strict";var a=n(2),r=n(1352),o=n(145),i=n(6),s=n(1),l=n.n(s),c=n(0),u=n(123),d=n(1012),p=n(1057),m=n(1018),h=n(1037),f=n(1370);const g=l.a.div`
  margin: 16px 0;
`,b=l()(o.u)`
  margin-bottom: 8px;
`,v=l()(f.b)`
  width: ${e=>e.width};
`;function y(){return c.createElement(g,null,c.createElement(b,null,"Preview"),c.createElement(v,{width:"50%"}," "),c.createElement(v,{width:"20%"}," "),c.createElement(v,{width:"40%"}," "),c.createElement(v,{width:"30%"}," "),c.createElement(v,{width:"50%"}," "),c.createElement(v,{width:"20%"}," "),c.createElement(v,{width:"40%"}," "),c.createElement(v,{width:"30%"}," "))}var E=n(108),w=n(251),x=n(1010);const C=l.a.div`
  margin: 16px 0;
`,k=l()(o.u)`
  margin-bottom: 8px;
`,S=l.a.ul`
  padding: 0;
  margin-left: 16px;
  list-style-type: none;
`,_=l.a.li``,O=l.a.div`
  margin: ${e=>e.theme.size.margin.xs};
  display: flex;
  align-items: center;
`,T=l()(E.a)`
  margin-right: 4px;
  color: ${e=>e.theme.material.color.brand.grey[500]};
`,j=l()(o.b)`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,I=l()(o.b)`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  margin-left: 8px;
`;class D extends c.Component{constructor(){super(...arguments),this.renderItem=e=>Object(d.c)(e)?this.renderFile(e):this.renderFolder(e),this.renderFolder=e=>c.createElement(_,{key:`folder-${e.repositoryPath}`},c.createElement(O,null,c.createElement(T,{icon:"folder"}),c.createElement(j,null,e.name)),e.children.length>0&&c.createElement(S,null,e.children.map(e=>this.renderItem(e)))),this.renderFile=e=>{const t=Object(x.d)(Object(x.b)(e.name));return c.createElement(_,{key:`file-${e.repositoryPath}`},c.createElement(O,null,c.createElement(T,{icon:t}),c.createElement(j,null,e.name),c.createElement(I,{emphasis:"low"},"(",w(e.size),")")))}}render(){const{content:e}=this.props;return c.createElement(C,null,c.createElement(k,null,"Preview"),c.createElement(S,null,e.map(e=>this.renderItem(e))))}}n.d(t,"a",(function(){return F}));const N=l()(r.a)`
  width: 100%;
  height: unset;
`,M=l()(o.b)`
  color: ${e=>e.theme.material.color.status.error[700]};
  margin: 16px 0;
`;let F=(()=>{class e extends c.Component{constructor(){super(...arguments),this.debouncedValidation=Object(u.a)(500,()=>this.onValidateGithub()),this.shouldComponentUpdate=e=>{const{container:t}=this.props;return Object(h.a)(t,e.container)},this.renderStatusMessage=(e,t)=>{if(this.hasUrlError(e,t))return c.createElement(M,null,"This does not seem to be a valid GitHub repository.")},this.getStatusIcon=(e,t)=>this.hasUrlError(e,t)?"priority_high":Object(d.f)(e)?"hourglass_empty":Object(d.g)(e)?"check":void 0,this.onUrlChange=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:t}=this.props;t("githubContainer","set",{url:e}),Object(p.c)(e)&&this.debouncedValidation()})),this.onValidateGithub=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{url:n}=e,a=Object(p.a)(n);if(a){const{datasetsClient:e}=this.context.clients;try{t("githubContainer","success",{content:(yield e.getGithubRepositoryInfo({ownerSlug:a.owner,repositorySlug:a.repository})).map(e=>P(e))})}catch(e){t("githubContainer","failed",void 0)}}})),this.hasUrlError=(e,t)=>Object(d.d)(e)&&0!==t.length}render(){const{container:e}=this.props,{url:t,state:n}=e,a=this.hasUrlError(n,t);return c.createElement(m.c,null,c.createElement(m.a,{"data-testid":"remote-github-header"},"Import GitHub repository"),c.createElement(m.b,{emphasis:"low"},"Create a dataset from a GitHub repository archive. Use the repo URL or any deep link."),c.createElement(N,{label:"GitHub URL",value:t,status:a?"invalid":"normal",onChange:e=>this.onUrlChange(e.currentTarget.value),trailingIcon:this.getStatusIcon(n,t)}),this.renderStatusMessage(n,t),Object(d.g)(n)&&c.createElement(D,{content:n.content}),Object(d.f)(n)&&c.createElement(y,null),Object(d.e)(n)&&c.createElement(M,null,"We ran into a problem retrieving the repository contents from GitHub. You can still go ahead and create your Dataset."))}}return e.contextType=i.b,e})();const P=e=>{if("file"===e.type){const t=e;return{name:t.name,size:t.size,type:"githubFile",repositoryPath:t.repositoryPath}}{const t=e;return{name:t.name,type:"githubFolder",repositoryPath:t.repositoryPath,children:t.children.map(e=>P(e))}}}},1170:function(e,t,n){"use strict";var a=n(122),r=n(0),o=n(1017),i=n(1012),s=n(1090),l=n(1089),c=n(1057);const u=e=>t=>{const{id:n}=e,{container:a}=t;return Object(i.h)(a)&&Object(i.i)(a.state)?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{files:a.state.files.filter(e=>"kernelOutputFile"===e.type&&e.id!==n)})})}:t},d=e=>t=>{const{id:n}=e,{container:a}=t;if(Object(i.h)(a)&&Object(i.j)(a.state)){const e=a.state.kernels.find(e=>e.id===n);if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"listFiles",kernel:e,files:e.outputFiles}})}}return t},p=e=>t=>{const{id:n}=e,{container:a}=t;if(Object(i.h)(a)&&Object(i.j)(a.state)){const e=a.state.kernels.find(e=>e.id===n);if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"loadingFiles",kernel:e}})}}return t},m=e=>t=>{const{files:n}=e,{container:a}=t;if(Object(i.h)(a)&&Object(i.k)(a.state)){const e=a.state.kernel;if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"listFiles",kernel:e,files:n}})}}return t},h=e=>t=>{const{moreKernels:n}=e,{container:a}=t;return Object(i.h)(a)&&Object(i.j)(a.state)?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{kernels:[...a.state.kernels,...n]})})}:t},f=e=>t=>{const{kernels:n}=e,{container:a}=t;return Object(i.h)(a)&&(Object(i.j)(a.state)||Object(i.l)(a.state))?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{type:"listKernels",kernels:n})})}:t},g=e=>t=>{const{query:n}=e,{container:a}=t;return Object(i.h)(a)&&(Object(i.j)(a.state)||Object(i.l)(a.state))?{container:Object.assign(Object.assign({},a),{state:{type:"loadingKernels",searchType:a.state.searchType,query:n}})}:t},b=e=>t=>{const{searchType:n}=e,{container:a}=t;return Object(i.h)(a)&&(Object(i.j)(a.state)||Object(i.l)(a.state))?{container:Object.assign(Object.assign({},a),{state:{type:"loadingKernels",searchType:n,query:a.state.query}})}:t},v=()=>({container:{type:"kernelOutputContainer",state:{type:"failed"}}}),y=()=>({container:{type:"kernelOutputContainer",state:{type:"loadingKernels",query:"",searchType:"public"}}});var E=n(1087),w=n(1088);n.d(t,"a",(function(){return x}));class x extends r.Component{constructor(){super(...arguments),this.state={container:this.props.defaultContainer},this.onUpdate=(e,t,n)=>{switch(e){case"uploadContainer":return void this.onUploadContainerUpdate(t,n);case"remoteUrlUploadContainer":return void this.onRemoteUploadContainerUpdate(t,n);case"githubContainer":return void this.onGithubContainerUpdate(t,n);case"kernelOutputContainer":return void this.onKernelOutputContainerUpdate(t,n);case"gcsFileSetContainer":return void this.onGcsFileSetContainerUpdate(t,n)}},this.onUploadContainerUpdate=(e,t)=>{switch(e){case"start":return void this.setState(Object(E.j)(t));case"progress":return void this.setState(Object(E.e)(t));case"complete":return void this.setState(Object(E.a)(t));case"duplicate":return void this.setState(Object(E.b)(t));case"failed":return void this.setState(Object(E.c)(t));case"remove":return void this.setState(Object(E.h)(t));case"removeFailed":return void this.setState(Object(E.g)(t));case"removeDuplicates":return void this.setState(Object(E.f)(t));case"reset":return void this.setState(E.i)}},this.onRemoteUploadContainerUpdate=(e,t)=>{switch(e){case"add":return void this.setState(Object(w.a)(t));case"rename":return void this.setState(Object(w.g)(t));case"success":return void this.setState(Object(w.i)(t));case"failed":return void this.setState(Object(w.b)(t));case"remove":return void this.setState(Object(w.f)(t));case"reset":return void this.setState(w.h)}},this.onGithubContainerUpdate=(e,t)=>{switch(e){case"set":return void this.setState(Object(c.e)(t));case"failed":return void this.setState(c.b);case"success":return void this.setState(Object(c.f)(t));case"reset":return void this.setState(c.d)}},this.onKernelOutputContainerUpdate=(e,t)=>{switch(e){case"removeFile":return void this.setState(u(t));case"setKernel":return void this.setState(d(t));case"setLoadingFiles":return void this.setState(p(t));case"setFiles":return void this.setState(m(t));case"addToKernelList":return void this.setState(h(t));case"setKernelList":return void this.setState(f(t));case"setQuery":return void this.setState(g(t));case"setSearchType":return void this.setState(b(t));case"reset":return void this.setState(y);case"failed":return void this.setState(v)}},this.onGcsFileSetContainerUpdate=(e,t)=>{switch(e){case"set":return void this.setState(Object(l.c)(t));case"reset":return void this.setState(l.b)}},this.isContainerDirty=()=>{const{container:e}=this.state;if(Object(i.q)(e)){return Object(o.b)(e,()=>!0)>0}return Object(i.b)(e)?!!e.url:Object(i.m)(e)?e.children.length>0:Object(i.h)(e)?Object(i.i)(e.state):!!Object(i.a)(e)&&!!e.gcsUrl},this.isContainerClosable=()=>{const{container:e}=this.state;return Object(i.q)(e)?0===e.files.length&&0===e.directories.length:Object(i.m)(e)?!e.children.some(e=>"remoteUrlUploadFile"===e.type):!Object(i.h)(e)||!Object(i.i)(e.state)},this.isContainerUploadable=()=>{const{container:e}=this.state;if("uploadContainer"===e.type){const t=Object(o.b)(e,()=>!0),n=0===Object(o.b)(e,e=>"uploadFile"===e.type&&!Object(s.a)(e.state));return t>0&&n}if(Object(i.b)(e))return Object(i.g)(e.state)||Object(i.e)(e.state);if(Object(i.m)(e)){const{children:t}=e,n=t.length>0,a=t.every(e=>"remoteUrlVersionedFile"===e.type||Object(i.p)(e.state));return n&&a}return Object(i.h)(e)?Object(i.i)(e.state)&&e.state.files.length>0:!!Object(i.a)(e)&&Object(l.a)(e.gcsUrl)},this.doesContainerContainerDuplicates=()=>{const{container:e}=this.state;return"uploadContainer"===e.type&&Object(o.b)(e,e=>"uploadFile"===e.type&&"duplicate"===e.state.type)>0},this.doesContainerHaveErrors=()=>{const{container:e}=this.state;if("uploadContainer"===e.type)return Object(o.b)(e,e=>"uploadFile"===e.type&&"failed"===e.state.type)>0;if("remoteUrlUploadContainer"===e.type){const{children:t}=e;return t.some(e=>"remoteUrlUploadFile"===e.type&&"failed"===e.state.type)}return!1},this.inflightUploadMessage=()=>{const{container:e}=this.state;if("uploadContainer"===e.type){const t=Object(o.b)(e,e=>"uploadFile"===e.type);if(t>0){const n=this.getCompleteLocalUploadsCount(e),r=n===t;return{type:"loading",str:`Uploaded ${n} of ${t} ${a("files",t)}${r?".":"..."}`}}}},this.getCompleteLocalUploadsCount=e=>Object(o.b)(e,e=>"uploadFile"===e.type&&("duplicate"===e.state.type||"complete"===e.state.type))}render(){const{children:e}=this.props,{container:t}=this.state;return e({container:t,isContainerDirty:this.isContainerDirty(),isContainerClosable:this.isContainerClosable(),isContainerUploadable:this.isContainerUploadable(),doesContainerContainDuplicates:this.doesContainerContainerDuplicates(),doesContainerHaveErrors:this.doesContainerHaveErrors(),inflightUploadMessage:this.inflightUploadMessage(),onUpdate:this.onUpdate})}}},1171:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n(108);const s=r.a.button`
  border: none;
  background: none;
  position: relative;
  margin-bottom: 16px;
  color: ${e=>(e=>{const{isSelected:t,disabled:n,isHovering:a,theme:r}=e;return t?r.material.color.brand.grey[900]:n?r.material.color.brand.grey[500]:a?r.material.color.brand.grey[900]:r.material.color.brand.grey[500]})(e)};
  cursor: ${e=>(e=>{const{disabled:t,isHovering:n}=e;return!t&&n?"pointer":"default"})(e)};
`;class l extends o.Component{constructor(){super(...arguments),this.state={isHovering:!1},this.onMouseEnter=()=>{this.setState({isHovering:!0})},this.onMouseLeave=()=>{this.setState({isHovering:!1})}}static getDerivedStateFromProps(e,t){const{isSelected:n,isDisabled:a}=e;return{isHovering:!n&&!a&&t.isHovering}}render(){const{icon:e,isDisabled:t,isSelected:n,onClick:a,className:r}=this.props,{isHovering:l}=this.state;return o.createElement(s,{disabled:n||t,isSelected:n,isHovering:l,className:r,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:a},o.createElement(i.a,{icon:e,size:"medium"}))}}n.d(t,"a",(function(){return m}));const c=r.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 0 0 40px;

  padding: 24px 16px 0 16px;
  border-right: 1px solid ${e=>e.theme.colors.content.border};
`,u=r()(l)``,d=r()(l)``,p=r.a.div`
  flex: 1 1 auto;
`;function m(e){const{tabs:t,selectedTab:n,onTabSelect:a}=e,r=t.filter(e=>!e.isEnd).map(({icon:e,key:t,isDisabled:r,isEnd:i})=>{const s={icon:e,isEnd:i,isDisabled:r,isSelected:t===n,onClick:()=>a(t)};return o.createElement(u,Object.assign({key:t},s))}),i=t.filter(e=>!0===e.isEnd).map(({icon:e,key:t,isDisabled:r,isEnd:i})=>{const s={icon:e,isEnd:i,isDisabled:r,isSelected:t===n,onClick:()=>a(t)};return o.createElement(d,Object.assign({key:t},s))});return o.createElement(c,null,r,o.createElement(p,null)," ",i)}},1172:function(e,t,n){"use strict";var a=n(145),r=n(108),o=n(885),i=n(884),s=n(260),l=n(1417),c=n(874),u=n(1),d=n.n(u),p=n(0),m=n(252);const h=d()(c.a)`
  margin-right: 8px;
`,f=e=>{const{isPrivate:t,privateText:n,publicText:a,tipText:r,onPrivacyChange:o}=e,i=n||"Private",s=a||"Public",l=p.createElement(h,{emphasis:"low",leadingIcon:t?"lock":"lock_open",onClick:o?()=>o(!t):void 0},t?i:s);return r?p.createElement(m.Tooltip,{tip:r},l):l};n.d(t,"a",(function(){return E}));const g=d.a.div`
  flex-shrink: 0;

  display: flex;
  justify-content: flex-end;
  align-items: center;
  border-top: 1px solid ${e=>e.theme.colors.content.borderLight};
  padding: ${e=>e.theme.size.pad.m};
`,b=d()(a.b)`
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  color: ${e=>e.theme.material.color.status.error[700]};
`,v=d()(a.b)`
  flex: 1 1 auto;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,y=d.a.div`
  display: flex;
  align-items: center;
`;d()(r.a)`
  color: ${e=>e.theme.colors.pure.white};
  margin-right: ${e=>e.theme.material.spacing(1)} !important;
`;function E(e){const{canCreate:t,isPrivate:n,isLoading:a,statusMessage:r,createText:u,duplicateText:d,privacyTip:m,privateText:h,publicText:E,onCreate:x,onPrivacyChange:C}=e,[k,S]=p.useState(!1),_=a?"Please wait...":u,O=d?[{key:"create",content:"Create without duplicates"},{key:"create-duplicate",content:d}]:[],T=!t||a;return p.createElement(g,null,!!r&&"error"===r.type&&p.createElement(b,null,r.str),!!r&&"loading"===r.type&&p.createElement(v,{emphasis:"low"},r.str),p.createElement(y,null,p.createElement(f,{isPrivate:n,tipText:m,privateText:h,publicText:E,onPrivacyChange:C}),O.length>0&&!T?p.createElement(o.a,null,p.createElement(i.a,{dense:!0,open:k,onClose:()=>S(!1),onSelect:e=>w(x)(O[e.detail.index].key),style:{bottom:0,top:"unset"}},O.map(e=>p.createElement(s.a,null,e.content))),p.createElement(l.a,null,p.createElement(l.b,{emphasis:"high",disabled:T,onClick:()=>w(x)("create")},_),p.createElement(l.c,{emphasis:"high",disabled:T,onClick:()=>S(!0)},"🞃"," "))):p.createElement(c.a,{emphasis:"high",disabled:!t||a,onClick:()=>w(x)("create")},_)))}const w=e=>t=>e(t)},1173:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(55),o=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;window.setTimeout((function(){e.container.querySelectorAll("a:not(.block-link__anchor)").forEach((function(e){"auto"!==e.style.zIndex&&""!==e.style.zIndex||("static"===e.style.position&&(e.style.position="relative"),e.style.zIndex="2",e.style.pointerEvents="auto")}))}))},t.prototype.render=function(){var e=this;return o.createElement("div",{className:r("block-link",this.props.className,this.props.borderless?null:"block-link--bordered"),ref:function(t){return e.container=t}},o.createElement("a",{className:"block-link__anchor",href:this.props.href,onClick:this.props.onClick,target:this.props.newWindow?"_blank":null,title:this.props.title}),this.props.children)},t}(o.Component)},1174:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);const r=({separator:e=", ",children:t})=>{const n=a.isValidElement(e),r=(t||[]).filter(e=>!!e),o=[];for(let t=0;t<r.length;t++)t>0&&o.push(n?a.cloneElement(e):e),o.push(r[t]);return a.createElement(a.Fragment,null,o)}},1176:function(e,t,n){"use strict";var a=n(145),r=n(108),o=n(1003),i=n(1404),s=n(1331),l=n(1332),c=n(1),u=n.n(c),d=n(251),p=n(0),m=n(1018),h=n(885),f=n(884),g=n(260);const b=u.a.div`
  height: 48px;
  display: flex;
  align-items: center;
  padding: 0 8px;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  cursor: pointer;

  &:focus {
    outline: none;
  }
`,v=u.a.div`
  display: flex;
  align-items: center;
`,y=u.a.div`
  flex: 0;
  margin-left: 8px;
`,E=u()(r.a)`
  flex: 0;
  margin: 0 8px;
`,w=u()(a.b)`
  flex: 1;
  margin-left: 8px;
`,x=e=>{const{items:t,selectedItem:n,disabled:a,onSelect:r}=e,[o,i]=p.useState(!1);return p.createElement(h.a,null,p.createElement(f.a,{open:o,anchorCorner:"bottomLeft",hoistToBody:!0,onClose:()=>i(!1),style:{zIndex:1001}},t.map(e=>p.createElement(g.a,{key:e.key,onClick:()=>r(e)},p.createElement(v,null,e.icon&&p.createElement(y,null,e.icon),p.createElement(w,null,e.label))))),p.createElement(b,{onClick:()=>!a&&i(!0)},n&&n.icon&&p.createElement(y,null,n.icon),p.createElement(w,null,n&&n.label),p.createElement(E,{icon:"arrow_drop_down",size:"small"})))};n.d(t,"a",(function(){return S}));const C=u()(a.e)`
  display: block;
  margin: 16px 0;
`,k=u()(a.c)`
  margin-top: 8px;
`,S=e=>{const{allowedOwners:t,isDisabled:n,isPrivate:a,licenseGroups:c,licenseId:u,limits:h,owner:f,onLicenseIdChange:g,onOwnerChange:b,onPrivacyChange:v}=e;return p.createElement(m.c,null,p.createElement(m.a,{"data-testid":"remote-gcsfileset-header"},"Dataset Settings"),p.createElement(s.a,null,p.createElement(l.a,{desktop:6,phone:12},(()=>{const e=[{key:"private",label:"Private",icon:p.createElement(r.a,{icon:"lock"})},{key:"public",label:"Public",icon:p.createElement(r.a,{icon:"lock_open"})}],t=a?e[0]:e[1];return p.createElement(p.Fragment,null,p.createElement(C,{emphasis:"low"},"Visibility"),p.createElement(x,{items:e,selectedItem:t,disabled:n,onSelect:e=>v("private"===e.key)}))})()),p.createElement(l.a,{desktop:6,phone:12},(()=>{const{usedBytes:e,totalBytes:t}=h,n=e<t&&0!==t?e/t:1;return p.createElement(p.Fragment,null,p.createElement(C,{emphasis:"low"},a?"Private Quota":"Public Quota"),p.createElement(i.a,{closed:!1,progress:n}),p.createElement(k,{emphasis:"low"},d(e)," / ",d(t)))})()),p.createElement(l.a,{desktop:6,phone:12},(()=>{const e=t.map(e=>{const t=p.createElement(o.a,{thumbnailUrl:e.imageUrl,tier:e.userTier||void 0});return{key:e.id,label:e.name,icon:t}}),a=e.find(e=>e.key===f.id);return p.createElement(p.Fragment,null,p.createElement(C,{emphasis:"low"},"Owner"),p.createElement(x,{items:e,selectedItem:a,disabled:n,onSelect:e=>{const n=t.find(t=>e.key===t.id);n&&b(n)}}))})()),!a&&p.createElement(l.a,{desktop:6,phone:12},(()=>{const e=c.map(e=>e.licenses).reduce((e,t)=>e.concat(t),[]).map(e=>({key:e.id,label:e.name})),t=e.find(e=>e.key===u);return p.createElement(p.Fragment,null,p.createElement(C,{emphasis:"low"},"License"),p.createElement(x,{items:e,selectedItem:t,disabled:n,onSelect:e=>g(e.key)}))})())))}},1179:function(e,t,n){},1180:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(0),o=n(1036),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modalContent:null},t.handleKeyDown=function(e){"Escape"===e.code&&null!==t.state.modalContent&&t.resolveModal(null)},t.handleShow=function(e){t.setState({modalContent:e}),document.body.scrollHeight!==window.innerHeight&&(document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",document.querySelector("html").style.overflow="hidden")},t.handleHide=function(){t.setState({modalContent:null}),document.body.scrollHeight!==window.innerHeight&&(document.body.style.overflow="visible",document.querySelector("html").style.overflow="visible")},t.handleStopPropagation=function(e){return e.stopPropagation()},t.resolve=null,t.reject=null,t.setResolvers=function(e,n){t.resolve=e,t.reject=n},t.resolveModal=function(e){var n=t.reject,a=t.resolve;if(t.setResolvers(null,null),null===a){var r=new Error("Modal must not resolve during its render");if(null===n)throw r;n(r)}else t.handleHide(),a(e)},t.renderModal=function(e){var n=e((function(e){return t.resolveModal(e)}));return t.handleShow(n),new Promise(t.setResolvers)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=Object(a.__rest)(t,["children"]),s=this.state.modalContent,l=n(this.renderModal);return r.createElement("div",Object(a.__assign)({},i),l,s&&r.createElement(o.b,{onMouseDown:function(){return e.resolveModal(null)}},r.createElement(o.d,{onMouseDown:this.handleStopPropagation},s)))},t}(r.Component)},1181:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(1033),r=n(1222);function o(t){var n=t.value,o=t.children,i=t.significantFigures,s=t.disableTip,l=t.separator,c={value:n,magnitude:t.magnitude||r.a.byte},u=Object(r.b)(c,i||2),d=o?o(u):e.createElement("span",null,u.value,void 0!==l?l:" ",u.magnitude.metricShort);return s?d:e.createElement(a.b,{tip:n.toLocaleString()+" bytes"},d)}}).call(this,n(0))},1182:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return x}));var a=n(2),r=n(1),o=n.n(r),i=n(147),s=n(1264),l=n(1007),c=n(1033),u=o.a.div.withConfig({displayName:"FlexTable_FlexTableView",componentId:"sc-11kfhsf"})(C||(C=Object(a.__makeTemplateObject)(['\n  align-items: center;\n  color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-variant-numeric: tabular-nums;\n  justify-content: space-between;\n  line-height: 22px;\n  margin-bottom: 12px;\n\n  & > div:first-child {\n    background: #f8f9f9;\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  & > div {\n    align-items: center;\n    border: 1px solid #dedfe0;\n    border-width: 1px 0 0 1px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    width: 100%;\n    &:last-child {\n      border-bottom-width: 1px;\n    }\n  }\n  & button {\n    align-self: flex-end;\n  }\n\n  & input,\n  & select {\n    padding: 4px 6px;\n    display: inline-flex;\n    flex: 1 1 auto;\n    border: 1px solid rgb(169, 169, 169);\n    width: 95%;\n    border: 0;\n  }\n\n  & select {\n    border: 0;\n    color: #008abc;\n    cursor: pointer;\n    font-family: "Inter", sans-serif, sans;\n    font-size: 14px;\n\n    > option {\n      color: rgba(0, 0, 0, 0.7);\n      line-height: 20px;\n      font-size: 14px;\n    }\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & input {\n    font-size: 1em;\n    line-height: 1em;\n    border-top: 0;\n  }\n'],['\n  align-items: center;\n  color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-variant-numeric: tabular-nums;\n  justify-content: space-between;\n  line-height: 22px;\n  margin-bottom: 12px;\n\n  & > div:first-child {\n    background: #f8f9f9;\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  & > div {\n    align-items: center;\n    border: 1px solid #dedfe0;\n    border-width: 1px 0 0 1px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    width: 100%;\n    &:last-child {\n      border-bottom-width: 1px;\n    }\n  }\n  & button {\n    align-self: flex-end;\n  }\n\n  & input,\n  & select {\n    padding: 4px 6px;\n    display: inline-flex;\n    flex: 1 1 auto;\n    border: 1px solid rgb(169, 169, 169);\n    width: 95%;\n    border: 0;\n  }\n\n  & select {\n    border: 0;\n    color: #008abc;\n    cursor: pointer;\n    font-family: "Inter", sans-serif, sans;\n    font-size: 14px;\n\n    > option {\n      color: rgba(0, 0, 0, 0.7);\n      line-height: 20px;\n      font-size: 14px;\n    }\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & input {\n    font-size: 1em;\n    line-height: 1em;\n    border-top: 0;\n  }\n']))),d=o.a.div.withConfig({displayName:"FlexTable_FlexRowView",componentId:"sc-18wdrox"})(k||(k=Object(a.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n"])));function p(e,t){return e.view||t}function m(t){var n=t.children,r=Object(a.__rest)(t,["children"]);return e.createElement(h,Object(a.__assign)({},r),n&&n.map((function(t,n){return e.createElement(f,{key:n,children:t})})))}function h(t){var n=t.children,r=t.widthRatios,o=Object(a.__rest)(t,["children","widthRatios"]),i=p(t,u);return e.createElement(i,Object(a.__assign)({},o),n&&e.Children.map(t.children,(function(t){return null===t?null:r?e.cloneElement(t,{widthRatios:r}):t})))}function f(t){var n=t.children,r=t.showContentHover,o=Object(a.__rest)(t,["children","showContentHover"]),i=n?e.Children.map(n,(function(t,n){return e.createElement(x,{showContentHover:r,key:n},t)})):[];return e.createElement(w,Object(a.__assign)({},o,{children:i}))}var g=o.a.span.withConfig({displayName:"FlexTable_FlexCellOverlayView",componentId:"sc-1anj4ho"})(S||(S=Object(a.__makeTemplateObject)(["\n  position: absolute;\n  right: 0;\n  z-index: 10;\n  height: 33px;\n  display: inline-flex;\n  align-items: center;\n"],["\n  position: absolute;\n  right: 0;\n  z-index: 10;\n  height: 33px;\n  display: inline-flex;\n  align-items: center;\n"]))),b=o()(g).withConfig({displayName:"FlexTable_FlexCellTipView",componentId:"sc-14l4t8b"})(_||(_=Object(a.__makeTemplateObject)(["\n  pointer-events: none;\n  right: 10px;\n  font-size: 0.7rem;\n  opacity: 0.8;\n  color: ",";\n"],["\n  pointer-events: none;\n  right: 10px;\n  font-size: 0.7rem;\n  opacity: 0.8;\n  color: ",";\n"])),l.b.TextLink),v=o()(b).withConfig({displayName:"FlexTable_FlexCellWarnView",componentId:"sc-1ixm38f"})(O||(O=Object(a.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),l.b.KaggleRedDark),y=o.a.div.withConfig({displayName:"FlexTable_FlexCellContainerView",componentId:"sc-1hp6a7l"})(T||(T=Object(a.__makeTemplateObject)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  border-right: 1px solid #dedfe0;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  margin: 0;\n\n  &:hover "," {\n    opacity: 0.2;\n  }\n\n  &:hover "," {\n    opacity: 0.9;\n  }\n"],["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  border-right: 1px solid #dedfe0;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  margin: 0;\n\n  &:hover "," {\n    opacity: 0.2;\n  }\n\n  &:hover "," {\n    opacity: 0.9;\n  }\n"])),b,g),E=o.a.div.withConfig({displayName:"FlexTable_FlexCellView",componentId:"sc-2mn4ye"})(j||(j=Object(a.__makeTemplateObject)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  width: 100%;\n\n  & > * {\n    overflow: hidden;\n    padding: 6px 10px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & > select {\n    min-height: 33px;\n  }\n\n  & > input {\n    min-height: 23px;\n  }\n"],["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  width: 100%;\n\n  & > * {\n    overflow: hidden;\n    padding: 6px 10px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & > select {\n    min-height: 33px;\n  }\n\n  & > input {\n    min-height: 23px;\n  }\n"])));function w(t){var n=t.children,r=t.widthRatios,o=Object(a.__rest)(t,["children","widthRatios"]),s=n?e.Children.count(n):0;r&&i(r.length===s,"FlexRow has "+s+" cells but only specifies "+r.length+" widthRatios");var l=p(t,d),c=100/(r?r.reduce((function(e,t){return e+t}),0):s);return e.createElement(l,Object(a.__assign)({},o),n&&e.Children.map(n,(function(t,n){var a=r?r[n]:1,o={style:{width:Math.floor(c*a*10)/10+"%"}};return e.cloneElement(t,o)})))}function x(t){var n=t.children,r=t.cursor,o=t.hideTip,i=t.overlay,l=t.tip,u=t.warn,d=t.justifyContent,m=t.showContentHover,h=Object(a.__rest)(t,["children","cursor","hideTip","overlay","tip","warn","justifyContent","showContentHover"]),f={justifyContent:d||"flex-start"},w=s({inner:e.createElement(E,{style:f},e.isValidElement(n)?n:e.createElement("div",null,n)),overlay:i?e.createElement(g,null,i):null}),x=u||l||m?e.createElement(c.b,{tip:u||l||w,style:{width:"100%",cursor:r||"default"}},w):w,C=o?null:u?v:l?b:null,k=p(t,y);return e.createElement(k,Object(a.__assign)({},h),x,!i&&C&&e.createElement(C,{children:e.createElement("i",{className:"fa fa-"+(u?"exclamation":"info")+"-circle"})}))}var C,k,S,_,O,T,j;!function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyPress=function(e){n.props.rejectedCharacterRegExp&&(String.fromCharCode(e.which).match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()))},n.handleKeyDown=function(e){"Enter"!==e.key?"Escape"!==e.key||n.handleCancel():n.handleSave()},n.handleSave=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)})),n.props.onSave&&n.props.onSave(n.state.content)},n.handleCancel=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)}))},n.handleEdit=function(){var e=n.props.onUpdate;n.setState({isEditing:!0},(function(){n.inputBox.focus(),e&&e(!0)}))},n.state={content:n.props.value||"",isEditing:!1},n}Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({content:e.value||""})},n.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},(function(){t.props.onChange&&t.props.onChange(t.state.content)}))},n.prototype.renderInput=function(){var t=this;return e.createElement("input",{ref:function(e){return t.inputBox=e},className:"inline-text-editor__input",style:this.props.inputStyle,value:this.state.content,placeholder:this.props.placeholder,onChange:function(e){return t.handleChange(e)},onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onClick:function(e){e.stopPropagation()}})},n.prototype.renderReadOnly=function(){return e.createElement("div",{role:"button",className:(this.state.content?"":"inline-text-editor__placeholder")+" inline-text-editor__readonly",onClick:this.handleEdit},this.state.content||this.props.placeholder)},n.prototype.render=function(){var t=this.props,n=(t.style,t.value,t.placeholder,t.rejectedCharacterRegExp,t.onSave,t.onChange,t.hideButton,t.inputStyle,t.onUpdate,Object(a.__rest)(t,["style","value","placeholder","rejectedCharacterRegExp","onSave","onChange","hideButton","inputStyle","onUpdate"])),r=this.state.isEditing;return e.createElement(x,Object(a.__assign)({},n),r?this.renderInput():this.renderReadOnly())}}(e.Component)}).call(this,n(0))},1183:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n.n(a),o=n(0);const i=r.a.textarea`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[300]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  width: 100%;
  ${e=>void 0===e.editorMaxHeight?"":`\n    background-color: red; // test\n    overflow-y: scroll;\n    max-height: ${e.editorMaxHeight};\n  `};
`,s=o.createContext((e,t,n)=>o.createElement(i,{onChange:e=>t(e.currentTarget.value),rows:5,value:e,editorMaxHeight:n}))},1184:function(e,t,n){},1185:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(108),r=n(1),o=n.n(r),i=n(0);const s=o.a.button`
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.s};
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
  &:focus {
    outline: none;
  }
`;function l({isDisabled:e,onClose:t,className:n}){return i.createElement(s,{disabled:e,onClick:t,className:n,"data-testid":"close-modal-button",title:"Close"},i.createElement(a.a,{icon:"close",size:"xsmall"}))}},1186:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(2);class r{constructor(e){this.description="Not started",this.isUploading=!1,this.isPaused=!1,this.hasSucceeded=!1,this.hasFailed=!1,e&&Object.assign(this,e)}get hasStarted(){return!!this.uploadProgressEvent}get totalBytesLoaded(){return(this.uploadProgressEvent&&this.uploadProgressEvent.loaded||0)+(this.previousBytesReceived||0)}get isDone(){return this.hasSucceeded||this.hasFailed}get progressProps(){return{initiatedTimeStamp:this.initialProgressEventTimeStamp,initialOffsetAmount:this.previousBytesReceived,progressEvent:this.uploadProgressEvent}}}class o{constructor(){this.cancellationCallbacks=[],this._isCancellationRequested=!1}register(e){return this.isCancellationRequested&&e(),this.cancellationCallbacks.push(e),()=>{this.cancellationCallbacks=this.cancellationCallbacks.filter(t=>t!==e)}}get isCancellationRequested(){return this._isCancellationRequested}cancel(){if(!this.isCancellationRequested){this._isCancellationRequested=!0;for(const e of this.cancellationCallbacks)e&&e()}}}class i{constructor(){this.internalResolve=()=>{},this.internalPromise=Promise.resolve(),this.reset()}set(){this.internalResolve&&this.internalResolve()}wait(){return this.internalPromise}reset(){this.internalPromise=new Promise(e=>{this.internalResolve=e})}}class s{constructor(){this.isPaused=!1,this.resumeEvent=null,this.currentCancellationToken=new o}pause(){this.isPaused||(this.isPaused=!0,this.resumeEvent=new i,this.currentCancellationToken.cancel())}waitUntilResumed(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.isPaused&&null!==this.resumeEvent&&(yield this.resumeEvent.wait())}))}resume(){this.isPaused&&null!==this.resumeEvent&&(this.isPaused=!1,this.currentCancellationToken=new o,this.resumeEvent.set(),this.resumeEvent=null)}}const l=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}));function c(t,n,o,i,s,l){return(i?function(t,n,o){return Object(a.__awaiter)(this,void 0,void 0,(function*(){o(new r({description:"Checking server for existing upload"}));const a=yield e(t,{method:"PUT",headers:{"Content-Range":`bytes */${n.size}`}});if(a.status>=200&&a.status<300)return{bytesReceived:n.size,completeBlob:yield a.json()};const i=a.headers.get("Range");if(i){const e=i.match(/bytes\s*=\s*([0-9]+)-([0-9]+)/);if(!e)throw new Error(`Unable to parse Range header: ${i}`);const t=parseInt(e[1],10);if(0!==t)throw new Error(`Unexpect Range start offset: ${t}`);const a=parseInt(e[2],10);if(a>=n.size)throw new Error(`Range end is larger than expected: ${a}`);return{bytesReceived:a+1}}return{bytesReceived:0}}))}(t,n,s):Promise.resolve({bytesReceived:0})).then(e=>new Promise((a,i)=>{if(e.bytesReceived===n.size&&n.size>0)return void a(e.completeBlob);const c=new r({previousBytesReceived:e.bytesReceived?e.bytesReceived:0}),u=new XMLHttpRequest;u.open("PUT",t),u.upload.onprogress=e=>{c.description="Uploading file",c.isUploading=!0,c.isPaused=!1,c.initialProgressEventTimeStamp||(c.initialProgressEventTimeStamp=e.timeStamp),c.uploadProgressEvent=e,s(c)},u.onerror=()=>{c.isUploading=!1,l&&l.isCancellationRequested||i(u.statusText)},u.onload=()=>{if(c.isUploading=!1,u.status>=200&&u.status<300){c.isUploading=!1,c.isPaused=!1,s(c);const e=JSON.parse(u.responseText);a(e)}else c.description="Upload was interrupted",s(c),i(u.statusText)},l&&l.register(()=>{u.abort(),c.description="Upload was paused",c.isUploading=!1,c.isPaused=!1,s(c),i("Upload was cancelled")}),e.bytesReceived>0?(u.setRequestHeader("Content-Range",`bytes ${e.bytesReceived}-${n.size-1}/${n.size}`),u.send(n.slice(e.bytesReceived,n.size,o))):u.send(n)}))}function u(e,t,n,o){return function(e,t,n,o,i,u,d){const p=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const a={name:o,contentLength:n.size,contentType:i,lastModifiedDate:u};return e({blobBucket:t},a)})),m=new s,h={progress:new r,onProgress:d},f=(e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){e(new r({description:"Initializing upload"}));const t=yield p();let a=2;for(let s=0;s<5e3;s++)try{const a=0!==s,l=yield c(t.createUrl,n,i,a,e,m.currentCancellationToken);let u=null;if(l.md5Hash){u="";const e=atob(l.md5Hash);for(let t=0;t<e.length;t++)u+=e.charCodeAt(t).toString(16)}const d={token:t.token,md5Hash:u,name:o,size:n.size};return e(new r({description:"Upload complete",uploadedBlobInfo:d,hasSucceeded:!0})),d}catch(t){if(m.isPaused){yield m.waitUntilResumed();continue}s>1&&(e(new r({description:"Error while uploading",isPaused:!0,nextRetryDate:new Date(Date.now()+1e3*a),totalRetries:s})),yield l(1e3*a),a=Math.min(2*a,30))}throw e(new r({description:"Upload failed, even after 5000 attempts",isUploading:!1})),new Error("Upload failed, even after 5000 attempts")})))((function(e){h.progress=e,h.onProgress&&h.onProgress(e)}));return Object.defineProperties(f,{pause:{value:()=>(m.pause(),()=>(m.resume(),f)),configurable:!1,writable:!1,enumerable:!0},progress:{get:()=>h.progress,configurable:!1,enumerable:!0},onProgress:{get:()=>h.onProgress,set:e=>h.onProgress=e,configurable:!1,enumerable:!0}})}(e,t,n,n.name,n.type,new Date(n.lastModified),o)}}).call(this,n(56))},1211:function(e,t,n){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}var s=n(0),l=n.n(s),c=n(55),u=n.n(c),d=function(e){return(Array.isArray(e)?e:[e]).filter((function(e){return!!e})).map((function(e){return"mdc-theme--"+e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}))},p=l.a.forwardRef((function(e,t){var n=e.tag,o=void 0===n?"div":n,i=(e.theme,e.element),s=r(e,["tag","theme","element"]),c=i?i.props(s):s,u=i?h(t,i.setRef):t;return l.a.createElement(o,a({},c,{ref:u}))})),m=function(e,t){return u.a.apply(void 0,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}([e.className],e.theme?d(e.theme):[],"function"==typeof t?t(e):t))},h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n,a;try{for(var r=o(e),i=r.next();!i.done;i=r.next()){var s=i.value;"function"==typeof s?s(t):s&&"current"in s&&(s.current=t)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}}};function f(e){var t=l.a.forwardRef(e),n=function(e,t){return l.a.createElement(l.a.Fragment,null)};return n.displayName=e.constructor.name||"RMWCComponent",t.displayName=n.displayName,t}n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var g=f((function(e,t){var n=e.align,o=void 0===n?"end":n,i=e.label,s=e.style,c=e.exited,u=e.inset,d=r(e,["align","label","style","exited","inset"]),h=m(e,["rmwc-badge","rmwc-badge--align-"+o,{"rmwc-badge--no-content":!(null!=i&&i),"rmwc-badge--exited":c}]),f=void 0!==u?a(a({},s),{"--rmwc-badge-inset":u}):s;return l.a.createElement(p,a({},d,{style:f,className:h,ref:t}),null!=i?i:l.a.createElement(l.a.Fragment,null," "))})),b=f((function(e,t){var n=e.children,o=r(e,["children"]),i=m(e,["rmwc-badge-anchor"]);return l.a.createElement(p,a({},o,{className:i,ref:t}),n)}))},1215:function(e,t,n){"use strict";var a=n(2),r=n(6),o=n(0),i=n(123),s=n(1067),l=n(1170),c=n(1012),u=n(1043),d=n(1162),p=n(1163),m=n(1017),h=n(1046),f=n(249),g=n(1),b=n.n(g);const v=b()(f.a)`
  height: 32px;
  width: 32px;
  margin-right: 16px;
`;function y({isDisabled:e,onClick:t}){return o.createElement(v,{icon:"arrow_back",disabled:e,onClick:t,"data-testid":"back-button"})}var E=n(1159),w=n(1160),x=n(1008),C=n(1171),k=n(1172),S=n(1158),_=n(1018),O=n(1077),T=n(1352),j=n(145);const I=b.a.div`
  padding: 16px;
`,D=b()(T.a)`
  width: 90%;
  height: 34px;
  margin-bottom: 8px;

  && .mdc-text-field__input {
    height: 32px !important;
  }

  && .mdc-floating-label {
    top: 8px;
  }

  && .mdc-floating-label--float-above {
    display: none !important;
  }

  && .mdc-notched-outline--notched .mdc-notched-outline__notch {
    display: none !important;
  }
`,N=b.a.div`
  display: flex;
  align-items: center;
`,M=b()(j.c)`
  color: ${e=>e.hasError?e.theme.material.color.status.error[900]:e.theme.material.color.text[50]};
  border: 1px solid transparent;
  flex: 0 0 auto;
`,F=b.a.input`
  padding: 0;
  color: ${e=>e.hasError?e.theme.material.color.status.error[900]:e.theme.material.color.text[50]};
  font-size: ${e=>e.theme.material.typography.body3.fontSize};
  font-weight: ${e=>e.theme.material.typography.body3.fontWeight};
  line-height: ${e=>e.theme.material.typography.body3.lineHeight};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  border: 1px solid transparent;
  margin-left: -1px;
  margin-top: -1px;
  flex: 1 1 auto;
  min-width: 0;

  &:focus {
    outline: none;
  }

  &:hover {
    border: 1px solid
      ${e=>e.hasError?e.theme.material.color.status.error[900]:e.theme.material.color.brand.grey[100]};
  }
`;function P(e){const t=o.useContext(x.a),{title:n,slug:a,ownerSlug:r,onTitleChange:i,onSlugChange:s}=e;return o.createElement(I,null,o.createElement(D,{disabled:t,invalid:n.hasError,value:n.text,label:"Enter Dataset Title",onChange:e=>i(e.currentTarget.value)}),o.createElement(N,null,o.createElement(M,{hasError:a.hasError},"www.kaggle.com/",r,"/"),o.createElement(F,{disabled:t,hasError:a.hasError,value:a.text,onChange:e=>s(e.currentTarget.value)})))}var L=n(1176),A=n(1161),R=n(1169),U=n(1167),z=n(1166),$=n(1168);function B(e){const t=o.useContext(x.a),{renderProp:n,selectedTab:a,settings:r,config:i,onLicenseIdChange:l,onOwnerChange:u,onPrivacyChange:d,onFlagsChange:p}=e,{container:m,onUpdate:f}=n,{owner:g,licenseId:b,isPrivate:v,flags:y}=r,{allowedOwners:E,limits:w,licenseGroups:C}=i;if("uploadContainer"===a&&Object(c.q)(m))return o.createElement(z.a,{container:m,onUpdate:f});if("kernelOutputContainer"===a&&Object(c.h)(m))return o.createElement(U.a,{isDisabled:t,container:m,allowBackToSearch:!0,onUpdate:f});if("remoteUrlUploadContainer"===a&&Object(c.m)(m))return o.createElement($.a,{isDisabled:t,container:m,onUpdate:f});if("githubContainer"===a&&Object(c.b)(m))return o.createElement(R.a,{container:m,onUpdate:f});if("gcsFileSetContainer"===a&&Object(c.a)(m))return o.createElement(A.a,{container:m,onUpdate:f});if("adminFlags"===a)return o.createElement(s.a,{flags:y,onFlagsChange:p});if("settings"===a){const{totalBytes:e,prevUsedBytes:n}=Object(O.f)(w,v),a=n+Object(h.a)(m);return o.createElement(L.a,{isDisabled:t,allowedOwners:E,licenseGroups:C,limits:{totalBytes:e,usedBytes:a},isPrivate:v,licenseId:b,owner:g,onLicenseIdChange:l,onOwnerChange:u,onPrivacyChange:d})}return o.createElement("div",null,"Invalid state")}var V=n(874);const H=b.a.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  display: flex;
  justify-content: center;
  align-items: center;
  text-align: center;
  opacity: 0.96;

  background-color: ${e=>e.theme.material.color.white};
  z-index: ${e=>e.theme.zindex.foreground};
`,W=b.a.div`
  width: 70%;
`,q=b()(j.p)`
  margin: 16px 8px;
`,K=b.a.div`
  display: flex;
  justify-content: center;
  margin: 24px 8px;
`,G=b()(V.a)`
  margin-right: 8px;
`,Y=b()(V.a)`
  margin-left: 8px;
`;function Z(e){const{description:t,confirmText:n,cancelText:a,onAction:r}=e;return o.createElement(H,null,o.createElement(W,null,o.createElement(q,null,t),o.createElement(K,null,o.createElement(G,{emphasis:"low",onClick:()=>r("cancel")},a),o.createElement(Y,{emphasis:"high",onClick:()=>r("confirm")},n))))}const Q=o.memo(e=>{const{confirmModalType:t,onCloseRequest:n,onCreate:a,onDisableConfirmClose:r,onDisableConfirmCreate:i}=e;return"closeRequest"===t.type?o.createElement(Z,{description:"If you close this dialog, all your work in this window will be lost. Do you want to continue?",confirmText:"Confirm",cancelText:"Back",onAction:e=>{"confirm"===e?n():r()}}):"publicUpload"===t.type?o.createElement(Z,{description:o.createElement("div",null,o.createElement(j.p,null,"Ready To Go Public?"),o.createElement("br",null),o.createElement(j.b,null,"Public datasets enjoy the engagement from the entire Kaggle community. They cannot be changed back to private, but may be deleted. Hit the Back button and toggle to private if you are not ready yet.")),confirmText:"Create",cancelText:"Back",onAction:e=>{"confirm"===e?a(t.createType):i()}}):o.createElement(o.Fragment,null)});function X(e){const{isOpen:t,creation:n,onCloseRequest:a,onBackClicked:r}=e;return o.createElement(x.a.Provider,{value:n.isLoading},o.createElement(S.a,{open:t,onClose:a,headerBar:r&&o.createElement(_.f,null,e.onBackClicked&&o.createElement(y,{onClick:e.onBackClicked}),o.createElement(_.g,null,"Create a New Dataset"))},J(e)))}const J=e=>{const{renderProp:t,defaultTabs:n,selectedTab:a,settings:r,config:i,creation:s,confirmModalType:l,onCloseRequest:c,onCreate:u,onDisableConfirmClose:d,onDisableConfirmCreate:p,onTabSelect:m,onSlugChange:h,onTitleChange:f,onLicenseIdChange:g,onOwnerChange:b,onPrivacyChange:v,onFlagsChange:y}=e;if("error"===i)return o.createElement(E.a,null);if("loading"===i)return o.createElement(w.a,null);const{container:x,isContainerUploadable:S,isContainerDirty:O,doesContainerContainDuplicates:T,doesContainerHaveErrors:j,inflightUploadMessage:I}=t,{title:D,slug:N,owner:M,isPrivate:F}=r,{limits:L}=i,A=te(x,L,F),R=!re(D.value)&&!oe(N.value)&&S&&!A&&!s.isLoading,U=ne(D,O),z=ae(N,O),$=U||(z||(A||(j?"You must resolve errors before creating your dataset":s.errorMessage))),V=()=>$?{type:"error",str:$}:I,H=n.map(e=>Object.assign(Object.assign({},e),{isDisabled:ee(s.isLoading,e.key,x,O)}));return l?o.createElement(Q,{confirmModalType:l,onCloseRequest:c,onCreate:e=>{u(x,e)},onDisableConfirmClose:d,onDisableConfirmCreate:p}):o.createElement(o.Fragment,null,o.createElement(C.a,{tabs:H,selectedTab:a,onTabSelect:e=>m(e)}),o.createElement(_.d,null,o.createElement(_.e,null,o.createElement(P,{title:{text:D.value,hasError:!!U},slug:{text:N.value,hasError:!!z},ownerSlug:M.slug,onSlugChange:h,onTitleChange:f})),o.createElement(_.h,null,o.createElement(B,{renderProp:t,selectedTab:a,settings:r,config:i,onLicenseIdChange:g,onOwnerChange:b,onPrivacyChange:e=>v(e,"settings"),onFlagsChange:y})),o.createElement(k.a,{isPrivate:F,privacyTip:`Toggle to change to ${F?"public":"private"}`,statusMessage:V(),canCreate:R,isLoading:s.isLoading,createText:T?"Skip duplicates":"Create",duplicateText:T?"Include duplicates":void 0,onCreate:e=>u(x,e),onPrivacyChange:e=>v(e,"status")})))},ee=(e,t,n,a)=>e||"settings"!==t&&"adminFlags"!==t&&n.type!==t&&a,te=(e,t,n)=>{const a=Object(O.e)(t,n,e);if("success"!==a.status)return a.message},ne=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return re(n)},ae=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return oe(n)},re=e=>0===e.trim().length?"Please enter a title for your dataset.":e.trim().length<O.d||e.trim().length>O.b?`The title must be between ${O.d} and ${O.b} characters in length.`:void 0,oe=e=>0===e.trim().length?"Please enter a URL for your dataset.":e.trim().length<O.c||e.trim().length>O.a?`The URL must be between ${O.c} and ${O.a} characters in length.`:void 0;n.d(t,"a",(function(){return le}));const ie={type:"uploadContainer",files:[],directories:[],existingFiles:[],existingDirectories:[]},se=4;let le=(()=>{class e extends o.Component{constructor(){super(...arguments),this.state={selectedTab:this.props.defaultContainer?this.props.defaultContainer.type:"uploadContainer",settings:{title:{value:"",wasEdited:!1},slug:{value:"",wasEdited:!1},owner:this.props.defaultOwner?this.props.defaultOwner:{isOrganization:!1,id:this.props.user.id,imageUrl:this.props.user.imageUrl,name:this.props.user.name,slug:this.props.user.slug,userTier:null},isPrivate:!0!==this.props.isPublicByDefault,licenseId:se,flags:s.b},isConfirmingCloseRequest:!1,isConfirmingPublicUpload:{value:!1},config:"loading",creation:{isLoading:!1},lastPrivacyChangeMechanism:""},this.loadConfig=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:e}=this.context.clients;try{const t=yield e.getDatasetUploaderConfig({currentDatasetVersionId:null,ownerOrganizationId:null});this.setState({config:{allowedOwners:t.allowedOwners,limits:t.limits,licenseGroups:t.licenseGroups}})}catch(e){this.setState({config:"error"})}})),this.renderContents=e=>{const{isOpen:t,user:n,onBackClicked:a}=this.props,{selectedTab:r,config:i,settings:s,creation:l,isConfirmingCloseRequest:c,isConfirmingPublicUpload:u}=this.state;return o.createElement(X,{isOpen:t,confirmModalType:c?{type:"closeRequest"}:u.value&&!l.isLoading?{type:"publicUpload",createType:u.createType}:void 0,renderProp:e,defaultTabs:Object(d.b)(n),selectedTab:r,settings:s,config:i,creation:l,onBackClicked:a,onCloseRequest:()=>this.onCloseRequest(e),onCreate:this.onCreate,onDisableConfirmClose:()=>this.setState({isConfirmingCloseRequest:!1}),onDisableConfirmCreate:()=>this.setState({isConfirmingPublicUpload:{value:!1}}),onTabSelect:this.onTabSelect(e),onTitleChange:this.onTitleChange,onSlugChange:this.onSlugChange,onLicenseIdChange:this.onLicenseIdChange,onOwnerChange:this.onOwnerChange,onPrivacyChange:this.onPrivacyChange,onFlagsChange:this.onFlagsChange})},this.onCloseRequest=e=>{const{onCloseRequest:t}=this.props,{isConfirmingCloseRequest:n,creation:a}=this.state;a.isLoading||(n||e.isContainerClosable?t():this.setState({isConfirmingCloseRequest:!0}))},this.onLicenseIdChange=e=>{this.setState(t=>{const{settings:n}=t;return{settings:Object.assign(Object.assign({},n),{licenseId:e})}})},this.onOwnerChange=e=>{this.setState(t=>{const{settings:n}=t;return{settings:Object.assign(Object.assign({},n),{owner:e})}},this.loadNewLimitsForOwner)},this.onFlagsChange=e=>{const{settings:t}=this.state;this.setState({settings:Object.assign(Object.assign({},t),{flags:e})})},this.loadNewLimitsForOwner=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{id:e}=this.props.user,{owner:t}=this.state.settings,n=t.isOrganization?e:t.id,a=t.isOrganization?t.id:null;try{const{datasetsClient:e}=this.context.clients,t=yield e.getDatasetLimits({userId:n,organizationId:a,excludeDatasetVersionId:null});this.setState(e=>{const{settings:n}=e;return{settings:Object.assign(Object.assign({},n),{limits:t})}})}catch(e){}})),this.onPrivacyChange=(e,t)=>{const{legacyClients:n}=this.context,{analyticsClient:a}=n;Object(u.d)(a,e,t),this.setState(n=>{const{settings:a}=n;return{settings:Object.assign(Object.assign({},a),{isPrivate:e}),lastPrivacyChangeMechanism:t}})},this.onTitleChange=e=>{this.setState(t=>{const{settings:n}=t,{slug:a}=n,r=a.wasEdited?a.value:ce(e);return{settings:Object.assign(Object.assign({},n),{title:{value:e,wasEdited:!0},slug:Object.assign(Object.assign({},n.slug),{value:r})})}})},this.onSlugChange=e=>{this.setState(t=>({settings:Object.assign(Object.assign({},t.settings),{slug:{value:e,wasEdited:!0}})}))},this.onTabSelect=e=>t=>{const{container:n,onUpdate:a}=e,{selectedTab:r}=this.state;this.setState({selectedTab:t}),("settings"!==r&&"adminFlags"!==r||n.type!==t)&&("githubContainer"!==t||Object(c.b)(n)?"remoteUrlUploadContainer"!==t||Object(c.m)(n)?"uploadContainer"!==t||Object(c.q)(n)?"kernelOutputContainer"!==t||Object(c.h)(n)?"gcsFileSetContainer"!==t||Object(c.a)(n)||a("gcsFileSetContainer","reset",void 0):a("kernelOutputContainer","reset",void 0):a("uploadContainer","reset",void 0):a("remoteUrlUploadContainer","reset",void 0):a("githubContainer","reset",void 0))},this.onCreate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{showPublicCreationWarning:n}=this.props,{settings:a,isConfirmingPublicUpload:r,creation:o}=this.state,{isPrivate:i}=a;if(o.isLoading)return;const s="create"===t?de(e):e;if("create"!==t||"uploadContainer"!==s.type||0!==Object(m.b)(s,()=>!0)){if(!i&&n){const{legacyClients:e}=this.context,{analyticsClient:t}=e;Object(u.e)(t,r.value)}i||!n||r.value?this.setState({creation:{isLoading:!0},isConfirmingPublicUpload:{value:!1}},()=>this.onCreateRequest(s,t)):this.setState({isConfirmingPublicUpload:{value:!0,createType:t}})}else this.onCreationError("Please specify at least one non-duplicate file.")})),this.onCreateRequest=Object(i.a)(1e3,!0,(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{referrer:n,user:a,taskId:r,competitionId:o,showPublicCreationWarning:i}=this.props,{lastPrivacyChangeMechanism:s,settings:l}=this.state,{title:c,slug:d,isPrivate:m,licenseId:h,owner:f,flags:g}=l,b=Object(p.b)(e,{title:c.value,slug:d.value,isPrivate:m,licenseId:h,owner:f,referrer:n,flags:a.isAdmin?g:null,taskId:r,competitionId:o}),{legacyClients:v,clients:y}=this.context,{analyticsClient:E}=v,w="uploadContainer"===e.type&&(e.directories.length>0||e.existingDirectories.length>0);Object(u.a)(E,"dataset",t,w,s,void 0!==i&&i,b);try{const{datasetsClient:t}=y,n=yield t.createDatasetRequestV2(b);if("ok"===n.status){const{onCreateSuccess:t}=this.props;t(ue(n,e))}else this.onCreationError(n.errorMessage?n.errorMessage:"An internal error occurred.")}catch(e){if("string"==typeof e.message)this.onCreationError(e.message);else{if("string"!=typeof e)throw e;this.onCreationError(e)}}}))),this.onCreationError=e=>{this.setState({creation:{errorMessage:e,isLoading:!1}})}}componentDidMount(){const{isOpen:e}=this.props;e&&this.loadConfig()}render(){const{defaultContainer:e}=this.props,t=e||ie;return o.createElement(l.a,{defaultContainer:t},this.renderContents)}}return e.contextType=r.b,e})();const ce=e=>{const t=e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-");return t.endsWith("-")?t.substring(0,t.length-1):t},ue=(e,t)=>{var n;if("ok"===e.status){const{url:a,datasetVersionReference:r,databundleVersionReference:o}=e,{databundleVersionId:i}=o,{datasetVersionId:s}=r;return{id:(null===(n=e.datasetVersionReference)||void 0===n?void 0:n.datasetId)||0,url:a,databundleSize:Object(h.a)(t),databundleVersionId:i,versionId:s}}throw new Error("Failed to create dataset")},de=e=>{if(Object(c.q)(e)){const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>pe(e))})}return e},pe=e=>{const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>pe(e))})}},1217:function(e,t,n){"use strict";(function(e){var n,a="undefined"!=typeof Symbol?Symbol("immer-nothing"):((n={})["immer-nothing"]=!0,n),r="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-draftable"):"__$immer_draftable",o="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("immer-state"):"__$immer_state";function i(e){return!!e&&!!e[o]}function s(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||!!e[r]||!!e.constructor[r])}var l=Object.assign||function(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return e},c="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function u(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return c(e).forEach((function(a){if(a!==o){var r=Object.getOwnPropertyDescriptor(e,a),i=r.value;if(r.get){if(!t)throw new Error("Immer drafts cannot have computed properties");i=r.get.call(e)}r.enumerable?n[a]=i:Object.defineProperty(n,a,{value:i,writable:!0,configurable:!0})}})),n}function d(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n],e);else c(e).forEach((function(n){return t(n,e[n],e)}))}function p(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!!n&&n.enumerable}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){if(!s(e))return e;if(Array.isArray(e))return e.map(f);var t=Object.create(Object.getPrototypeOf(e));for(var n in e)t[n]=f(e[n]);return t}var g=function(e){this.drafts=[],this.parent=e,this.canAutoFreeze=!0,this.patches=null};function b(e){e[o].revoke()}g.prototype.usePatches=function(e){e&&(this.patches=[],this.inversePatches=[],this.patchListener=e)},g.prototype.revoke=function(){this.leave(),this.drafts.forEach(b),this.drafts=null},g.prototype.leave=function(){this===g.current&&(g.current=this.parent)},g.current=null,g.enter=function(){return this.current=new g(this.current)};var v={};function y(e,t){var n=Array.isArray(e),a=S(e);d(a,(function(t){!function(e,t,n){var a=v[t];a?a.enumerable=n:v[t]=a={configurable:!0,enumerable:n,get:function(){return function(e,t){_(e);var n=x(w(e),t);if(e.finalizing)return n;if(n===x(e.base,t)&&s(n))return k(e),e.copy[t]=y(n,e);return n}(this[o],t)},set:function(e){!function(e,t,n){if(_(e),e.assigned[t]=!0,!e.modified){if(h(n,x(w(e),t)))return;C(e),k(e)}e.copy[t]=n}(this[o],t,e)}};Object.defineProperty(e,t,a)}(a,t,n||p(e,t))}));var r,i,l,c=t?t.scope:g.current;return r=a,i=o,l={scope:c,modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:a,copy:null,revoke:E,revoked:!1},Object.defineProperty(r,i,{value:l,enumerable:!1,writable:!0}),c.drafts.push(a),a}function E(){this.revoked=!0}function w(e){return e.copy||e.base}function x(e,t){var n=e[o];if(n&&!n.finalizing){n.finalizing=!0;var a=e[t];return n.finalizing=!1,a}return e[t]}function C(e){e.modified||(e.modified=!0,e.parent&&C(e.parent))}function k(e){e.copy||(e.copy=S(e.base))}function S(e){var t=e&&e[o];if(t){t.finalizing=!0;var n=u(t.draft,!0);return t.finalizing=!1,n}return u(e)}function _(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(w(e)))}function O(e){for(var t=e.length-1;t>=0;t--){var n=e[t][o];n.modified||(Array.isArray(n.base)?j(n)&&C(n):T(n)&&C(n))}}function T(e){for(var t=e.base,n=e.draft,a=Object.keys(n),r=a.length-1;r>=0;r--){var i=a[r],s=t[i];if(void 0===s&&!m(t,i))return!0;var l=n[i],c=l&&l[o];if(c?c.base!==s:!h(l,s))return!0}return a.length!==Object.keys(t).length}function j(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var I=Object.freeze({willFinalize:function(e,t,n){e.drafts.forEach((function(e){e[o].finalizing=!0})),n?i(t)&&t[o].scope===e&&O(e.drafts):(e.patches&&function e(t){if(!t||"object"!=typeof t)return;var n=t[o];if(!n)return;var a=n.base,r=n.draft,i=n.assigned;if(Array.isArray(t)){if(j(n)){if(C(n),i.length=!0,r.length<a.length)for(var s=r.length;s<a.length;s++)i[s]=!1;else for(var l=a.length;l<r.length;l++)i[l]=!0;for(var c=0;c<r.length;c++)void 0===i[c]&&e(r[c])}}else Object.keys(r).forEach((function(t){void 0!==a[t]||m(a,t)?i[t]||e(r[t]):(i[t]=!0,C(n))})),Object.keys(a).forEach((function(e){void 0!==r[e]||m(r,e)||(i[e]=!1,C(n))}))}(e.drafts[0]),O(e.drafts))},createProxy:y});function D(e,t){var n=t?t.scope:g.current,a={scope:n,modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},r=Array.isArray(e)?Proxy.revocable([a],M):Proxy.revocable(a,N),o=r.revoke,i=r.proxy;return a.draft=i,a.revoke=o,n.drafts.push(i),i}var N={get:function(e,t){if(t===o)return e;var n=e.drafts;if(!e.modified&&m(n,t))return n[t];var a=F(e)[t];if(e.finalized||!s(a))return a;if(e.modified){if(a!==P(e.base,t))return a;n=e.copy}return n[t]=D(a,e)},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){if(!e.modified){var a=P(e.base,t);if(n?h(a,n)||n===e.drafts[t]:h(a,n)&&t in e.base)return!0;L(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){void 0!==P(e.base,t)||t in e.base?(e.assigned[t]=!1,L(e)):e.assigned[t]&&delete e.assigned[t];e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),a=Reflect.getOwnPropertyDescriptor(n,t);a&&(a.writable=!0,a.configurable=!Array.isArray(n)||"length"!==t);return a},defineProperty:function(){throw new Error("Object.defineProperty() cannot be used on an Immer draft")},getPrototypeOf:function(e){return Object.getPrototypeOf(e.base)},setPrototypeOf:function(){throw new Error("Object.setPrototypeOf() cannot be used on an Immer draft")}},M={};function F(e){return e.copy||e.base}function P(e,t){var n=e[o],a=Reflect.getOwnPropertyDescriptor(n?F(n):e,t);return a&&a.value}function L(e){e.modified||(e.modified=!0,e.copy=l(u(e.base),e.drafts),e.drafts=null,e.parent&&L(e.parent))}d(N,(function(e,t){M[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),M.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer only supports deleting array indices");return N.deleteProperty.call(this,e[0],t)},M.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer only supports setting array indices and the 'length' property");return N.set.call(this,e[0],t,n)};var A=Object.freeze({willFinalize:function(){},createProxy:D});function R(e,t,n,a){Array.isArray(e.base)?function(e,t,n,a){var r,o,i=e.base,s=e.copy,l=e.assigned;s.length<i.length&&(i=(r=[s,i])[0],s=r[1],n=(o=[a,n])[0],a=o[1]);var c=s.length-i.length,u=0;for(;i[u]===s[u]&&u<i.length;)++u;var d=i.length;for(;d>u&&i[d-1]===s[d+c-1];)--d;for(var p=u;p<d;++p)if(l[p]&&s[p]!==i[p]){var m=t.concat([p]);n.push({op:"replace",path:m,value:s[p]}),a.push({op:"replace",path:m,value:i[p]})}for(var h=n.length,f=d+c-1;f>=d;--f){var g=t.concat([f]);n[h+f-d]={op:"add",path:g,value:s[f]},a.push({op:"remove",path:g})}}(e,t,n,a):function(e,t,n,a){var r=e.base,o=e.copy;d(e.assigned,(function(e,i){var s=r[e],l=o[e],c=i?e in r?"replace":"add":"remove";if(s!==l||"replace"!==c){var u=t.concat(e);n.push("remove"===c?{op:c,path:u}:{op:c,path:u,value:l}),a.push("add"===c?{op:"remove",path:u}:"remove"===c?{op:"add",path:u,value:s}:{op:"replace",path:u,value:s})}}))}(e,t,n,a)}var U=function(e,t){for(var n=0,a=t;n<a.length;n+=1){var r=a[n],o=r.path,i=r.op,s=f(r.value);if(!o.length)throw new Error("Illegal state");for(var l=e,c=0;c<o.length-1;c++)if(!(l=l[o[c]])||"object"!=typeof l)throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var u=o[o.length-1];switch(i){case"replace":l[u]=s;break;case"add":Array.isArray(l)?l.splice(u,0,s):l[u]=s;break;case"remove":Array.isArray(l)?l.splice(u,1):delete l[u];break;default:throw new Error("Unsupported patch operation: "+i)}}return e};var z={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},$=function(e){l(this,z,e),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)};$.prototype.produce=function(e,t,n){var r,o=this;if("function"==typeof e&&"function"!=typeof t){var i=t;t=e;var l=this;return function(e){var n=this;void 0===e&&(e=i);for(var a=[],r=arguments.length-1;r-- >0;)a[r]=arguments[r+1];return l.produce(e,(function(e){return t.call.apply(t,[n,e].concat(a))}))}}if("function"!=typeof t)throw new Error("The first or second argument to `produce` must be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("The third argument to `produce` must be a function or undefined");if(s(e)){var c=g.enter(),u=this.createProxy(e),d=!0;try{r=t(u),d=!1}finally{d?c.revoke():c.leave()}return r instanceof Promise?r.then((function(e){return c.usePatches(n),o.processResult(e,c)}),(function(e){throw c.revoke(),e})):(c.usePatches(n),this.processResult(r,c))}return void 0===(r=t(e))?e:r!==a?r:void 0},$.prototype.produceWithPatches=function(e,t,n){var a,r,o=this;if("function"==typeof e)return function(t){for(var n=[],a=arguments.length-1;a-- >0;)n[a]=arguments[a+1];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(n))}))};if(n)throw new Error("A patch listener cannot be passed to produceWithPatches");return[this.produce(e,t,(function(e,t){a=e,r=t})),a,r]},$.prototype.createDraft=function(e){if(!s(e))throw new Error("First argument to `createDraft` must be a plain object, an array, or an immerable object");var t=g.enter(),n=this.createProxy(e);return n[o].isManual=!0,t.leave(),n},$.prototype.finishDraft=function(e,t){var n=e&&e[o];if(!n||!n.isManual)throw new Error("First argument to `finishDraft` must be a draft returned by `createDraft`");if(n.finalized)throw new Error("The given draft is already finalized");var a=n.scope;return a.usePatches(t),this.processResult(void 0,a)},$.prototype.setAutoFreeze=function(e){this.autoFreeze=e},$.prototype.setUseProxies=function(e){this.useProxies=e,l(this,e?A:I)},$.prototype.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var a=t[n];if(0===a.path.length&&"replace"===a.op){e=a.value;break}}return i(e)?U(e,t):this.produce(e,(function(e){return U(e,t.slice(n+1))}))},$.prototype.processResult=function(e,t){var n=t.drafts[0],r=void 0!==e&&e!==n;if(this.willFinalize(t,e,r),r){if(n[o].modified)throw t.revoke(),new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");s(e)&&(e=this.finalize(e,null,t)),t.patches&&(t.patches.push({op:"replace",path:[],value:e}),t.inversePatches.push({op:"replace",path:[],value:n[o].base}))}else e=this.finalize(n,[],t);return t.revoke(),t.patches&&t.patchListener(t.patches,t.inversePatches),e!==a?e:void 0},$.prototype.finalize=function(e,t,n){var a=this,r=e[o];if(!r)return Object.isFrozen(e)?e:this.finalizeTree(e,null,n);if(r.scope!==n)return e;if(!r.modified)return r.base;if(!r.finalized){if(r.finalized=!0,this.finalizeTree(r.draft,t,n),this.onDelete)if(this.useProxies){var i=r.assigned;for(var s in i)i[s]||this.onDelete(r,s)}else{var l=r.base,c=r.copy;d(l,(function(e){m(c,e)||a.onDelete(r,e)}))}this.onCopy&&this.onCopy(r),this.autoFreeze&&n.canAutoFreeze&&Object.freeze(r.copy),t&&n.patches&&R(r,t,n.patches,n.inversePatches)}return r.copy},$.prototype.finalizeTree=function(e,t,n){var a=this,r=e[o];r&&(this.useProxies||(r.copy=u(r.draft,!0)),e=r.copy);var l=!!t&&!!n.patches,c=function(o,u,m){if(u===m)throw Error("Immer forbids circular references");var f=!!r&&m===e;if(i(u)){var g=f&&l&&!r.assigned[o]?t.concat(o):null;if(i(u=a.finalize(u,g,n))&&(n.canAutoFreeze=!1),Array.isArray(m)||p(m,o)?m[o]=u:Object.defineProperty(m,o,{value:u}),f&&u===r.base[o])return}else{if(f&&h(u,r.base[o]))return;s(u)&&!Object.isFrozen(u)&&d(u,c)}f&&a.onAssign&&a.onAssign(r,o,u)};return d(e,c),e};var B=new $,V=B.produce;B.produceWithPatches.bind(B),B.setAutoFreeze.bind(B),B.setUseProxies.bind(B),B.applyPatches.bind(B),B.createDraft.bind(B),B.finishDraft.bind(B);t.a=V}).call(this,n(253))},1219:function(e,t,n){"use strict";var a=n(108),r=n(884),o=n(260),i=n(145),s=n(885),l=n(874),c=n(6),u=n(1),d=n.n(u),p=n(0),m=n(1271),h=n(123),f=n(1092),g=n(1023);const b=["👍","👎","👊","✊","🤛","🤜","✋","🤝","🤘","💪","👌","👐","👇","👈","👉","☝️","🙏","🙌","✌️","🖖","👋","💯","✔️","❌","🎉","💥","🔥","✨","👀","🎶","☀️","💕","💔","❤️","🖤","💙","💚","💜","💛","😄","😃","😏","😧","😲","😊","😑","🤕","🤒","😨","😳","😦","☹️","😬","😁","😀","😍","😯","😂","😆","🤥","😷","🤓","😐","😮","😔","😣","😌","🙄","😴","😪","🙁","🙂","😈","😭","😛","😜","😎","😓","😅","🤔","😫","😤","😒","😩","😉","😟","😋","🤐","🤠","🐱","😿","😻","😹","😾","🙀","😸","😼","🙉","🙈","🙊"],v=16,y=160,E=d.a.div`
  display: inline-flex;
`,w=d.a.div`
  display: flex;
  overflow: hidden;
  width: ${y}px;
  margin: ${e=>e.theme.material.spacing(0,2)};
`,x=d.a.div`
  display: flex;
  flex-shrink: 0;
  will-change: transform;
  transition: transform 120ms cubic-bezier(0.4, 0, 0.2, 1);
  transform: ${e=>`translateX(-${e.offset}px)`};
`,C=d.a.div`
  height: ${128}px;
  width: ${y}px;
  margin-right: ${v}px;
  flex-shrink: 0;

  & > span {
    cursor: pointer;
    font-size: 24px;
    height: ${32}px;
    width: ${32}px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
`,k=d()(g.a)`
  && {
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0;
  }
`,S=d.a.div`
  display: flex;
  justify-content: center;
  flex-grow: 1;
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,_=d.a.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 24px;
  cursor: pointer;
  width: 24px;
  color: ${e=>e.theme.material.color.text[40]};
  font-size: 24px;

  ${e=>e.isSelected&&`color: ${e.theme.material.color.brand.blue[500]}`};
`,O=d.a.div`
  flex-direction: column;
  display: flex;
`;function T({onSelect:e}){const[t,n]=p.useState(0),r=Math.ceil(b.length/20)-1;return p.createElement(E,null,p.createElement(k,{onClick:()=>{n(0===t?r:t-1)}},p.createElement(a.a,{color:u.defaultTheme.material.color.text[50],icon:"navigate_before"})),p.createElement(O,null,p.createElement(S,null,(()=>{const e=[];for(let a=0;a<=r;a++)e.push(p.createElement(_,{key:a,isSelected:t===a,onClick:()=>n(a)},"•"));return e})()),p.createElement(w,null,p.createElement(x,{offset:t*(v+y)},(()=>{let t=0;const n=[];for(;20*t<b.length;){const a=20*t,r=20*(t+1),o=b.slice(a,r);n.push(p.createElement(C,null,o.map(t=>p.createElement("span",{role:"button",onClick:()=>e(t)},t)))),t+=1}return n})()))),p.createElement(k,{onClick:()=>{n(t===r?0:t+1)}},p.createElement(a.a,{color:u.defaultTheme.material.color.text[50],icon:"navigate_next"})))}var j=n(1042),I=n(1058),D=n(1091);n.d(t,"b",(function(){return Z})),n.d(t,"a",(function(){return Q}));const N="Comment here. Be patient, be friendly, and focus on ideas. We're all here to learn and improve!",M="Topic Content...",F=d.a.div`
  & .mde-textarea {
    ${e=>e.isTextAreaHidden&&"display: none !important"};
    ${e=>e.theme.font.main.family};
    font-size: ${e=>e.theme.material.typography.body2.fontSize};
    font-weight: 400;
  }

  & .mde-textarea textarea {
    line-height: 22px !important;
    border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    box-shadow: none;
    box-sizing: border-box;
    outline: none;
    padding: ${e=>e.theme.material.spacing(5)};
    width: 100%;
  }

  & .mde-textarea textarea::placeholder {
    color: ${e=>e.theme.material.color.text[40]};
  }

  & .mde-textarea__suggestions {
    margin-top: 48px !important;
  }

  & .mde-textarea__suggestions__list {
    border-radius: 4px;
    overflow: hidden;
    box-shadow: ${e=>e.theme.material.elevation[2]};
  }
`,P=d.a.div`
  align-items: center;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,L=d.a.div`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
`,A=d.a.div`
  display: flex;
  align-items: center;
`,R=d.a.div`
  align-items: center;
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  padding: ${e=>e.theme.material.spacing(1)};

  &:last-child {
    border: 0;
  }
`,U=d()(a.a)`
  cursor: pointer;
  padding: ${e=>e.theme.material.spacing(1)};

  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,z=d.a.img`
  cursor: pointer;
  padding: ${e=>e.theme.material.spacing(1)};

  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,$=d()(r.a)`
  && {
    background: ${e=>e.theme.material.color.white};
  }
`,B=d()(o.a)`
  && {
    width: ${e=>e.theme.material.spacing(50)};
  }
`,V=d.a.div`
  padding: ${e=>e.theme.material.spacing(5)};
  border: 1px solid #fff;
`,H=d.a.div`
  display: flex;
  align-items: center;
  width: 248px;
  height: 54px;

  &:hover {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }
`,W=d.a.img`
  height: 30px;
  width: 30px;
  margin: 0 12px;
  border-radius: 4px;
`,q=d.a.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding-right: 12px;
`,K=d()(i.b)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,G=d()(i.e)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Y=d()(i.b)`
  padding: ${e=>e.theme.material.spacing(0,0,4,2)};

  &,
  & * {
    color: #e23e3e;
  }
`,Z=({children:e})=>p.createElement(Y,null,e);function Q({value:e,onChange:t,onBlur:n,focusOnInitialRender:a,focusOnChange:r,topicId:i,isTopicContent:u,warnings:d}){const[b,v]=p.useState(!1),[y,E]=p.useState(!1),[w,x]=p.useState(!1),[C]=p.useState([]),[k]=p.useState([]),[S,_]=p.useState(!1),[O,Y]=p.useState(""),[Z,Q]=p.useState(!1),[{pushInputToUndoStack:X}]=p.useState({pushInputToUndoStack:Object(h.a)(500,e=>{for(C.push(e),C.length>100&&C.shift();k.length;)k.pop()})}),[J]=p.useState({previousValue:e}),ee=p.useRef(document.createElement("textarea")),te=t=>{t.focus(),t.value="",t.value=e};p.useLayoutEffect(()=>{const t=ee.current;r&&t&&document.activeElement!==t&&e!==J.previousValue&&te(t),J.previousValue=e},[e]),p.useLayoutEffect(()=>{const e=ee.current;a&&e&&te(e)},[]);const ne=u?M:N,ae=()=>{const e=ee.current,t=e.parentElement;""===e.value&&(e.value=ne),e.style.height="auto",t.style.height="auto";const n=e.scrollHeight+2;e.style.height=n+"px",t.style.height=n+"px",u&&(e.style.minHeight="200px",t.style.minHeight="200px"),e.value===ne&&(e.value="")},re=e=>{X(e),t(e)},oe=(e,t)=>{const n=ee.current,a=n.selectionStart,r=n.selectionEnd,o=n.value;n.value=[o.slice(0,a),e,o.slice(a,r),t,o.slice(r)].join(""),ae(),n.focus(),n.setSelectionRange(a+e.length,r+e.length),re(n.value)};p.useEffect(()=>{const e=ee.current,t=()=>{re(e.value),ae()};return e.addEventListener("input",t),window.addEventListener("resize",ae),ae(),()=>{e.removeEventListener("input",t),window.removeEventListener("resize",ae)}},[e]);const ie=Object(h.a)(500,(e,t)=>{c.A.searchUsersSuggestions({query:e,topicId:i||null,pageSize:4}).then(e=>{t(e.map(e=>Object.assign(Object.assign({},e),{display:"@"+e.userName,id:e.profileUrl})))})});return p.createElement(F,{isTextAreaHidden:S},p.createElement(P,null,p.createElement(L,null,p.createElement(R,null,p.createElement(g.a,{title:"Undo"},p.createElement(U,{icon:"undo",onClick:()=>{const e=C.pop();void 0!==e&&(k.push(e),t(C[C.length-1]||""))}})),p.createElement(g.a,{title:"Redo"},p.createElement(U,{icon:"redo",onClick:()=>{const e=k.pop();void 0!==e&&(C.push(e),t(e))}}))),p.createElement(R,null,p.createElement(s.a,null,p.createElement($,{dense:!0,anchorCorner:"bottomLeft",open:b,onClose:()=>v(!1),onSelect:e=>{const{index:t}=e.detail;oe(Array(t+1).fill("#").join("")+" ","")}},p.createElement(o.a,null,"Heading 1"),p.createElement(o.a,null,"Heading 2"),p.createElement(o.a,null,"Heading 3"),p.createElement(o.a,null,"Heading 4"),p.createElement(o.a,null,"Heading 5"),p.createElement(o.a,null,"Heading 6")),p.createElement(g.a,{onClick:()=>v(!0),title:"Insert Heading"},p.createElement(U,{icon:"format_size"}))),p.createElement(g.a,{onClick:()=>oe("**","**"),title:"Bold"},p.createElement(U,{icon:"format_bold"})),p.createElement(g.a,{onClick:()=>oe("*","*"),title:"Italicize"},p.createElement(U,{icon:"format_italic"})),p.createElement(g.a,{onClick:()=>oe("~~","~~"),title:"Strikethrough"},p.createElement(U,{icon:"format_strikethrough"}))),p.createElement(R,null,p.createElement(g.a,{onClick:()=>oe("[","](url)"),title:"Insert Link"},p.createElement(U,{icon:"insert_link"})),p.createElement(g.a,{onClick:()=>oe("> ",""),title:"Insert Quote"},p.createElement(z,{src:"/static/images/legacy-material-quote-24px.svg",alt:"Insert Quote"})),p.createElement(g.a,{onClick:()=>{-1===(()=>{const e=ee.current;return e.value.slice(e.selectionStart,e.selectionEnd)})().indexOf("\n")?oe("`","`"):oe("```\n","\n```")},title:"Insert Code Block"},p.createElement(U,{icon:"code"}))),p.createElement(R,null,p.createElement(g.a,{onClick:()=>oe("1. ",""),title:"Insert Numbered List"},p.createElement(U,{icon:"format_list_numbered"})),p.createElement(g.a,{onClick:()=>oe("- ",""),title:"Insert Bulleted List"},p.createElement(U,{icon:"format_list_bulleted"}))),p.createElement(R,null,p.createElement(g.a,{onClick:()=>{oe("| "," |  |\n| --- | --- |\n|  |  |\n")},title:"Insert Table"},p.createElement(U,{icon:"table_chart"})),p.createElement(s.a,null,p.createElement($,{dense:!0,anchorCorner:"bottomLeft",open:y,onClose:()=>E(!1),onSelect:e=>{const{index:t}=e.detail;0===t?c.n.allowForumAttachments?Object(f.a)().then(e=>{const t=e[0];t&&t.name.match(/.+\.(png|jpg|jpeg)$/)&&Object(f.b)(t).then(({gcsInfo:e})=>{oe("![",`](${e.mediaLink})`)})}):Q(!0):1===t&&oe("![","](url to embed)")}},p.createElement(B,null,"Upload image from computer"),p.createElement(B,null,"Embed image from url")),p.createElement(j.a,{open:Z,onClose:()=>Q(!1)}),p.createElement(g.a,{title:"Insert Image",onClick:()=>E(!0)},p.createElement(U,{icon:"insert_photo"}))),p.createElement(s.a,null,p.createElement($,{open:w,onClose:()=>x(!1)},p.createElement(T,{onSelect:e=>oe(e,"")})),p.createElement(g.a,{title:"Insert Emoticon",onClick:()=>x(!0)},p.createElement(U,{icon:"insert_emoticon"}))))),p.createElement(A,null,e&&p.createElement(l.a,{emphasis:"low",onClick:()=>{S?_(!1):(Y(Object(I.a)(e)),_(!0))}},S?"Edit":"Preview"))),d||null,S&&p.createElement(V,null,p.createElement(D.a,{html:O})),p.createElement(m.b,{allowSpaceInQuery:!0,className:"mde-textarea",inputRef:ee,onBlur:n,value:e,placeholder:ne},p.createElement(m.a,{trigger:"@",data:ie,onAdd:(e,t)=>{const n=ee.current,a=n.value,r=n.selectionEnd;let o=r,i=r;for(;"@"!==a[o]&&o>=0;)o--;for(;" "!==a[i]&&i<a.length;)i++;const s=a.slice(i),l=[a.slice(0,o),t,s.startsWith(" ")?"":" ",s];re(l.join("")),requestAnimationFrame(()=>{const e=o+t.length+1;n.setSelectionRange(e,e)})},renderSuggestion:e=>p.createElement(H,null,p.createElement(W,{src:e.thumbnailUrl,alt:e.displayName}),p.createElement(q,null,p.createElement(K,null,e.displayName),p.createElement(G,null,e.userName)))})))}},1220:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(21),r=n(268);function o(e){a.a.isAdmin||e()}function i(e){}var s=function(e,t){return o((function(){r.k("dataset",t)}))},l=function(e,t){return o((function(){r.k("script",t)}))};t.a={viewDatasetList:function(){return o((function(){e.Analytics.recordDatasetsView({})}))},viewDataset:function(e,t){return o((function(){r.g("dataset-shown",t)}))},exploreMoreDatasetsClicked:function(e){return o((function(){r.g("explore-more-datasets-clicked")}))},downloadDataset:function(e){return o((function(){}))},downloadDatasetFileOnDataTab:function(e){return o((function(){r.g("data-tab-download-file")}))},downloadDatasetOnDataTab:function(e){return o((function(){r.g("data-tab-download-all-list")}))},downloadDatasetCommon:i,upvotedDatasetOnHeader:s,upvotedDatasetOnDatasetList:function(e,t){return o((function(){r.k("dataset",t)}))},newDatasetVersionCreated:function(e){return o((function(){r.h(e?"convert-csv":null)}))},newKernelClicked:function(){return o((function(){r.j("new-kernel-clicked")}))},viewScript:function(e,t){return o((function(){r.j("script-shown",t)}))},upvoteScript:l,exploreMoreKernelsClicked:function(){return o((function(){r.j("explore-more-kernels-clicked")}))},upvoteForumPost:function(){return o((function(){r.k("forum-message")}))},downvoteForumPost:function(){return o((function(){r.i("forum-message")}))},upvoteForumTopic:function(){return o((function(){r.k("forum-topic")}))},downvoteForumTopic:function(){return o((function(){r.i("forum-topic")}))},upvoteForumTopicList:function(){return o((function(){r.k("topic-list")}))},downvoteForumTopicList:function(){return o((function(){r.i("topic-list")}))},clickedAvatarInNewsfeed:function(){return o((function(){r.f("newsfeed")}))},userSignup:function(){r.e("new-account")},upvotedNewsfeedStoryHeader:function(){return o((function(){r.k("newsfeed")}))},clickedNewsfeedActionLink:function(e,t){return o((function(){r.a(e,t)}))},clickedNewsfeedUserLink:function(e,t){return o((function(){r.c(e,t)}))},datasetPreviewTabShown:function(e,t){return o((function(){r.g("data-preview-tab-shown",e)}))},clickedSuggestion:function(e,t){return o((function(){return r.b(e,t)}))},newKernelUsingThisDataClicked:function(){return o((function(){r.j("new-kernel-using-this-data-clicked")}))}}}).call(this,n(367))},1221:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3);const r={light:{border:a.d,imagePlaceholder:a.e},dark:{border:a.i,imagePlaceholder:a.h}}},1222:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a={byte:{metricShort:"B",metricLong:"byte"},kilobyte:{metricShort:"kB",metricLong:"kilobyte"},megabyte:{metricShort:"MB",metricLong:"megabyte"},gigabyte:{metricShort:"GB",metricLong:"gigabyte"},terabyte:{metricShort:"TB",metricLong:"terabyte"},petabyte:{metricShort:"PB",metricLong:"petabyte"},exabyte:{metricShort:"EB",metricLong:"exabyte"},zettabyte:{metricShort:"ZB",metricLong:"zettabyte"},yottabyte:{metricShort:"YB",metricLong:"yottabyte"}},r=[a.byte,a.kilobyte,a.megabyte,a.gigabyte,a.terabyte,a.petabyte,a.exabyte,a.zettabyte,a.yottabyte];function o(e,t){for(var n=r.indexOf(e.magnitude),a=r.length-1,o=e.value;o<1&&n>0;)o*=1e3,n--;for(;o>=1e3&&n<a;)o/=1e3,n++;var i=r[n];if("number"==typeof t){var s=Math.pow(10,t);o=Math.round(o*s)/s}return{value:o,magnitude:i}}},1223:function(e,t,n){"use strict";n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return C}));var a=n(2),r=n(891),o=n(1224),i=n(128),s=n(874),l=n(55),c=n(0),u=n(1095),d=n(1455),p=n(1094),m=n(872),h=n(1233),f=n(1398);var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.renderIcon=function(){return this.props.faIcon&&c.createElement("i",{key:this.props.faIcon,className:"pageheader__page-message-icon fa "+this.props.faIcon})},t.prototype.render=function(){var e=this.props,t=e.dangerousHtmlMessage,n=e.faIcon,a=e.message,r=e.type,o=null;if(a&&""!==a)o=c.createElement("span",{key:r,className:l("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+r,{"pageheader__pagemessagecontent--custom-icon":!!n})},this.renderIcon(),c.createElement("span",null,a));else{if(!t||""===t)return null;o=c.createElement("span",{key:r,className:l("pageheader__pagemessagecontent","pageheader__pagemessagecontent--"+r,{"pageheader__pagemessagecontent--custom-icon":!!n})},this.renderIcon(),Object(i.l)(c.createElement("span",null),t))}return c.createElement("div",{className:l("pageheader__pagemessage","pageheader__pagemessage--"+this.props.type)},o)},t}(c.Component),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return c.createElement("div",{className:l("pageheader",this.props.dontRestrictWidth?"pageheader--full-width":"")},c.createElement("div",{className:l("pageheader__container",this.props.backgroundClass)},this.props.children))},t}(c.Component),v=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Object(a.__extends)(t,e),t.prototype.render=function(){var e=c.createElement("a",{href:this.props.userUrl,className:"pageheader__author-name"},this.props.userName),t=null,n=null;this.props.versionLink&&(t=c.createElement("span",null," · ",this.props.versionLink),n=c.createElement("span",null,this.props.versionLink," · "));var a=null;return this.props.dateUpdated&&(a=c.createElement("time",{dateTime:this.props.dateUpdated.toString(),title:this.props.dateUpdated.toString()},"last ",this.props.runTimeVerb," ",c.createElement(r.a,{time:this.props.dateUpdated}))),this.props.showUserName&&this.props.showDateUpdated&&this.props.dateUpdated?c.createElement("span",null,"by ",e,t," · ",a):this.props.showUserName?c.createElement("span",null,"by ",e,t):this.props.showDateUpdated&&this.props.dateUpdated?c.createElement("span",null,n,a):null}}(c.Component),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.nodeId||null;return c.createElement("div",{className:"pageheader__top--safe",id:e},this.props.children)},t}(c.Component)),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.nodeId||null;return c.createElement("div",{className:Object(h.b)("pageheader__top",this.props.modifier),id:e},c.createElement("a",{role:"presentation",href:this.props.titleUrl,className:Object(h.b)("pageheader__top-overlay",this.props.modifier)}),this.props.coverImageUrl&&c.createElement("div",{className:Object(h.b)("pageheader__top-image",this.props.modifier)},c.createElement("a",{role:"button",href:this.props.coverImageClickUrl,target:"_blank"},c.createElement("img",{alt:"Cover Image",src:this.props.coverImageUrl}))),this.props.title||this.props.subtitle?c.createElement(f.a,{isEditingHeaderInfo:this.props.isEditingHeaderInfo,subtitle:this.props.subtitle,title:this.props.title,titleUrl:this.props.titleUrl,modifier:this.props.modifier,onTitleClick:this.props.onTitleClick,forkInfo:this.props.forkInfo,editHeaderButton:this.props.editHeaderButton,canEdit:this.props.canEdit}):void 0,this.props.children)},t}(c.Component),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.classNameElement,n=e.classNameModifier;return c.createElement("div",{className:Object(h.b)("pageheader__"+t,n,!1)},c.createElement("a",{role:"button",href:this.props.targetUrl,onClick:this.props.onClick||void 0},c.createElement("img",{alt:"image-url",src:this.props.imageUrl})),this.props.thumbnailOverlay?this.props.thumbnailOverlay:null)},t}(c.Component),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lockOverflowDropdown:!1,showOverflowDropdown:!1},t.handleNavClick=function(e,n){e.ctrlKey||e.shiftKey||e.metaKey||e.button&&1===e.button||t.props.changeActiveTab&&(e.preventDefault(),t.props.changeActiveTab(n))},t.renderLinkText=function(e){return c.createElement("span",null,c.createElement("span",null,e.text),e.count&&"0"!==e.count?c.createElement("span",{className:"pageheader__link-count"},"(",c.createElement(u.a,{number:e.count}),")"):e.showZeroCountExplicitly?c.createElement("span",{className:"pageheader__link-count"},"(0)"):"")},t.renderRightLink=function(e,n){return c.createElement("a",{key:"pageheader__right-link--"+n,href:e.href,title:e.title,className:l("pageheader__right-links","pageheader__right-links--with-onclick",e.text.toUpperCase()===t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",e.tab&&e.tab.toUpperCase()===t.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",e.additionalClassName||""),onClick:e.actionCallback?function(t){return e.actionCallback(t,e)}:e.tab?function(n){return t.handleNavClick(n,e.tab)}:!e.href&&e.text?function(n){return t.handleNavClick(n,e.text)}:null,id:"pageheader-nav-item--"+Object(d.a)(e.title)},t.renderLinkText(e))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;return c.createElement("nav",{className:Object(h.b)("pageheader__nav",this.props.classNameModifier)+" "+(this.props.fullWidth?"pageheader__nav--full-width":"")},c.createElement(p.b,{minWidth:0,maxWidth:p.a.tabletMax},c.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks||this.props.overflowMenuLinks?(this.props.menuLinks?this.props.menuLinks:[]).concat(this.props.overflowMenuLinks).filter((function(e){return null!=e})).map((function(t,n){return c.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:l("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n,t):t.tab?e.handleNavClick(n,t.text):""},id:"pageheader-nav-item--"+Object(d.a)(t.title)},e.renderLinkText(t))})):null,c.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map((function(t,n){return c.createElement("a",{key:"pageheader__right-link--"+n,href:t.href,title:t.title,className:l("pageheader__right-links","pageheader__right-links--with-onclick",t.text.toUpperCase()===e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":"",t.tab&&t.tab.toUpperCase()===e.props.activeTab.toUpperCase()?"pageheader__right-links--selected":""),onClick:t.actionCallback?function(e){return t.actionCallback(e,t)}:t.tab?function(n){return e.handleNavClick(n,t.tab)}:!t.href&&t.text?function(n){return e.handleNavClick(n,t.text)}:null,id:"pageheader-nav-item--"+Object(d.a)(t.title)},t.text)})):null))),c.createElement(p.b,{minWidth:p.a.desktopMin},c.createElement("div",{className:"pageheader__nav-wrapper"},this.props.menuLinks&&this.props.menuLinks.filter((function(e){return null!=e})).map((function(t,n){return c.createElement("a",{key:"pageheader__left-link--"+n,href:t.href||t.tab,title:t.title,className:l("pageheader__left-links","pageheader__left-links--with-onclick",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n,t):t.tab?e.handleNavClick(n,t.text):""},id:"pageheader-nav-item--"+Object(d.a)(t.title)},e.renderLinkText(t))})),this.props.overflowMenuLinks&&this.props.overflowMenuLinks.length?c.createElement("div",{className:"pageheader__more-links",onMouseEnter:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!0})},onMouseLeave:function(){e.state.lockOverflowDropdown||e.setState({showOverflowDropdown:!1})}},c.createElement("a",{key:"pageheader__left-link--"+(this.props.menuLinks?this.props.menuLinks.length:0),title:"More",className:l("pageheader__left-links","pageheader__left-links--with-onclick","pageheader__more-link",this.state.lockOverflowDropdown?"pageheader__left-links--selected":"")},c.createElement("p",{className:"pageheader__more-link-wrapper"},c.createElement("svg",{className:"pageheader__more-ellipsis",width:"18px",height:"4px",viewBox:"0 0 18 4"},c.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M16,4 C14.8954305,4 14,3.1045695 14,2 C14,0.8954305 14.8954305,0 16,0 C17.1045695,0 18,0.8954305 18,2 C18,3.1045695 17.1045695,4 16,4 Z M9,4 C7.8954305,4 7,3.1045695 7,2 C7,0.8954305 7.8954305,0 9,0 C10.1045695,0 11,0.8954305 11,2 C11,3.1045695 10.1045695,4 9,4 Z M2,4 C0.8954305,4 0,3.1045695 0,2 C0,0.8954305 0.8954305,0 2,0 C3.1045695,0 4,0.8954305 4,2 C4,3.1045695 3.1045695,4 2,4 Z",fill:"#444"})))),this.state.showOverflowDropdown?c.createElement("div",{className:"pageheader__nav-overflow"},this.props.overflowMenuLinks.map((function(t,n){return c.createElement("span",{key:"pageheader__overflow-link--"+n,className:"pageheader__overflow-link-wrapper"},c.createElement("a",{href:t.href||t.tab,title:t.title,className:l("pageheader__left-links","pageheader__overflow-links",(t.text||"").toUpperCase()===(e.props.activeTab||"").toUpperCase()?"pageheader__left-links--selected":""),onClick:function(n){return t.actionCallback?t.actionCallback(n,t):t.tab?e.handleNavClick(n,t.tab):""},id:"pageheader-nav-item--"+Object(d.a)(t.title)},e.renderLinkText(t)))}))):null)):null,c.createElement("div",{className:"pageheader__right-links-wrapper"},this.props.rightMenuLinks?this.props.rightMenuLinks.map((function(t,n){return e.renderRightLink(t,n)})):null))))},t}(c.Component),x=function(e){function t(t){var n=e.call(this,t)||this;return n.onPageMessagesUpdated=function(e){n.setState({pageMessages:e})},n.state={pageMessages:[]},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){JSON.stringify(this.props.pageMessages)!==JSON.stringify(e.pageMessages)&&(m.a.clear(),m.a.add(e.pageMessages))},t.prototype.componentDidMount=function(){m.a.addListener(this.onPageMessagesUpdated),m.a.add(this.props.pageMessages)},t.prototype.componentWillUnmount=function(){m.a.removeListener(this.onPageMessagesUpdated)},t.prototype.hasPageMessages=function(){return Boolean(this.state.pageMessages&&this.state.pageMessages.length>0)},t.prototype.render=function(){return this.hasPageMessages()||this.props.children?c.createElement(o.a,{elevate:!0},c.createElement("div",{className:"pageheader__bottom pageheader__bottom"+(this.hasPageMessages()?"--with-pagemessages":"")},this.props.children),c.createElement("div",null,this.hasPageMessages()?this.state.pageMessages.map((function(e,t){return c.createElement(g,Object(a.__assign)({key:"pageheader__pagemessage--"+t},e))})):""),c.createElement("div",{className:"pageheader__transition"})):null},t}(c.Component),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;return c.createElement(s.a,{href:this.props.href&&this.props.href,onClick:function(t){return e.props.onClick&&e.props.onClick(t)}},this.props.text)},t}(c.Component)},1224:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(88),r=n(370),o=n(1),i=n.n(o),s=n(0);const l=i.a.div`
  position: relative;
`,c=i.a.div`
  height: 1px;
  width: 1px;
  top: -1px;
  position: absolute;
`,u=i.a.div`
  box-shadow: ${e=>e.elevate&&e.theme.material.elevation[2]};
`,d=({children:e,elevate:t=!1,offset:n=a.m,onStick:o=(()=>void 0),onUnstick:i=(()=>void 0)})=>{const[d,p]=s.useState(!1),m=s.useRef(document.createElement("div")),h=s.useRef(document.createElement("div")),f=s.useRef(document.createElement("div")),g=()=>{f.current.style.position="fixed",f.current.style.top=n+"px",f.current.style.zIndex="999"},b=()=>{f.current.style.position="",f.current.style.top=n+"",f.current.style.zIndex=""};return s.useEffect(()=>{const e=()=>{b(),f.current.style.height="",f.current.style.width="",h.current.style.height="",h.current.style.width="";const e=f.current.getBoundingClientRect();h.current.style.height=e.height+"px",h.current.style.width=e.width+"px",f.current.style.height=e.height+"px",f.current.style.width=e.width+"px",d&&g()};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),s.useEffect(()=>{const e=Object(r.a)(([e])=>{const t=m.current.getBoundingClientRect().top;e.intersectionRatio<1&&t<window.innerHeight?d||(p(!0),g(),o()):d&&(p(!1),b(),i())},{threshold:1});return e.observe(m.current),()=>{e.unobserve(m.current)}}),s.createElement(l,{ref:h},s.createElement(c,{offset:n,ref:m}),s.createElement(u,{elevate:t&&d,ref:f},e))}},1226:function(e,t,n){"use strict";var a,r,o,i,s,l,c,u,d,p=n(2),m=n(1),h=n.n(m),f=n(147),g=n(255),b=n(0),v=n(1007),y=(n(1241),n(1181)),E=n(1222),w=n(1491),x=n(1182),C=(h.a.div.withConfig({displayName:"Material_List",componentId:"sc-1o3lk38"})(a||(a=Object(p.__makeTemplateObject)(["\n  list-style: none;\n  margin: 0 0.5em;\n  padding: 0;\n"],["\n  list-style: none;\n  margin: 0 0.5em;\n  padding: 0;\n"]))),h.a.div.withConfig({displayName:"Material_Grow",componentId:"sc-6vcldd"})(r||(r=Object(p.__makeTemplateObject)(["\n  font-size: 1.2em;\n"],["\n  font-size: 1.2em;\n"]))),h.a.div.withConfig({displayName:"Material_Shrink",componentId:"sc-1kg7g36"})(o||(o=Object(p.__makeTemplateObject)(["\n  font-size: 0.8em;\n"],["\n  font-size: 0.8em;\n"]))),h.a.div.withConfig({displayName:"Material_Margin",componentId:"sc-e1v02p"})(i||(i=Object(p.__makeTemplateObject)(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),"\n    padding: 0.5em;\n    margin: 0;\n    display: flex;\n    flex-flow: column nowrap;\n    color: #9CA4B4;\n    background-color: #4F5A66;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    > h5 {\n        font-weight: 700;\n        font-family: Roboto,Arial,sans-serif;\n    }\n"),k=(h.a.div.withConfig({displayName:"Material_Rectangle",componentId:"sc-1q3wcv3"})(s||(s=Object(p.__makeTemplateObject)(["","\n    font-size: ",";\n"],["","\n    font-size: ",";\n"])),C,(function(e){return e.size||"1em"})),h.a.div.withConfig({displayName:"Material_Square",componentId:"sc-11gutu9"})(l||(l=Object(p.__makeTemplateObject)(["\n  ","\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n"],["\n  ","\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n"])),C,(function(e){return e.size||"1em"})),h.a.button.withConfig({displayName:"Material_Button",componentId:"sc-txfug2"})(c||(c=Object(p.__makeTemplateObject)(["\n  display: inline-flex;\n  margin: 0 0 0.4rem;\n  padding: 0.4rem;\n  border-radius: 1px;\n  font-weight: 700;\n  color: #9ca4b4;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"],["\n  display: inline-flex;\n  margin: 0 0 0.4rem;\n  padding: 0.4rem;\n  border-radius: 1px;\n  font-weight: 700;\n  color: #9ca4b4;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"]))),h.a.button.withConfig({displayName:"Material_SquareButton",componentId:"sc-wpw71a"})(u||(u=Object(p.__makeTemplateObject)(["\n  display: inline-flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  border-radius: 1px;\n  font-size: 0.8rem;\n  font-weight: 700;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  width: 8em;\n  height: 8em;\n  color: #c7c8c9;\n  > * {\n    color: #20beff;\n    color: #9ca4b4;\n    font-weight: 400;\n  }\n"],["\n  display: inline-flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  border-radius: 1px;\n  font-size: 0.8rem;\n  font-weight: 700;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  width: 8em;\n  height: 8em;\n  color: #c7c8c9;\n  > * {\n    color: #20beff;\n    color: #9ca4b4;\n    font-weight: 400;\n  }\n"]))),n(1153));n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return N})),n.d(t,"c",(function(){return M})),n.d(t,"b",(function(){return F})),function(e){e[e.NONE=0]="NONE",e[e.PENDING=1]="PENDING",e[e.PROCESSING=2]="PROCESSING",e[e.COMPLETE=4]="COMPLETE",e[e.SUCCESS=8]="SUCCESS",e[e.ERROR=16]="ERROR"}(d||(d={}));var S,_=h.a.div.withConfig({displayName:"Progress_ColumnView",componentId:"sc-1j36w92"})(P||(P=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"])));!function(e){e.PROGRESS="progress",e.CHILDREN="children",e.ERROR="error"}(S||(S={}));var O=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePending=function(){var e=d.PENDING,t=k.e;n.setState({taskStatusFlags:e,taskProgress:t})},n.handleProgress=function(e){var t=d.PROCESSING;n.setState({taskStatusFlags:t,taskProgress:e})},n.handleCompletion=function(e){var t=d.COMPLETE|(e.errors?d.ERROR:d.SUCCESS);n.setState({taskProgress:e}),window.setTimeout((function(){return n.setState({taskStatusFlags:t})}),1e3)},n.handleErrors=function(e){if(e.length){var t=n.state.taskStatusFlags&~d.SUCCESS|d.ERROR;n.setState({taskStatusFlags:t,errors:e})}else{t=d.NONE;n.setState({taskStatusFlags:t,errors:null})}},n.hasStatus=function(e){return!!(n.state.taskStatusFlags&e)},n.getProgressProps=function(e){var t=n.state.taskProgress;if(!t)return null;var a=t.progressProps,r=e?e.combineProgressEvent(a.progressEvent):k.f(a.progressEvent);return Object(p.__assign)(Object(p.__assign)({},a),{progressEvent:r})},n.displayKeyFilter=function(e){var t=(0,n.props.isProgressEnabledForTaskStatusFlags)(n.state.taskStatusFlags);switch(e){case S.PROGRESS:return t;case S.CHILDREN:return!t;case S.ERROR:return n.hasStatus(d.ERROR);default:throw new Error("Unexpected TaskProgressKey: "+e)}},n.getFlag=function(e,t){var a=n.props[e];return"boolean"==typeof a?a:t},n.state={taskProgress:null,errors:null,taskStatusFlags:d.NONE},n}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){this.unsubscribe=this.props.taskTrigger.subscribe(this.handlePending,this.handleProgress,this.handleCompletion,this.handleErrors,(function(){}))},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props.children,n=this.state,a=(n.taskStatusFlags,n.errors);var r=this.getFlag("showRate",!0),o=this.getFlag("showRemaining",!0),i=this.getFlag("showDescription",!1),s=this.getProgressProps(),l=this.hasStatus(d.PROCESSING);return b.createElement(_,null,this.displayKeyFilter(S.CHILDREN)?b.createElement(_,{key:S.CHILDREN},t||null):this.displayKeyFilter(S.PROGRESS)?b.createElement(_,{key:S.PROGRESS},s&&b.createElement(N,Object(p.__assign)({key:S.PROGRESS},s),i&&l&&b.createElement(D,null,s.description&&b.createElement(M,null,s.description),s.stepDescription&&b.createElement(M,null,s.stepDescription)),r&&l&&b.createElement(F,Object(p.__assign)({},s)),o&&l&&b.createElement(Y,Object(p.__assign)({},s)))):this.displayKeyFilter(S.ERROR)&&b.createElement(_,{key:S.ERROR},a&&a.map((function(t,n){return b.createElement(re,{key:S.ERROR+"-"+n,error:t,onDismiss:function(){e.handleErrors(Object(p.__spread)(a.slice(0,n),a.slice(n+1)))}})}))))},t.defaultProps={isProgressEnabledForTaskStatusFlags:function(e){return!!(e&d.PENDING||e&d.PROCESSING||e&d.ERROR)}},t}(b.Component),T=(h.a.div.withConfig({displayName:"Progress_ProgressContainer",componentId:"sc-1j6wiok"})(L||(L=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"]))),h.a.div.withConfig({displayName:"Progress_ProgressBarView",componentId:"sc-10nhyxb"})(A||(A=Object(p.__makeTemplateObject)(["\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1 1 auto;\n  border-color: ",";\n  & svg {\n    width: 100%;\n    min-height: 26px;\n  }\n"],["\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1 1 auto;\n  border-color: ",";\n  & svg {\n    width: 100%;\n    min-height: 26px;\n  }\n"])),v.b.KaggleBlueLight));var j=function(e){return function(t){var n=t/e.divisor;return{percent:-1*Math.pow(e.base,n)+1,total:n}}},I=(function(e){function t(t){var n=e.call(this,t)||this;return n.tick=function(e){n.forceUpdate(),n.request=window.requestAnimationFrame(n.tick)},n.seek=function(e){return void 0===e&&(e=Date.now()),n.timestamp=e},n.start=function(){return n.request=window.requestAnimationFrame(n.tick)},n.stop=function(){return window.cancelAnimationFrame(n.request)},function(e){f(e.base>=0,"<Trickle /> base must be greater than or equal to 0."),f(e.base<=1,"<Trickle /> base must be less than or equal to 1.")}(t),n.calculate=j(t),n}Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.autostart&&(this.seek(),this.start())},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.render=function(){var e=this.props.children,t=this.calculate(Date.now()-this.timestamp),n=function(e){return function(t){return k.f({loaded:t.loaded+e.total*e.percent,total:t.total+e.total})}}(t);return e(Object(p.__assign)(Object(p.__assign)({},t),{seek:this.seek,start:this.start,stop:this.stop,combineProgressEvent:n}))}}(b.Component),h.a.div.withConfig({displayName:"Progress_ProgressBarChildrenView",componentId:"sc-1b9luu7"})(R||(R=Object(p.__makeTemplateObject)(["\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  justify-content: space-between;\n  align-items: center;\n  left: 0;\n  right: 0;\n"],["\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  justify-content: space-between;\n  align-items: center;\n  left: 0;\n  right: 0;\n"])))),D=h.a.div.withConfig({displayName:"Progress_ProgressStack",componentId:"sc-1dys6tw"})(U||(U=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"]))),N=function(e){var t=e.children,n=e.progressEvent,a=n.loaded,r=n.total,o=e.initialOffsetAmount?e.initialOffsetAmount:0,i=r?Math.floor((a+o)/(r+o)*100):0;return b.createElement(T,null,b.createElement(g.a,{strokeLinecap:"butt",percent:i,strokeWidth:4,trailWidth:0,strokeColor:"#20BEFF"}),t&&b.createElement(I,null,t))},M=h.a.span.withConfig({displayName:"Progress_ProgressTextView",componentId:"sc-zj45vh"})(z||(z=Object(p.__makeTemplateObject)(["\n  font-size: 10px;\n  font-weight: bold;\n  color: ",";\n  margin-left: 1em;\n  margin-right: 1em;\n  line-height: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  font-size: 10px;\n  font-weight: bold;\n  color: ",";\n  margin-left: 1em;\n  margin-right: 1em;\n  line-height: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),v.b.CodeWhite);function F(e){var t=e.progressEvent,n=t.loaded,a=t.total,r=t.timeStamp-e.initiatedTimeStamp,o=a&&r?n/r:0;return r>0?b.createElement(y.a,{value:o,magnitude:E.a.kilobyte,significantFigures:1},(function(e){return b.createElement(M,null,e.value," ",e.magnitude.metricShort,"/s")})):b.createElement("span",null)}var P,L,A,R,U,z,$,B,V,H,W,q,K,G,Y=function(e){var t=k.c(e);return t?b.createElement(M,null,t,"s remaining"):null},Z=h.a.div.withConfig({displayName:"Progress_ErrorContainer",componentId:"sc-11p33cv"})($||($=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"]))),Q=h.a.div.withConfig({displayName:"Progress_ErrorBody",componentId:"sc-1x263o1"})(B||(B=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column wrap;\n"],["\n  display: flex;\n  flex-flow: column wrap;\n"]))),X=h.a.footer.withConfig({displayName:"Progress_ErrorFooter",componentId:"sc-10h15z1"})(V||(V=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n"]))),J=h.a.h3.withConfig({displayName:"Progress_ErrorName",componentId:"sc-1313gn2"})(H||(H=Object(p.__makeTemplateObject)(["\n  color: red;\n  font-size: 0.9em;\n  font-family: Roboto, Arial, sans-serif;\n  font-weight: 700;\n"],["\n  color: red;\n  font-size: 0.9em;\n  font-family: Roboto, Arial, sans-serif;\n  font-weight: 700;\n"]))),ee=h.a.span.withConfig({displayName:"Progress_ErrorMessage",componentId:"sc-1pz9l20"})(W||(W=Object(p.__makeTemplateObject)(["\n  font-size: 0.7em;\n  font-family: ",";\n  font-weight: 700;\n"],["\n  font-size: 0.7em;\n  font-family: ",";\n  font-weight: 700;\n"])),v.c.Monospace),te=(h.a.span.withConfig({displayName:"Progress_ErrorSource",componentId:"sc-1et5z3a"})(q||(q=Object(p.__makeTemplateObject)(["\n  font-size: 0.7em;\n  font-weight: 700px;\n"],["\n  font-size: 0.7em;\n  font-weight: 700px;\n"]))),h.a.button.withConfig({displayName:"Progress_ErrorButton",componentId:"sc-1lz050d"})(K||(K=Object(p.__makeTemplateObject)(['\n  background: #fbeeee;\n  color: #da5957;\n  font-weight: 700;\n  border: 0;\n  border-radius: 4px;\n  flex: 0 0 auto;\n  font-family: "Inter", sans-serif;\n  font-size: 12px;\n  text-decoration: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  margin-top: 6px;\n  margin-bottom: 6px;\n  margin-left: auto;\n  max-width: 200px;\n  min-width: 100px;\n'],['\n  background: #fbeeee;\n  color: #da5957;\n  font-weight: 700;\n  border: 0;\n  border-radius: 4px;\n  flex: 0 0 auto;\n  font-family: "Inter", sans-serif;\n  font-size: 12px;\n  text-decoration: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  margin-top: 6px;\n  margin-bottom: 6px;\n  margin-left: auto;\n  max-width: 200px;\n  min-width: 100px;\n'])))),ne=h.a.div.withConfig({displayName:"Progress_MessagingView",componentId:"sc-1hwmnlh"})(G||(G=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex: 1 1 auto;\n"]))),ae=function(e){switch(e.mimeType){case"text/plain":return b.createElement(ne,null,e.body);case"application/json":var t=JSON.parse(e.body),n=Object.keys(t).reduce((function(e,n){var a;return Object(p.__assign)(Object(p.__assign)({},e),((a={})[""+n.charAt(0).toLowerCase()+n.substring(1)]=t[n],a))}),{});switch(e.serializedType){case"Kaggle.Dto.DataFrameSchemaParserMessage":var a=n;return b.createElement(ne,null,b.createElement(x.e,null,b.createElement(x.b,null,[a.parseErrors.length+" Parse Errors Occurred:"]),a.parseErrors.map((function(e,t){return b.createElement(x.b,{key:t},[e])}))));default:throw new Error("Unmapped ClientErrorMessaging serializedType: "+JSON.stringify(e))}default:throw new Error("Unknown mime type: "+e.mimeType)}},re=function(e){var t=e.error,n=e.onDismiss;return b.createElement(Z,null,t.messaging?b.createElement(ae,Object(p.__assign)({},t.messaging)):b.createElement(Q,null,b.createElement(w.a,null,b.createElement(J,null,t.name)),b.createElement(ee,null,t.message)),b.createElement(X,null,b.createElement("div",null,!1),b.createElement("div",null,n&&b.createElement(te,{onClick:n},"Dismiss"))))}},1227:function(e,t,n){var a;(function(){var n=this,r=n._,o=Array.prototype,i=Object.prototype,s=Function.prototype,l=o.push,c=o.slice,u=i.toString,d=i.hasOwnProperty,p=Array.isArray,m=Object.keys,h=s.bind,f=Object.create,g=function(){},b=function(e){return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};e.exports&&(t=e.exports=b),t._=b,b.VERSION="1.8.3";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,a){return e.call(t,n,a)};case 3:return function(n,a,r){return e.call(t,n,a,r)};case 4:return function(n,a,r,o){return e.call(t,n,a,r,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?b.identity:b.isFunction(e)?v(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return y(e,t,1/0)};var E=function(e,t){return function(n){var a=arguments.length;if(a<2||null==n)return n;for(var r=1;r<a;r++)for(var o=arguments[r],i=e(o),s=i.length,l=0;l<s;l++){var c=i[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},w=function(e){if(!b.isObject(e))return{};if(f)return f(e);g.prototype=e;var t=new g;return g.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},C=Math.pow(2,53)-1,k=x("length"),S=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=C};function _(e){function t(t,n,a,r,o,i){for(;o>=0&&o<i;o+=e){var s=r?r[o]:o;a=n(a,t[s],s,t)}return a}return function(n,a,r,o){a=v(a,o,4);var i=!S(n)&&b.keys(n),s=(i||n).length,l=e>0?0:s-1;return arguments.length<3&&(r=n[i?i[l]:l],l+=e),t(n,a,r,i,l,s)}}b.each=b.forEach=function(e,t,n){var a,r;if(t=v(t,n),S(e))for(a=0,r=e.length;a<r;a++)t(e[a],a,e);else{var o=b.keys(e);for(a=0,r=o.length;a<r;a++)t(e[o[a]],o[a],e)}return e},b.map=b.collect=function(e,t,n){t=y(t,n);for(var a=!S(e)&&b.keys(e),r=(a||e).length,o=Array(r),i=0;i<r;i++){var s=a?a[i]:i;o[i]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=_(1),b.reduceRight=b.foldr=_(-1),b.find=b.detect=function(e,t,n){var a;if(void 0!==(a=S(e)?b.findIndex(e,t,n):b.findKey(e,t,n))&&-1!==a)return e[a]},b.filter=b.select=function(e,t,n){var a=[];return t=y(t,n),b.each(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a},b.reject=function(e,t,n){return b.filter(e,b.negate(y(t)),n)},b.every=b.all=function(e,t,n){t=y(t,n);for(var a=!S(e)&&b.keys(e),r=(a||e).length,o=0;o<r;o++){var i=a?a[o]:o;if(!t(e[i],i,e))return!1}return!0},b.some=b.any=function(e,t,n){t=y(t,n);for(var a=!S(e)&&b.keys(e),r=(a||e).length,o=0;o<r;o++){var i=a?a[o]:o;if(t(e[i],i,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,a){return S(e)||(e=b.values(e)),("number"!=typeof n||a)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=c.call(arguments,2),a=b.isFunction(t);return b.map(e,(function(e){var r=a?t:e[t];return null==r?r:r.apply(e,n)}))},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var a,r,o=-1/0,i=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=S(e)?e:b.values(e)).length;s<l;s++)(a=e[s])>o&&(o=a);else t=y(t,n),b.each(e,(function(e,n,a){((r=t(e,n,a))>i||r===-1/0&&o===-1/0)&&(o=e,i=r)}));return o},b.min=function(e,t,n){var a,r,o=1/0,i=1/0;if(null==t&&null!=e)for(var s=0,l=(e=S(e)?e:b.values(e)).length;s<l;s++)(a=e[s])<o&&(o=a);else t=y(t,n),b.each(e,(function(e,n,a){((r=t(e,n,a))<i||r===1/0&&o===1/0)&&(o=e,i=r)}));return o},b.shuffle=function(e){for(var t,n=S(e)?e:b.values(e),a=n.length,r=Array(a),o=0;o<a;o++)(t=b.random(0,o))!==o&&(r[o]=r[t]),r[t]=n[o];return r},b.sample=function(e,t,n){return null==t||n?(S(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=y(t,n),b.pluck(b.map(e,(function(e,n,a){return{value:e,index:n,criteria:t(e,n,a)}})).sort((function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(n<a||void 0===a)return-1}return e.index-t.index})),"value")};var O=function(e){return function(t,n,a){var r={};return n=y(n,a),b.each(t,(function(a,o){var i=n(a,o,t);e(r,a,i)})),r}};b.groupBy=O((function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]})),b.indexBy=O((function(e,t,n){e[n]=t})),b.countBy=O((function(e,t,n){b.has(e,n)?e[n]++:e[n]=1})),b.toArray=function(e){return e?b.isArray(e)?c.call(e):S(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:S(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=y(t,n);var a=[],r=[];return b.each(e,(function(e,n,o){(t(e,n,o)?a:r).push(e)})),[a,r]},b.first=b.head=b.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var T=function(e,t,n,a){for(var r=[],o=0,i=a||0,s=k(e);i<s;i++){var l=e[i];if(S(l)&&(b.isArray(l)||b.isArguments(l))){t||(l=T(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};function j(e){return function(t,n,a){n=y(n,a);for(var r=k(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function I(e,t,n){return function(a,r,o){var i=0,s=k(a);if("number"==typeof o)e>0?i=o>=0?o:Math.max(o+s,i):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return a[o=n(a,r)]===r?o:-1;if(r!=r)return(o=t(c.call(a,i,s),b.isNaN))>=0?o+i:-1;for(o=e>0?i:s-1;o>=0&&o<s;o+=e)if(a[o]===r)return o;return-1}}b.flatten=function(e,t){return T(e,t,!1)},b.without=function(e){return b.difference(e,c.call(arguments,1))},b.uniq=b.unique=function(e,t,n,a){b.isBoolean(t)||(a=n,n=t,t=!1),null!=n&&(n=y(n,a));for(var r=[],o=[],i=0,s=k(e);i<s;i++){var l=e[i],c=n?n(l,i,e):l;t?(i&&o===c||r.push(l),o=c):n?b.contains(o,c)||(o.push(c),r.push(l)):b.contains(r,l)||r.push(l)}return r},b.union=function(){return b.uniq(T(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,a=0,r=k(e);a<r;a++){var o=e[a];if(!b.contains(t,o)){for(var i=1;i<n&&b.contains(arguments[i],o);i++);i===n&&t.push(o)}}return t},b.difference=function(e){var t=T(arguments,!0,!0,1);return b.filter(e,(function(e){return!b.contains(t,e)}))},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,k).length||0,n=Array(t),a=0;a<t;a++)n[a]=b.pluck(e,a);return n},b.object=function(e,t){for(var n={},a=0,r=k(e);a<r;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n},b.findIndex=j(1),b.findLastIndex=j(-1),b.sortedIndex=function(e,t,n,a){for(var r=(n=y(n,a,1))(t),o=0,i=k(e);o<i;){var s=Math.floor((o+i)/2);n(e[s])<r?o=s+1:i=s}return o},b.indexOf=I(1,b.findIndex,b.sortedIndex),b.lastIndexOf=I(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var a=Math.max(Math.ceil((t-e)/n),0),r=Array(a),o=0;o<a;o++,e+=n)r[o]=e;return r};var D=function(e,t,n,a,r){if(!(a instanceof t))return e.apply(n,r);var o=w(e.prototype),i=e.apply(o,r);return b.isObject(i)?i:o};b.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,c.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),a=function(){return D(e,a,t,this,n.concat(c.call(arguments)))};return a},b.partial=function(e){var t=c.call(arguments,1),n=function(){for(var a=0,r=t.length,o=Array(r),i=0;i<r;i++)o[i]=t[i]===b?arguments[a++]:t[i];for(;a<arguments.length;)o.push(arguments[a++]);return D(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,a=arguments.length;if(a<=1)throw new Error("bindAll must be passed function names");for(t=1;t<a;t++)e[n=arguments[t]]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(a){var r=n.cache,o=""+(t?t.apply(this,arguments):a);return b.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},b.delay=function(e,t){var n=c.call(arguments,2);return setTimeout((function(){return e.apply(null,n)}),t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var a,r,o,i=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:b.now(),i=null,o=e.apply(a,r),i||(a=r=null)};return function(){var c=b.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return a=this,r=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),s=c,o=e.apply(a,r),i||(a=r=null)):i||!1===n.trailing||(i=setTimeout(l,u)),o}},b.debounce=function(e,t,n){var a,r,o,i,s,l=function(){var c=b.now()-i;c<t&&c>=0?a=setTimeout(l,t-c):(a=null,n||(s=e.apply(o,r),a||(o=r=null)))};return function(){o=this,r=arguments,i=b.now();var c=n&&!a;return a||(a=setTimeout(l,t)),c&&(s=e.apply(o,r),o=r=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},b.once=b.partial(b.before,2);var N=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function F(e,t){var n=M.length,a=e.constructor,r=b.isFunction(a)&&a.prototype||i,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)(o=M[n])in e&&e[o]!==r[o]&&!b.contains(t,o)&&t.push(o)}b.keys=function(e){if(!b.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return N&&F(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return N&&F(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,a=Array(n),r=0;r<n;r++)a[r]=e[t[r]];return a},b.mapObject=function(e,t,n){t=y(t,n);for(var a,r=b.keys(e),o=r.length,i={},s=0;s<o;s++)i[a=r[s]]=t(e[a],a,e);return i},b.pairs=function(e){for(var t=b.keys(e),n=t.length,a=Array(n),r=0;r<n;r++)a[r]=[t[r],e[t[r]]];return a},b.invert=function(e){for(var t={},n=b.keys(e),a=0,r=n.length;a<r;a++)t[e[n[a]]]=n[a];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=E(b.allKeys),b.extendOwn=b.assign=E(b.keys),b.findKey=function(e,t,n){t=y(t,n);for(var a,r=b.keys(e),o=0,i=r.length;o<i;o++)if(t(e[a=r[o]],a,e))return a},b.pick=function(e,t,n){var a,r,o={},i=e;if(null==i)return o;b.isFunction(t)?(r=b.allKeys(i),a=v(t,n)):(r=T(arguments,!1,!1,1),a=function(e,t,n){return t in n},i=Object(i));for(var s=0,l=r.length;s<l;s++){var c=r[s],u=i[c];a(u,c,i)&&(o[c]=u)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var a=b.map(T(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(a,t)}}return b.pick(e,t,n)},b.defaults=E(b.allKeys,!0),b.create=function(e,t){var n=w(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),a=n.length;if(null==e)return!a;for(var r=Object(e),o=0;o<a;o++){var i=n[o];if(t[i]!==r[i]||!(i in r))return!1}return!0};var P=function(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var i=e.constructor,s=t.constructor;if(i!==s&&!(b.isFunction(i)&&i instanceof i&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}a=a||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return a[l]===t;if(n.push(e),a.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!P(e[l],t[l],n,a))return!1}else{var c,d=b.keys(e);if(l=d.length,b.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!b.has(t,c)||!P(e[c],t[c],n,a))return!1}return n.pop(),a.pop(),!0};b.isEqual=function(e,t){return P(e,t)},b.isEmpty=function(e){return null==e||(S(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=p||function(e){return"[object Array]"===u.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(e){b["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}})),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&d.call(e,t)},b.noConflict=function(){return n._=r,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=x,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var a=Array(Math.max(0,e));t=v(t,n,1);for(var r=0;r<e;r++)a[r]=t(r);return a},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},A=b.invert(L),R=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",a=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(r,t):e}};b.escape=R(L),b.unescape=R(A),b.result=function(e,t,n){var a=null==e?void 0:e[t];return void 0===a&&(a=n),b.isFunction(a)?a.call(e):a};var U=0;b.uniqueId=function(e){var t=++U+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+$[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var a=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(a,(function(t,n,a,i,s){return o+=e.slice(r,s).replace(B,V),r=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?o+="'+\n((__t=("+a+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var i=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var s=function(e){return i.call(this,e,b)},l=t.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},b.chain=function(e){var t=b(e);return t._chain=!0,t};var H=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),(function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),H(this,n.apply(b,e))}}))},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=o[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}})),b.each(["concat","join","slice"],(function(e){var t=o[e];b.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}})),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},void 0===(a=function(){return b}.apply(t,[]))||(e.exports=a)}).call(this)},1228:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(145),r=n(1405),o=n(6),i=n(1),s=n.n(i),l=n(0),c=n(1072),u=n(1045),d=n(1382),p=n(1376),m=n(1368),h=n(1145),f=n(1120);const g=s()(a.a)`
  text-align: center;
`,b=e=>l.createElement(g,{emphasis:"disabled"},e),v=e=>{const{currentUserId:t,competitionId:n,datasetId:a,userId:i,sortScoreDescending:s,locationType:d}=e,g=new f.a(d),v=((e,t)=>{const n=e=>o.n.bookmarksUI?(e.has("Favorites")?(e.delete("Favorites"),e.set("Bookmarks","bookmarked")):e.has("Their Favorites")&&e.delete("Their Favorites"),e):e;return n(e?e===t?new Map(Object.entries({"Your Work":"profile","Shared With You":"collaboration",Favorites:"upvoted"})):new Map(Object.entries({"Their Public Work":"profile","Shared With Them":"collaboration","Their Favorites":"upvoted"})):new Map(Object.entries({All:"everyone","Your Work":"profile","Shared With You":"collaboration",Favorites:"upvoted"})))})(i,t),y=((e,t)=>t?e&&t!==e?new Map(Object.entries({everyone:"no notebooks to show.",profile:"This user hasn't created any notebooks yet.",collaboration:"No notebooks to show.",upvoted:"No notebooks to show."})):new Map(Object.entries({everyone:"No notebooks to show.",profile:"You haven't created any notebooks yet.",collaboration:"You don't have any notebooks shared with you yet.",upvoted:"You don't have any favorites yet. Upvote notebooks to see them here."})):new Map(Object.entries({everyone:"No notebooks to show.",profile:"You're not currently signed in. Sign in to see your work",collaboration:"You're not currently signed in. Sign in to see notebooks shared with you.",upvoted:"You're not currently signed in. Sign in to see your favorites."})))(i,t),E=((e,t)=>t?new Map(Object.entries({Hotness:"hotness","Most Votes":"voteCount","Most Comments":"commentCount","Recently Created":"dateCreated","Recently Run":"dateRun","Best Score":e?"scoreDescending":"scoreAscending",Relevance:"relevance"})):new Map(Object.entries({Hotness:"hotness","Most Votes":"voteCount","Most Comments":"commentCount","Recently Created":"dateCreated","Recently Run":"dateRun",Relevance:"relevance"})))(s,n),[w,x]=l.useState([]),[C,k]=l.useState([]),S=l.useRef(!0),_=l.useRef(!1),O=l.useRef(Object.assign(Object.assign({},m.a),{tab:[...v.values()][0],sortBy:"everyone"===[...v.values()][0]?"hotness":"dateRun",competitionId:n||null,datasetId:a||null,userId:i||null})),{setBookmarks:T,appendBookmarks:j}=l.useContext(c.a);l.useEffect(()=>{x(w.concat(C))},[C]),l.useEffect(()=>{g.report("notebook-listing-show")},[]),l.useEffect(()=>{const e=Object(m.f)();Object.keys(O.current).map(t=>{e.has(t)&&(O.current[t]=e.get(t))})},[]);const I=e=>{o.q.listKernels(Object(m.d)(e)).then(t=>{t.kernels.length!==m.c?S.current=!1:S.current=!0,_.current=!1,O.current.page=e.page+1,k([...t.kernels]),j(t.kernels.filter(e=>e.currentUserHasBookmarked).map(e=>({bookmarkType:u.a.KERNEL,bookmarkedEntityId:e.id})))})},D=e=>{e.tab&&"everyone"!==e.tab&&(e.sortBy="dateRun"),e.tab&&"everyone"===e.tab&&(e.sortBy="hotness"),Object(m.i)(g,e),Object.assign(O.current,e),S.current=!0,_.current=!0,O.current.page=1,Object(m.g)(O.current,m.a),x([]),T([]),I(O.current)};return l.createElement(r.a,{filterMenu:l.createElement(p.a,{filter:O.current,filterCallback:D,sortByMap:E}),list:l.createElement(h.a,{kernelsList:w,emptyListPlaceholder:b(y.get(O.current.tab)),loadMoreCallback:()=>{!_.current&&S.current&&(_.current=!0,I(O.current))},moreToLoad:S.current,isLoading:_.current,onNotebookDeleted:e=>{x(w.filter(t=>t.id!==e.id))},analyticsLogger:g,filter:O.current}),selectedTab:O.current.tab,tabMap:v,selectedSortBy:O.current.sortBy,sortByMap:E,searchQueryValue:O.current.searchQuery,searchBoxPlaceholder:"upvoted"===O.current.tab?"Search disabled":"Search notebooks",disableSearch:"upvoted"===O.current.tab,filterCallback:D})},y=e=>l.createElement(d.a,null,l.createElement(v,Object.assign({},e)))},1229:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(0),d=n(1007),p=c.a.div.withConfig({displayName:"OverflowX_OverflowXWrapper",componentId:"sc-jgkcy4"})(a||(a=Object(s.__makeTemplateObject)(["\n  box-sizing: border-box;\n  overflow-x: auto;\n  overflow-y: visible;\n  position: relative;\n  width: 100%;\n"],["\n  box-sizing: border-box;\n  overflow-x: auto;\n  overflow-y: visible;\n  position: relative;\n  width: 100%;\n"]))),m=c.a.div.withConfig({displayName:"OverflowX_OverflowXBody",componentId:"sc-1whfcnd"})(r||(r=Object(s.__makeTemplateObject)(["\n  display: flex;\n  margin: 0;\n  overflow-x: auto;\n  overflow-y: visible;\n"],["\n  display: flex;\n  margin: 0;\n  overflow-x: auto;\n  overflow-y: visible;\n"]))),h=c.a.div.withConfig({displayName:"OverflowX_OverflowXScrollIndicatorLeft",componentId:"sc-gd37h9"})(o||(o=Object(s.__makeTemplateObject)(["\n  background: linear-gradient(to right, ",', transparent);\n  bottom: 0;\n  content: "";\n  left: 0;\n  position: absolute;\n  width: 7px;\n  top: 0;\n  z-index: ',";\n"],["\n  background: linear-gradient(to right, ",', transparent);\n  bottom: 0;\n  content: "";\n  left: 0;\n  position: absolute;\n  width: 7px;\n  top: 0;\n  z-index: ',";\n"])),d.b.BoxShadow,d.i.Z100),f=c.a.div.withConfig({displayName:"OverflowX_OverflowXScrollIndicatorRight",componentId:"sc-68tgsq"})(i||(i=Object(s.__makeTemplateObject)(["\n  background: linear-gradient(to left, ",', transparent);\n  bottom: 0;\n  content: "";\n  position: absolute;\n  right: 0;\n  width: 7px;\n  top: 0;\n  z-index: ',";\n"],["\n  background: linear-gradient(to left, ",', transparent);\n  bottom: 0;\n  content: "";\n  position: absolute;\n  right: 0;\n  width: 7px;\n  top: 0;\n  z-index: ',";\n"])),d.b.BoxShadow,d.i.Z100),g=function(t){function n(n){var a=t.call(this,n)||this;return a.bodyRef=u.createRef(),a.onResize=function(){var t=a.bodyRef.current,n=e.findDOMNode(t);if(n){var r=n.clientWidth-1,o=n.clientWidth+1;a.setState({canScrollX:r>n.scrollWidth||o<n.scrollWidth})}},a.state={hasScrolledToBeginning:!0,hasScrolledToEnd:!1},a}return Object(s.__extends)(n,t),n.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize,!1)},n.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResize,!1),window.setTimeout(this.onResize)},n.prototype.onScroll=function(){var t=this.bodyRef.current,n=e.findDOMNode(t),a=n.getBoundingClientRect().width;this.setState({hasScrolledToBeginning:0===n.scrollLeft,hasScrolledToEnd:a+n.scrollLeft===n.scrollWidth})},n.prototype.render=function(){var e=this;return u.createElement(p,{className:this.props.className},u.createElement(m,{ref:this.bodyRef,onScroll:function(){return e.onScroll()}},this.props.children,this.state.canScrollX&&!this.state.hasScrolledToBeginning?u.createElement(h,null):null,this.state.canScrollX&&!this.state.hasScrolledToEnd?u.createElement(f,null):null))},n}(u.Component)}).call(this,n(15))},1230:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(2),r=n(366),o=n(998),i=n(6),s=n(0),l=n(1025),c=n(1549),u=n(1529),d=n(1130);let p=(()=>{class e extends s.Component{constructor(){super(...arguments),this.state=Object.assign(Object.assign({},l.c),{dataLoadingState:{type:"loading"},selection:{}}),this.queue=Object(r.b)(),this.loadData=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{reference:e,isMobile:t}=this.props,{clients:{datasetsClient:n,kernelsClient:a},legacyClients:{analyticsClient:r}}=this.context;try{let o;r.logger.report("datasets","data-explorer-v3-loadData",{reference:e,treeOnLeft:i.n.datasetsDataExplorerV3TreeLeft});const s=Object.assign(Object.assign({},l.c.uxSettings),{treeCollapsed:t||l.c.uxSettings.treeCollapsed});switch(e.type){case"dataset":const t=yield n.getDatabundleExternal({verificationInfo:{databundleVersionId:e.databundleVersionId,competitionId:null,datasetId:e.id,datasetHashLink:e.hashLink?e.hashLink:null}});o=Object(u.a)(t.dataSource.databundleVersion,!0),this.setState({dataLoadingState:{type:"success"},dataSources:[t.dataSource],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:t.dataSource,selectedTableQuery:void 0}});break;case"competition":const r=yield n.getDatabundleExternal({verificationInfo:{databundleVersionId:e.databundleVersionId,competitionId:e.id,datasetId:null,datasetHashLink:null}});o=Object(u.a)(r.dataSource.databundleVersion,!0),this.setState({dataLoadingState:{type:"success"},dataSources:[r.dataSource],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:r.dataSource,selectedTableQuery:void 0}});break;case"notebook":const i=yield a.getKernelRunDataSources({kernelRunId:e.kernelRunId,includeOutputFiles:!0}),l=i.dataSources.length>0?i.dataSources[0]:void 0;o=l?Object(u.a)(l.databundleVersion,!0):l,this.setState({dataLoadingState:{type:"success"},dataSources:i.dataSources,expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:l,selectedTableQuery:void 0}})}o&&this.state.selection&&this.dispatch({type:"select",newItem:o,selectionContainer:Object.assign(Object.assign({},this.state.selection),{select:this.select,setTableQuery:this.setTableQuery}),updateUrl:!1})}catch(e){const t=Object(d.a)("DefaultDataExplorer",e,r);this.setState({dataLoadingState:{type:"error",message:t}})}})),this.dispatch=e=>{this.setState(t=>{const{reference:n,userSettings:a,externalCallbacks:r}=this.props,{dataLoadingState:o,dataSources:i,expanded:s,previewCache:l,itemColumnCache:u,uxSettings:d,selection:p}=t,m=Object(c.a)({dataLoadingState:o,reference:n,dataSources:i,expanded:s,previewCache:l,itemColumnCache:u,uxSettings:d,userSettings:a,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:r},e,this.context);return{dataLoadingState:m.dataLoadingState,dataSources:m.dataSources,expanded:m.expanded,previewCache:m.previewCache,itemColumnCache:m.itemColumnCache,uxSettings:m.uxSettings,userSettings:m.userSettings,selection:p}})},this.dispatchAsync=e=>{const{reference:t,userSettings:n,externalCallbacks:a}=this.props,{dataLoadingState:r,dataSources:o,expanded:i,previewCache:s,itemColumnCache:l,uxSettings:u}=this.state;"showMessage"===e.type&&this.queue.notify({title:e.message}),Object(c.b)({dataLoadingState:r,reference:t,dataSources:o,expanded:i,previewCache:s,itemColumnCache:l,uxSettings:u,userSettings:n,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:a},e,this.context)},this.select=(e,t)=>{this.setState({selection:{selectedObject:t,selectedSource:e,selectedTableQuery:void 0}})},this.setTableQuery=e=>{this.setState(t=>Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{selectedTableQuery:e})}))}}componentDidMount(){this.loadData()}componentDidUpdate(e){e.reference.type===this.props.reference.type&&e.reference.id===this.props.reference.id&&e.isMobile===this.props.isMobile||(this.setState(Object.assign(Object.assign({},l.c),{dataLoadingState:{type:"loading"},selection:{}})),this.loadData())}render(){const{reference:e,userSettings:t,children:n,externalCallbacks:a}=this.props,{dataLoadingState:r,dataSources:i,expanded:c,previewCache:u,itemColumnCache:d,uxSettings:p,selection:m}=this.state;return s.createElement(l.a.Provider,{value:{dataLoadingState:r,reference:e,dataSources:i,expanded:c,previewCache:u,itemColumnCache:d,uxSettings:p,userSettings:t,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:a}},s.createElement(o.a,{messages:this.queue.messages}),s.createElement(l.b.Provider,{value:Object.assign(Object.assign({},m),{select:this.select,setTableQuery:this.setTableQuery})},n))}}return e.contextType=i.b,e})()},1232:function(e,t,n){"use strict";var a=n(1129),r=n(108),o=n(145),i=n(88),s=n(1146),l=n(1),c=n.n(l),u=n(1366),d=n(0),p=n(123),m=n(874),h=n(886),f=n(887),g=n(888),b=n(249),v=n(3),y=n(884),E=n(260),w=n(1002);const x={light:{border:v.d,noResults:v.h,itemIcon:v.l},dark:{border:v.i,noResults:v.e,itemIcon:v.b}},C=c()(y.a)`
  width: 516px;
`,k=c.a.div`
  & .mdc-drawer {
    z-index: 1000;
  }
  & .mdc-drawer .mdc-list-item {
    border-radius: 0;
    font-family: inherit;
    height: 48px;
    line-height: 24px;
    margin: 0;
    padding: 0 16px;
  }
`,S=c.a.div`
  display: flex;
  flex-direction: column;
  height: 100%;
`,_=c.a.div`
  height: 48px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid ${e=>x[e.theme.name].border};
  padding-bottom: 4px;
`,O=c.a.div`
  align-items: center;
  display: flex;

  & :last-child {
    margin-left: 4px;
    &:only-child {
      margin-left: 16px;
    }
  }
`,T=c.a.div`
  position: relative;
`,j=c.a.div`
  border-right: 1px solid ${e=>x[e.theme.name].border};
  box-sizing: border-box;
  width: 50%;
`,I=c.a.div`
  border-bottom: 1px solid ${e=>x[e.theme.name].border};
  box-sizing: border-box;
  height: 56px;
  padding-top: 4px;
`,D=c()(w.a)`
  input,
  input:focus {
    border: none;
    border-radius: 0;
    padding-left: 48px;
  }

  i {
    left: 16px;
  }
  div {
    border-style: none;
    cursor: pointer;
  }
`,N=c.a.div`
  /* Body expands to the height of the left column.
   * RightColumn scrolls if it is taller.
   */
  bottom: 0;
  overflow-y: auto;
  position: absolute;
  right: 0;
  top: 0;
  width: 50%;
`,M=c.a.div`
  padding: 16px;
`,F=c()(o.b)`
  color: ${e=>x[e.theme.name].noResults};
  font-style: italic;
  padding: 16px;
`,P=c.a.div`
  display: flex;
  align-items: flex-start;
  border-top: 1px solid ${e=>x[e.theme.name].border};
  padding: 12px 16px 4px 16px;

  ${i.j} {
    padding-bottom: 12px;
  }
`,L=c.a.div`
  flex: 1;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  text-transform: capitalize;
`,A=c()(E.a)`
  text-transform: capitalize;

  & i {
    color: ${e=>x[e.theme.name].itemIcon};
  }
`,R=c.a.div`
  padding: 4px 0;
`,U=c.a.div`
  flex-grow: 1;
  overflow-y: auto;
`,z=c.a.div`
  height: 100%;
  overflow-x: hidden;
  position: relative;
  width: 100%;
`,$=c.a.div`
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  transition: transform 0.2s;

  &.slide-none {
    transform: translateX(0%);
  }

  &.slide-left {
    transform: translateX(-100%);
  }

  &.slide-right {
    transform: translateX(100%);
  }
`,B=e=>d.useMemo(()=>new Set(e.map(e=>e.id)),[e]),V=(e,t)=>null!==t&&t<e.length?e[t]:null,H=e=>{const{category:t,index:n,isSelected:a,onClick:r}=e;return d.createElement(A,{onClick:e=>(e=>{e.stopPropagation(),r(n)})(e),trailingIcon:"keyboard_arrow_right",selected:a,activated:a},t.name)},W=e=>{const{items:t,selectedIdsSet:n,selectItem:a,unselectItem:r}=e;return d.createElement(d.Fragment,null,t.map(e=>{const t=n.has(e.id),o=t?r:a;return d.createElement(A,{key:e.id,selected:t,onClick:t=>{o(e),null==t||t.stopPropagation()}},e.name)}))},q=e=>{const{children:t,className:n,hoistToBody:a,isOpen:r,onClose:o}=e;return Object(u.a)(i.j)?d.createElement(k,{className:n},d.createElement(f.a,{open:r,wide:!0,right:!0},d.createElement(g.a,null,d.createElement(S,null,t)))):d.createElement(C,{open:r,className:n,hoistToBody:a,onClose:o},t)},K=e=>{const{heading:t,category:n,onXClick:a,onBackClick:r}=e;let s=t,l=!1;return Object(u.a)(i.j)&&n&&(s=n.name,l=!!r),d.createElement(_,null,d.createElement(O,null,l&&d.createElement(b.a,{onClick:r,icon:"arrow_back"}),d.createElement(o.p,null,s)),d.createElement(b.a,{onClick:a,icon:"close"}))},G=e=>{const{categories:t,selectedItems:n,selectedCategoryIdx:a,placeholder:r,searchPlaceholder:l,getSearchResults:c,onSelect:m,onUnselect:h,onCategoryClick:f}=e,[g,v]=d.useState(""),[y,E]=d.useState({loadState:"init"}),w=B(n);d.useEffect(()=>{if(c)return g?Object(s.a)(()=>c(g),e=>{e.length?E({loadState:"results",results:e}):E({loadState:"no-results",query:g})}):void E({loadState:"init"})},[c,g]);const x=d.useCallback(()=>{v(""),E({loadState:"init"})},[]),C=Object(u.a)(i.j),k=V(t,a),S=d.useRef(null);d.useEffect(()=>{S.current&&(S.current.scrollTop=0)},[k]);const _=Object(p.a)(200,v);let O=null;g&&(O=d.createElement(b.a,{icon:"close",onClick:x,className:"searchClose",style:{right:"-16px",top:"-12px"}}));const P={};C||(P.minHeight=`${48*t.length}px`);const L=d.createElement(d.Fragment,null,c&&d.createElement(I,null,d.createElement(D,{placeholder:l,value:g,onChange:e=>_(e.target.value),actionItem:O})),d.createElement(R,{style:P},g&&"init"!==y.loadState?"results"===y.loadState?d.createElement(W,{items:y.results,selectedIdsSet:w,selectItem:m,unselectItem:h}):d.createElement(F,null,'No results for "',y.query,'"'):t.map((e,t)=>d.createElement(H,{key:`${t}-${e}`,category:e,index:t,isSelected:t===a,onClick:f})))),A=d.createElement(d.Fragment,null,!g&&(null===k?d.createElement(M,null,d.createElement(o.e,null,r)):d.createElement(W,{items:k.items,selectedIdsSet:w,selectItem:m,unselectItem:h})));return C?d.createElement(U,null,d.createElement(z,null,d.createElement($,{className:null===a?"slide-none":"slide-left"},L),d.createElement($,{className:null===a?"slide-right":"slide-none"},A))):d.createElement(T,null,d.createElement(j,null,L),d.createElement(N,{ref:S},A))},Y=e=>{const{selectedItems:t,canApply:n,onApply:a,onUnselect:r}=e;return d.createElement(P,null,d.createElement(L,null,t.map(e=>{const t=r?()=>{r(e)}:void 0;return d.createElement(h.a,{key:e.id,selected:!0,onRemove:t},e.name)})),d.createElement(m.a,{emphasis:"low",onClick:a,disabled:!n},"Apply"))},Z=d.memo(e=>{const{categories:t,className:n,heading:r,hoistToBody:o,isOpen:i,placeholder:s,searchPlaceholder:l,selectedItems:c,canApply:u,getMessage:p,getSearchResults:m,onApply:h,onChange:f,onClose:g}=e,[b,v]=d.useState([]),[y,E]=d.useState(null);d.useEffect(()=>{i&&E(null)},[i]);const w=d.useRef(new Set([]));d.useEffect(()=>{const e=w.current,t=new Set(c.map(e=>e.id));Object(a.b)(e,t).size>0&&(v(c?c.slice():[]),w.current=t)},[c]);const x=B(b),C=d.useCallback(e=>{if(!x.has(e.id)){const t=[...b,e];v(t),f&&f(t,e,null)}},[b,x,f]),k=d.useCallback(e=>{if(x.has(e.id)){const t=b.filter(t=>t.id!==e.id);v(t),f&&f(t,null,e)}},[b,x,f]),S=d.useCallback(()=>{h(b)},[h,b]),_=d.useCallback(()=>{v(c?c.slice():[]),g()},[g,b]),O=d.useCallback(()=>{E(null)},[]),T=p&&p(b),j=V(t,y);return d.createElement(q,{isOpen:i,className:n,hoistToBody:o,onClose:_},d.createElement(K,{heading:r,category:j,onXClick:_,onBackClick:O}),d.createElement(G,{categories:t,selectedItems:b,selectedCategoryIdx:y,placeholder:s,searchPlaceholder:l,getSearchResults:m,onSelect:C,onUnselect:k,onCategoryClick:E}),d.createElement(Y,{selectedItems:b,canApply:!u||u(b),onApply:S,onUnselect:k}),T)});var Q=n(6),X=n(122),J=n(1065);n.d(t,"a",(function(){return le}));const ee=c.a.div`
  align-items: center;
  display: flex;
  padding: 4px 16px;
`,te=c()(r.a)`
  color: #e37400 !important;
  margin-right: 8px;
`,ne=e=>[e.tag,...Object(J.b)(e.children,ne)],ae=(e,t)=>{const n=e.displayName.toLowerCase(),a=t.displayName.toLowerCase();return n<a?-1:n>a?1:0},re=()=>Q.x.tagService.getTagHierarchy({}).then(e=>(e=>e.map(e=>{const t=Object(J.b)(e.children,ne);t.sort(ae);const n=t.map(ie);return{id:e.tag.id,name:e.tag.displayName,items:n}}))(e.roots)),oe=e=>({id:e.id,name:e.displayName,tag:e}),ie=e=>oe(e),se=e=>{const{maxTags:t,minTags:n,numTags:a}=e;let r;if(a>t){const e=a-t;r=`You can only apply up to\n    ${t} ${X("tag",t)}.\n    Please remove ${e} ${X("tag",e)}\n    before applying.`}else a<n&&(r=`At least ${n} ${X("tag",n)} \n    ${1===n?"is":"are"} required.`);return void 0===r?null:d.createElement(ee,null,d.createElement(te,{icon:"error_outline"}),d.createElement(o.b,null,r))},le=e=>{const{isOpen:t,hoistToBody:n,className:r,selectedTags:o,tagType:i,taggedItem:s,categoryOrder:l,placeholder:c="",maxTags:u=1/0,minTags:p=0,heading:m="Edit Tags",onApply:h,onClose:f}=e,[g,b]=d.useState({loadState:"init"});d.useEffect(()=>{t&&"init"===g.loadState&&(b({loadState:"loading"}),re().then(e=>{b({loadState:"loaded",categories:e})}))},[t,g]);const v=d.useMemo(()=>o.map(oe),[o]),y=d.useCallback(e=>{const t=e.map(e=>e.id),n=v.map(e=>e.id),r=Object(a.b)(new Set(t),new Set(n)).size;Q.r.report(i,"tags-menu-apply",Object.assign(Object.assign({},s),{changed:r,initialNum:n.length,finalNum:t.length})),h(e.map(e=>e.tag))},[h,i,s]),E=d.useCallback(e=>((e,t,n)=>(Q.r.report(t,"tags-menu-search",Object.assign({query:e},n)),Q.x.searchTags({searchType:"searchResult",searchQuery:e,showSystemTags:!1,skip:0,take:5}).then(e=>e.tags.map(oe))))(e,i,s),[i,s]);d.useEffect(()=>{t&&Q.r.report(i,"tags-menu-open",s)},[t,i,s]);const w=d.useMemo(()=>"loaded"!==g.loadState?[]:l?((e,t)=>{const n=e.slice();return n.sort((e,n)=>{const a=t.indexOf(e.id),r=t.indexOf(n.id);return a===r?0:-1===a&&-1!==r?1:-1!==a&&-1===r?-1:a<r?-1:1}),n})(g.categories,l):g.categories,[g,l]),x=d.useCallback(e=>d.createElement(se,{numTags:e.length,maxTags:u,minTags:p}),[u,p]),C=d.useCallback(e=>(void 0===u||e.length<=u)&&(void 0===p||e.length>=p),[u,p]);return d.createElement(Z,{categories:w,className:r,heading:m,isOpen:t&&"loaded"===g.loadState,placeholder:c,searchPlaceholder:"Search Tags",selectedItems:v,hoistToBody:n,onApply:y,onClose:f,getSearchResults:E,getMessage:x,canApply:C})}},1233:function(e,t,n){"use strict";function a(e){var t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}function r(e,t,n){return void 0===n&&(n=!0),""+e+(t&&n?" "+e+"--"+t:t?"--"+t:"")}n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}))},1237:function(e,t,n){"use strict";var a=n(369),r=n(1136),o=n(128),i=n(145),s=n(1002),l=n(886),c=n(874),u=n(108),d=n(1367),p=n(249),m=n(1371),h=n(1569),f=n(6),g=n(1),b=n.n(g),v=n(1366),y=n(0),E=n(15),w=n(123),x=n(1445),C=n(1631),k=n(1072),S=n(1045),_=n(1382),O=n(1376),T=n(1368),j=n(1568),I=n(348),D=n(353),N=n(1565),M=n(1551),F=n(1563),P=n(1446),L=n(1566),A=n(1567),R=n(1430),U=n(1377),z=n(1003),$=n(891),B=n(1349);const V=b.a.div`
  align-items: center;
  display: flex;
`,H=b.a.img`
  height: 16px;
  width: auto;
  margin-right: 20px;

  img {
    height: 30px;
  }
`,W=b.a.div`
  align-items: flex-start;
  display: flex;
  justify-content: space-between;
  & > .mdc-menu-surface--anchor {
    margin: -8px -16px 0 0;
  }
`,q=e=>{var t,n,a,r,o,i;const{notebook:s,analyticsLogger:l,shelfLabel:c,shelfPosition:u,shelfExpanded:d}=e,p=(e=>{var t,n;const a=null===(t=e.outputFiles)||void 0===t?void 0:t.find(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.match(/\.(png|jpg|jpeg)/i)});if(a)return a.downloadUrl;const r=null===(n=e.dataSources[0])||void 0===n?void 0:n.thumbnailUrl;return r||`/static/images/kernel/landing_default_${1+s.id%6}.png`})(s);return y.createElement(N.a,{height:"320px",title:null!==(t=s.title)&&void 0!==t?t:""},y.createElement(M.a,{href:s.scriptUrl||"#",style:{flexGrow:1},onClick:()=>Object(f.u)("kernels","clicked-notebook-card",{kernelId:s.id,shelfLabel:c,shelfPosition:u,shelfExpanded:d})},p?y.createElement(F.a,{src:p,$imageSize:"small",alt:`Thumbnail for notebook titled ${s.title}`}):y.createElement(F.b,{$imageSize:"small"}),y.createElement(P.a,null,y.createElement(W,null,y.createElement(L.a,{style:{maxHeight:"3em",overflow:"hidden"}},s.title),f.n.bookmarksUI&&y.createElement(B.a,{notebook:s,analyticsLogger:l,icon:"more_vert"})),y.createElement("div",null,y.createElement(A.a,null,"Updated ",y.createElement($.a,{time:s.lastRunTime}))),y.createElement("div",null,y.createElement(A.a,null,null===(n=s.dataSources[0])||void 0===n?void 0:n.name,s.dataSources.length>1&&`+${s.dataSources.length-1}`)))),y.createElement(R.a,null,y.createElement(U.a,{totalVotes:s.totalVotes,userVote:s.currentUserHasVotedForThisScript?"up":"none",onUpvote:e=>e?(Object(f.u)("kernels","card-upvoted-notebook",{kernelId:s.id,shelfLabel:c,shelfPosition:u,shelfExpanded:d}),f.q.createKernelUpvote({kernelId:s.id})):(Object(f.u)("kernels","card-removed-upvote-notebook",{kernelId:s.id,shelfLabel:c,shelfPosition:u,shelfExpanded:d}),f.q.deleteKernelUpvote({kernelId:s.id})),dense:!0,upOnly:!0}),y.createElement(V,null,s.medal&&y.createElement(H,{alt:`${s.medal} medal`,src:`/static/images/medals/notebooks/${s.medal}s@1x.png`.toLowerCase(),title:`${s.medal} medal`}),y.createElement(z.a,{thumbnailUrl:(null===(a=s.author)||void 0===a?void 0:a.thumbnailUrl)||"",profileUrl:(null===(r=s.author)||void 0===r?void 0:r.profileUrl)||"",displayName:(null===(o=s.author)||void 0===o?void 0:o.displayName)||"Anonymous",size:"medium",tier:null===(i=s.author)||void 0===i?void 0:i.performanceTier}))))};var K=n(1354);const G=b.a.div`
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(228px, 1fr));
  grid-gap: 24px;
`,Y=e=>{const{kernelsList:t,isLoading:n,onNotebookDeleted:a,analyticsLogger:r,displayMode:o,emptyState:i,shelfLabel:s}=e;return n||0!==t.length?y.createElement(y.Fragment,null,"card"===o?y.createElement(G,null,n?[...Array(20).keys()].map(e=>y.createElement(j.b,{key:e})):t.map((e,t)=>y.createElement(q,{notebook:e,key:e.id,analyticsLogger:r,shelfPosition:t,shelfLabel:s,shelfExpanded:!0}))):y.createElement(I.a,{variant:"three-line",divider:!0},n?[...Array(20).keys()].map(e=>y.createElement(D.a,{key:e})):t.map((e,t)=>y.createElement(K.a,{notebook:e,key:e.id,onNotebookDeleted:a,analyticsLogger:r,shelfPosition:t,shelfLabel:s,shelfExpanded:!0})))):i};var Z=n(1120),Q=n(88),X=n(1151),J=n(1369);const ee=b()(X.a)`
  margin-top: ${Q.m}px;

  ${Q.j} {
    margin-top: 0px;
  }
`,te=e=>{const t=y.createElement("div",{style:{display:"flex"}},y.createElement(c.a,{leadingIcon:"add",onClick:e.onNewNotebookClick},"New Notebook"),e.profileUrl&&y.createElement(c.a,{emphasis:"medium",href:`${e.profileUrl}/code?scroll=true`,style:{marginLeft:"8px"}},"Your work"));return y.createElement(ee,{title:"Code",condensed:!e.isExpanded,subtitle:y.createElement(y.Fragment,null,"Explore and run machine learning code with Kaggle Notebooks. Find help in the ",y.createElement(i.v,{href:"/docs/notebooks"},"Documentation"),"."),meta:y.createElement(J.a,{src:"/static/images/kernel/Code_landing_illo.png",alt:"A sketch of a user writing in a notebook",width:"280",height:"208"}),wrap:e.isExpanded?"hide":"wrap",actions:t})};var ne=n(1348),ae=n(1564);const re=b()(ne.a)`
  height: 320px;
  width: 100%;
  display: flex;
  flex-direction: column;
  margin-right: 32px;
  box-sizing: border-box;
`,oe=b()(M.a)`
  height: 320px;
  width: 100%;
  display: flex;
  flex-direction: column;
`,ie=b()(F.a)`
  object-fit: contain;
`,se=b()(P.a)`
  flex: 1 1 auto;
  overflow: hidden;
`,le=b.a.div`
  height: 348px;
  width: 100%;
  display: flex;
  flex-direction: column;
  margin-right: 32px;
`,ce=({data:e,onExpand:t,analyticsLogger:n})=>y.createElement(ae.a,{icon:"Trending"===(null==e?void 0:e.label)?"insights":"sell",title:(null==e?void 0:e.label)||"Items",onExpand:t,cardHeight:320,cardsPerRow:4,expandButtonText:`See all (${null==e?void 0:e.totalKernels.toLocaleString()})`},e.kernels.slice(0,4).map((t,a)=>y.createElement(q,{key:t.id,notebook:t,analyticsLogger:n,shelfLabel:(null==e?void 0:e.label)||"Items",shelfPosition:a,shelfExpanded:!1}))),ue=()=>y.createElement(ae.a,{isLoading:!0,icon:"sell",title:"Loading",onExpand:()=>null,expandButtonText:"",cardHeight:320},y.createElement(j.b,null),y.createElement(j.b,null),y.createElement(j.b,null),y.createElement(j.b,null)),de=()=>y.createElement(ae.a,{icon:"school",title:"Learn Courses",expandButtonText:"See all (16)",cardHeight:320,onExpand:()=>{Object(f.u)("kernels","expanded-shelf",{label:"Learn Courses"})},expandHref:"/courses"},y.createElement(le,{role:"listitem"},y.createElement(i.o,{as:"h3"},"Take a course with Kaggle Notebooks"),y.createElement("br",null),y.createElement(i.a,null,"Gain the skills you need to do independent data science projects."),y.createElement("br",null),y.createElement(i.a,null,"We pare down complex topics to their key practical components, so you gain usable skills in a few hours (instead of weeks or months)."),y.createElement("br",null),y.createElement("div",null,y.createElement(i.v,{href:"/learn/overview"},"Learn more"))),y.createElement(re,null,y.createElement(oe,{href:"learn/data-visualization",onClick:()=>Object(f.u)("kernels","clicked-learn-card",{path:"learn/data-visualization"})},y.createElement(ie,{$imageSize:"small",src:"/static/images/kernel/landing_data_visualization-2x.png",alt:"Data Visualization course logo"}),y.createElement(se,null,y.createElement(L.a,null,"Data Visualization"),y.createElement("div",null,y.createElement(A.a,null,"Make great data visualizations. A great way to see the power of coding!")),y.createElement("div",null,y.createElement(A.a,null,"Estimated time: 4 hours"))),y.createElement(R.a,null,y.createElement(i.s,null,"Join 8K monthly users")))),y.createElement(re,{role:"listitem"},y.createElement(oe,{href:"learn/intro-to-machine-learning",onClick:()=>Object(f.u)("kernels","clicked-learn-card",{path:"learn/intro-to-machine-learning"})},y.createElement(ie,{$imageSize:"small",src:"/static/images/kernel/intro_to_ml-2x.png",alt:"Intro To Machine Learning course logo"}),y.createElement(se,null,y.createElement(L.a,null,"Intro to Machine Learning"),y.createElement("div",null,y.createElement(A.a,null,"Learn the core ideas in machine learning, and build your first models.")),y.createElement("div",null,y.createElement(A.a,null,"Estimated time: 3 hours"))),y.createElement(R.a,null,y.createElement(i.s,null,"Join 20K monthly users")))),y.createElement(re,{role:"listitem"},y.createElement(oe,{href:"learn/python",onClick:()=>Object(f.u)("kernels","clicked-learn-card",{path:"learn/python"})},y.createElement(ie,{$imageSize:"small",src:"/static/images/kernel/landing_python-2x.png",alt:"Python course logo"}),y.createElement(se,null,y.createElement(L.a,null,"Python"),y.createElement("div",null,y.createElement(A.a,null,"Learn the most important language for data science.")),y.createElement("div",null,y.createElement(A.a,null,"Estimated time: 7 hours"))),y.createElement(R.a,null,y.createElement(i.s,null,"Join 23K monthly users")))));n.d(t,"a",(function(){return we}));const pe=b.a.div`
  ${x.b}
  ${x.a}
`,me=b.a.div`
  display: flex;
  flex-wrap: wrap;
  margin-top: 24px;

  @media ${g.BreakpointDown.PHONE} {
    flex-wrap: nowrap;
    max-width: 100%;
    overflow-x: auto;
    margin: 16px -24px 0px -24px;
    padding: 0px 24px;
  }
`,he=b()(O.b)`
  margin-bottom: 8px;
`,fe=b.a.div`
  display: flex;
  flex-direction: column;
`,ge=b.a.div`
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 40px 8px;
  max-height: 24px;
`,be=b()(i.o).attrs({as:"h2"})`
  flex-grow: 1;
  margin-left: 20px;

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,ve=new Map(Object.entries({Hotness:"hotness","Most Votes":"voteCount","Most Comments":"commentCount","Recently Created":"dateCreated","Recently Run":"dateRun",Relevance:"relevance"})),ye=new Z.a("notebooks-landing-page"),Ee=e=>{const[t,n]=y.useState(!1),[o,b]=y.useState(""),[x,_]=y.useState([]),[j,I]=y.useState("list"),[D,N]=y.useState(""),M=[...ve.keys()][0],[F,P]=y.useState(M),L=y.useRef(Object(w.a)(250,e=>ie(e)));y.useEffect(()=>{if(!D&&!ke)return;const e={sortBy:ve.get(F),tab:"everyone",searchQuery:D};L.current(e)},[F,D]);const[A,R]=y.useState([]),{appendBookmarks:U,setBookmarks:z}=y.useContext(k.a),[$,B]=y.useState(null),[V,H]=y.useState(4e5);y.useEffect(()=>{X(!0),f.q.getKernelLandingPage({}).then(e=>{H(e.totalPublicKernels),B(e.shelves),X(!1)})},[]);const W=y.useRef(Object.assign({},T.a));y.useEffect(()=>{const e=()=>{const e=Object(T.f)();let t=!1;Object.keys(W.current).map(n=>{e.has(n)?(W.current[n]=e.get(n),t=!0):W.current[n]=T.a[n]}),t?oe():(R([]),z([]),ae(null))};e();const t=()=>e();return Object(a.c)(t),()=>Object(a.e)(t)},[]);const q=y.useRef(!0),K=y.useRef(!1),[G,Z]=y.useState(!0),[Q,X]=y.useState(!0);y.useEffect(()=>{G&&xe()},[G]);const[J,ee]=y.useState();y.useEffect(()=>{Object(f.p)().then(e=>ee(e))},[]);const[ne,ae]=y.useState(null),re=y.useRef(0),oe=()=>{Z(!0),ae(null);const e=++re.current;Object(T.h)(W.current).then(({kernels:t,lookaheadCount:n})=>{e===re.current&&(K.current=!1,q.current=n>0&&n%100==0,R([...t.kernels]),U(t.kernels.filter(e=>e.currentUserHasBookmarked).map(e=>({bookmarkType:S.a.KERNEL,bookmarkedEntityId:e.id}))),ae(n),Z(!1))},()=>{K.current=!0,Z(!1)}),W.current.tagIds.length>0&&f.x.getTagsById({tagIds:W.current.tagIds}).then(e=>{_(e.tags)})},ie=e=>{Object(E.unstable_batchedUpdates)(()=>{Object(T.i)(ye,e),Object.assign(W.current,e),W.current.page=1,b(""),Object(T.g)(W.current,T.a,!0),R([]),z([]),oe()})},se=e=>{W.current.page=e,Object(T.g)(W.current,T.a,!0),oe()},le=null!==ne?ne===T.b?9:Math.ceil(ne/T.c):W.current.page,Ee=e=>{"Trending"===e.label&&n(!0),e.moreKernelsRequest&&(W.current=Object(T.e)(e.moreKernelsRequest),N(W.current.searchQuery)),b(e.label||""),oe()},we=Object(v.a)(g.BreakpointDown.PHONE),Ce=Object(O.c)(W.current),ke=D||t||Object(O.c)(W.current),Se=[{label:"Python",type:"language",value:"Python"},{label:"R",type:"language",value:"R"},{label:"Beginner",type:"tagIds",value:13102},{label:"NLP",type:"tagIds",value:13204},{label:"Finance",type:"tagIds",value:11108},{label:"Random Forest",type:"tagIds",value:13402},{label:"GPU",type:"tagIds",value:16580},{label:"TPU",type:"tagIds",value:16574},{label:"Competition notebook",type:"types",value:"competitions"}];return y.createElement(y.Fragment,null,y.createElement(C.a,{contentHeader:y.createElement(te,{isExpanded:!ke,profileUrl:null==J?void 0:J.profileUrl,onNewNotebookClick:()=>{Object(f.u)("kernels","new-notebook-clicked"),e.onNewNotebookClick()}})},y.createElement("div",null,y.createElement(s.a,{value:D,onChange:e=>{N(e.target.value)},placeholder:"Search public notebooks",actionItem:y.createElement(O.a,{filter:W.current,filterCallback:ie,sortByMap:ve})})),y.createElement("div",{style:{marginTop:we?"8px":"20px"}},y.createElement(me,null,t&&y.createElement(l.a,{style:{marginBottom:"8px"},selected:!0,onRemove:()=>{n(!1)}},"All notebooks"),Se.filter(e=>!Ce||((e,t)=>{if(!W.current)return!1;const n=W.current[e];return n===t||Array.isArray(n)&&n.includes(t)})(e.type,e.value)).map(e=>y.createElement(he,{filter:W.current,filterCallback:ie,filterType:e.type,filterValue:e.value,showRemoveButton:!0,key:e.label},e.label)),W.current.tagIds.filter(e=>!Se.some(t=>t.value===e)).map(e=>{var t;const n=null===(t=x.find(t=>t.id===e))||void 0===t?void 0:t.displayName;if(n)return y.createElement(he,{filter:W.current,filterCallback:ie,filterType:"tagIds",filterValue:e,showRemoveButton:!0,key:e},n)})))),y.createElement(pe,null,Q&&!ke&&y.createElement(y.Fragment,null,y.createElement(ue,null),y.createElement(ue,null),y.createElement(ue,null),y.createElement(ue,null)),!Q&&!ke&&$&&y.createElement(y.Fragment,null,$.slice(0,2).map(e=>y.createElement(ce,{key:e.label||"",data:e,onExpand:()=>Ee(e),analyticsLogger:ye})),y.createElement(de,null),$.slice(2).map(e=>y.createElement(ce,{key:e.label||"",data:e,onExpand:()=>Ee(e),analyticsLogger:ye})),y.createElement("div",{style:{textAlign:"center",margin:"88px 0"}},y.createElement(i.l,{style:{marginBottom:"32px"}},"Didn't find what you were looking for?"),y.createElement(c.a,{onClick:()=>{n(!0),se(1)}},"Explore all ",V.toLocaleString()," public notebooks"))),ke&&y.createElement(y.Fragment,null,y.createElement(fe,null,y.createElement(ge,null,y.createElement(u.a,{icon:"list",size:"medium"}),y.createElement(be,null,o||"Results",null!==ne&&` (${ne+(q.current?"+":"")})`),!we&&y.createElement("div",null,y.createElement(d.a,{options:[...ve.keys()],onSelect:e=>P(e),value:W.current.sortBy?Object(r.a)(ve,W.current.sortBy):F})),y.createElement(p.a,{icon:"view_list",size:"medium",style:{cursor:"pointer",marginLeft:24},onClick:()=>I("list")}),y.createElement(p.a,{icon:"calendar_view_month",size:"medium",style:{cursor:"pointer"},onClick:()=>I("card")})),K.current?y.createElement("div",{style:{display:"flex",justifyContent:"center"}},y.createElement(m.a,{title:"Oh no! Loading items failed.",graphic:y.createElement("img",{src:"/static/images/error/goose-exclamation-illo.png",width:"136",height:"136",alt:"Oh no! Loading items failed."}),information:y.createElement(y.Fragment,null,"We are experiencing some issues. Please try again, if the issue is persistent please"," ",y.createElement(i.v,{href:"/contact"},"contact us"),"."),action:{buttonText:"Try again",onAction:()=>{K.current=!1,oe()}}})):y.createElement(y.Fragment,null,y.createElement(Y,{kernelsList:A,emptyState:y.createElement("div",{style:{display:"flex",justifyContent:"center"}},y.createElement(m.a,{title:"No results found",graphic:y.createElement("img",{src:"/static/images/error/no-results-illo.png",width:"136",height:"136",alt:"No results found"}),information:y.createElement(y.Fragment,null,"To see more results, try reducing the number of filters."),action:{buttonText:"Reset filters",onAction:()=>{W.current=Object.assign({},T.a),N("")}}})),isLoading:G,onNotebookDeleted:()=>null,analyticsLogger:ye,displayMode:j,shelfLabel:o||"Results"}),le>0&&y.createElement(h.a,{currentPage:W.current.page,onPageChanged:se,maxPages:le,countPagesShown:9}))))))},we=e=>y.createElement(_.a,null,y.createElement(Ee,Object.assign({},e))),xe=()=>{Object(o.k)(0,Object(o.d)(),{smooth:!0})}},1241:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(147),o=function(e){function t(t){var n=e.call(this,t.message)||this;return r(t,"error object required in SourceError ctor"),r(t.message,"error message required in SourceError ctor"),n.name=t.name||"ServerError",n.stack=t.stack,n.source=t.source,n.messaging=t.messaging,n}return Object(a.__extends)(t,e),t}(Error)},1242:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t,n,r,o,i,s,l;if(!e)return 0;switch(e.type){case"dataSource":return a(e.databundleVersion);case"databundle":return(null===(t=e.databundleInfo.versions)||void 0===t?void 0:t.totalChildren)||0;case"databundleVersion":const c=e;return((null===(n=c.filesetInfo)||void 0===n?void 0:n.directories.totalChildren)||0)+((null===(r=c.filesetInfo)||void 0===r?void 0:r.files.totalChildren)||0)+((null===(o=c.bigquerySnapshotInfo)||void 0===o?void 0:o.bigqueryTables.totalChildren)||0);case"directory":const u=e;return(u.directoryInfo.directories.totalChildren||0)+(u.directoryInfo.files.totalChildren||0);case"file":const d=e;return((null===(i=d.tableInfo)||void 0===i?void 0:i.tableColumns.totalChildren)||0)+((null===(s=d.sqliteInfo)||void 0===s?void 0:s.tables.totalChildren)||0)+((null===(l=d.excelInfo)||void 0===l?void 0:l.tables.totalChildren)||0);case"table":return e.tableInfo.tableColumns.totalChildren||0}return 0}},1243:function(e,t,n){},1244:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=n(6);const o=(t,n)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const a=new FormData;return a.append("scriptVersionId",String(t)),a.append("fileName",n),yield e("/competitions/kernels/submit",{method:"POST",headers:new Headers({"X-XSRF-TOKEN":Object(r.o)()}),body:a})}))}).call(this,n(56))},1245:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(122),o=n(0),i=n(1095),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formattedNumber=function(e){return Object(i.b)(e)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.count?this.props.count:0;return this.props.hideCount?o.createElement("span",null,r(this.props.word,e,!1)):this.props.formatNumber?o.createElement("span",null,Object(i.b)(e)+" "+r(this.props.word,e)):o.createElement("span",null,r(this.props.word,e,!0))},t}(o.Component)},1246:function(e,t,n){var a;a=t,function(){function e(e){return e}function t(e){return!1}function n(){}function r(){}n.prototype={chain:function(t,n){var a=this[t];if(!a)throw new Error("unknown hook "+t);this[t]=a===e?n:function(e){var t=Array.prototype.slice.call(arguments,0);return t[0]=a.apply(null,t),n.apply(null,t)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},a.HookCollection=n,r.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},a.Converter=function(){var e,t,a,o,i=this.hooks=new n;function s(e){return e=(e=(e=(e=(e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,l)).replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,l)).replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,l)).replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,l)).replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,l)}function l(e,t){var n=t;return n=(n=n.replace(/^\n+/,"")).replace(/\n+$/g,""),n="\n\n~K"+(a.push(n)-1)+"K\n\n"}i.addNoop("plainLinkText"),i.addNoop("preConversion"),i.addNoop("postNormalization"),i.addNoop("preBlockGamut"),i.addNoop("postBlockGamut"),i.addNoop("preSpanGamut"),i.addNoop("postSpanGamut"),i.addNoop("postConversion"),this.makeHtml=function(n){if(e)throw new Error("Recursive call to converter.makeHtml");return e=new r,t=new r,a=[],o=0,n=(n=x(n="\n\n"+(n=(n=(n=(n=(n=i.preConversion(n)).replace(/~/g,"~T")).replace(/\$/g,"~D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n"))+"\n\n")).replace(/^[ \t]+$/gm,""),n=(n=(n=function(e){return e=e.replace(/~E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)}))}(n=u(n=function(n){return n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,(function(n,a,r,o,i,s){return a=a.toLowerCase(),e.set(a,y(r)),i?o:(s&&t.set(a,s.replace(/"/g,"&quot;")),"")}))}(n=s(n=i.postNormalization(n)))))).replace(/~D/g,"$$")).replace(/~T/g,"~"),n=i.postConversion(n),a=t=e=null,n};var c=function(e){return u(e)};function u(e,t){return e=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,(function(e,t){var n=t;return function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(a.push(e)-1)+"K\n\n"}("<blockquote>\n"+(n=(n=(n=u(n=(n=(n=n.replace(/^[ \t]*>[ \t]?/gm,"~0")).replace(/~0/g,"")).replace(/^[ \t]+$/gm,""))).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"~0")).replace(/~0/g,"")})))+"\n</blockquote>")}))}(e=function(e){return e=(e=(e+="~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,(function(e,t,n){var a=t,r=n;return"\n\n"+(a="<pre><code>"+(a=(a=(a=x(a=v(w(a)))).replace(/^\n+/g,"")).replace(/\n+$/g,""))+"\n</code></pre>")+"\n\n"+r}))).replace(/~0/,"")}(e=f(e=(e=(e=(e=function(e){return e=(e=(e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,(function(e,t){return"<h1>"+d(t)+"</h1>\n\n"}))).replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,(function(e,t){return"<h2>"+d(t)+"</h2>\n\n"}))).replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,(function(e,t,n){var a=t.length;return"<h"+a+">"+d(n)+"</h"+a+">\n\n"}))}(e=i.preBlockGamut(e,c))).replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n")).replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n")))),e=function(e,t){for(var n=(e=(e=e.replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],o=/~K(\d+)K/,i=n.length,s=0;s<i;s++){var l=n[s];o.test(l)?r.push(l):/\S/.test(l)&&(l=(l=d(l)).replace(/^([ \t]*)/g,"<p>"),l+="</p>",r.push(l))}if(!t){i=r.length;for(s=0;s<i;s++)for(var c=!0;c;)c=!1,r[s]=r[s].replace(/~K(\d+)K/g,(function(e,t){return c=!0,a[t]}))}return r.join("\n\n")}(e=s(e=i.postBlockGamut(e,c)),t)}function d(e){return e=(e=function(e){return e=(e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4")).replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}(e=y(e=(e=function(e){e=e.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,E);return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,(function(e,t){return'<a href="'+t+'">'+i.plainLinkText(t)+"</a>"}))}(e=function(e){return e=(e=(e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p)).replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)).replace(/(\[([^\[\]]+)\])()()()()()/g,p)}(e=function(e){return e=(e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h)).replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)}(e=function(e){return e=(e=e.replace(/\\(\\)/g,S)).replace(/\\([`*_{}\[\]()>#+-.!])/g,S)}(e=function(e){return e=e.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,(function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=k(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")}))}(e=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,t,n,a,r){var o=a;return t+"<code>"+(o=(o=v(o=(o=o.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""))).replace(/:\/\//g,"~P"))+"</code>"}))}(e=i.preSpanGamut(e)))))))).replace(/~P/g,"://")))).replace(/  +\n/g," <br>\n"),e=i.postSpanGamut(e)}function p(n,a,r,o,i,s,l,c){null==c&&(c="");var u=a,d=r.replace(/:\/\//g,"~P"),p=o.toLowerCase(),h=i,f=c;if(""==h)if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,null!=e.get(p))h=e.get(p),null!=t.get(p)&&(f=t.get(p));else{if(!(u.search(/\(\s*\)$/m)>-1))return u;h=""}var g='<a href="'+(h=k(h=function(e){if(!e)return"";var t=e.length;return e.replace(C,(function(n,a){return"~D"==n?"%24":":"!=n||a!=t-1&&!/[0-9\/]/.test(e.charAt(a+1))?"%"+n.charCodeAt(0).toString(16):":"}))}(h),"*_"))+'"';return""!=f&&(g+=' title="'+(f=k(f=m(f),"*_"))+'"'),g+=">"+d+"</a>"}function m(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(n,a,r,o,i,s,l,c){var u=a,d=r,p=o.toLowerCase(),h=i,f=c;if(f||(f=""),""==h){if(""==p&&(p=d.toLowerCase().replace(/ ?\n/g," ")),h="#"+p,null==e.get(p))return u;h=e.get(p),null!=t.get(p)&&(f=t.get(p))}d=k(m(d),"*_[]()");var g='<img src="'+(h=k(h,"*_"))+'" alt="'+d+'"';return g+=' title="'+(f=k(f=m(f),"*_"))+'"',g+=" />"}function f(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(t,(function(e,t,n){var a=t,r=n.search(/[*+-]/g)>-1?"ul":"ol",o=b(a,r);return o="<"+r+">"+(o=o.replace(/\s+$/,""))+"</"+r+">\n"})):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,(function(e,t,n,a){var r=t,o=n,i=a.search(/[*+-]/g)>-1?"ul":"ol",s=b(o,i);return s=r+"<"+i+">\n"+s+"</"+i+">\n"}))),e=e.replace(/~0/,"")}var g={ol:"\\d+[.]",ul:"[*+-]"};function b(e,t){o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var n=g[t],a=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm"),r=!1;return e=(e=e.replace(a,(function(e,t,n,a){var o=a,i=/\n\n$/.test(o),s=i||o.search(/\n{2,}/)>-1;return o=s||r?u(w(o),!0):d(o=(o=f(w(o))).replace(/\n$/,"")),r=i,"<li>"+o+"</li>\n"}))).replace(/~0/g,""),o--,e}function v(e){return e=k(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),"*_{}[]\\",!1)}function y(e){return e=(e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function E(e,t,n,a){if(t)return e;if(")"!==a.charAt(a.length-1))return"<"+n+a+">";for(var r=a.match(/[()]/g),o=0,i=0;i<r.length;i++)"("===r[i]?o<=0?o=1:o++:o--;var s="";if(o<0){var l=new RegExp("\\){1,"+-o+"}$");a=a.replace(l,(function(e){return s=e,""}))}return"<"+n+a+">"+s}function w(e){return e=(e=e.replace(/^(\t|[ ]{1,4})/gm,"~0")).replace(/~0/g,"")}function x(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],a=0;return e.replace(/[\n\t]/g,(function(e,r){return"\n"===e?(a=r+1,e):(t=(r-a)%4,a=r+1,n[t])}))}var C=/(?:["'*()[\]:]|~D)/g;function k(e,t,n){var a="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(a="\\\\"+a);var r=new RegExp(a,"g");return e=e.replace(r,S)}function S(e,t){return"~E"+t.charCodeAt(0)+"E"}}}()},1255:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(55),o=n(0),i=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isMouseOver:!1},n.showToolTip=function(){n.props.interactive&&clearTimeout(n.hideTimeout),n.setState({isMouseOver:!0})},n.hideToolTip=function(){if(n.props.interactive)return clearTimeout(n.hideTimeout),void(n.hideTimeout=window.setTimeout((function(){n.setState({isMouseOver:!1})}),t.INTERACTIVE_DELAY));n.setState({isMouseOver:!1})},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.isAlwaysShown!==this.props.isAlwaysShown&&this.setState({isMouseOver:!1})},t.prototype.componentWillUnmount=function(){this.props.interactive&&clearTimeout(this.hideTimeout)},t.prototype.makeClassName=function(e){var t,n,a="tooltip-multiline"+(e||"")+"--";return r("tooltip-multiline"+(e||""),((t={})[a+"left"]=this.props.alignLeft,t),((n={})[a+"interactive"]=this.props.interactive&&this.state.isMouseOver,n),this.props.className)},t.prototype.render=function(){var e=!0===this.props.isAlwaysShown||this.state.isMouseOver;return o.createElement("span",{className:this.makeClassName(),onMouseEnter:this.showToolTip,onMouseLeave:this.hideToolTip},o.createElement("span",{className:this.makeClassName("__before"),style:{opacity:e?1:0}}),this.props.children,o.createElement("span",{className:this.makeClassName("__after"),style:{opacity:e?1:0}},this.props.tipContent))},t.INTERACTIVE_DELAY=300,t}(o.Component)},1256:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a,r=n(2),o=n(1),i=n.n(o).a.div.withConfig({displayName:"Spinner_SpinnerContainer",componentId:"sc-fllvzl"})(a||(a=Object(r.__makeTemplateObject)(["\n  color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  min-height: 42px;\n"],["\n  color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  min-height: 42px;\n"]))),s=function(t){return e.createElement(i,{style:t.style||null},e.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x"}))}}).call(this,n(0))},1261:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a,r,o,i,s,l,c,u,d,p=n(2),m=n(6),h=n(1),f=n.n(h),g=n(0),b=n(15),v=n(1271),y=n(1213),E=n(1007),w=n(1262),x=n(1412),C=y.helper.emojis,k=Object.entries(C).map((function(e){var t=Object(p.__read)(e,2),n=t[0];return{display:t[1].replace(/&zwj;/g,""),id:n}})),S=["+1","-1","fist_oncoming","fist_raised","fist_left","fist_right","hand","handshake","metal","muscle","ok_hand","open_hands","point_down","point_left","point_right","point_up","pray","raised_hands","v","vulcan_salute","wave","100","heavy_check_mark","x","tada","boom","fire","sparkles","eyes","notes","sunny","two_hearts","broken_heart","heart","black_heart","blue_heart","green_heart","purple_heart","yellow_heart","smile","smiley","smirk","anguished","astonished","blush","expressionless","face_with_head_bandage","face_with_thermometer","fearful","flushed","frowning","frowning_face","grimacing","grin","grinning","heart_eyes","hushed","joy","laughing","lying_face","mask","nerd_face","neutral_face","open_mouth","pensive","persevere","relieved","roll_eyes","sleeping","sleepy","slightly_frowning_face","slightly_smiling_face","smiling_imp","sob","stuck_out_tongue","stuck_out_tongue_winking_eye","sunglasses","sweat","sweat_smile","thinking","tired_face","triumph","unamused","weary","wink","worried","yum","zipper_mouth_face","cowboy_hat_face","cat","crying_cat_face","heart_eyes_cat","joy_cat","pouting_cat","scream_cat","smile_cat","smirk_cat","hear_no_evil","see_no_evil","speak_no_evil"].map((function(e){return{display:C[e]&&C[e].replace(/&zwj;/g,""),id:e}})),_=f.a.div.withConfig({displayName:"Markdown_Body",componentId:"sc-1juets6"})(a||(a=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),O=f.a.div.withConfig({displayName:"Markdown_EditorContainer",componentId:"sc-1qzyfx0"})(r||(r=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),T=f.a.div.withConfig({displayName:"Markdown_EditorBody",componentId:"sc-1t35y16"})(o||(o=Object(p.__makeTemplateObject)(["\n  background: ",";\n  min-height: 80px;\n  font-family: ",";\n  font-size: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n  textarea::placeholder {\n    color: ",";\n  }\n\n  ",";\n\n  ",";\n"],["\n  background: ",";\n  min-height: 80px;\n  font-family: ",";\n  font-size: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n  textarea::placeholder {\n    color: ",";\n  }\n\n  ",";\n\n  ",";\n"])),E.b.PureWhite,E.d.FontFamilyInter,E.d.FontSizeM,E.g.PadL,E.g.PadL,E.b.TextLight,(function(e){return e.borderless?"":"\n    border: 1px solid "+E.b.ContentBorder+";\n    border-radius: "+E.g.BorderRadius+";\n  "}),(function(e){return void 0===e.maxHeight?"":"\n    overflow-y: scroll;\n    max-height: "+e.maxHeight+";\n    ::-webkit-scrollbar {\n      width: 8px;\n      height: 8px;\n    }\n    ::-webkit-scrollbar-track {\n      background: transparent;\n    }\n    ::-webkit-scrollbar-thumb {\n      background-color: #919294; // theme.material.color.brand.grey[500]\n    }\n  "})),j=f.a.div.withConfig({displayName:"Markdown_MentionSuggestion",componentId:"sc-4ij8bb"})(i||(i=Object(p.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),I=f.a.img.withConfig({displayName:"Markdown_MentionSuggestionImg",componentId:"sc-1dvk3v1"})(s||(s=Object(p.__makeTemplateObject)(["\n  border-radius: ",";\n  margin-right: ",";\n  max-height: 30px;\n  max-width: 30px;\n  width: 100%;\n"],["\n  border-radius: ",";\n  margin-right: ",";\n  max-height: 30px;\n  max-width: 30px;\n  width: 100%;\n"])),E.g.BorderRadius,E.g.PadS),D=f.a.span.withConfig({displayName:"Markdown_MentionSuggestionEmoji",componentId:"sc-1cxouz6"})(l||(l=Object(p.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),E.g.PadM),N=f.a.div.withConfig({displayName:"Markdown_MentionSuggestionInfo",componentId:"sc-hrpizy"})(c||(c=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),M=f.a.div.withConfig({displayName:"Markdown_MentionSuggestionDisplay",componentId:"sc-1xkm12l"})(u||(u=Object(p.__makeTemplateObject)(["\n  display: flex;\n  font-size: ",";\n  font-weight: ",";\n  line-height: 1;\n  margin-bottom: ",";\n"],["\n  display: flex;\n  font-size: ",";\n  font-weight: ",";\n  line-height: 1;\n  margin-bottom: ",";\n"])),E.d.FontSizeM,E.d.FontWeightMedium,E.g.PadXs),F=f.a.div.withConfig({displayName:"Markdown_MentionSuggestionUsername",componentId:"sc-flrhuf"})(d||(d=Object(p.__makeTemplateObject)(["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  line-height: 1;\n"],["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  line-height: 1;\n"])),E.b.TextLight,E.d.FontSizeS),P=function(e){var t=e.handleBlur,n=e.handleChange,a=e.handleFocus,r=e.handleSelection,o=e.placeholder,i=e.value,s=e.getUsers,l=e.getEmojis;return g.createElement(v.b,{allowSpaceInQuery:!0,className:"react-mentions",markup:"__display__\x3c!--__type__--\x3e",onBlur:t,onChange:n,onFocus:a,onSelect:r,placeholder:o||"Compose using markdown...",value:i},g.createElement(v.a,{appendSpaceOnAdd:!0,trigger:"@",type:"user",data:s,renderSuggestion:function(e){return g.createElement(j,null,g.createElement(I,{alt:e.rawDisplay,src:e.thumbnail}),g.createElement(N,null,g.createElement(M,null,e.rawDisplay),g.createElement(F,null,e.userName)))}}),g.createElement(v.a,{appendSpaceOnAdd:!0,trigger:":",type:"emoji",data:l,renderSuggestion:function(e){return g.createElement(j,null,g.createElement(D,null,e.display),g.createElement(M,null,":",e.id,":"))}}))},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.removeHtmlComments=function(e){return e?e.replace(/<!--(.+)-->/g,""):""},t.state={focused:!1,selection:{start:0,end:0},snapSelection:{start:0,end:0},undoStack:[],redoStack:[],showEmojiDropdown:!1,showHeaderDropdown:!1,showImageDropdown:!1,showLinkModal:!1,showLinkImageModal:!1,showUploadImageModal:!1,value:t.removeHtmlComments(t.props.value)},t.addKeybindings=function(e){if(e.ctrlKey||e.metaKey){var n=t.state,a=n.snapSelection,r=n.value.substring(a.start,a.end);switch(e.keyCode){case 13:return e.preventDefault(),void(t.props.onSubmit&&t.props.onSubmit());case 66:return e.preventDefault(),void t.handleInsert(r,"**","**");case 73:return e.preventDefault(),void t.handleInsert(r,"*","*");case 75:return e.preventDefault(),void t.handleInsert(r,"[","](url)");case 89:return e.preventDefault(),void t.handleRedo();case 90:return e.preventDefault(),void(e.shiftKey?t.handleRedo():t.handleUndo());default:return}}},t.snapToWord=function(e,t){var n=e,a=t.start,r=t.end;if(r-a>0)return t;for(;n[r]&&!/\s/.test(n[r]);)r++;for(;n[a]&&!/\s/.test(n[a])&&a>=0;)a--;return r>a&&a++,{start:a,end:r}},t.startTypingTimer=function(e){clearTimeout(t.typingTimer);t.typingTimer=setTimeout(e,100)},t.onChangeDebounce=function(e,n){clearTimeout(t.debounceTimer),t.debounceTimer=setTimeout(e,n)},t.onFocus=function(){t.setState({focused:!0}),t.props.onInputFocus&&t.props.onInputFocus()},t.addChangeToUndoStack=function(e){void 0===e&&(e=!0);var n=t.props.value||"",a=t.state,r=a.undoStack,o=a.value;e?t.startTypingTimer((function(){r.push({save:o,undo:r[r.length-1]?r[r.length-1].save:n}),t.setState({undoStack:r,redoStack:[]})})):(r.push({save:o,undo:r[r.length-1]?r[r.length-1].save:n}),t.setState({undoStack:r,redoStack:[]}))},t.getEmojis=function(e,n){var a=Object(p.__spread)(k);e?e&&e.length>0&&t.startTypingTimer((function(){a=a.filter((function(t){return t.id.startsWith(e)})).slice(0,10),n(a)})):n(a.slice(0,10))},t.onChangeIfControlled=function(e){var n=t.props,a=n.debounceInterval,r=n.onChange;r&&(a?t.onChangeDebounce((function(){return r(e)}),a):r(e))},t.handleChange=function(e,n){n=t.removeHtmlComments(n),t.setState({value:n},t.addChangeToUndoStack),t.onChangeIfControlled(n)},t.handleInsertImage=function(e){var n=t.state,a=n.value,r=n.selection,o=a.substr(0,r.start)+"![]("+e+")\n"+a.substr(r.end);t.setState({value:o},(function(){t.inputElementRef.focus(),t.addChangeToUndoStack(!1)})),t.onChangeIfControlled(o)},t.handleInsert=function(e,n,a,r){void 0===e&&(e=""),void 0===n&&(n=""),void 0===a&&(a=""),void 0===r&&(r=!1);var o=t.state,i=o.value,s=o.selection,l=o.snapSelection,c=r?s.start:l.start,u=r?s.end:l.end,d=i.substr(0,c)+n+e+a+i.substr(u);t.setState({value:d},(function(){t.inputElementRef.selectionStart=s.start+n.length,t.inputElementRef.selectionEnd=s.end+n.length,t.inputElementRef.focus(),t.addChangeToUndoStack(!1)})),t.onChangeIfControlled(d)},t.handleBlur=function(e){t.setState({focused:!1}),t.inputElementRef=e.target},t.handleToggleEmojiDropdown=function(){return t.setState({showEmojiDropdown:!t.state.showEmojiDropdown})},t.handleToggleHeaderDropdown=function(){return t.setState({showHeaderDropdown:!t.state.showHeaderDropdown})},t.handleToggleImageDropdown=function(){return t.setState({showImageDropdown:!t.state.showImageDropdown})},t.handleToggleLinkModal=function(){return t.setState({showLinkModal:!t.state.showLinkModal})},t.handleToggleLinkImageModal=function(){return t.setState({showLinkImageModal:!t.state.showLinkImageModal})},t.handleToggleUploadImageModal=function(){return t.setState({showUploadImageModal:!t.state.showUploadImageModal})},t.handleSelection=function(e){var n=t.snapToWord(e.target.value,{start:e.target.selectionStart,end:e.target.selectionEnd});t.setState({selection:{start:e.target.selectionStart,end:e.target.selectionEnd},snapSelection:{start:n.start,end:n.end}})},t.handleUndo=function(){var e=t.state,n=e.undoStack,a=e.redoStack;if(n.length>0){var r=n.pop(),o=r.undo;a.push(r),t.setState({undoStack:n,redoStack:a,value:o})}},t.handleRedo=function(){var e=t.state,n=e.undoStack,a=e.redoStack;if(a.length>0){var r=a.pop(),o=r.save;n.push(r),t.setState({undoStack:n,redoStack:a,value:o})}},t.getValue=function(){return t.state.value},t.getUsers=function(e,n){var a=t.props.topicId;(e||a)&&(e.split(/;|,| |\.|-/).length-1>3||t.startTypingTimer((function(){return Object(p.__awaiter)(t,void 0,void 0,(function(){var t,r;return Object(p.__generator)(this,(function(o){switch(o.label){case 0:return[4,m.A.searchUsersSuggestions({query:e,topicId:a,pageSize:8})];case 1:return t=o.sent(),r=t.map((function(e){return{display:"@"+e.userName,rawDisplay:e.displayName,id:e.profileUrl,thumbnail:e.thumbnailUrl,profileUrl:e.profileUrl,userName:e.userName}})),n(r),[2]}}))}))})))},t.handlers={handleChange:t.handleChange,handleInsert:t.handleInsert,handleInsertImage:t.handleInsertImage,handleUndo:t.handleUndo,handleRedo:t.handleRedo,handleToggleEmojiDropdown:t.handleToggleEmojiDropdown,handleToggleHeaderDropdown:t.handleToggleHeaderDropdown,handleToggleImageDropdown:t.handleToggleImageDropdown,handleToggleLinkModal:t.handleToggleLinkModal,handleToggleLinkImageModal:t.handleToggleLinkImageModal,handleToggleUploadImageModal:t.handleToggleUploadImageModal},t}return Object(p.__extends)(t,e),t.prototype.componentDidMount=function(){var e=b.findDOMNode(this).querySelector("textarea");e&&(this.inputElementRef=e,e.addEventListener("keydown",this.addKeybindings,!1),this.props.grabFocus&&e.focus())},t.prototype.render=function(){var e=this.props,t=e.borderless,n=e.collapsed,a=e.hideToolbar,r=e.placeholder,o=e.preview,i=e.editorMaxHeight,s=this.state,l=s.focused,c=s.value;return g.createElement(_,null,o?g.createElement(w.a,{value:c}):g.createElement(O,null,n&&!l||a||g.createElement(x.a,Object(p.__assign)({},this.state,this.handlers,{emojis:S,useBottomBorder:t})),g.createElement(T,{borderless:t,maxHeight:i},g.createElement(P,{handleBlur:this.handleBlur,handleChange:this.handleChange,handleFocus:this.onFocus,handleSelection:this.handleSelection,placeholder:r,value:this.state.value,getUsers:this.getUsers,getEmojis:this.getEmojis}))))},t}(g.Component)},1262:function(e,t,n){"use strict";var a=n(2),r=n(1122),o=n(128),i=n(0),s=n(1084),l=n(1213),c={allowedTags:s.defaults.allowedTags.concat(["h1","h2","img"]),allowedAttributes:{a:["href","name","target"],div:["class"],img:["src","alt","width","height","style"]},transformTags:{a:function(e,t){if(t.href&&t.href.startsWith("emoji::"))return{tagName:"span",attribs:{title:(n=t.href.split("::"))[n.length-1]}};if(t.href&&t.href.startsWith("user::")){var n,r=(n=t.href.split("::"))[n.length-1];return{tagName:e,attribs:Object(a.__assign)(Object(a.__assign)({},t),{href:r})}}return{tagName:e,attribs:t}}}},u={disableForced4SpacesIndentedSublists:!0,emoji:!0,excludeTrailingPunctuationFromURLs:!0,ghCompatibleHeaderId:!0,ghMentions:!0,ghMentionsLink:"https://www.kaggle.com/{u}",openLinksInNewWindow:!0,prefixHeaderId:!0,parseImgDimensions:!0,simpleLineBreaks:!0,simplifiedAutoLink:!0,smartIndentationFix:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,tasklists:!0};t.a=i.memo((function(e){var t=i.useRef(new l.Converter(u)),n=i.useRef(null);i.useEffect((function(){var t,o,i=n.current;if(i){var s=Object(r.a)(e.value||"",i),l=Array.from(i.querySelectorAll(".markdown-converter__text--rendered table"));try{for(var c=Object(a.__values)(l),u=c.next();!u.done;u=c.next()){var d=u.value;if(!d.parentElement||!d.parentElement.classList.contains("tableWrapper")){var p=document.createElement("div");p.classList.add("tableWrapper"),d.parentElement.insertBefore(p,d),p.appendChild(d)}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(o=c.return)&&o.call(c)}finally{if(t)throw t.error}}return s}}),["value"]);var d;return Object(o.l)(i.createElement("div",{className:"markdown-converter__text--rendered",ref:n}),(d=e.value.replace(/&gt;/g,">").replace(/&lt;/g,"<"),d=t.current.makeHtml(d),s(d,c)))}))},1263:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,r,o,i,s,l,c,u,d,p,m,h=n(2),f=n(1),g=n.n(f),b=n(0),v=n(1259),y=n(1007),E=n(1181),w=n(1333),x=n(1226),C=n(1153),k=n(1033),S=n(1384),_=g.a.div.withConfig({displayName:"FileUploader2_ProgressWithControlsView",componentId:"sc-1ueb785"})(a||(a=Object(h.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),O=g.a.div.withConfig({displayName:"FileUploader2_UploadControlsView",componentId:"sc-3fqvna"})(r||(r=Object(h.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  margin-left: 10px;\n"],["\n  flex: 0 0 auto;\n  margin-left: 10px;\n"]))),T=g.a.span.withConfig({displayName:"FileUploader2_UploadFileName",componentId:"sc-le4q2s"})(o||(o=Object(h.__makeTemplateObject)(["\n  font-weight: bold;\n  margin-left: 5px;\n  margin-right: 5px;\n  white-space: nowrap;\n"],["\n  font-weight: bold;\n  margin-left: 5px;\n  margin-right: 5px;\n  white-space: nowrap;\n"]))),j=g.a.div.withConfig({displayName:"FileUploader2_ProgressDescription",componentId:"sc-nqponv"})(i||(i=Object(h.__makeTemplateObject)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={progress:t.props.promise.progress},t.oldPromiseOnProgress=t.props.promise.onProgress,t.promiseOnProgress=function(e){t.setState({progress:e}),t.oldPromiseOnProgress&&t.oldPromiseOnProgress(e)},t.onPause=function(){var e=t.props.promise.pause();t.setState({uploadResumer:e})},t.onResume=function(){t.state.uploadResumer(),t.setState({uploadResumer:null})},t}return Object(h.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.promise.onProgress=this.promiseOnProgress},t.prototype.componentWillUnmount=function(){this.props.promise.onProgress=this.oldPromiseOnProgress},t.prototype.render=function(){var e=this.state.progress,t=e.hasStarted&&!e.isDone?C.d(e.progressProps):null;return e.hasSucceeded&&e.uploadedBlobInfo?b.createElement("div",null,b.createElement("span",{className:"fa fa-check"}),b.createElement(k.b,{tip:"MD5: "+e.uploadedBlobInfo.md5Hash},b.createElement(T,null,this.props.file.name)),b.createElement("span",null,"(",b.createElement(E.a,{value:this.props.file.size}),")")):b.createElement("div",null,b.createElement(j,null,b.createElement("span",null,e.description,":")," ",b.createElement(T,null,this.props.file.name),e.nextRetryDate&&b.createElement("span",null,"Will retry in ",b.createElement(w.a,{time:e.nextRetryDate}))),b.createElement(_,null,e.hasStarted&&b.createElement(x.a,Object(h.__assign)({},e.progressProps),b.createElement(x.b,Object(h.__assign)({},e.progressProps)),b.createElement(x.c,null,b.createElement(E.a,{value:e.totalBytesLoaded})," of"," ",b.createElement(E.a,{value:this.props.file.size}),t?", "+t:"")),b.createElement(O,null,e.isDone?b.createElement("span",{className:"fa fa-check"}):this.state.uploadResumer?b.createElement("span",{role:"button",className:"fa fa-play",onClick:this.onResume}):e.isUploading?b.createElement("span",{role:"button",className:"fa fa-pause",onClick:this.onPause}):b.createElement("i",{className:"fa fa-circle-o-notch","aria-hidden":"true"}))))},t}(b.Component),D=g.a.div.withConfig({displayName:"FileUploader2_FileDropContentsView",componentId:"sc-1qa377g"})(s||(s=Object(h.__makeTemplateObject)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),N=g.a.div.withConfig({displayName:"FileUploader2_FileUploader2View",componentId:"sc-6xpn5n"})(l||(l=Object(h.__makeTemplateObject)(["\n  width: 100%;\n  box-sizing: border-box;\n  font-weight: ",";\n  margin: 24px;\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: calc(100% - 48px) !important;\n    min-height: 140px;\n    border: dashed 2px #dedfe0 !important;\n    color: #6f7175;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"],["\n  width: 100%;\n  box-sizing: border-box;\n  font-weight: ",";\n  margin: 24px;\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: calc(100% - 48px) !important;\n    min-height: 140px;\n    border: dashed 2px #dedfe0 !important;\n    color: #6f7175;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),y.d.FontWeightMedium,y.b.TextLinkHover),M=g.a.div.withConfig({displayName:"FileUploader2_CompactFileUploader2View",componentId:"sc-13dptl5"})(c||(c=Object(h.__makeTemplateObject)(["\n  box-sizing: border-box;\n  cursor: pointer;\n  font-weight: ",";\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: 16px !important;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"],["\n  box-sizing: border-box;\n  cursor: pointer;\n  font-weight: ",";\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: 16px !important;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),y.d.FontWeightMedium,y.b.TextLinkHover),F=g.a.ul.withConfig({displayName:"FileUploader2_FileUploadStatusList",componentId:"sc-qtfa04"})(u||(u=Object(h.__makeTemplateObject)(["\n  width: calc(100% - 48px);\n  margin-top: 20px;\n"],["\n  width: calc(100% - 48px);\n  margin-top: 20px;\n"]))),P=g.a.li.withConfig({displayName:"FileUploader2_FileUploadStatusListItem",componentId:"sc-j98n1o"})(d||(d=Object(h.__makeTemplateObject)(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),L=g.a.p.withConfig({displayName:"FileUploader2_FileDropMaxSizeNote",componentId:"sc-1fi12de"})(p||(p=Object(h.__makeTemplateObject)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),A=g.a.p.withConfig({displayName:"FileUploader2_FileDropMaxSizeErrorMessage",componentId:"sc-1u36kop"})(m||(m=Object(h.__makeTemplateObject)(["\n  color: ",";\n  text-align: center;\n"],["\n  color: ",";\n  text-align: center;\n"])),y.b.KaggleRed),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={uploads:[]},t.dropFiles=function(e,n){return Object(h.__awaiter)(t,void 0,void 0,(function(){var t,n,a,r,o,i,s,l,c,u,d,p;return Object(h.__generator)(this,(function(m){switch(m.label){case 0:if(t=this.props,n=t.bucket,a=t.onBlobUploaded,r=Object(h.__spread)(this.state.uploads),0===e.length)return[2];o=[];try{for(i=Object(h.__values)(e),s=i.next();!s.done;s=i.next())l=s.value,c=(this.props.uploadFile||S.a)(n,l),o.push(a?c.then((function(e){return a(e.token,e.name,e.size,e.mediaLink)})):c),u={file:l,promise:c},r.push(u)}catch(e){d={error:e}}finally{try{s&&!s.done&&(p=i.return)&&p.call(i)}finally{if(d)throw d.error}}return this.setState({uploads:r}),[4,Promise.all(o)];case 1:return m.sent(),this.props.onUploadsFinished&&this.props.onUploadsFinished(),[2]}}))}))},t.handleDragLeave=function(){return t.setState({isDraggingOverFileDrop:!1})},t.handleDragEnter=function(){return t.setState({isDraggingOverFileDrop:!0})},t}return Object(h.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.children,r=t.compact,o=this.state.uploads,i=r?M:N;return b.createElement(i,null,n&&b.createElement("h3",null,n),b.createElement(v.a,{onDrop:this.dropFiles,maxSize:this.props.maxSize,multiple:!this.props.singleUpload,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter},(function(t){var n=t.getRootProps,o=t.getInputProps,i=t.rejectedFiles;return b.createElement("div",Object(h.__assign)({},n({className:"dropzone"})),b.createElement("input",Object(h.__assign)({},o())),b.createElement(D,{title:"Upload Files"},b.createElement("div",{className:"fa fa-upload"+(r?"":" file-uploader__upload-icon")}),!r&&a?b.createElement("div",null,a||e.props.uploadFilesMessage&&e.props.uploadFilesMessage||"Upload Files"):null,e.props.maxSize&&b.createElement(L,null,"Size limit: ",b.createElement(E.a,{value:e.props.maxSize})),e.props.maxSize&&i.length>0&&i[0].size>e.props.maxSize&&b.createElement(A,null,"One or more files have exceeded the size limit.")))})),!r&&o&&o.length>0&&b.createElement(F,null,o.map((function(e,t){return b.createElement(P,{key:t},b.createElement(I,Object(h.__assign)({},e)))}))))},t}(b.Component)},1264:function(e,t,n){"use strict";var a=n(0),r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=n(1147),i=n(376),s=n(1265),l=".",c=":",u="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";function p(e,t){return e&&"object"==typeof e&&null!=e.key?(n=e.key,a={"=":"=0",":":"=2"},"$"+(""+n).replace(/[=:]/g,(function(e){return a[e]}))):t.toString(36);var n,a}function m(e,t,n,a){var o,s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||"object"===s&&e.$$typeof===r)return n(a,e,""===t?l+p(e,0):t),1;var h=0,f=""===t?l:t+c;if(Array.isArray(e))for(var g=0;g<e.length;g++)h+=m(o=e[g],f+p(o,g),n,a);else{var b=function(e){var t=e&&(u&&e[u]||e[d]);if("function"==typeof t)return t}(e);if(b){0;for(var v,y=b.call(e),E=0;!(v=y.next()).done;)h+=m(o=v.value,f+p(o,E++),n,a)}else if("object"===s){0;var w=""+e;i(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,"")}}return h}var h=/\/+/g;function f(e){return(""+e).replace(h,"$&/")}var g,b,v=y,y=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},E=function(e){i(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function w(e,t,n,a){this.result=e,this.keyPrefix=t,this.func=n,this.context=a,this.count=0}function x(e,t,n){var r,i,s=e.result,l=e.keyPrefix,c=e.func,u=e.context,d=c.call(u,t,e.count++);Array.isArray(d)?C(d,s,n,o.thatReturnsArgument):null!=d&&(a.isValidElement(d)&&(r=d,i=l+(!d.key||t&&t.key===d.key?"":f(d.key)+"/")+n,d=a.cloneElement(r,{key:i},void 0!==r.props?r.props.children:void 0)),s.push(d))}function C(e,t,n,a,r){var o="";null!=n&&(o=f(n)+"/");var i=w.getPooled(t,o,a,r);!function(e,t,n){null==e||m(e,"",t,n)}(e,x,i),w.release(i)}w.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},g=function(e,t,n,a){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n,a),r}return new this(e,t,n,a)},(b=w).instancePool=[],b.getPooled=g||v,b.poolSize||(b.poolSize=10),b.release=E;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return s(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(a.isValidElement(e))return s(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;i(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var n in e)C(e[n],t,n,o.thatReturnsArgument);return t}},1265:function(e,t,n){"use strict";var a=n(1147);e.exports=a},1266:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(6),r=n(1),o=n.n(r),i=n(1366),s=n(0),l=n(1025),c=n(1019),u=n(1230),d=n(1522),p=n(1503),m=n(1390),h=n(1576),f=n(1339);const g=o.a.div`
  position: relative;
  overflow-x: hidden;
  margin: ${e=>e.theme.material.spacing(4)}
    ${e=>e.maximized?e.theme.material.spacing(4):"0px"};
`,b=o.a.div`
  display: flex;
  width: ${e=>e.mobile?`calc(100% + ${Object(p.f)(e.collapsed,e.maximized)})`:"100%"};
  border: ${e=>e.mobile?"1px":"0"} solid
    ${e=>c.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.large};
`,v=o.a.div`
  flex: 1 1 auto;
  min-width: 0;
`,y=e=>{const t=Object(i.a)(r.BreakpointDown.XS),{databundleVersionId:n,datasetId:o,datasetVersionId:c,datasetHashLink:y,userId:E,canEdit:w,treeOnLeft:x,onCreateVersion:C,onUpdateVersion:k,onExportToSheets:S,onUpdateUsabilityRating:_}=e,O=!t&&(void 0===x?a.n.datasetsDataExplorerV3TreeLeft:x),T=s.createElement(p.c,{treeOnLeft:O});return s.createElement(u.a,{reference:{type:"dataset",id:o,databundleVersionId:n,datasetVersionId:c,hashLink:y},userSettings:{userId:E,canEdit:w},isMobile:t,externalCallbacks:{onExportToSheets:S,onUpdateUsabilityRating:_,onCreateVersion:C,onUpdateVersion:k}},s.createElement(l.a.Consumer,null,e=>"loading"===e.dataLoadingState.type?s.createElement(f.a,null):"error"===e.dataLoadingState.type?s.createElement(m.a,{message:e.dataLoadingState.message}):s.createElement(h.a,{maximized:e.uxSettings.maximized},s.createElement(g,{maximized:e.uxSettings.maximized},s.createElement(b,{maximized:e.uxSettings.maximized,collapsed:e.uxSettings.treeCollapsed,mobile:t},O&&T,s.createElement(v,null,s.createElement(d.a,{treeOnLeft:O})),!O&&T)))))}},1270:function(e,t,n){"use strict";var a=n(2),r=n(369),o=n(144),i=n(874),s=n(6),l=n(1),c=n.n(l),u=n(0),d=n(1024),p=n(1215),m=n(1043),h=n(1150);let f=(()=>{class e extends u.Component{componentDidUpdate(e){const{isOpen:t}=this.props;if(e.isOpen!==t){const{analyticsClient:e}=this.context.legacyClients;Object(m.c)(e,"dataset",t)}}render(){const{isOpen:e,onCloseRequest:t}=this.props;return u.createElement(h.a,{isOpen:e,successScreen:{buttonText:"Close",descriptionText:"Your dataset was uploaded, it will show up in the submission list once it's fully processed. Click the button below to return."},failureScreen:{buttonText:"Close",descriptionText:"Unfortunately we could not create your dataset."},processingScreen:{buttonText:"Close",descriptionText:"Please wait while we're processing your dataset."},resetOnClose:!0,renderUploader:g(this.props),onCloseRequest:t})}}return e.contextType=s.b,e})();const g=e=>t=>{const{isOpen:n,user:a,taskId:r,referrer:o}=e,{onCloseRequest:i,onCreateSuccess:s}=t;return u.createElement(p.a,{key:n?"open":"closed",isOpen:n,taskId:r,isPublicByDefault:!0,user:a,referrer:o,onBackClicked:e.onBackClicked,onCloseRequest:i,onCreateSuccess:s})};var b=n(1421),v=n(145),y=n(1534),E=n(1454),w=n(1453),x=n(1164),C=n(108),k=n(122),S=n(891);const _=c.a.div`
  margin: ${x.n} 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,O=c()(v.e)`
  color: ${x.d};
`,T=e=>{const{item:t,onSelect:n,onVote:a}=e,{title:r,subtitle:o,author:i,submissionCount:s,deadline:c,voteButton:d,hasAcceptedSubmission:p}=t,{displayName:m,slug:h}=i,{totalVotes:f,hasVotedUp:g,isDisabled:b}=d;return u.createElement(x.f,{onClick:n},u.createElement(x.g,null,u.createElement(x.k,null,r),u.createElement(_,null,u.createElement(O,null,o)),u.createElement(x.h,null,u.createElement(x.j,{href:`/${h}`,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},m)," · ",k("Submission",s,!0),p&&u.createElement(u.Fragment,null," · ",u.createElement(C.a,{color:l.defaultTheme.material.color.status.success[1e3],icon:u.createElement("svg",{viewBox:"0 0 24 24",width:"12px",height:"12px"},u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),u.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xxsmall"})," Accepted Submission"),c&&u.createElement(u.Fragment,null," · ",u.createElement(S.a,{time:c})))),u.createElement(x.i,null,u.createElement(x.m,{totalVotes:f,state:g?"voted-up":"no-vote",onVote:b?void 0:e=>{a(),e.stopPropagation()}})))},j=c.a.div`
  display: flex;
  align-items: center;
  padding: ${x.b} ${x.o};
`,I=c()(v.p)`
  flex: 1 1 0;
`,D=c.a.ul`
  list-style: none;
`,N=e=>{const{state:t,canCreate:n,onSelect:a,onVote:r,onCreate:o}=e;return"loading"===t?u.createElement(w.a,{text:"Loading tasks..."}):"error"===t?u.createElement(E.a,{text:"An error occured while loading the tasks."}):0===t.length?u.createElement(y.a,{title:"Get things done with Tasks",description:"Keep track of pending work within your dataset and collaborate with the Kaggle community to find solutions. Tasks are a great method to improve your Dataset and find answers to questions you always wanted to know.",buttonText:"Create New Task",imageUrl:"/static/images/datasets/task_empty.gif",onButtonClick:n?o:void 0}):u.createElement(x.c,null,u.createElement(j,null,u.createElement(I,null,"Tasks"),n&&u.createElement(i.a,{emphasis:"medium",onClick:o},"Create New Task")),u.createElement(D,null,t.map(e=>u.createElement(T,{key:e.id,item:e,onSelect:()=>a(e),onVote:()=>r(e)}))))};let M=(()=>{class e extends u.Component{constructor(){super(...arguments),this.state={list:"loading"},this.loadList=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetId:e}=this.props,{clients:{datasetsClient:t}}=this.context;try{const n=yield t.getDatasetTasks({datasetId:e});this.setState({list:n.tasks}),Object(b.a)(this.context,"load-dataset-tasks",{datasetId:e})}catch(t){this.setState({list:"error"}),Object(b.a)(this.context,"load-dataset-tasks-error",{datasetId:e,error:t})}})),this.onVote=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{list:n}=this.state;if("error"===n||"loading"===n)return;this.toggleVoteButtonForItem(n,e,!0);const{hasVotedUp:a,totalVotes:r}=e.voteButton;try{yield t.taskVote({taskId:e.id,isUpvote:!a});const o=!a,i=o?r+1:r-1;Object(b.a)(this.context,"vote",{newHasVotedUp:o,newVoteCount:i,taskId:e.id}),this.setState({list:n.map(t=>t===e?Object.assign(Object.assign({},t),{voteButton:{hasVotedUp:o,totalVotes:i,isDisabled:!1}}):t)})}catch(t){Object(b.a)(this.context,"vote-error",{error:t,taskId:e.id}),this.toggleVoteButtonForItem(n,e,!1)}})),this.toggleVoteButtonForItem=(e,t,n)=>{this.setState({list:e.map(e=>e===t?Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{isDisabled:n})}):e)})}}render(){const{canCreate:e,onSelect:t,onCreate:n}=this.props,{list:a}=this.state;return u.createElement(N,{state:a,canCreate:e,onSelect:t,onVote:this.onVote,onCreate:n})}componentDidMount(){this.loadList()}}return e.contextType=s.b,e})();var F=n(1583),P=n(123),L=n(1352),A=n(1185);const R=c.a.button`
  border: none;
  background: none;
  position: relative;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  cursor: ${e=>$(e)};

  &:focus {
    outline: none;
  }
`,U=e=>{const{icon:t,title:n,isDisabled:a,isSelected:r,onClick:o}=e,[i,s]=u.useState(!1),c=u.useContext(l.ThemeContext);return u.createElement(R,{disabled:r||a,isSelected:r,isHovering:i,title:n,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:o},u.createElement(C.a,{icon:t,size:"medium",color:z(c,i,r,r||a)}))},z=(e,t,n,a)=>n?e.material.color.brand.blue[800]:a?e.material.color.brand.grey[200]:t?e.material.color.brand.blue[400]:e.material.color.brand.grey[500],$=e=>{const{disabled:t,isHovering:n}=e;return!t&&n?"pointer":"default"},B=c.a.div`
  display: flex;
  flex: 1 1 auto;
`,V=c.a.div`
  display: flex;
  flex-direction: column;
  flex: 0 0 40px;
  align-items: center;

  padding: ${e=>e.theme.material.spacing(2)};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
`,H=c.a.div`
  flex: 1 1 auto;
`,W=c.a.div`
  flex: 1 1 auto;
  display: flex;
`;var q=n(1535);const K=c()(w.a)`
  && {
    border: 0 !important;
  }
`,G=c()(E.a)`
  && {
    border: 0 !important;
  }
`,Y=c.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,Z=c()(v.b)`
  margin-top: ${x.b};
  color: ${x.d};
`,Q=e=>{const{state:t,selectedItem:n,onSelect:a}=e;if("loading"===t)return u.createElement(K,{text:"Loading..."});if("error"===t)return u.createElement(G,{text:"An error occured while loading your results."});if(0===t.length)return u.createElement(Y,null,u.createElement(C.a,{color:l.defaultTheme.material.color.brand.blue[900],icon:"info"}),u.createElement(Z,null,"Sorry, we couldn't find any public results."));const r=n?Object(q.b)(n):void 0;return u.createElement(u.Fragment,null,t.map(e=>{const t=Object(q.b)(e),n=t===r;return u.createElement(q.a,{key:t,item:e,selected:n,compact:!0,onSelect:()=>a(e)})}))},X=c.a.div`
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
`,J=c.a.div`
  flex: 0 0 auto;
  display: flex;
  border-bottom: 1px solid ${x.a};
  padding: ${x.b};
`,ee=c.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${x.a};
  padding: ${x.b} ${x.o};
`,te=c.a.div`
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
`,ne=c.a.div`
  flex: 1 1 auto;
  position: relative;
  height: 0;
  overflow-x: hidden;
  overflow-y: auto;
`,ae=c.a.div`
  display: flex;
  flex: 0 0 auto;
  border-top: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  padding: ${x.b};
`,re=c()(i.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,oe=c()(v.e)`
  flex: 1 1 auto;
  align-self: center;
  color: ${e=>e.theme.material.color.text[50]};
`,ie=c()(v.v)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,se=c()(e=>{const{tabs:t,selectedTab:n,onChangeTab:a}=e,r=t.filter(e=>!e.isEnd).map(e=>u.createElement(U,{key:`${e.title}-${e.title===n.title}`,title:e.title,icon:e.icon,isDisabled:e.isDisabled,isSelected:e.title===n.title,onClick:()=>a(e)})),o=t.filter(e=>!0===e.isEnd).map(e=>u.createElement(U,{key:`${e.title}-${e.title===n.title}`,title:e.title,icon:e.icon,isDisabled:e.isDisabled,isSelected:e.title===n.title,onClick:()=>a(e)}));return u.createElement(B,null,u.createElement(V,null,r,u.createElement(H,null),o),u.createElement(W,null,n.pane))})`
  flex: 1 1 auto;
`,le=c()(v.p)`
  flex: 1 1 auto;
`,ce=c()(L.a)`
  width: 100%;
  height: 34px !important;

  && .mdc-text-field__input {
    height: 32px !important;
  }

  && .mdc-floating-label {
    top: ${e=>e.theme.material.spacing(2)};
  }

  && .mdc-floating-label--float-above {
    display: none !important;
  }

  && .mdc-notched-outline--notched .mdc-notched-outline__notch {
    display: none !important;
  }
`,ue=e=>{const{searchQuery:t,mode:n,listState:a,selectedItem:r,onChangeMode:o,onChangeSearchQuery:i,onNewNotebook:s,onNewDataset:l,onSelectNotebook:c,onSelectDataset:d,onSubmitNotebook:p,onSubmitDataset:m,onClose:h}=e,f=u.createElement(Q,{state:a,selectedItem:r,onSelect:"dataset"===n?d:c}),g={title:"Notebooks",icon:"code",pane:"notebook"===n?u.createElement(te,null,u.createElement(ee,null,u.createElement(ce,{value:t,label:"Search your public Notebooks",onChange:e=>i(e.currentTarget.value)})),u.createElement(ne,null,f),u.createElement(ae,null,u.createElement(oe,null,"Can't find your Notebook?"," ",u.createElement(ie,{target:"_blank",href:pt},"Learn more")),u.createElement(re,{emphasis:"medium",onClick:s},"New Notebook"),u.createElement(re,{disabled:"error"===a||"loading"===a||void 0===r,onClick:p},"Submit"))):u.createElement("div",null,"Undefined state")},b={title:"Datasets",icon:"table_chart",pane:"dataset"===n?u.createElement(te,null,u.createElement(ee,null,u.createElement(ce,{value:t,label:"Search your public Datasets",onChange:e=>i(e.currentTarget.value)})),u.createElement(ne,null,f),u.createElement(ae,null,u.createElement(oe,null,"Can't find your Dataset?"," ",u.createElement(ie,{target:"_blank",href:pt},"Learn more")),u.createElement(re,{emphasis:"medium",onClick:l},"New Dataset"),u.createElement(re,{disabled:"error"===a||"loading"===a||void 0===r,onClick:m},"Submit"))):u.createElement("div",null,"Undefined state")},v=[g,b],y="dataset"===n?b:g;return u.createElement(X,null,u.createElement(J,null,u.createElement(le,null,"Submit to Task"),u.createElement(A.a,{onClose:h})),u.createElement(se,{tabs:v,selectedTab:y,onChangeTab:e=>o("Datasets"===e.title?"dataset":"notebook")}))},de=100;let pe=(()=>{class e extends u.Component{constructor(){super(...arguments),this.state={searchQuery:"",mode:"notebook",listState:"loading",selectedItem:void 0},this.onChangeMode=e=>{this.setState({mode:e,listState:"loading",selectedItem:void 0},()=>this.search())},this.onChangeSearchQuery=e=>{this.setState({searchQuery:e},()=>this.search())},this.search=Object(P.a)(500,()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:e}}=this.context,{taskId:t}=this.props,{searchQuery:n,mode:a}=this.state,r={datasetTaskId:t,submissionType:a,search:n,offset:0,limit:de};this.setState({listState:"loading",selectedItem:void 0});try{const n=yield e.getPossibleTaskSubmissions(r);Object(b.a)(this.context,"load-possible-submissions",{taskId:t,request:r}),this.setState(e=>{if(e.mode===n.submissionType){return Object.assign(Object.assign({},e),{listState:n.results,selectedItem:void 0})}return e})}catch(e){Object(b.a)(this.context,"load-possible-submissions-error",{taskId:t,request:r,error:e}),this.setState(e=>e.mode===r.submissionType?Object.assign(Object.assign({},e),{listState:"error",selectedItem:void 0}):e)}}))),this.onSelectDataset=e=>{const{taskId:t}=this.props;Object(b.a)(this.context,"select-possible-submission-dataset",{taskId:t,datasetId:e.id}),this.setState(t=>"dataset"===t.mode?Object.assign(Object.assign({},t),{selectedItem:e}):t)},this.onSelectNotebook=e=>{const{taskId:t}=this.props;Object(b.a)(this.context,"select-possible-submission-notebook",{taskId:t,kernelId:e.id}),this.setState(t=>"notebook"===t.mode?Object.assign(Object.assign({},t),{selectedItem:e}):t)},this.onSubmitDataset=()=>{const{onSubmit:e}=this.props,{mode:t,selectedItem:n}=this.state;"dataset"===t&&n&&e(n)},this.onSubmitNotebook=()=>{const{onSubmit:e}=this.props,{mode:t,selectedItem:n}=this.state;"notebook"===t&&n&&e(n)}}componentDidMount(){this.search()}render(){const{taskId:e,onNewDataset:t,onNewNotebook:n,onClose:a}=this.props,{searchQuery:r,mode:o,listState:i,selectedItem:s}=this.state;return u.createElement(ue,{key:e,searchQuery:r,mode:o,listState:i,selectedItem:s,onChangeMode:this.onChangeMode,onChangeSearchQuery:this.onChangeSearchQuery,onNewDataset:t,onNewNotebook:n,onSelectDataset:this.onSelectDataset,onSelectNotebook:this.onSelectNotebook,onSubmitDataset:this.onSubmitDataset,onSubmitNotebook:this.onSubmitNotebook,onClose:a})}}return e.contextType=s.b,e})();const me=c()(x.c)`
  display: flex;
  align-items: center;
  padding: ${x.b} ${x.o};
`,he=c.a.div`
  flex: 1 0 0;
`,fe=c()(v.u)``,ge=c()(v.e)`
  color: ${x.d};
  margin-top: ${e=>e.theme.material.spacing(1)};
`,be=c()(C.a)`
  margin-right: ${x.b};
  width: 24px;
  height: 24px;
  flex: 0 0 24px;
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,ve=c()(C.a)`
  margin-right: ${x.b};
  flex: 0 0 24px;
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,ye=["You cannot submit the dataset as a solution to its own task.","You must be signed in to submit a solution.","This dataset has been submitted already.","This notebook has been submitted already.","As the task creator you cannot accept your own submission."],Ee=e=>{const{result:t}=e;if("error"===t.type){const e=void 0!==t.message&&ye.some(e=>e===t.message);return u.createElement(me,null,u.createElement(ve,{icon:"error",size:"medium",color:l.defaultTheme.material.color.status.error[900]}),u.createElement(he,null,u.createElement(fe,null,"Submission failed",t.message&&`: ${t.message}`),!e&&u.createElement(ge,null,"Please try again. If this keeps happening, please contact support@kaggle.com and we'll sort you out.")))}return u.createElement(me,null,u.createElement(be,{color:l.defaultTheme.material.color.status.success[1e3],icon:u.createElement("svg",{viewBox:"0 0 24 24",width:"18px",height:"18px"},u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),u.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xsmall"}),u.createElement(he,null,u.createElement(fe,null,"You just made a submission"),"existingDataset"===t.type&&u.createElement(ge,null,"You submitted an existing dataset, it will show up in the list after reloading."),"existingNotebook"===t.type&&u.createElement(ge,null,"You submitted an existing notebook, it will show up in the list after reloading."),"newDataset"===t.type&&u.createElement(ge,null,"You submitted a brand new dataset, it will show up in the submission list once we're done processing the data."),"newNotebook"===t.type&&u.createElement(ge,null,"You submitted an brand new kernel, it will show up in the submission list right once you made the kernel public.")))};var we=n(252),xe=n(1183);const Ce=c.a.div`
  padding: ${x.b} ${x.o};
  border-bottom: 1px solid ${x.a};
`,ke=c.a.div`
  padding: ${x.o};
`,Se=c.a.div`
  max-width: 600px;
`,_e=c.a.div`
  max-width: 270px;
`,Oe=c.a.div`
  padding: ${x.b} ${x.o};
  border-top: 1px solid ${x.a};
  display: flex;
  align-items: center;
`,Te=c()(i.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,je=c()(v.p)``,Ie=c.a.div`
  margin-bottom: ${x.o};
`,De=c()(v.u)`
  margin-bottom: ${x.b};
`,Ne=c.a.span`
  color: ${x.d};
`,Me=c()(C.a)`
  margin-left: ${e=>e.theme.material.spacing(1)};
  vertical-align: text-bottom;
`,Fe=c()(we.Tooltip)`
  vertical-align: text-bottom;
`,Pe=c()(v.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
`,Le=c()(L.a)`
  width: 100%;
  height: 44px !important;

  && .mdc-notched-outline__notch {
    display: none !important;
  }

  && .mdc-text-field__input {
    height: 42px !important;
  }
`,Ae=e=>{const{title:t,subtitle:n,description:a,isCreation:r,editingState:o,deadline:i,onChangeDeadline:s,onChangeTitle:c,onChangeSubtitle:d,onChangeDescription:p,onSave:m,onDiscard:h}=e,f=u.useContext(xe.a),g=r?"Create New Task":"Edit Task",b="saving"===o?"Saving...":r?"Create Task":"Save Task",v=i.value?i.value.toISOString().slice(0,10):void 0,y="saving"===o||void 0!==t.error||void 0!==n.error||void 0!==a.error||void 0!==i.error||!t.value,E="error"===o?"There was a problem saving your task, please try again.":t.error||n.error||a.error||i.error;return u.createElement(x.c,null,u.createElement(Ce,null,u.createElement(je,null,g)),u.createElement(ke,null,u.createElement(Se,null,u.createElement(Ie,null,u.createElement(De,null,"Title"),u.createElement(Le,{label:"Enter Title",value:t.value,status:t.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>c(e.currentTarget.value)})),u.createElement(Ie,null,u.createElement(De,null,"Subtitle ",u.createElement(Ne,null,"(optional)")),u.createElement(Le,{label:"Enter Subtitle",value:n.value,status:n.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>d(e.currentTarget.value)})),u.createElement(Ie,null,u.createElement(De,null,"Description"),f(a.value||$e,e=>p(e)))),u.createElement(_e,null,u.createElement(Ie,null,u.createElement(De,null,"Submission Deadline ",u.createElement(Ne,null,"(optional)"),u.createElement(Fe,{type:"dark",tip:u.createElement(u.Fragment,null,"Deadlines are in UTC.",u.createElement("br",null),"Most Tasks don't need a deadline.")},u.createElement(Me,{icon:u.createElement("svg",{viewBox:"0 0 24 24",width:"16px",height:"16px"},u.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),u.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"})),size:"xsmall",color:l.defaultTheme.material.color.brand.blue[700]}))),u.createElement(Le,{label:"Enter Deadline",type:"date",value:v,status:i.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>s(e.currentTarget.value?new Date(e.currentTarget.value):void 0)})))),u.createElement(Oe,null,u.createElement(Te,{onClick:m,disabled:y},b),!r&&u.createElement(Te,{onClick:h,disabled:"saving"===o,emphasis:"medium"},"Discard Changes"),E&&u.createElement(Pe,null,E)))},Re=6,Ue=100,ze=255,$e="## Task Details\nEvery task has a story. Tell users what this task is all about and why you created it.\n\n## Expected Submission\nWhat should users submit? Should they solve the task primarily using Notebooks or Datasets? What should the solution contain?\n\n## Evaluation\nWhat makes a good solution? How do you evaluate which submission is better than another?\n\n### Further help\nIf you need additional inspiration, check out these existing high-quality tasks:\n- https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset/tasks?taskId=508 (Predict the Spreading of Coronavirus)\n- https://www.kaggle.com/paultimothymooney/open-elections-data-usa/tasks?taskId=12 (Create CSV files from PDF files)\n- https://www.kaggle.com/leonardopena/top50spotify2019/tasks?taskId=198 (Top 50 Spotify Songs 2019)\n\n";let Be=(()=>{class e extends u.Component{constructor(){super(...arguments),this.state={title:{value:this.props.existingTask?this.props.existingTask.title:""},subtitle:{value:this.props.existingTask&&this.props.existingTask.subtitle?this.props.existingTask.subtitle:void 0},description:{value:this.props.existingTask?this.props.existingTask.description:""},deadline:{value:this.props.existingTask&&this.props.existingTask.deadline?new Date(this.props.existingTask.deadline):void 0},editingState:"editing"},this.onSave=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{existingTask:e,datasetId:t,onFinish:n}=this.props,{title:a,subtitle:r,description:o,deadline:i}=this.state,{clients:s}=this.context,{datasetsClient:l}=s,c=o.value===$e?"":o.value;try{if(this.setState({editingState:"saving"}),e)yield l.editTask({taskId:e.id,title:a.value,subtitle:r.value?r.value:null,description:c,deadline:i.value?i.value.toISOString():null}),this.setState({editingState:"editing"}),Object(b.a)(this.context,"save",{mode:"existing",taskId:e.id,datasetId:t}),n(e.id);else{const e=yield l.createTask({datasetId:t,title:a.value,subtitle:r.value?r.value:null,description:c,deadline:i.value?i.value.toISOString():null});this.setState({editingState:"editing"}),Object(b.a)(this.context,"save",{mode:"create",datasetId:t}),n(e.taskId)}}catch(e){Object(b.a)(this.context,"save-error",{datasetId:t,error:e}),this.setState({editingState:"error"})}})),this.onDiscard=()=>{const{existingTask:e,onFinish:t}=this.props;Object(b.a)(this.context,"edit-discard"),t(e?e.id:void 0)},this.onChangeTitle=e=>{this.setState({title:{value:e}},this.validate)},this.onChangeSubtitle=e=>{this.setState({subtitle:{value:e}},this.validate)},this.onChangeDescription=e=>{this.setState({description:{value:e}},this.validate)},this.onChangeDeadline=e=>{this.setState({deadline:{value:e}},this.validate)},this.validate=()=>{const{title:e,subtitle:t,description:n,deadline:a}=this.state,r=e.value?e.value.length<Re||e.value.length>Ue?`Title must be between ${Re} and ${Ue} characters.`:void 0:"Title is required.",o=t.value&&t.value.length>ze?`Subtitle must be less than ${ze}  characters.`:void 0,i=n.value?n.value===$e?"Please change the description template.":void 0:"Description is required.",s=new Date,l=a.value&&a.value<s?"Deadline (in UTC) can not be in the past.":void 0;this.setState(e=>Object.assign(Object.assign({},e),{title:{value:e.title.value,error:r},subtitle:{value:e.subtitle.value,error:o},description:{value:e.description.value,error:i},deadline:{value:e.deadline.value,error:l}}))}}render(){const{existingTask:e}=this.props,{title:t,subtitle:n,description:a,deadline:r,editingState:o}=this.state;return u.createElement(Ae,{title:t,subtitle:n,description:a,deadline:r,isCreation:void 0===e,editingState:o,onChangeTitle:this.onChangeTitle,onChangeSubtitle:this.onChangeSubtitle,onChangeDescription:this.onChangeDescription,onChangeDeadline:this.onChangeDeadline,onSave:this.onSave,onDiscard:this.onDiscard})}}return e.contextType=s.b,e})();var Ve=n(1474),He=n(1908),We=n(245),qe=n(1040);const Ke=c()(o.a)`
  z-index: 100 !important;
`,Ge=c.a.div`
  padding: ${x.o};
`,Ye=c.a.div`
  display: flex;
  margin-bottom: ${x.b};
`,Ze=c.a.div`
  flex: 1 0;
  min-width: 0;
`,Qe=c.a.div`
  flex: 0 0;
  margin-left: ${e=>e.theme.material.spacing(20)};
`,Xe=c.a.div`
  padding: ${x.b} ${x.o};
  border-top: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  display: flex;
`,Je=c.a.div`
  flex-grow: 1;
`,et=c()(i.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  flex-grow: 0;
`,tt=c()(v.o)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  overflow: hidden;
  text-overflow: ellipsis;
`,nt=c()(v.b)`
  color: ${x.d};
  margin-bottom: ${x.b};
  overflow: hidden;
  text-overflow: ellipsis;
`,at=c()(v.b)`
  color: ${e=>e.theme.material.color.text[70]} !important;
  margin-right: ${e=>e.theme.material.spacing(30)};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    margin-right: 0 !important;
  }

  h1 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.h5.fontSize};
    font-weight: ${e=>e.theme.material.typography.h5.fontWeight};
    line-height: ${e=>e.theme.material.typography.h5.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(4)} !important;
  }

  h2 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.h6.fontSize};
    font-weight: ${e=>e.theme.material.typography.h6.fontWeight};
    line-height: ${e=>e.theme.material.typography.h6.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(3)} !important;
  }

  h3 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.subhead.fontSize};
    font-weight: ${e=>e.theme.material.typography.subhead.fontWeight};
    line-height: ${e=>e.theme.material.typography.subhead.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(2)} !important;
  }
`,rt=c()(v.b)`
  color: ${x.d};
`,ot=c()(v.v)`
  color: ${x.d};

  :visited {
    color: ${x.d};
  }
  :hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,it=c()(Ve.a)`
  background-color: ${e=>e.theme.material.color.brand.blue[100]};
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  margin-left: -${e=>e.theme.material.spacing(6)};
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
`,st=e=>{const{task:t,canEdit:n,canSubmit:a,canCurate:r,onSubmit:i,onVote:s,onEdit:l,onDelete:c,onCurate:d,onRecurate:p}=e,{title:m,subtitle:h,description:f,author:g,submissionCount:b,deadline:y,voteButton:E,tags:w,removedTags:C}=t,{displayName:_,slug:O}=g,{hasVotedUp:T,totalVotes:j,isDisabled:I}=E,D=w&&w.tags,N=C&&C.tags,[M,F]=u.useState(!1),P=u.useContext(qe.a),L=n||a||r,A=D&&D.filter(e=>15112===e.id||15113===e.id||15114===e.id||15115===e.id),R=N&&N.filter(e=>15112===e.id||15113===e.id||15114===e.id||15115===e.id),U=A.map(e=>e.id);let z=U;R&&(z=z.concat(R.map(e=>e.id)));const $=D&&-1!==D.findIndex(e=>15111===e.id),B=D&&-1!==D.findIndex(e=>15112===e.id)||N&&-1!==N.findIndex(e=>15112===e.id),V=D&&-1!==D.findIndex(e=>15113===e.id)||N&&-1!==N.findIndex(e=>15113===e.id),H=D&&-1!==D.findIndex(e=>15114===e.id)||N&&-1!==N.findIndex(e=>15114===e.id),W=D&&-1!==D.findIndex(e=>15115===e.id)||N&&-1!==N.findIndex(e=>15115===e.id);return u.createElement(x.c,null,u.createElement(Ge,null,u.createElement(Ye,null,u.createElement(Ze,null,u.createElement(tt,null,m),h&&u.createElement(nt,null,h),u.createElement(rt,null,u.createElement(ot,{href:`/${O}`,target:"_blank",rel:"noopener"},_)," · ",k("Submission",b,!0),y&&u.createElement(u.Fragment,null," · ",u.createElement(S.a,{time:y})))),u.createElement(Qe,null,u.createElement(He.a,{totalVotes:j,state:T?"voted-up":"no-vote",onVote:I?void 0:s}))),n&&A&&A.length>0&&!$&&u.createElement(it,{variant:"notice",graphic:"assignment_late",leftAction:{onClick:()=>p(z,!0),label:"Fixed"},rightAction:{onClick:()=>p(U,!1),label:"Dismiss"}},"This task would benefit from additional details for improvement:"," ",A.map(e=>e.displayName).join(", "),u.createElement("br",null),"Learn more with our"," ",u.createElement(v.v,{href:"/product-feedback/121068"},"Task Documentation")),u.createElement(at,null,P(f))),L&&u.createElement(u.Fragment,null,u.createElement(Xe,null,a&&u.createElement(et,{onClick:i},"Submit"),n&&u.createElement(u.Fragment,null,u.createElement(et,{emphasis:"medium",onClick:l},"Edit Task"),u.createElement(Je,null),u.createElement(et,{emphasis:"low",onClick:()=>F(!0)},"Delete Task"),u.createElement(Ke,{open:M,onClose:e=>{"delete"===e.detail.action&&c(),F(!1)}},u.createElement(o.d,null,"Are you sure you want to delete this task?"),u.createElement(o.c,null,"All saved information and submissions to this task will be deleted with this action. Are you sure you want to proceed?"),u.createElement(o.b,null,u.createElement(We.a,{action:"delete",emphasis:"low"},"Delete"),u.createElement(We.a,{action:"cancel",isDefaultAction:!0},"Cancel"))))),r&&!$&&u.createElement(Xe,null,u.createElement(v.b,null,"(Admin Tools)"),u.createElement(et,{onClick:()=>d(15111)},"Reviewed"),!B&&u.createElement(et,{emphasis:"medium",onClick:()=>d(15112)},"Needs Description"),!V&&u.createElement(et,{emphasis:"low",onClick:()=>d(15113)},"Submission Format"),!H&&u.createElement(et,{emphasis:"low",onClick:()=>d(15114)},"Evaluation Criteria"),!W&&u.createElement(et,{onClick:()=>d(15115)},"Under Construction"))))};n.d(t,"b",(function(){return pt})),n.d(t,"a",(function(){return ht}));const lt=c.a.div`
  width: 100%;
  display: flex;
  justify-content: flex-end;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,ct=c.a.div`
  margin-top: ${e=>e.theme.material.spacing(4)};
`,ut=c.a.div`
  height: 480px;
  display: flex;
  background-color: ${e=>e.theme.material.color.white};
  margin: -32px;
`,dt=c()(o.a)`
  z-index: 100 !important;
`,pt="https://www.kaggle.com/product-feedback/121068",mt="datasetTabState";let ht=(()=>{class e extends u.Component{constructor(){super(...arguments),this.state={internalState:this.props.taskId?{type:"loading"}:{type:"list"}},this.onBackToList=()=>{Object(b.a)(this.context,"back-to-list"),this.setState({internalState:{type:"list"}}),this.replaceTaskIdInUrl(void 0)},this.onSelect=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context;Object(b.a)(this.context,"select",{taskId:e}),this.setState({internalState:{type:"loading"}});try{const n=yield t.getTask({taskId:e});this.setState({internalState:{type:"view",task:n,modal:"none",submissionResult:void 0,submissionListKey:0}}),this.replaceTaskIdInUrl(e)}catch(t){Object(b.a)(this.context,"select-error",{taskId:e,error:t}),this.setState({internalState:{type:"error"}})}})),this.onEdit=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){Object(b.a)(this.context,"edit",{taskId:e.id}),this.setState({internalState:{type:"edit",task:e}})})),this.onCreate=()=>{Object(b.a)(this.context,"create"),this.setState({internalState:{type:"create"}})},this.onShowSubmitModal=()=>{Object(b.a)(this.context,"show-submit-modal"),this.setState(e=>"view"===e.internalState.type?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"submission",submissionResult:void 0})}):e)},this.onCloseSubmissionModal=()=>{Object(b.a)(this.context,"close-submit-modal"),this.setState(e=>"view"===e.internalState.type&&"submission"===e.internalState.modal?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"none",submissionResult:void 0})}):e)},this.onCloseDatasetUploaderModal=e=>{const{internalState:t}=this.state;e&&"view"===t.type?Object(b.a)(this.context,"submission-new-dataset",{taskId:t.task.id}):Object(b.a)(this.context,"close-uploader-modal"),this.setState(t=>"view"===t.internalState.type&&"datasetUploader"===t.internalState.modal?Object.assign(Object.assign({},t),{internalState:Object.assign(Object.assign({},t.internalState),{modal:"none",submissionResult:e?{type:"newDataset"}:void 0,submissionListKey:t.internalState.submissionListKey+1})}):t)},this.onShowDatasetUploader=()=>{Object(b.a)(this.context,"show-uploader-modal"),this.setState(e=>"view"===e.internalState.type?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"datasetUploader",submissionResult:void 0})}):e)},this.onViewSubmission=e=>{Object(b.a)(this.context,"view-submission",{item:e}),window.open(`/${e.url}`,"_blank")},this.onVote=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{internalState:t}=this.state,{clients:{datasetsClient:n}}=this.context;if("view"===t.type)try{yield n.taskVote({taskId:e.id,isUpvote:!e.voteButton.hasVotedUp}),Object(b.a)(this.context,"vote",{isUpvote:!e.voteButton.hasVotedUp,taskId:e.id}),this.setState(e=>"view"!==e.internalState.type?e:Object.assign(Object.assign({},e),{internalState:{type:"view",modal:e.internalState.modal,submissionListKey:e.internalState.submissionListKey,submissionResult:e.internalState.submissionResult,task:Object.assign(Object.assign({},e.internalState.task),{voteButton:Object.assign(Object.assign({},e.internalState.task.voteButton),{hasVotedUp:!e.internalState.task.voteButton.hasVotedUp,totalVotes:e.internalState.task.voteButton.hasVotedUp?e.internalState.task.voteButton.totalVotes-1:e.internalState.task.voteButton.totalVotes+1})})}}))}catch(t){Object(b.a)(this.context,"vote-error",{taskId:e.id,error:t})}})),this.onDelete=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onChangeTaskCount:t}=this.props,{clients:{datasetsClient:n}}=this.context;this.setState({internalState:{type:"loading"}});try{yield n.deleteTask({taskId:e.id}),this.setState({internalState:{type:"list"}}),Object(b.a)(this.context,"delete",{taskId:e.id}),t(-1)}catch(t){Object(b.a)(this.context,"delete-error",{taskId:e.id,error:t}),this.setState({internalState:{type:"error"}})}})),this.onCurate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={tagId:t,taskId:e.id};yield s.x.tagService.tagDatasetTask(n),Object(b.a)(this.context,"task-curation",{taskId:e.id,tagId:t}),yield this.onSelect(e.id)})),this.onRecurate=(e,t,n)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const a={rereview:n,tagIds:t,taskId:e.id};yield s.x.tagService.untagDatasetTask(a),Object(b.a)(this.context,"task-curation-reaction",{taskId:e.id,fixed:n,tagIds:t}),yield this.onSelect(e.id)})),this.onFinishTaskEdit=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onChangeTaskCount:t}=this.props,{internalState:n}=this.state,{clients:{datasetsClient:a}}=this.context,r="create"===n.type;if(e){this.setState({internalState:{type:"loading"}});try{const n=yield a.getTask({taskId:e});this.setState({internalState:{type:"view",task:n,modal:"none",submissionResult:void 0,submissionListKey:0}}),Object(b.a)(this.context,"finish-edit",{taskId:e}),r&&(t(1),this.replaceTaskIdInUrl(e))}catch(t){Object(b.a)(this.context,"finish-edit-error",{taskId:e}),this.setState({internalState:{type:"error"}})}}else this.setState({internalState:{type:"list"}})})),this.onNewNotebookSubmission=()=>{const{dataset:{datasetVersionId:e}}=this.props,{internalState:t}=this.state;if("view"!==t.type)return;Object(b.a)(this.context,"submission-new-notebook",{taskId:t.task.id});const n=Object(d.d)(e);window.open(n,"_self")},this.onExistingItemSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type)try{yield t.createTaskSubmission({datasetTaskId:n.task.id,kernelId:"notebook"===e.type&&e.notebookInfo?e.notebookInfo.kernelId:null,datasetId:"dataset"===e.type&&e.datasetInfo?e.datasetInfo.datasetId:null}),this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:"notebook"===e.type?{type:"existingNotebook"}:{type:"existingDataset"},submissionListKey:n.submissionListKey+1}}),Object(b.a)(this.context,`submission-existing-${e.type}`,{taskId:n.task.id})}catch(t){const a=t instanceof Error?t.message:"string"==typeof t?t:void 0;Object(b.a)(this.context,`submission-existing-${e.type}-error`,{taskId:n.task.id,error:t,message:a}),this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:{type:"error",message:a},submissionListKey:n.submissionListKey+1}})}})),this.onAcceptSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type){try{yield t.acceptTaskSubmission({taskSubmissionId:e.id}),Object(b.a)(this.context,"accept",{taskId:n.task.id,submissionId:e.id})}catch(t){Object(b.a)(this.context,"accept-error",{taskId:n.task.id,submissionId:e.id})}this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:void 0,submissionListKey:n.submissionListKey+1}})}})),this.onUnaccept=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:e}}=this.context,{internalState:t}=this.state;if("view"===t.type){try{yield e.unacceptTaskSubmissions({taskId:t.task.id}),Object(b.a)(this.context,"unaccept",{taskId:t.task.id})}catch(e){Object(b.a)(this.context,"unaccept-error",{taskId:t.task.id})}this.setState({internalState:{type:"view",modal:"none",task:t.task,submissionResult:void 0,submissionListKey:t.submissionListKey+1}})}})),this.onDeleteSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type){try{yield t.deleteTaskSubmission({taskSubmissionId:e.id}),Object(b.a)(this.context,"delete",{taskId:n.task.id,submissionId:e.id})}catch(t){Object(b.a)(this.context,"delete-error",{taskId:n.task.id,submissionId:e.id})}this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:void 0,submissionListKey:n.submissionListKey+1}})}})),this.replaceTaskIdInUrl=e=>{const t=window.history.state,n=new URLSearchParams(location.search);e?n.set("taskId",e.toString()):n.delete("taskId");const a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString(),o=t&&t[mt]?t[mt].currentTab:"tasks",i={};i[mt]={path:a,currentTab:o,taskId:e},Object(r.d)(i,"",a)},this.renderBackToList=()=>u.createElement(lt,null,u.createElement(i.a,{emphasis:"low",onClick:this.onBackToList},"Back to task list"))}componentDidMount(){const{taskId:e}=this.props;e&&this.onSelect(e)}render(){var e;const{dataset:{datasetId:t,canCreateTask:n},user:a}=this.props,{internalState:r}=this.state;if("list"===r.type)return u.createElement(M,{datasetId:t,canCreate:n,onSelect:e=>this.onSelect(e.id),onCreate:this.onCreate});if("create"===r.type)return u.createElement(u.Fragment,null,this.renderBackToList(),u.createElement(Be,{datasetId:t,onFinish:this.onFinishTaskEdit}));if("edit"===r.type)return u.createElement(u.Fragment,null,this.renderBackToList(),u.createElement(Be,{datasetId:t,existingTask:r.task,onFinish:this.onFinishTaskEdit}));if("view"===r.type){const{task:t,modal:n,submissionResult:o}=r,i=void 0!==a.id&&0!==a.id&&(!t.deadline||new Date(t.deadline)>new Date),s=a&&a.isAdmin||t.author.id===a.id,l=a&&a.isAdmin||t.author.id===a.id,c=a.isAdmin,d=s?this.onAcceptSubmission:void 0,p=s?this.onUnaccept:void 0,m=s?this.onDeleteSubmission:void 0;return u.createElement(u.Fragment,null,this.renderBackToList(),u.createElement(st,{task:t,onEdit:()=>this.onEdit(t),onSubmit:this.onShowSubmitModal,onDelete:()=>this.onDelete(t),onVote:()=>this.onVote(t),onCurate:e=>this.onCurate(t,e),onRecurate:(e,n)=>this.onRecurate(t,e,n),canEdit:l,canSubmit:i,canCurate:c}),o&&u.createElement(ct,null,u.createElement(Ee,{result:o})),u.createElement(ct,null,u.createElement(F.a,{key:r.submissionListKey,source:{type:"task",id:t.id},canSubmit:i,taskAuthorId:null===(e=t.author)||void 0===e?void 0:e.id,onSubmit:this.onShowSubmitModal,onSelect:this.onViewSubmission,onAccept:d,onUnaccept:p,onDelete:m}),u.createElement(dt,{open:"submission"===n,onClose:this.onCloseSubmissionModal},u.createElement(ut,null,"submission"===n&&u.createElement(pe,{taskId:t.id,onSubmit:this.onExistingItemSubmission,onNewDataset:this.onShowDatasetUploader,onNewNotebook:this.onNewNotebookSubmission,onClose:this.onCloseSubmissionModal}))),u.createElement(f,{referrer:"tasks",isOpen:"datasetUploader"===n,user:a,key:"datasetUploader"===n?"open":"closed",taskId:t.id,onCloseRequest:e=>this.onCloseDatasetUploaderModal("success"===e.type||"processing"===e.type),onBackClicked:this.onShowSubmitModal})))}return"loading"===r.type?u.createElement(w.a,{text:"Loading..."}):u.createElement(E.a,{text:"An error occurred."})}}return e.contextType=s.b,e})()},1274:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return _}));var a,r,o,i,s,l,c,u=n(2),d=n(1042),p=n(6),m=n(1),h=n.n(m),f=n(0),g=n(1007),b=n(21),v=n(1039),y=h.a.div.withConfig({displayName:"Dropdowns_DropdownBody",componentId:"sc-1llzs7g"})(a||(a=Object(u.__makeTemplateObject)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  bottom: -",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  color: ",";\n  list-style: none;\n  padding: ",";\n  position: absolute;\n  ",";\n  transform: translateY(100%);\n  z-index: ",";\n\n  /* CSS Triangle */\n  &:after {\n    border-color: transparent transparent ",' transparent;\n    border-style: solid;\n    border-width: 7px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -8px;\n  }\n\n  /* CSS Triangle Border */\n  &:before {\n    border-color: transparent transparent ",'\n      transparent;\n    border-style: solid;\n    border-width: 8px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -10px;\n  }\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  bottom: -",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  color: ",";\n  list-style: none;\n  padding: ",";\n  position: absolute;\n  ",";\n  transform: translateY(100%);\n  z-index: ",";\n\n  /* CSS Triangle */\n  &:after {\n    border-color: transparent transparent ",' transparent;\n    border-style: solid;\n    border-width: 7px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -8px;\n  }\n\n  /* CSS Triangle Border */\n  &:before {\n    border-color: transparent transparent ",'\n      transparent;\n    border-style: solid;\n    border-width: 8px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -10px;\n  }\n"])),g.b.PureWhite,g.b.ContentBorder,g.g.PadS,g.b.TextMedium,g.g.PadM,(function(e){return e.rightSide?"right: 0;":"left: 0"}),g.i.Z1001,g.b.PureWhite,(function(e){return e.rightSide?"right: 16px;":"left: 16px"}),g.b.ContentBorder,(function(e){return e.rightSide?"right: 16px;":"left: 16px"})),E=h()(y).withConfig({displayName:"Dropdowns_HeaderDropdownBody",componentId:"sc-q55zbl"})(r||(r=Object(u.__makeTemplateObject)(["\n  width: 150px;\n"],["\n  width: 150px;\n"]))),w=h()(y).withConfig({displayName:"Dropdowns_ImageDropdownBody",componentId:"sc-yyi4nn"})(o||(o=Object(u.__makeTemplateObject)(["\n  width: 250px;\n"],["\n  width: 250px;\n"]))),x=h.a.div.withConfig({displayName:"Dropdowns_DropdownItem",componentId:"sc-ah111"})(i||(i=Object(u.__makeTemplateObject)(["\n  display: flex;\n  font-size: ",";\n  padding-bottom: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  font-size: ",";\n  padding-bottom: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n\n  &:hover {\n    color: ",";\n  }\n"])),g.d.FontSizeM,g.g.PadS,g.b.TextLink),C=h()(x).withConfig({displayName:"Dropdowns_HeaderDropdownItem",componentId:"sc-d2rylz"})(s||(s=Object(u.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n"],["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.fontSize}),g.d.FontWeightMedium),k=h()(v.b).withConfig({displayName:"Dropdowns_ImageDropdownIcon",componentId:"sc-1yvc0s2"})(l||(l=Object(u.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),g.b.TextLight,g.g.PadM),S=(h.a.div.withConfig({displayName:"Dropdowns_DialogMessage",componentId:"sc-lv28hj"})(c||(c=Object(u.__makeTemplateObject)(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),f.memo((function(e){var t=f.useRef(null);f.useEffect((function(){var n=function(n){var a=e.handleToggleHeaderDropdown;e.showHeaderDropdown&&!t.current.contains(n.target)&&a()},a=function(t){var n=e.handleToggleHeaderDropdown,a=e.showHeaderDropdown;27===t.keyCode&&a&&n()};return window.addEventListener("mousedown",n,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",n,!0),window.removeEventListener("keydown",a,!0)}}),[]);var n=e.handleInsert,a=e.snapSelection,r=e.value.substring(a.start,a.end);return f.createElement("div",{ref:t},f.createElement(E,null,f.createElement(C,{fontSize:"26px",onClick:function(e){return n(r,"# ","")}},"Heading 1"),f.createElement(C,{fontSize:"24px",onClick:function(e){return n(r,"## ","")}},"Heading 2"),f.createElement(C,{fontSize:"22px",onClick:function(e){return n(r,"### ","")}},"Heading 3"),f.createElement(C,{fontSize:"20px",onClick:function(e){return n(r,"#### ","")}},"Heading 4"),f.createElement(C,{fontSize:"18px",onClick:function(e){return n(r,"##### ","")}},"Heading 5"),f.createElement(C,{fontSize:"16px",onClick:function(e){return n(r,"###### ","")}},"Heading 6")))}))),_=f.memo((function(e){var t=f.useRef(null);f.useEffect((function(){var n=function(n){var a=e.handleToggleImageDropdown;e.showImageDropdown&&!t.current.contains(n.target)&&a()},a=function(t){var n=e.handleToggleImageDropdown,a=e.showImageDropdown;"Escape"===t.code&&a&&n()};return window.addEventListener("mousedown",n,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",n,!0),window.removeEventListener("keydown",a,!0)}}),[]);var n=e.handleToggleLinkImageModal,a=e.handleToggleUploadImageModal,r=Object(u.__read)(f.useState(!1),2),o=r[0],i=r[1];return f.createElement("div",{ref:t},f.createElement(w,null,b.a.mdeImageUploader?f.createElement(x,{onClick:function(e){p.n.allowForumAttachments?a():i(!0)}},f.createElement(k,{name:"upload"})," Upload image from computer"):null,f.createElement(x,{onClick:function(e){return n()}},f.createElement(k,{name:"globe"})," Embed image from a URL")),f.createElement(d.a,{open:o,onClose:function(){return i(!1)}}))}))},1328:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n(1),r=n.n(a),o=n(1630),i=n(0),s=n(15);const l=({children:e})=>{const[t,n]=i.useState(null);return e({targetRef:t,setTargetRef:n})},c=r.a.div`
  box-shadow: ${e=>e.theme.material.elevation[2]};
  background-color: white;
  border-radius: 16px;
  width: fit-content;
`,u=(e,t,n,a=0)=>{const{top:r=0,left:o=0,width:i=0,height:s=0}=null!=t?t:{},{width:l=0,height:c=0}=null!=e?e:{};return`translate(${["left"===n[1]?o-l-a:o+i+a,"top"===n[0]?r-c-a:r+s+a].map(e=>`${e}px`).join(", ")})`},d=e=>{const{children:t,targetRef:n,timeout:a=500}=e,[r,l]=i.useState(!1),[d,p]=i.useState(!1),[m,h]=i.useState(!1),[f,g]=i.useState(null),[b,v]=i.useState(null),[y,E]=i.useState(null),[w,x]=i.useState(["bottom","right"]),C=()=>{if(!f)return;const{width:e,height:t}=f.getBoundingClientRect(),[n,a]=(e=>{var t;const n=null!==(t=e.style.transform.match(/scale\((.+),(.+)\)/))&&void 0!==t?t:[],[a=1,r=1]=n.map(parseFloat).filter(e=>!isNaN(e));return[1/a,1/r]})(f);v({width:e*n,height:t*a})},k=i.useMemo(()=>window.MutationObserver?new MutationObserver(C):null,[f]);i.useLayoutEffect(()=>{if(f&&k)return k.observe(f,{subtree:!0,childList:!0}),()=>{k.disconnect()}},[f]),i.useLayoutEffect(()=>{n&&E(n.getBoundingClientRect())},[d,n]),i.useLayoutEffect(()=>{f&&d&&C()},[d,f]),i.useEffect(()=>{if(!d)return;const e=()=>{p(!1)};return window.addEventListener("wheel",e),()=>{window.removeEventListener("wheel",e)}},[d]),i.useEffect(()=>{const e=setTimeout(()=>{p(r)},a);return()=>{clearTimeout(e)}},[r]),i.useEffect(()=>{if(!b||!y)return;const{width:e,height:t}=b,{bottom:n,right:a}=y;x([n+t>window.innerHeight?"top":"bottom",a+e>window.innerWidth?"left":"right"])},[b,y]),i.useEffect(()=>{if(!n)return;const e=()=>{E(n.getBoundingClientRect())};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n]);const S=()=>{l(!0)},_=()=>{l(!1)};return i.useEffect(()=>{if(n)return n.addEventListener("mouseenter",S),n.addEventListener("mouseleave",_),()=>{n.removeEventListener("mouseenter",S),n.removeEventListener("mouseleave",_)}},[n]),i.createElement(i.Fragment,null,(r||d||m)&&s.createPortal(i.createElement("div",{style:{position:"absolute",top:0,left:0,transform:u(b,y,w,4),zIndex:1001}},i.createElement(o.a,{in:d,style:{transformOrigin:["top"===w[0]?"bottom":"top","left"===w[1]?"right":"left"].join(" ")},onEnter:()=>{h(!0)},onExited:()=>{h(!1)}},i.createElement(c,{ref:g,onMouseEnter:S,onMouseLeave:_},t))),document.body))}},1329:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(6).c.Sdk.Users.Protos.UserAchievementTier;const r=e=>{switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 21:return"recalc"}},o=e=>{switch(e){case 0:return a.NOVICE;case 1:return a.CONTRIBUTOR;case 2:return a.EXPERT;case 3:return a.MASTER;case 4:return a.GRANDMASTER;case 5:return a.STAFF;case 21:return a.RECALC}return a.RECALC}},1330:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n(1328),r=n(1003),o=n(6),i=n(0),s=n(1117);const l=e=>{var t,n,a,r,o;return e?{thumbnailUrl:null!==(t=e.thumbnailUrl)&&void 0!==t?t:void 0,profileUrl:null!==(n=e.userUrl)&&void 0!==n?n:void 0,tier:null!==(a=e.tier)&&void 0!==a?a:void 0,displayName:null!==(r=e.displayName)&&void 0!==r?r:"",id:null!==(o=e.id)&&void 0!==o?o:void 0}:{size:"medium",tier:"deleted",displayName:"",thumbnailUrl:"/static/images/grey-thumbnail-small.png"}},c=e=>{var t,n,a;return e?{thumbnailUrl:null!==(t=e.thumbnailUrl)&&void 0!==t?t:"",userUrl:null!==(n=e.url)&&void 0!==n?n:"",tier:u(e.tier),displayName:null!==(a=e.displayName)&&void 0!==a?a:"",id:e.id}:null},u=e=>{switch(e){case o.c.Sdk.Users.Protos.UserAchievementTier.CONTRIBUTOR:return"contributor";case o.c.Sdk.Users.Protos.UserAchievementTier.EXPERT:return"expert";case o.c.Sdk.Users.Protos.UserAchievementTier.MASTER:return"master";case o.c.Sdk.Users.Protos.UserAchievementTier.GRANDMASTER:return"grandmaster";case o.c.Sdk.Users.Protos.UserAchievementTier.STAFF:return"staff";case o.c.Sdk.Users.Protos.UserAchievementTier.RECALC:return"recalc";default:return"novice"}},d=({thumbnailUrl:e,size:t="medium",profileUrl:n,tier:o="novice",displayName:l="",id:c,openLinkInNewWindow:u,className:d,showPopover:p=!0})=>i.createElement(a.b,null,({targetRef:m,setTargetRef:h})=>i.createElement(i.Fragment,null,i.createElement(r.a,{ref:h,thumbnailUrl:e,size:t,profileUrl:n,tier:o,displayName:l,openLinkInNewWindow:u,className:d}),p&&i.createElement(a.a,{targetRef:m},i.createElement(s.a,{userId:c,userName:null==n?void 0:n.substring(1)}))))},1331:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(1064),i=n(0);n(1063);const s=r()(o.a)`
  && {
    padding: ${e=>e.padding?e.padding:"0px"};
  }
`,l=e=>{const{align:t,children:n,className:a,fixedColumnWidth:r,padding:o}=e;return i.createElement(s,{align:t,className:a,fixedColumnWidth:r,padding:o},n)}},1332:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(1064),i=n(0);n(1063);const s=r()(o.b)``,l=e=>{const{align:t,children:n,className:a,desktop:r,order:o,phone:l,span:c,tablet:u}=e;return i.createElement(s,{align:t,className:a,desktop:r,order:o,phone:l,span:c,tablet:u},n)}},1333:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(31),o=n(122),i=function(t){function n(e){var n=t.call(this,e)||this;return n.state={msRemaining:n.getMsRemaining()},n.timer=window.setInterval((function(){var e=n.getMsRemaining();e<=0&&(window.clearInterval(n.timer),n.props.onBlastoff&&n.props.onBlastoff()),n.setState({msRemaining:e})}),1e3),n}return Object(a.__extends)(n,t),n.prototype.getMsRemaining=function(){return new Date(this.props.time).getTime()-(new Date).getTime()},n.prototype.showSeconds=function(e){return!this.props.hideSeconds||e<6e5},n.prototype.render=function(){var t=r.duration(this.state.msRemaining),n=t.hours()||t.minutes(),a=this.showSeconds(this.state.msRemaining),i=t.days()?o("days",t.days(),!0)+", ":"",s=t.hours()?o("hours",t.hours(),!0)+", ":"",l=n?""+o("minutes",t.minutes(),!0):"",c=a&&n?" and ":"",u=a?""+o("seconds",t.seconds(),!0):"";return e.createElement("span",null,""+i+s+l+c+u)},n}(e.Component)}).call(this,n(0))},1334:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{let t=[];if(!e)return t;switch(e.type){case"dataSource":return a(e.databundleVersion);case"databundle":const n=e;n.databundleInfo&&n.databundleInfo.versions&&t.concat(n.databundleInfo.versions.children);break;case"databundleVersion":const r=e;r.filesetInfo&&r.filesetInfo.directories&&(t=t.concat(r.filesetInfo.directories.children)),r.filesetInfo&&r.filesetInfo.files&&(t=t.concat(r.filesetInfo.files.children)),r.bigquerySnapshotInfo&&r.bigquerySnapshotInfo.bigqueryTables&&(t=t.concat(r.bigquerySnapshotInfo.bigqueryTables.children));break;case"directory":const o=e;o.directoryInfo&&o.directoryInfo.directories&&(t=t.concat(o.directoryInfo.directories.children)),o.directoryInfo&&o.directoryInfo.files&&(t=t.concat(o.directoryInfo.files.children));break;case"file":const i=e;i.tableInfo&&i.tableInfo.tableColumns&&(t=t.concat(i.tableInfo.tableColumns.children)),i.sqliteInfo&&i.sqliteInfo.tables&&(t=t.concat(i.sqliteInfo.tables.children)),i.excelInfo&&i.excelInfo.tables&&(t=t.concat(i.excelInfo.tables.children));break;case"table":const s=e;s.tableInfo&&s.tableInfo.tableColumns&&(t=t.concat(s.tableInfo.tableColumns.children))}return t}},1335:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t,n,r,o,i;switch(e.type){case"databundle":case"table":case"tableColumn":return!1;case"dataSource":return a(e.databundleVersion);case"databundleVersion":const s=e;return((null===(t=s.filesetInfo)||void 0===t?void 0:t.directories.totalChildren)||0)+((null===(n=s.filesetInfo)||void 0===n?void 0:n.files.totalChildren)||0)+((null===(r=s.bigquerySnapshotInfo)||void 0===r?void 0:r.bigqueryTables.totalChildren)||0)>0;case"file":const l=e;return((null===(o=l.sqliteInfo)||void 0===o?void 0:o.tables.totalChildren)||0)+((null===(i=l.excelInfo)||void 0===i?void 0:i.tables.totalChildren)||0)>0;case"directory":const c=e,u=c.directoryInfo.directories.totalChildren+c.directoryInfo.files.totalChildren,d=c.path.startsWith("/kaggle/working");return u>0||d}return!1}},1336:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t[e.path];return void 0===n?"notExpanded":n}},1337:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{switch(e.columnExtendedType){case"address":case"coordinates":case"latitude":case"longitude":return"navigation";case"city":case"postalCode":case"province":return"language";case"country":return"flag";case"decimal":case"integer":return"grid_3x3";case"email":return"email";case"id":case"uuid":return"vpn_key";case"url":return"link"}switch(e.columnType){case"boolean":return"check";case"dateTime":return"calendar_today";case"numeric":return"grid_3x3";case"string":return"text_format";case"unknown":default:return"quiz"}}},1338:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t[e];return void 0===n?{type:"noPreview"}:n}},1339:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(145),r=n(988),o=n(1),i=n.n(o),s=n(0);const l=i.a.div`
  display: flex;
  margin: ${e=>e.theme.material.spacing(6)};
`,c=i()(a.b)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,u=s.memo(()=>s.createElement(l,null,s.createElement(r.a,{size:"xsmall"}),s.createElement(c,null,"Loading...")))},1341:function(e,t,n){t.Converter=n(1246).Converter,t.getSanitizingConverter=n(1386).getSanitizingConverter},1342:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(1007),u=l.a.div.withConfig({displayName:"ActivityContentBox_Wrapper",componentId:"sc-7l03gg"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 220px;\n\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n\n  font-size: ",";\n\n  @media screen and (max-width: ",") {\n    border-radius: 0;\n    min-height: 0;\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  min-height: 220px;\n\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n\n  font-size: ",";\n\n  @media screen and (max-width: ",") {\n    border-radius: 0;\n    min-height: 0;\n  }\n"])),c.b.PureWhite,c.g.BorderRadius,c.b.ContentBorder,c.d.FontSizeM,c.a.ScreenTabletMax),d=l.a.h3.withConfig({displayName:"ActivityContentBox_ActivityTitle",componentId:"sc-aejcu8"})(r||(r=Object(i.__makeTemplateObject)(["\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n"],["\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n"])),c.b.TextLight,c.d.FontWeightMedium,c.g.PadM),p=l.a.div.withConfig({displayName:"ActivityContentBox_ActivityChildWrapper",componentId:"sc-10paxrz"})(o||(o=Object(i.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n"])));function m(t){var n=t.title,a=t.children,r=t.className,o="string"==typeof n?e.createElement(d,null,n):n;return e.createElement(u,{className:r},o,e.createElement(p,null,a))}}).call(this,n(0))},1346:function(e,t,n){"use strict";var a=n(1385),r=n(1451);const o=e=>Array.isArray(e)?"["+e.map(o).join(", ")+"]":e instanceof Object?"{"+Object.keys(e).sort().map(t=>`${t}:${o(e[t])}`).join(",")+"}":JSON.stringify(e);n.d(t,"a",(function(){return i}));const i=(e,t,n)=>{if(!Object(r.a)(e))return e.path;const i=Object.assign({skip:void 0,take:void 0,filters:[],sortBy:void 0,selectedColumns:void 0},t);if(void 0===(null==n?void 0:n.baseInfo)||void 0===i.selectedColumns){const t=Object.assign(Object.assign({},i),{selectedColumns:void 0});return e.path+o(t)}const s=n.baseInfo.map(e=>e.firestorePath).slice(0,a.a);if(i.selectedColumns.length===s.length&&i.selectedColumns.map(e=>s.includes(e.firestorePath)).reduce((e,t)=>e&&t,!0)){const t=Object.assign(Object.assign({},i),{selectedColumns:void 0});return e.path+o(t)}return e.path+o(i)}},1348:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(1221);const i=r.a.div`
  border-radius: 16px;
  border: 1px solid ${e=>o.a[e.theme.name].border};
  min-width: 200px;
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;

  :hover {
    box-shadow: ${e=>e.theme.material.elevation[3]};
  }
`},1349:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(249),r=n(885),o=n(884),i=n(260),s=n(992),l=n(994),c=n(6),u=n(1),d=n.n(u),p=n(0),m=n(1381),h=n(1045),f=n(1409);const g=d()(a.a)`
  height: 36px;
  width: 36px;
`,b=e=>{const{analyticsLogger:t,notebook:n,onNotebookDeleted:a,icon:u="more_horiz",isInModal:d=!1}=e,[b,v]=p.useState(!1),y=n.canCurrentUserDeleteKernel&&a;return p.createElement(p.Fragment,null,p.createElement(r.a,null,p.createElement(g,{icon:u,size:"small",onClick:e=>{e.preventDefault(),t.report("listing-item-menu-show"),v(!0)}}),p.createElement(o.a,{open:b,onClose:()=>v(!1),hoistToBody:!0,style:d?{zIndex:1001}:void 0},n.scriptVersionId&&!n.canCurrentUserEditKernel&&p.createElement(i.a,{icon:"call_split",onClick:()=>{t.report("listing-item-fork-and-edit-show"),Object(f.a)(n,t)}},"Copy and Edit"),n.canCurrentUserEditKernel&&p.createElement(s.a,{icon:"edit",href:n.scriptEditUrl},"Edit"),n.scriptVersionId&&p.createElement(s.a,{icon:"cloud_download",download:!0,href:Object(f.c)(n.scriptVersionId),onClick:()=>t.report("listing-item-download-show")},"Download"),p.createElement(i.a,{icon:"open_in_new",onClick:()=>{t.report("listing-item-open-in-gcp-show"),Object(f.d)(n)}},"Open in Google Cloud"),c.n.bookmarksUI&&p.createElement(m.a,{bookmark:{bookmarkType:h.a.KERNEL,bookmarkedEntityId:n.id}}),y&&p.createElement(l.a,null),y&&p.createElement(i.a,{icon:"delete",onClick:()=>{t.report("listing-item-delete-show"),Object(f.b)(n,t).then(e=>{e&&a(n)})}},"Delete"))))}},1350:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(0),o=n(379);function i(e){var t=e.style,n=e.disabled,i=Object(a.__rest)(e,["style","disabled"]);return n?r.createElement("div",{className:"rdt",style:t},r.createElement("input",{type:"text",className:"form-control",disabled:n,value:i.value?i.value.toString():""})):r.createElement(o,Object(a.__assign)({},i))}},1351:function(e,t){},1352:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(1345),i=n(0);n(1155),n(1156),n(1157),n(1340);const s=r()(o.a)`
  &:not(.mdc-text-field--focused):hover {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.hover} !important;
    }
  }

  &&& {
    min-width: ${e=>e.theme.material.spacing(32)};
    transition: all 0.3s ease;

    .mdc-text-field__input {
      font-family: "Inter", sans-serif;
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};

      caret-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};

      &:hover {
        background-color: transparent !important;
      }
    }

    .mdc-floating-label,
    .mdc-text-field__icon {
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};
    }

    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.default};
    }
  }

  &&&.mdc-text-field--focused {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};
    }
  }

  &&&.mdc-text-field--invalid {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.error};
    }

    .mdc-floating-label,
    .mdc-text-field__icon {
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.error};
    }
  }

  &&&.mdc-text-field--disabled {
    opacity: 0.38;
  }
`,l=e=>{const{onChange:t,disabled:n,label:a,leadingIcon:r,pattern:o,required:l,status:c,trailingIcon:u,trailingIconAction:d,type:p,value:m,name:h,className:f,onBlur:g,onFocus:b,autoFocus:v,textarea:y,fullwidth:E,placeholder:w}=e;return i.createElement(s,{autoFocus:v,onChange:t,disabled:n,icon:r,invalid:"invalid"===c||e.invalid,label:a,pattern:o,required:l,trailingIcon:u&&{icon:u,tabIndex:0,onClick:d},type:p,value:m,outlined:!0,name:h,className:f,onBlur:g,onFocus:b,textarea:y,placeholder:w,fullwidth:E})}},1353:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return h}));var a,r=n(2),o=n(1122),i=n(128),s=n(55),l=n(0),c=n(1084);!function(e){e[e.HTML=0]="HTML",e[e.MARKDOWN=1]="MARKDOWN"}(a||(a={}));var u=["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","h1","h2","img"];function d(e){switch(e){case a.HTML:return"text/html";case a.MARKDOWN:default:return"text/markdown"}}function p(e){switch(e){case"":case"text/html":return a.HTML;case"text/plain":case"text/markdown":case"text/x-markdown":return a.MARKDOWN;default:return a.HTML}}function m(e){return d(p(e))}var h=function(t){function n(n){var a=t.call(this,n)||this;return a.converter=new e.getSanitizingConverter,a}return Object(r.__extends)(n,t),n.prototype.createSanitizedMarkup=function(){var e=this.props,t=e.allowUnsanitizedHtml,n=e.content,r=e.mimeType,o=e.insertNofollow;if(!n)return"";var i="";return i=p(r)===a.HTML?t?n:c(n,{allowedTags:u,allowedAttributes:{a:["href","name","target"],div:["style"],img:["src","alt","align","width","height","style"],"*":["class"]}}):this.converter.makeHtml(n),o&&(i=i.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),i.replace(/\\(href|url)\s*({.*?})(\s*{.*?})?/g,"$2")},n.prototype.componentDidMount=function(){Object(o.a)(this.props.content,this.renderedDiv)},n.prototype.componentDidUpdate=function(){Object(o.a)(this.props.content,this.renderedDiv)},n.prototype.render=function(){var e=this,t=this.props,n=t.isCmsContent,a=t.allowUnsanitizedHtml;return Object(i.l)(l.createElement("div",{className:s(n?"cms-page-content":"markdown-converter__text--rendered",this.props.contentClassName),ref:function(t){e.renderedDiv=t}}),this.createSanitizedMarkup(),a)},n}(l.Component)}).call(this,n(1341))},1354:function(e,t,n){"use strict";var a=n(349),r=n(1),o=n.n(r),i=n(0),s=n(127),l=n(867),c=n(108),u=n(44),d=n(145);const p=o.a.div`
  height: 64px;
  width: 64px;
  position: relative;
`,m=o()(s.a)`
  width: 48px;
  height: 48px;
  border-radius: 100%;
`,h=o.a.div`
  width: 48px;
  height: 48px;
  border-radius: 100%;
  background-color: ${e=>u.a[e.theme.name].default.background};
  border: 1px solid ${e=>u.a[e.theme.name].default.divider};
  position: absolute;
  bottom: 0;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
`;var f=n(3),g=n(184),b=n(182),v=n(990),y=n(119),E=n(183),w=n(1377),x=n(6),C=n(122),k=n(891),S=n(1174),_=n(1330),O=n(1349);n.d(t,"a",(function(){return V}));const T=o()(a.a)`
  width: calc(100% - 186px);
  @media ${r.BreakpointDown.PHONE} {
    width: calc(100% - 98px);
  }
`,j=o()(e=>{const{thumbnailUrl:t,alt:n,className:a,onClick:r,badgeContent:o,style:u}=e,f=l.a.includes(o);return i.createElement(p,{className:a,onClick:r,style:u},i.createElement(m,{graphic:t,alt:n,useKM:!0}),i.createElement(h,null,!!f&&i.createElement(c.a,{size:"small",icon:o}),!f&&i.createElement(d.p,null,o),i.createElement(s.a,null,o)))})`
  .km-list--three-line & {
    img {
      width: 48px;
      height: 48px;
      border-radius: 100%;
    }
  }
`,I=o()(d.v)`
  color: ${f.j};
  border-bottom: 0px;
  &:visited {
    color: ${f.i};
  }
  &:hover {
    color: ${f.j};
    border-bottom: 2px solid;
  }
`,D=o()(g.a)`
  display: flex;
  height: calc(100% - 16px);
  width: 90px;
  padding-top: 16px;
`,N=o.a.span`
  padding-top: 8px;
  height: 36px;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
`,M=o()(d.t)`
  @media ${r.BreakpointDown.PHONE} {
    display: none;
  }
`,F=o()(b.a)`
  @media ${r.BreakpointDown.PHONE} {
    display: none;
  }
`,P=o.a.span`
  max-width: 40%;
`,L=o.a.span`
  overflow-x: hidden;
  text-overflow: ellipsis;
`,A=o.a.span``,R=o.a.span`
  flex-direction: row;
  white-space: pre;
  overflow-x: hidden;
  text-overflow: ellipsis;
`,U=e=>{const{dataSources:t}=e,n=t.filter(e=>!e.isPrivate).sort((e,t)=>{var n,a,r;return"competition"===(null===(n=e.sourceType)||void 0===n?void 0:n.toLowerCase())?"competition"===(null===(a=t.sourceType)||void 0===a?void 0:a.toLowerCase())?0:-1:"competition"===(null===(r=t.sourceType)||void 0===r?void 0:r.toLowerCase())?1:0}),a=n.length-1,r=n.slice(1).map(e=>e.name).join(", ");return i.createElement(P,null,i.createElement(L,null,n.length>0?n[0].name:"No data sources"),a>0?i.createElement(A,null,i.createElement(v.a,{tip:r}," +"+a)):"")},z=e=>{const{totalComments:t,commentsUrl:n,analyticsLogger:a}=e;return i.createElement(I,{href:n,onClick:e=>{e.stopPropagation(),e.preventDefault(),a.report("listing-item-clicked-comments")}},`${t} ${C("comment",t)}`)},$=e=>{const{notebook:t}=e;return i.createElement("span",null,t.forkParentInfo&&i.createElement("span",null,"Notebook copied with edits from"," ",t.forkParentInfo.isVisible?i.createElement(I,{href:t.forkParentInfo.kernelUrl,onClick:e=>{e.stopPropagation()}},t.forkParentInfo.authorDisplayName):"a private notebook"," · "),i.createElement("span",null,"Updated"," ",i.createElement(k.a,{time:new Date(t.lastRunTime),condense:!0})))},B=e=>{const{notebook:t,analyticsLogger:n}=e;return i.createElement(R,null,i.createElement(S.a,{separator:" · "},t.bestPublicScore&&i.createElement("span",null,"Score: "+t.bestPublicScore),t.isPrivate&&i.createElement("span",null," Private"),i.createElement(z,{totalComments:t.totalComments,commentsUrl:t.scriptCommentsUrl?t.scriptCommentsUrl:"",analyticsLogger:n}),i.createElement(U,{dataSources:t.dataSources})))},V=e=>{const{notebook:t,onNotebookDeleted:n,analyticsLogger:a,isInModal:r=!1,shelfLabel:o,shelfPosition:s,shelfExpanded:l}=e,[c,u]=i.useState([]);return i.useEffect(()=>{t.hasCollaborators&&x.q.getKernelCollaboratorList({kernelId:t.id,alwaysIncludeReadGroup:!1}).then(e=>{const t=e.collaboratorList.collaborators.map(e=>e.name);u(t)})},[]),i.createElement(y.a,{divider:!0,onClick:()=>{a.report("listing-item-clicked",{kernelId:t.id,shelfLabel:o,shelfPosition:s,shelfExpanded:l})}},i.createElement(F,null,t.hasCollaborators?i.createElement(v.a,{place:"right",tip:[t.author.displayName,...c].join(", ")},i.createElement(j,{className:"badgeAvatar",badgeContent:"+"+c.length,thumbnailUrl:t.author.thumbnailUrl,alt:[t.author.displayName,...c].join(", ")})):i.createElement(_.a,{id:t.author.id,displayName:t.author.displayName,profileUrl:t.author.profileUrl,openLinkInNewWindow:!0,thumbnailUrl:t.author.thumbnailUrl,tier:t.author.performanceTier,size:"xxlarge"})),i.createElement(T,{href:t.scriptUrl},i.createElement(E.a,{primaryText:t.title,secondaryText:i.createElement($,{notebook:t}),tertiaryText:i.createElement(B,{notebook:t,analyticsLogger:a})})),i.createElement(D,null,i.createElement(w.a,{upOnly:!0,dense:!0,userVote:t.currentUserHasVotedForThisScript?"up":"none",totalVotes:t.totalVotes,onUpvote:e=>e?(a.report("listing-item-upvoted",{kernelId:t.id,shelfLabel:o,shelfPosition:s,shelfExpanded:l}),x.q.createKernelUpvote({kernelId:t.id})):(a.report("listing-item-remoted-upvote",{kernelId:t.id,shelfLabel:o,shelfPosition:s,shelfExpanded:l}),x.q.deleteKernelUpvote({kernelId:t.id}))}),i.createElement(N,null,t.medal&&i.createElement(M,null,i.createElement("img",{role:"presentation",alt:"",style:{height:"9px",width:"9px"},src:`/static/images/medals/competitions/${t.medal}s@1x.png`})," "+t.medal.charAt(0).toUpperCase()+t.medal.slice(1)),t.isMyUncommittedDraft&&i.createElement(M,null,"Draft"),i.createElement(O.a,{analyticsLogger:a,notebook:t,onNotebookDeleted:n,isInModal:r}))))}},1356:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}));var a=n(2),r=n(1),o=n.n(r),i=n(55);function s(e,t){return Object.entries(e).map((function(e){var t=Object(a.__read)(e,2);return"("+t[0]+": "+t[1]+")"})).join(" "+t+" ")}function l(e){var t=["only screen",s(e,"and")].join(" and ");return function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return Object(r.css)(c||(c=Object(a.__makeTemplateObject)(["\n    @media "," {\n      ","\n    }\n  "],["\n    @media "," {\n      ","\n    }\n  "])),t,r.css.apply(void 0,Object(a.__spread)([e],n)))}}var c,u=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=e||{},r=a.prefix,o=void 0===r?"":r,s=a.suffix,l=void 0===s?"":s;return t.length?i(t).split(" ").map((function(e){return o+e+l})).join(" "):o+l}},d={attr:/^\[[a-z0-9_-]*\]$/i,attrValue:/^\[[a-z0-9_-]*(|=[a-z0-9_-]*|=\"[a-z0-9_-]*\"|=\'[a-z0-9_-]*\')\]$/i,className:/^\.([a-z_]|[-][a-z_])[a-z0-9_-]*$/i,debug:/^\![a-z0-9_-]*$/i,id:/^\#[a-z][a-z0-9_-]*$/i,tag:/^[a-z0-9]*$/i},p=function(e){if(!e)return o.a.div;if("string"!=typeof e||e.indexOf(";")>-1)return o()(e);var t="div",n={},r=[],s=[];return e.split(/(?=\.)|(?=\#)|(?=\[)|(?=\!)/g).forEach((function(i){if(i=i.trim(),d.tag.test(i))o.a[i]?t=i:r.push(i);else if(d.id.test(i)){if("id"in n)throw new TypeError("Id defined more than once.");n.id=i.slice(1)}else if(d.className.test(i))s.push(i.slice(1));else if(d.debug.test(i))r.push(i.slice(1));else if(d.attr.test(i)){if((c=i.slice(1,-1).trim())in n)throw new TypeError("Attribute "+c+" defined more than once.");n[c]=!0}else{if(!d.attrValue.test(i))throw new TypeError("Unrecognized stylist syntax "+i+" in "+e+".");var l=Object(a.__read)(i.slice(1,-1).trim().split("="),2),c=l[0],u=l[1];if(c=c.trim(),u=u.trim(),c in n)throw new TypeError("Attribute "+c+" defined more than once.");switch(("'"===u[0]&&"'"===u[u.length-1]||'"'===u[0]&&'"'===u[u.length-1])&&(u=u.slice(1,-1)),u.toLowerCase()){case"true":n[c]=!0;break;case"false":n[c]=!1;break;default:n[c]=isNaN(u)?u:parseFloat(u)}}})),u.length&&(n.className=i(u)),r.length&&(n["data-debug"]=(n["data-debug"]||"")+r.join(" ")),o.a[t].attrs(n)}},1357:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(2),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement("div",{className:"vote-button__voters-outer"},e.createElement("div",{role:"button",className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),e.createElement("div",{className:"vote-button__voters-modal"},e.createElement("div",{className:"vote-button__voters-modal-title-bar"},e.createElement("div",{className:"vote-button__voters-modal-title"},this.props.title),e.createElement("div",{className:"vote-button__voters-modal-close"},e.createElement("span",{role:"button",className:"fa fa-close",onClick:this.props.handleModalClose}))),this.props.children))},n}(e.Component)}).call(this,n(0))},1358:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(2),r=n(1117),o=n(1328),i=n(55),s=n(0),l=n(1408),c=37,u=function(t){function n(e){var n=t.call(this,e)||this;return n.width=e.width||c,n.borderRadius=n.width/10,n.margin=e.tierMargin?e.tierMargin:n.width/20,n.state={isVisible:!e.lazy||!l.b},n}return Object(a.__extends)(n,t),n.prototype.componentDidMount=function(){var t=this;if(!this.state.isVisible){var n=e.findDOMNode(this);this.observer=new l.a(n,(function(e){e&&(t.setState({isVisible:e}),t.observer.unobserve())}))}},n.prototype.componentWillUnmount=function(){this.observer&&this.observer.unobserve()},n.prototype.convertTierIntToEnum=function(e){switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 21:return"recalc"}return null},n.prototype.getTierHeight=function(){return this.margin+Math.round(this.width/n.TIER_IMG_WIDTH*n.TIER_IMG_HEIGHT)},n.prototype.renderAvatar=function(e){var t=this.props,n=t.displayName,a=t.onClick,r=t.thumbnailUrl,o=t.userUrl,l=t.lazy,c=this.props.tier||this.convertTierIntToEnum(this.props.tierInt),u=!0===this.props.openLinkInNewWindow?"_blank":null;if(l&&!this.state.isVisible){var d=i("avatar",e,"avatar__placeholder"),p={width:this.width,height:(c?this.getTierHeight():0)+this.width};return s.createElement("span",{className:d,style:p})}return s.createElement("a",{className:i("avatar",e),onClick:function(e){a?a():e.stopPropagation()},href:o,target:u,style:{width:this.width}},s.createElement("img",{className:"avatar__thumbnail",src:r,alt:n,width:this.width,height:this.width,style:{borderRadius:isNaN(this.borderRadius)?"3px":this.borderRadius+"px"}}),c&&s.createElement("img",{className:"avatar__tier",src:("/static/images/avatier/avatier-"+c+"@2x.png").toLowerCase(),alt:c+" tier",style:{marginTop:this.margin},width:this.width}))},n.prototype.render=function(){var e,t=this,n=null===(e=this.props.userUrl)||void 0===e?void 0:e.substring(1);return s.createElement(o.b,null,(function(e){var a=e.targetRef,i=e.setTargetRef;return s.createElement(s.Fragment,null,s.cloneElement(t.renderAvatar(t.props.className),{ref:i}),!t.props.hideTooltip&&s.createElement(o.a,{targetRef:a},s.createElement(r.a,{userId:t.props.id,userName:n})))}))},n.TIER_IMG_WIDTH=74,n.TIER_IMG_HEIGHT=10,n}(s.Component)}).call(this,n(15))},1359:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(0),d=n(1007),p=(c.a.div.withConfig({displayName:"Conditional_RelativeView",componentId:"sc-1xxeylx"})(a||(a=Object(s.__makeTemplateObject)(["\n  position: relative;\n  margin: 0 auto;\n"],["\n  position: relative;\n  margin: 0 auto;\n"]))),c.a.div.withConfig({displayName:"Conditional_AbsoluteView",componentId:"sc-1ecghle"})(r||(r=Object(s.__makeTemplateObject)(["\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  right: 0;\n  height: ","px;\n"],["\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  right: 0;\n  height: ","px;\n"])),(function(e){return e.height})),c.a.span.withConfig({displayName:"Conditional_ConditionalBannerView",componentId:"sc-1lgy7fw"})(o||(o=Object(s.__makeTemplateObject)(["\n  opacity: 0.5;\n  margin-right: 5px;\n  font-size: 0.75em;\n"],["\n  opacity: 0.5;\n  margin-right: 5px;\n  font-size: 0.75em;\n"]))),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={bypassRender:!0,height:null},t.updateState=function(e){if(void 0===e&&(e=t.props.shouldRender),t.mounted)if("boolean"==typeof e)t.setState({bypassRender:!e});else if("function"==typeof e)t.updateState(e());else{if(!e.then)throw new Error('shouldRender was not of the correct type: received type "'+typeof e+'" | value: '+e);e.then(t.updateState)}},t}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.updateState()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.shouldRender!==e.shouldRender&&this.updateState(e.shouldRender)},t.prototype.render=function(){var e=this.props,t=e.children;e.banner,e.tip;if(this.state.bypassRender)return null;var n="function"==typeof t?t():t;return u.createElement(m,null,n)},t}(u.Component)),m=c.a.div.withConfig({displayName:"Conditional_ConditionalView",componentId:"sc-1ynuar2"})(i||(i=Object(s.__makeTemplateObject)(["\n  > * {\n    border: 1px dashed "," !important;\n    &:empty {\n      display: none;\n    }\n  }\n"],["\n  > * {\n    border: 1px dashed "," !important;\n    &:empty {\n      display: none;\n    }\n  }\n"])),d.b.AdminOnlyBorder)},1364:function(e,t,n){"use strict";var a=n(2),r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;return r.createElement("div",null,r.createElement("div",{className:"off-canvas__wrapper"},this.props.shouldShowOffCanvas?r.createElement("div",{className:this.props.shouldUseRightSide?"off-canvas--right":"off-canvas--left"},this.props.children,this.props.shouldUseCloseButton?r.createElement("div",{className:"off-canvas__close-wrapper"},r.createElement("span",{role:"button",className:"off-canvas__close",onClick:function(){return e.props.closeButtonCallback()}},r.createElement("span",{className:"fa fa-times"}),r.createElement("span",{className:"off-canvas__close-text"},"Close"))):null):null),this.props.shouldShowOffCanvas&&r.createElement("div",{role:"button",className:"off-canvas__underlay",onClick:function(){return e.props.closeButtonCallback()}}))},t}(r.Component);n.d(t,"a",(function(){return i}));var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e={children:this.props.children,closeButtonCallback:this.props.closeButtonCallback,shouldShowOffCanvas:this.props.shouldShowOffCanvas,shouldUseCloseButton:this.props.shouldUseCloseButton,shouldUseRightSide:this.props.shouldUseRightSide};return r.createElement(o,Object(a.__assign)(Object(a.__assign)({},this.state),e))},t}(r.Component)},1365:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),r=n.n(a),o=n(78),i=n(142),s=n(0),l=n(129);n(125),n(149),n(150);const c=r()(i.a)`
  min-width: 256px;
  box-shadow: 0px 1px 2px rgba(0, 4, 7, 0.3),
    0px 2px 6px 2px rgba(0, 4, 7, 0.15);
  background-color: ${e=>l.a[e.theme.name].background};
  border-radius: 8px;
`,u=e=>{const{anchorCorner:t,children:n,className:a,fixed:r,focusOnOpen:i,hoistToBody:l,open:u,onOpen:d,onClose:p,style:m}=e,h=s.useRef(null);return s.createElement(c,{style:m,anchorCorner:t,className:a,fixed:r,hoistToBody:l,open:u,onOpen:e=>{var t,n;if(d&&d(e),i){const e=[...null!==(n=null===(t=h.current)||void 0===t?void 0:t.querySelectorAll('a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])'))&&void 0!==n?n:[]].filter(e=>!e.hasAttribute("disabled"));e.length&&e[0].focus()}},onClose:p},s.createElement("div",{ref:h,onKeyDown:e=>{var t;if(("Enter"===e.key||13===e.keyCode)&&"INPUT"===e.target.tagName&&"text"===e.target.type){const n=null===(t=h.current)||void 0===t?void 0:t.querySelector(`[${o.a.strings.BUTTON_DEFAULT_ATTRIBUTE}="true"]`);n&&(n.click(),e.preventDefault(),e.stopPropagation())}},role:"document"},n))}},1366:function(e,t,n){"use strict";var a=n(45),r=n(5),o=n(0),i=n.n(o),s=(n(38),n(386)),l=n(388),c=!1;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(s.a)(),o=Object(l.a)({theme:n,name:"MuiUseMediaQuery",props:{}}),u="function"==typeof e?e(n):e;u=u.replace(/^@media( ?)/m,"");var d="undefined"!=typeof window&&void 0!==window.matchMedia,p=Object(r.a)({},o,{},t),m=p.defaultMatches,h=void 0!==m&&m,f=p.noSsr,g=void 0!==f&&f,b=p.ssrMatchMedia,v=void 0===b?null:b,y=i.a.useState((function(){return(c||g)&&d?window.matchMedia(u).matches:v?v(u).matches:h})),E=Object(a.a)(y,2),w=E[0],x=E[1];return i.a.useEffect((function(){if(c=!0,d){var e=window.matchMedia(u);return x(e.matches),e.addListener(t),function(){e.removeListener(t)}}function t(){x(e.matches)}}),[u,d]),w}},1367:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(1),r=n.n(a),o=n(0),i=n(108),s=n(3),l=n(145),c=n(884),u=n(260),d=n(885);const p=r.a.button`
  border-radius: ${e=>e.hover&&"6px"};
  border: none;
  background: none;
  display: ${e=>e.inline?"inline-flex":"flex"};
  ${e=>e.fullWidth?"flex-grow: 1":""};
  justify-content: ${e=>e.fullWidth?"space-between":"center"};
  align-items: center;
  cursor: pointer;
  font-family: inherit;

  /* stylelint-disable selector-type-no-unknown */
  &:focus:not(focus-visible) {
    outline: 0;
    border: none;
  }

  &:focus-visible {
    box-shadow: inset 0 0 0 3px ${s.p};
  }

  &:hover {
    background-color: ${e=>e.hover&&"dark"===e.theme.name?e.theme.material.color.brand.grey[900]:e.theme.material.color.brand.grey[50]};
  }
`,m=r()(i.a)`
  margin-right: ${e=>e.theme.material.spacing(4)};
`,h=r()(i.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,f=({options:e,optionIcons:t,onSelect:n,value:a,dense:r,disabled:i,hover:s=!1,inline:f=!0,fullWidth:g=!1,hoistToBody:b=!0,renderButton:v,renderOption:y})=>{const[E,w]=o.useState(!1);return o.createElement(d.a,null,o.createElement(c.a,{open:E,anchorCorner:"bottomLeft",dense:r,hoistToBody:b,onSelect:t=>{t.detail.item.textContent&&n(e[t.detail.index],t.detail.index)},onClose:()=>w(!1),style:{zIndex:1001}},e.map((e,n)=>o.createElement(u.a,{key:e},t&&t[n]&&o.createElement(m,{icon:t[n]}),y?y(e):e))),o.createElement(p,{tabIndex:0,hover:s,inline:f,fullWidth:g,onClick:i?void 0:e=>{e.stopPropagation(),e.preventDefault(),w(!0)}},v?v(a):o.createElement(l.s,{emphasis:i?"low":"high"},a),o.createElement(h,{icon:"arrow_drop_down",size:"small",emphasis:i?"low":"high"})))}},1368:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return h}));var a=n(2),r=n(6),o=n(369);const i=20,s=100,l={competitionId:null,datasetId:null,userId:null,sortBy:"hotness",tab:"everyone",searchQuery:"",page:1,language:null,outputs:null,types:null,tagIds:[],privacy:null},c=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){var t,n,a,o;const s=d(e),l=Object.assign(Object.assign({},s.kernelFilterCriteria),{pageSize:100,page:Math.floor(e.page*i/100)+1}),c=r.q.listKernels(s),u=r.q.listKernelIds(l),[p,m]=yield Promise.all([c,u]);return{kernels:p,lookaheadCount:null!==p.totalCount?p.totalCount:p.kernels.length<i?((null!==(n=null===(t=s.kernelFilterCriteria)||void 0===t?void 0:t.page)&&void 0!==n?n:1)-1)*(null!==(o=null===(a=s.kernelFilterCriteria)||void 0===a?void 0:a.pageSize)&&void 0!==o?o:i)+p.kernels.length:0===m.length?0:m.length+100*(l.page-1)}})),u=e=>{var t;const n=e;return{sortBy:n.sortBy,tab:n.group,searchQuery:"",language:n.language,outputs:n.outputType,types:n.datasourceType,page:n.page,tagIds:(null===(t=n.tagIds)||void 0===t?void 0:t.split(",").map(e=>parseInt(e,10)))||[],privacy:n.privacy,competitionId:n.competitionId,datasetId:n.datasetId,userId:n.userId}},d=e=>({kernelFilterCriteria:{competitionId:e.competitionId,userId:e.userId,sortBy:e.sortBy,pageSize:i,group:e.tab,outputType:e.outputs,startRow:0,page:e.page,datasetId:e.datasetId,datasourceType:e.types,forkParentScriptId:null,kernelType:null,language:e.language,tagIds:e.tagIds.join(","),excludeResultsFilesOutputs:!1,wantOutputFiles:!0,search:e.searchQuery,after:null,hasGpuRun:null,privacy:e.privacy},detailFilterCriteria:{deletedAccessBehavior:"returnNothing",unauthorizedAccessBehavior:"returnNothing",excludeResultsFilesOutputs:!1,wantOutputFiles:!0,kernelIds:[],maxOutputFilesPerKernel:null,outputFileTypes:[],selection:{}}}),p=(e,t)=>{void 0!==t.tab?"everyone"===t.tab?e.report("listing-clicked-tab-public"):"profile"===t.tab?e.report("listing-clicked-tab-personal"):"collaboration"===t.tab?e.report("listing-clicked-tab-shared"):"upvoted"===t.tab&&e.report("listing-clicked-tab-favorites"):void 0!==t.searchQuery?e.report("listing-changed-search-text",{query:t.searchQuery}):void 0!==t.types?e.report("listing-changed-filter-data",{type:t.types}):void 0!==t.outputs?e.report("listing-changed-filter-output",{type:t.outputs}):void 0!==t.language?e.report("listing-changed-filter-language",{language:t.language}):void 0!==t.tagIds?e.report("listing-changed-filter-tags",{tags:t.tagIds}):void 0!==t.sortBy&&e.report("listing-changed-sort",{sort:t.sortBy})},m=(e,t,n)=>{const a=new URLSearchParams;Object.entries(e).filter(e=>(!Array.isArray(e[1])||0!==e[1].length)&&e[1]!==t[e[0]]).filter(e=>"page"!==e[0]||e[1]>1).map(e=>{Array.isArray(e[1])?a.set(e[0],e[1].join(",")):a.set(e[0],e[1])}),n?Object(o.d)({},"",`${location.pathname}?${a}`):Object(o.f)({},"",`${location.pathname}?${a}`)},h=()=>{const e=new URLSearchParams(window.location.search),t=new Map;return[...e.entries()].map(e=>{"tagIds"===e[0]&&e[1].length>0?t.set("tagIds",e[1].split(",").map(e=>parseInt(e,10))):"true"===e[1]?t.set(e[0],!0):"false"===e[1]?t.set(e[0],!1):isNaN(parseFloat(e[1]))?t.set(e[0],e[1]):t.set(e[0],parseFloat(e[1]))}),t}},1369:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(0);const o=r.memo(e=>{const{src:t}=e,n=Object(a.__rest)(e,["src"]),o=t.lastIndexOf("."),i=t.substr(0,o),s=t.substr(o+1),l=`${i}.${s}, ${i}@2x.${s} 2x`,c=Object.assign(Object.assign({},n),{src:t,srcSet:l});return r.createElement("img",Object.assign({},c))})},1370:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var a=n(1),r=n.n(a);const o=a.keyframes`
  {
    0% {
      background-position: -200px 0;
    }
    100% {
      background-position: calc(200px + 100%) 0;
    }
  }
`,i=r.a.div`
  background-color: ${e=>e.theme.colors.misc.grayLighter};
  background-image: linear-gradient(
    90deg,
    ${e=>e.theme.colors.misc.grayLighter},
    ${e=>e.theme.colors.misc.grayLightest},
    ${e=>e.theme.colors.misc.grayLighter}
  );

  background-size: 200px 100%;
  background-repeat: no-repeat;
  border-radius: ${e=>e.theme.size.border.radius.loadingBar};
  margin: ${e=>e.theme.size.margin.xs};
  animation: ${o} 1.2s ease-in-out 0s infinite normal none running;
`,s=r()(i)`
  width: ${e=>{var t;return null!==(t=e.width)&&void 0!==t?t:"auto"}};
  height: ${e=>e.fontSize.toString()+"px"};
  margin-top: ${e=>(e.lineHeight-e.fontSize).toString()+"px"};
`,l=r()(s).attrs({fontSize:20,lineHeight:24})``,c=r()(s).attrs({fontSize:16,lineHeight:24})``,u=r()(s).attrs({fontSize:12,lineHeight:20})``},1371:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),r=n.n(a),o=n(0),i=n(874),s=n(145);const l=r.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  padding-top: 36px;
  padding-bottom: 36px;
  max-width: 456px;
`,c=r()(s.p)`
  margin-bottom: 8px;
  text-align: center;

  * + & {
    margin-top: 12px;
  }
`,u=r()(i.a)`
  margin-top: 16px;
`,d=({graphic:e,title:t,information:n,action:a,className:r})=>o.createElement(l,{className:r},e,o.createElement(c,null,t),o.createElement(s.b,null,n),a&&o.createElement(u,{emphasis:"medium",onClick:a.onAction,href:a.href},a.buttonText))},1372:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return p}));var a=n(2),r=n(55),o=n(1126),i=function(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height},s=function(e,t){this.left=e,this.top=t},l=function(e,t,n,a){this.title=e,this.information=t,this.size=n,this.rect=a},c=function(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t},u=2,d=function(t){function n(e){var n=t.call(this,e)||this;return n.validExtensions=["png","jpg","jpeg"],n.getHiResScale=function(){return n.props.hiResScale||2},n.onMouseDown=function(e,t){0===e.button&&(n.setState({isDragging:!0,dragMode:t,dragStartMousePosition:new s(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect}),e.stopPropagation(),e.preventDefault())},n.onMouseUp=function(e){n.setState({isDragging:!1}),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,r=e.pageY-n.state.dragStartMousePosition.top,o="move"===n.state.dragMode,l="ul"===n.state.dragMode||"ll"===n.state.dragMode,d="ul"===n.state.dragMode||"ur"===n.state.dragMode,p="ur"===n.state.dragMode||"lr"===n.state.dragMode,m="lr"===n.state.dragMode||"ll"===n.state.dragMode;l&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),d&&(r=Math.max(-n.state.dragStartSelectorRect.top,r));var h=n.state.dragStartSelectorRect.width+(o?0:t)*(l?-1:1),f=n.state.dragStartSelectorRect.height+(o?0:r)*(d?-1:1);p&&(h=Math.min(h,n.state.imageRect.width-n.state.selectorRect.left)),m&&(f=Math.min(f,n.state.imageRect.height-n.state.selectorRect.top));var g=n.state.imageRect.width/n.state.originalSize.width,b=(h=Math.max(Math.round(n.state.selectedImageSize.width*g*n.getHiResScale()),h))/(f=Math.max(Math.round(n.state.selectedImageSize.height*g*n.getHiResScale()),f)),v=n.state.selectedImageSetting.size,y=v.width/v.height,E=n.state.dragStartSelectorRect.left+(o||l?t:0),w=n.state.imageRect.width-h,x=n.state.dragStartSelectorRect.top+(o||d?r:0),C=n.state.imageRect.height-f,k=Math.max(Math.min(E,w),0),S=Math.max(Math.min(x,C),0);l&&k+h>n.state.selectorRect.left+n.state.selectorRect.width&&(k=n.state.selectorRect.left+n.state.selectorRect.width-h),d&&S+f>n.state.selectorRect.top+n.state.selectorRect.height&&(S=n.state.selectorRect.top+n.state.selectorRect.height-f),b>y&&(h=Math.round(f*y),l&&(k=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-h)),b<y&&(f=Math.round(h/y),d&&(S=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-f));var _=new i(new s(k,S),new c(h,f)),O=Object(a.__assign)(Object(a.__assign)({},n.state.selectedImageSetting),{rect:_}),T=n.state.imageSettings;T[n.state.currentStep-u]=O,n.setState({selectorRect:_,selectedImageSetting:O,imageSettings:T}),e.stopPropagation(),e.preventDefault()}},n.onFileChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name.split(".").pop();if(0===n.validExtensions.filter((function(e){return e===t.toLowerCase()})).length)return void n.setState({invalidExtension:t,imageLoaded:!1,isLoadingImage:!1});n.setState({imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null,invalidExtension:null});var a=new FileReader;a.onload=function(e){var t=new Image,r=a.result;if("string"!=typeof r)throw new Error("Expected FileReader url to be a string.");t.src=r,t.onload=function(){t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height?n.setState({tooSmallImageSize:new c(t.width,t.height),imageLoaded:!1,isLoadingImage:!1}):n.setState({imageUrl:r})}},a.readAsDataURL(e.target.files[0])}},n.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},n.onUpdateImages=function(){n.setState({uploadInProgress:!0});var e=document.querySelector("form#uploadForm"+(n.props.uploaderKey||"")),t=new FormData(n.state.tooSmallImageSize?null:e),a=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),r=n.state.imageSettings.map((function(e){return new i(new s(e.rect.left*a,e.rect.top*a),new c(e.rect.width*a,e.rect.height*a))}));n.props.onUpdateImages(t,r,n.handleImageUploadFailed).then((function(){n.setState({uploadInProgress:!1})}))},n.handleImageUploadFailed=function(){n.setState({showImageUploadFailed:!0})},n.setStep=function(e){var t=n.state.imageSettings[e-u]||n.state.imageSettings[0];n.setState({currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size})},n.state={imageUrl:n.props.originalImageUrl,originalSize:new c(0,0),imageLoaded:!1,imageRect:new i(new s(0,0),new c(0,0)),selectorRect:new i(new s(0,0),new c(0,0)),imageSettings:n.props.imageSettings,minimumImageSize:n.getMinimumImageSize(),selectedImageSetting:n.props.imageSettings[0],isDragging:!1,selectedImageSize:n.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1},n}return Object(a.__extends)(n,t),n.prototype.getMinimumImageSize=function(){return new c(Math.max.apply(Math,Object(a.__spread)(this.props.imageSettings.map((function(e){return e.size.width}))))*this.getHiResScale(),Math.max.apply(Math,Object(a.__spread)(this.props.imageSettings.map((function(e){return e.size.height}))))*this.getHiResScale())},n.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+u},n.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new c(n>e?Math.round(t.height*e):t.width,n<e?Math.round(t.width/e):t.height)},n.prototype.getScaledRect=function(e,t){return new i(new s(Math.round(t.point.left*e),Math.round(t.point.top*e)),new c(Math.round(t.size.width*e),Math.round(t.size.height*e)))},n.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.isDragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},n.prototype.updateImage=function(e,t,n){var r,o;if(!this.state.imageLoaded){var l=t/n,u=this.getScaledSize(l,this.props.containerSize),d=new i(new s(Math.round((this.props.containerSize.width-u.width)/2),Math.round((this.props.containerSize.height-u.height)/2)),new c(Math.round(u.width),Math.round(u.height)));try{for(var p=Object(a.__values)(this.state.imageSettings),m=p.next();!m.done;m=p.next()){var h=m.value,f=h.size.width/h.size.height,g=this.getScaledSize(f,d.size);h.rect=new i(new s(Math.round((d.width-g.width)/2),Math.round((d.height-g.height)/2)),this.getScaledSize(f,d.size))}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}this.setState({imageUrl:e,originalSize:new c(t,n),imageRect:d,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")||e.indexOf("noimage")?1:2})}},n.prototype.render=function(){var t=this,n={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!==this.state.currentStep?"none":""},i={width:this.props.containerSize.width,height:this.props.containerSize.height},s={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"},l={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},d={width:8,height:8},p=Object(a.__assign)(Object(a.__assign)({},d),{left:l.left,top:l.top,marginLeft:-5,marginTop:-5,cursor:this.state.isDragging?"":"nwse-resize"}),m=Object(a.__assign)(Object(a.__assign)({},d),{left:l.left+l.width-8,top:l.top,marginLeft:5,marginTop:-5,cursor:this.state.isDragging?"":"nesw-resize"}),h=Object(a.__assign)(Object(a.__assign)({},d),{left:l.left,top:l.top+l.height-8,marginLeft:-5,marginTop:5,cursor:this.state.isDragging?"":"nesw-resize"}),f=Object(a.__assign)(Object(a.__assign)({},d),{left:l.left+l.width-8,top:l.top+l.height-8,marginLeft:5,marginTop:5,cursor:this.state.isDragging?"":"nwse-resize"}),g=new c(.8*this.props.containerSize.width,.4*this.props.containerSize.height),b=this.state.imageSettings.map((function(e){var n=t.getScaledSize(e.size.getAspect(),g),r=0===e.rect.width?0:n.width/e.rect.width,o=Object(a.__assign)(Object(a.__assign)({},n),{overflow:"hidden"});return{imageStyle:{width:Math.round(t.state.imageRect.width*r),height:Math.round(t.state.imageRect.height*r),left:Math.round(e.rect.left*-r),top:Math.round(e.rect.top*-r)},imageContainerStyle:o}})),v={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},y={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},w={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},x=function(e){return r("image-uploader__step",t.state.currentStep===e?"image-uploader__step--current":t.state.currentStep>e?"image-uploader__step--complete":"image-uploader__step--pending",1===e||t.state.imageLoaded?"image-uploader__step--clickable":"")};return e.createElement("div",{className:r("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"===this.state.dragMode?"move":"ul"===this.state.dragMode?"nwse-resize":"ur"===this.state.dragMode?"nesw-resize":"ll"===this.state.dragMode?"nesw-resize":"lr"===this.state.dragMode?"nwse-resize":"":""}},e.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},e.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),e.createElement("div",{className:"image-uploader__title-container"},e.createElement("div",{className:"image-uploader__title"},this.props.title),e.createElement("div",{role:"button",className:"image-uploader__cancel",onClick:this.props.onCancel},"Cancel")),e.createElement("ul",{className:"image-uploader__steps"},e.createElement("li",{role:"button",className:x(1),onClick:function(){return t.setStep(1)}},"Upload image"),this.props.imageSettings.map((function(n,a){return e.createElement("li",{key:a,role:"button",className:x(a+u),onClick:t.state.imageLoaded?function(){return t.setStep(a+u)}:null},"Crop ",n.title)})),e.createElement("li",{role:"button",className:x(this.props.imageSettings.length+u),onClick:this.state.imageLoaded?function(){return t.setStep(t.props.imageSettings.length+u)}:null},"Preview images")),this.state.showImageUploadFailed?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"We ran into a problem. Try again or try a different image."," ",e.createElement("a",{href:"/contact"},"Contact us")," if you need any help."):1===this.state.currentStep?this.state.tooSmallImageSize?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):this.state.invalidExtension?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"That file type (",this.state.invalidExtension,") is a not a supported image type (i.e. ",this.validExtensions.join(", "),")."):e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),":"," ",this.props.step1Hint&&e.createElement("span",null,"Upload an image by clicking the button below.")):this.state.currentStep<this.props.imageSettings.length+u?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),":"," ",this.props.imageSettings[this.state.currentStep-u].information):this.state.currentStep===this.props.imageSettings.length+u?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below."):"",e.createElement("div",{className:"image-uploader__outer-container"},e.createElement("div",{role:"button",className:r("fa","fa-chevron-circle-left","image-uploader__navigator",1===this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return t.setStep(t.state.currentStep-1)}:null}),e.createElement("div",{className:"image-uploader__container",style:i},this.state.isLoadingImage?e.createElement("div",{className:"image-uploader__loadercontainer"},e.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",e.createElement("div",{className:"image-uploader__upload",style:n},e.createElement("form",{id:"uploadForm"+(this.props.uploaderKey||""),name:"uploadForm"+(this.props.uploaderKey||"")},e.createElement("input",{id:"imageUpload"+(this.props.uploaderKey||""),name:"imageUpload"+(this.props.uploaderKey||""),type:"file",onChange:this.onFileChange}),e.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"+(this.props.uploaderKey||"")},e.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),e.createElement("div",null,"upload image"),e.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+u?e.createElement("div",null,e.createElement("div",{role:"button",className:"image-uploader__selector",style:l,onMouseDown:function(e){return t.onMouseDown(e,"move")}}),e.createElement("div",{role:"button",className:"image-uploader__selector-corner-resizer",style:p,onMouseDown:function(e){return t.onMouseDown(e,"ul")}}),e.createElement("div",{role:"button",className:"image-uploader__selector-corner-resizer",style:m,onMouseDown:function(e){return t.onMouseDown(e,"ur")}}),e.createElement("div",{role:"button",className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(e){return t.onMouseDown(e,"ll")}}),e.createElement("div",{role:"button",className:"image-uploader__selector-corner-resizer",style:f,onMouseDown:function(e){return t.onMouseDown(e,"lr")}}),e.createElement("div",{className:"image-uploader__overlay",style:v}),e.createElement("div",{className:"image-uploader__overlay",style:E}),e.createElement("div",{className:"image-uploader__overlay",style:y}),e.createElement("div",{className:"image-uploader__overlay",style:w})):"",b.map((function(n,a){return e.createElement("div",{key:a,style:t.state.currentStep<u+t.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},e.createElement("div",{className:"image-uploader__previewimagecontainer",style:n.imageContainerStyle},e.createElement("img",{alt:"Image Preview",className:"image-uploader__previewimage",style:n.imageStyle,src:t.state.imageUrl})))})),e.createElement("img",{alt:"Uploaded Image",className:"image-uploader__image",src:this.state.imageUrl,style:s,onLoad:function(e){return t.onImageLoad(e)}}),this.state.currentStep===this.props.imageSettings.length+u?e.createElement("div",{className:"image-uploader__submitcontainer"},e.createElement(o.a,{onClick:this.onUpdateImages,text:"Update Images"})):""),e.createElement("div",{role:"button",className:r("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return t.setStep(t.state.currentStep+1)}:null})))},n}(e.Component),p=function(t){return e.createElement(e.Fragment,null,"Upload an image by clicking the button below.",e.createElement("br",null),"If you need inspiration,"," ",e.createElement("a",{href:"http://www.unsplash.com",target:"_blank"},"unsplash.com")," ","has a great library of public domain images. Or you can use the random image below.")}}).call(this,n(0))},1373:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(147),o=n(0),i=function(e){var t=e.text||e.children;r(t,"Must specify children (or deprecated text)");var n=e.disabled,i=e.onClick,s=e.href,l=e.download,c=e.className,u=e.primary,d=e.icon,p=Object(a.__assign)(Object(a.__assign)({},e.style||{}),{opacity:n?.3:1});return o.createElement("a",{style:p,onClick:n?null:i,href:s,download:l,className:c||(u?"button-round-edged button-round-edged--primary":"button-round-edged")},d&&o.createElement("i",{className:"button-round-edged__icon "+d}),t)}},1374:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return this.props.isLoading?r.createElement("div",{className:"loading-text"},r.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},t}(r.Component)},1375:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(2),r=n(0),o=n(1032),i=n(21),s=void 0!==e.env.KUDU_SYNC_CMD||!0,l=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitialState=function(e){return{shouldShow:!!e.shouldShow||!e.disableDevMode&&!s}},n.showItAnyway=function(){return n.setState({shouldShow:!0})},n.state=n.getInitialState(t),n}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state.shouldShow,n=this.props,a=n.canViewItAnyway,s=n.children,l=n.title,c=n.subtitle;return t?r.Children.only(s):r.createElement("div",{className:"confused-travolta"},r.createElement("div",{className:"confused-travolta__image"},r.createElement("img",{src:"https://i.imgur.com/e1IneGq.jpg",alt:"Confused Travolta"})),l&&r.createElement("p",{className:"confused-travolta__title"},l),c&&r.createElement("p",{className:"confused-travolta__subtitle"},c),(a||(i.a||{isAdmin:!0}).isAdmin)&&r.createElement(o.a,{onClick:function(){return e.showItAnyway()},text:r.createElement("span",null,r.createElement("span",{className:"fa fa-lock"})," See it anyway")}))},t}(r.Component)}).call(this,n(253))},1376:function(e,t,n){"use strict";var a=n(1136),r=n(1211),o=n(145),i=n(995),s=n(1365),l=n(887),c=n(1380),u=n(3),d=n(886),p=n(885),m=n(874),h=n(1367),f=n(6),g=n(1),b=n.n(g),v=n(1366),y=n(0),E=n(350),w=n(183),x=n(1069);const C=b()(i.a)`
  margin: 0px;
  padding: 0px;
  margin-bottom: 24px;
`,k=b()(d.a)`
  margin-top: 8px;
`,S=b()(x.a)`
  z-index: 1001;
  margin: 0px;
  padding: 0px;
`;n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return U})),n.d(t,"a",(function(){return z}));const _=b()(r.b)`
  top: -6px;
  right: -16px;
`,O=b()(o.q)`
  margin-bottom: 8px;
`,T=b()(i.a)`
  margin: 0px;
  padding: 0px;
  margin-bottom: 24px;
`,j=b()(e=>{const{tags:t,onChange:n,searchTags:a}=e;return y.createElement(y.Fragment,null,y.createElement(S,{label:"Search for tags",hoistToBody:!1,loadOptions:a,shouldExcludeOption:e=>!!t.find(t=>t.name===e.name),optionRenderer:e=>y.createElement(y.Fragment,null,y.createElement(E.a,null,y.createElement(w.a,{primaryText:e.name}))),onSelect:e=>{e&&!t.find(t=>t.name===e.name)&&(Object(f.u)("kernels","added-tag",{name:e.name}),n([...t,e]))}}),y.createElement(C,null,t.map(e=>y.createElement(k,{key:e.name,onRemove:()=>(e=>{Object(f.u)("kernels","removed-tag",{name:e}),n(t.filter(t=>t.name!==e))})(e.name)},e.name))))})`
  margin: 0px;
  padding: 0px;
  z-index: 1001;
  margin-bottom: 24px;
`,I=b()(s.a)`
  display: flex;
  z-index: 1000;
  width: 400px;
  padding: 32px;
  flex-direction: column;
`,D=b()(l.a)`
  display: flex;
  z-index: 1000;
  flex-direction: column;
  padding: 32px;
  width: 75%;
`,N=b.a.div`
  display: flex;
  width: 100%;
  flex-direction: row;
  justify-content: flex-end;
  margin-top: 8px;
`,M=b.a.div`
  display: flex;
  flex-direction: column;
`,F=b.a.div`
  margin-top: 8px;
  margin-left: 8px;
  margin-bottom: 16px;
`,P=b()(c.a)`
  background: ${u.o};
  height: 16px;
  min-width: 16px;
  z-index: 2;
`,L=e=>{const{filter:t,filterCallback:n,children:a,filterType:r,filterValue:o,className:i,showRemoveButton:s}=e;let l;l="tagIds"===r?t.tagIds.includes(o):t[r]===o;const c=()=>{n(l?"tagIds"===r?{tagIds:t.tagIds.filter(e=>e!==o)}:{[r]:null}:"tagIds"===r?{tagIds:[...t.tagIds,o]}:{[r]:o})};return y.createElement(d.a,{onClick:e=>{c(),e.stopPropagation()},className:i,selected:l,onRemove:s&&l?c:void 0},a)},A=e=>{const{mobile:t,onClose:n,open:a,children:r}=e;return t?y.createElement(D,{onClose:n,open:a,right:!0},r):y.createElement(I,{fixed:!1,open:a,onClose:n},r)},R={language:null,outputs:null,types:null,tagIds:[],privacy:null},U=e=>e&&(null!==e.language||null!==e.outputs||null!==e.types||e.tagIds.length>0||null!==e.privacy),z=e=>{const t=Object(v.a)(g.BreakpointDown.PHONE),{filterCallback:n,filter:r,sortByMap:o}=e,i=U(r),[s,l]=y.useState(!1),[c,u]=y.useState([]),d=[...o.keys()][0],[b,E]=y.useState(d);y.useEffect(()=>{let e=!1;return f.x.getTagsById({tagIds:r.tagIds}).then(t=>{e||u(t.tags)}),()=>{e=!0}},[r.tagIds]);return y.createElement(p.a,null,y.createElement(_,null,y.createElement(P,{inset:"16px",align:"end",exited:!i}),y.createElement(m.a,{emphasis:"low",leadingIcon:"filter_list",onClick:()=>{l(!0)}},"Filters")),s&&y.createElement(A,{mobile:t,open:s,onClose:()=>l(!1)},t&&y.createElement(M,null,y.createElement(O,null,"SORT BY"),y.createElement(F,null,y.createElement(h.a,{options:[...o.keys()],onSelect:e=>{E(e),Object(f.u)("kernels","changed-sort-by"),n({sortBy:o.get(e)})},value:r.sortBy?Object(a.a)(o,r.sortBy):b}))),y.createElement(O,null,"TAGS"),y.createElement(j,{tags:c,onChange:e=>{u(e),n({tagIds:e.map(e=>e.id)})},searchTags:e=>f.x.searchTags({searchType:"notebook",searchQuery:e,showSystemTags:!1,skip:0,take:10}).then(e=>e.tags)}),y.createElement(O,null,"LANGUAGE"),y.createElement(T,null,y.createElement(L,{filter:r,filterCallback:n,filterType:"language",filterValue:"Python"},"Python"),y.createElement(L,{filter:r,filterCallback:n,filterType:"language",filterValue:"R"},"R")),y.createElement(O,null,"OUTPUTS"),y.createElement(T,null,y.createElement(L,{filter:r,filterCallback:n,filterType:"outputs",filterValue:"Visualization"},"Visualizations"),y.createElement(L,{filter:r,filterCallback:n,filterType:"outputs",filterValue:"Data"},"Data")),y.createElement(O,null,"TYPES"),y.createElement(T,null,y.createElement(L,{filter:r,filterCallback:n,filterType:"types",filterValue:"competitions"},"Competition"),y.createElement(L,{filter:r,filterCallback:n,filterType:"types",filterValue:"datasets"},"Dataset")),"everyone"!==r.tab&&y.createElement(y.Fragment,null,y.createElement(O,null,"PRIVACY"),y.createElement(T,null,y.createElement(L,{filter:r,filterCallback:n,filterType:"privacy",filterValue:"private"},"Private"),y.createElement(L,{filter:r,filterCallback:n,filterType:"privacy",filterValue:"public"},"Public"))),y.createElement(O,null,"ACCELERATOR"),y.createElement(T,null,y.createElement(L,{filter:r,filterCallback:n,filterType:"tagIds",filterValue:16580},"GPU"),y.createElement(L,{filter:r,filterCallback:n,filterType:"tagIds",filterValue:16574},"TPU")),y.createElement(N,null,y.createElement(m.a,{emphasis:"low",style:{marginRight:"8px"},onClick:()=>{Object(f.u)("kernels","cleared-filter-menu"),Object.assign(r,R),n(r)}},"Clear"),y.createElement(m.a,{onClick:()=>{l(!1)}},"Done"))))}},1377:function(e,t,n){"use strict";var a=n(1121),r=n(6),o=n(1),i=n.n(o),s=n(0),l=n(123),c=n(261),u=n(108),d=n(145),p=n(3);const m={light:{default:{text:p.n,border:p.e,hover:p.b,background:p.t,icon:p.n,focusShadow:p.n},selected:{text:p.n,border:p.e,hover:p.j,background:p.n,icon:p.t,focusShadow:p.t},disabled:{text:p.g,border:p.c,hover:p.t,background:p.t,icon:p.g,focusShadow:"transparent"}},dark:{default:{text:p.t,border:p.h,hover:p.j,background:p.n,icon:p.t,focusShadow:p.t},selected:{text:p.t,border:p.h,hover:p.b,background:p.t,icon:p.n,focusShadow:p.n},disabled:{text:p.g,border:p.j,hover:p.n,background:p.n,icon:p.g,focusShadow:"transparent"}}};n.d(t,"a",(function(){return w}));const h=i.a.div`
  display: flex;
  height: ${e=>e.dense?"24px":"36px"};
  align-items: center;
`,f=i()(d.d)`
  color: ${e=>m[e.theme.name][e.mode].text};
  padding: 0 8px;
  height: 100%;
  text-align: center;
  line-height: ${e=>e.dense?"24px":"36px"};
  border: 1px solid ${e=>m[e.theme.name][e.mode].border};
  border-top-right-radius: ${e=>e.upOnly&&(e.dense?"12px":"18px")};
  border-bottom-right-radius: ${e=>e.upOnly&&(e.dense?"12px":"18px")};
  padding-right: ${e=>e.upOnly&&"12px"};
`,g=i.a.button`
  border: 1px solid ${e=>m[e.theme.name][e.mode].border};
  box-sizing: border-box;
  color: ${e=>m[e.theme.name][e.mode].text};
  height: ${e=>e.dense?"26px":"38px"};
  display: flex;
  align-items: center;
  cursor: ${e=>"disabled"===e.mode?"default":"pointer"};
  user-select: none;
  transition: all 0.25s ease;
  background-color: ${e=>m[e.theme.name][e.mode].background};
  width: ${e=>e.dense?"30px":"36px"};
  padding: 0;
  justify-content: space-around;

  && > i {
    transition: color 0.25s ease;
    color: ${e=>m[e.theme.name][e.mode].icon};
    position: relative;
  }

  &:hover {
    transition: background-color 0.25s ease;
    background-color: ${e=>m[e.theme.name][e.mode].hover};
  }
  &:focus:not(focus-visible) {
    outline: none;
  }

  &:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 3px
      ${e=>m[e.theme.name][e.mode].focusShadow};
  }
`,b=i()(g)`
  border-top-left-radius: ${e=>e.dense?"12px":"18px"};
  border-bottom-left-radius: ${e=>e.dense?"12px":"18px"};
  border-right: none;
  && > i {
    left: 1px;
  }
`,v=i()(g)`
  border-top-right-radius: ${e=>e.dense?"12px":"18px"};
  border-bottom-right-radius: ${e=>e.dense?"12px":"18px"};
  border-left: none;
  && > i {
    right: 1px;
  }
`;function y(e,t,n,a){return a?()=>{}:Object(l.b)(500,a=>{const r=n(a);r instanceof Promise&&r.catch(n=>{t(e)})})}const E=(e,t,n)=>n?"disabled":e===t?"selected":"default",w=e=>{const{dense:t,totalVotes:n,upOnly:o,userVote:i="none",disabled:l=!1,onUpvote:d,onDownvote:p=(()=>{}),voteResumeUrl:m,shouldRedirectAnonymousToLogin:g=!0}=e,w=Object(c.a)(e),[x,C]=s.useState(i),k=s.useCallback(e=>{l||C(x===e?"none":e)},[x,l]),S=s.useCallback(y(x,C,d,l),[d,x,l]),_=s.useCallback(y(x,C,p,l),[p,x,l]),O=s.useCallback(e=>{if(Object(a.d)()&&g){const t=m?function(e,t){const n=new URL(e,window.location.origin);return n.searchParams.set("score",t.toString()),n.pathname+n.search}(m,e):document.location.pathname,n="/account/login?returnUrl="+encodeURIComponent(t)+"&message="+r.c.Sdk.Users.Protos.LoginMessageId.VOTE_LOGIN;return document.location.href=n,!0}return!1},[g,m]);let T=n;"up"===i?T--:"down"===i&&T++;let j=T;"up"===x?j++:"down"===x&&j--;const I=t?"xsmall":"medium";return s.createElement(h,Object.assign({dense:t},w,{onClick:e=>{e.stopPropagation(),e.preventDefault()}}),s.createElement(b,{dense:t,mode:E(x,"up",l),onClick:()=>{O(1)||(k("up"),S("none"===x))},"data-testid":"upvotebutton__upvote"},s.createElement(u.a,{size:I,icon:"arrow_drop_up"})),s.createElement(f,{dense:t,upOnly:o,mode:l?"disabled":"default"},j),!o&&s.createElement(v,{dense:t,mode:E(x,"down",l),onClick:()=>{O(-1)||(k("down"),_("none"===x))},"data-testid":"upvotebutton__downvote"},s.createElement(u.a,{size:I,icon:"arrow_drop_down"})))}},1378:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(0),o=n(1358),i=n(21),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.tier&&e.tier.toLowerCase();return r.createElement("div",{className:"voter-list-item voter-list-item--tier-"+t+" "+(i.a.userId===e.userId?"voter-list-item--current-user":"")},r.createElement("a",{target:"_blank",className:"voter-list-item__link",href:e.profileUrl},r.createElement("div",{className:"voter-list-item__avatar"},r.createElement(o.a,{id:e.userId,displayName:e.displayName,hideTooltip:!0,tier:e.tier,tierInt:e.tierInt,thumbnailUrl:e.avatarThumbnailUrl,userUrl:e.profileUrl})),r.createElement("div",{className:"voter-list-item__name"},e.displayName)))},t}(r.Component)},1380:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1211),r=n(0);n(1179);const o=e=>{const{align:t,exited:n,inset:o,label:i,className:s,style:l}=e;return r.createElement(a.a,{style:l,className:s,align:t,exited:n,inset:o,label:i})}},1381:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(260),r=n(0),o=n(1074);const i=e=>{const{bookmark:t}=e,[n,i]=Object(o.a)(t),s=r.useCallback(e=>{e.preventDefault(),i()},[i]),l=n?"bookmark":"bookmark_border",c=n?"Remove Bookmark":"Bookmark";return r.createElement(a.a,{icon:l,onClick:s},c)}},1382:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(1072),o=n(1074);const i=e=>{const{children:t}=e,{bookmarks:n,addBookmark:i,removeBookmark:s,setBookmarks:l,appendBookmarks:c}=Object(o.b)(e.bookmarks),u=a.useMemo(()=>({bookmarks:n,addBookmark:i,removeBookmark:s,setBookmarks:l,appendBookmarks:c}),[n,i,s,l,c]);return a.createElement(r.a.Provider,{value:u},t)}},1383:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(0),o=n(1373),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},n.onToggle=function(){n.props.isEditing&&n.props.saveCallback&&n.props.saveCallback(n.props.sectionName),n.props.toggleCallback(n.props.sectionName)},n.state={isEditing:t.isEditing},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},t.prototype.render=function(){var e=this.props,t=e.isHidden,n=e.disabled,a=e.style;if(t)return null;var i=r.createElement(o.a,{style:a,disabled:n,onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button",text:this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit"});return this.state.isEditing&&this.props.cancelCallback?r.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},r.createElement(o.a,{style:a,disabled:n,onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),i):i},t}(r.Component);!function(e){function t(t){var n=e.call(this,t)||this;return n.onButtonClick=function(){n.setState({isEditing:!n.state.isEditing})},n.state={isEditing:t.isEditing||!1},n}Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(i,{isEditing:!1,sectionName:"isEditing",toggleCallback:this.onButtonClick})}}(r.Component)},1384:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return p}));var r=n(2),o=function(){function e(e){this.description="Not started",e&&Object.assign(this,e)}return Object.defineProperty(e.prototype,"hasStarted",{get:function(){return!!this.uploadProgressEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytesLoaded",{get:function(){return(this.uploadProgressEvent&&this.uploadProgressEvent.loaded||0)+this.previousBytesReceived},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDone",{get:function(){return this.hasSucceeded||this.hasFailed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progressProps",{get:function(){return{initiatedTimeStamp:this.initialProgressEventTimeStamp,initialOffsetAmount:this.previousBytesReceived,progressEvent:this.uploadProgressEvent}},enumerable:!1,configurable:!0}),e}(),i=function(){function e(){this.cancellationCallbacks=[]}return e.prototype.register=function(e){var t=this;return this.isCancellationRequested&&e(),this.cancellationCallbacks.push(e),function(){t.cancellationCallbacks=t.cancellationCallbacks.filter((function(t){return t!==e}))}},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this.scopedIsCancellationRequested},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){var e,t;if(!this.isCancellationRequested){this.scopedIsCancellationRequested=!0;try{for(var n=Object(r.__values)(this.cancellationCallbacks),a=n.next();!a.done;a=n.next()){var o=a.value;o&&o()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}},e}(),s=function(){function e(){this.reset()}return e.prototype.set=function(){this.internalResolve&&this.internalResolve()},e.prototype.wait=function(){return this.internalPromise},e.prototype.reset=function(){var e=this;this.internalPromise=new Promise((function(t){e.internalResolve=t}))},e}(),l=function(){function e(){this.currentCancellationToken=new i}return e.prototype.pause=function(){this.isPaused||(this.isPaused=!0,this.resumeEvent=new s,this.currentCancellationToken.cancel())},e.prototype.waitUntilResumed=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.isPaused?[4,this.resumeEvent.wait()]:[2];case 1:return e.sent(),[2]}}))}))},e.prototype.resume=function(){this.isPaused&&(this.isPaused=!1,this.currentCancellationToken=new i,this.resumeEvent.set(),this.resumeEvent=null)},e}(),c=function(e){return Object(r.__awaiter)(void 0,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))};function u(t,n,a,i,s,l){return Object(r.__awaiter)(this,void 0,Promise,(function(){var c;return Object(r.__generator)(this,(function(u){switch(u.label){case 0:return[4,i?function(t,n,a){return Object(r.__awaiter)(this,void 0,Promise,(function(){var i,s,l,c,u,d;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return a(new o({description:"Checking server for existing upload"})),[4,e(t,{method:"PUT",headers:{"Content-Range":"bytes */"+n.size}})];case 1:return(i=r.sent()).status>=200&&i.status<300?(s={bytesReceived:n.size},[4,i.json()]):[3,3];case 2:return[2,(s.completeBlob=r.sent(),s)];case 3:if(l=i.headers.get("Range")){if(!(c=l.match(/bytes\s*=\s*([0-9]+)-([0-9]+)/)))throw new Error("Unable to parse Range header: "+l);if(0!==(u=parseInt(c[1],10)))throw new Error("Unexpect Range start offset: "+u);if((d=parseInt(c[2],10))>=n.size)throw new Error("Range end is larger than expected: "+d);return[2,{bytesReceived:d+1}]}return[2,{bytesReceived:0}]}}))}))}(t,n,s):Promise.resolve({bytesReceived:0})];case 1:return c=u.sent(),[2,new Promise((function(e,r){if(c.bytesReceived===n.size&&n.size>0)e(c.completeBlob);else{var i=new o({previousBytesReceived:c.bytesReceived?c.bytesReceived:0}),u=new XMLHttpRequest;u.open("PUT",t),u.upload.onprogress=function(e){i.description="Uploading file",i.isUploading=!0,i.isPaused=!1,i.initialProgressEventTimeStamp||(i.initialProgressEventTimeStamp=e.timeStamp),i.uploadProgressEvent=e,s(i)},u.onerror=function(e){i.isUploading=!1,l&&l.isCancellationRequested||r(u.statusText)},u.onload=function(t){if(i.isUploading=!1,u.status>=200&&u.status<300){i.isUploading=!1,i.isPaused=!1,s(i);var n=JSON.parse(u.responseText);e(n)}else i.description="Upload was interrupted",s(i),r(u.statusText)},l&&l.register((function(){u.abort(),i.description="Upload was paused",i.isUploading=!1,i.isPaused=!1,s(i),r("Upload was cancelled")})),c.bytesReceived>0?(u.setRequestHeader("Content-Range","bytes "+c.bytesReceived+"-"+(n.size-1)+"/"+n.size),u.send(n.slice(c.bytesReceived,n.size,a))):u.send(n)}}))]}}))}))}var d=a.BlobFiles.createNewBlob;function p(e,t,n){return function(e,t,n,a,i,s){var p,m=this,h=new l,f={progress:new o,onProgress:s},g=(p=function(e){f.progress=e,f.onProgress&&f.onProgress(e)},Object(r.__awaiter)(m,void 0,Promise,(function(){var s,l,f,g,b,v,y,E,w,x,C;return Object(r.__generator)(this,(function(k){switch(k.label){case 0:return p(new o({description:"Initializing upload"})),[4,Object(r.__awaiter)(m,void 0,Promise,(function(){var o;return Object(r.__generator)(this,(function(r){return o={name:n,contentLength:t.size,contentType:a,lastModifiedDate:i},[2,d({blobBucket:e},o)]}))}))];case 1:s=k.sent(),l=5e3,f=2,g=0,k.label=2;case 2:if(!(g<l))return[3,11];k.label=3;case 3:return k.trys.push([3,5,,10]),b=0!==g,[4,u(s.createUrl,t,a,b,p,h.currentCancellationToken)];case 4:if(v=k.sent(),y=null,v.md5Hash)for(y="",E=atob(v.md5Hash),w=0;w<E.length;w++)y+=E.charCodeAt(w).toString(16);return x={token:s.token,md5Hash:y,name:n,size:t.size,mediaLink:v.mediaLink},p(new o({description:"Upload complete",uploadedBlobInfo:x,hasSucceeded:!0})),[2,x];case 5:return k.sent(),h.isPaused?[4,h.waitUntilResumed()]:[3,7];case 6:return k.sent(),[3,10];case 7:return g>1?(p(new o({description:"Error while uploading",isPaused:!0,nextRetryDate:new Date(Date.now()+1e3*f),totalRetries:g})),[4,c(1e3*f)]):[3,9];case 8:k.sent(),f=Math.min(2*f,30),k.label=9;case 9:return[3,10];case 10:return g++,[3,2];case 11:throw p(new o({description:C="Upload failed, even after "+l+" attempts",isUploading:!1})),new Error(C)}}))})));return Object.defineProperties(g,{pause:{value:function(){return h.pause(),function(){return h.resume(),g}},configurable:!1,writable:!1,enumerable:!0},progress:{get:function(){return f.progress},configurable:!1,enumerable:!0},onProgress:{get:function(){return f.onProgress},set:function(e){return f.onProgress=e},configurable:!1,enumerable:!0}})}(e,t,t.name,t.type,new Date(t.lastModified),n)}}).call(this,n(56),n(367))},1385:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const a=10,r=(e,t)=>{const n=t&&t.selectedColumns?t.selectedColumns.map(e=>e.firestorePath):void 0;return void 0!==n?n:void 0!==e?e.baseInfo.map(e=>e.firestorePath).slice(0,a):[]}},1386:function(e,t,n){!function(){var e,a;function r(e){return e.replace(/<[^>]*>?/gi,l)}e=t,a=n(1246).Converter,e.getSanitizingConverter=function(){var e=new a;return e.hooks.chain("postConversion",r),e.hooks.chain("postConversion",c),e};var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,i=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i;function l(e){return e.match(o)||e.match(i)||e.match(s)?e:""}function c(e){if(""==e)return"";var t,n,a=/<\/?\w+[^>]*(\s|$|>)/g,r=e.toLowerCase().match(a),o=(r||[]).length;if(0==o)return e;for(var i,s=[],l=[],c=!1,u=0;u<o;u++)if(t=r[u].replace(/<\/?(\w+).*/,"$1"),!(s[u]||"<p><img><br><li><hr>".search("<"+t+">")>-1)){if(n=r[u],i=-1,!/^<\//.test(n))for(var d=u+1;d<o;d++)if(!s[d]&&r[d]=="</"+t+">"){i=d;break}-1==i?c=l[u]=!0:s[i]=!0}if(!c)return e;u=0;return e=e.replace(a,(function(e){var t=l[u]?"":e;return u++,t}))}}()},1387:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(2),r=n(369),o=n(147),i=n(0),s=n(1227),l=n(109),c=n(1419),u=n(70),d=n(21),p=n(872),m=n(1429),h="smartList",f=20;var g=function(t){function n(n){var i,s=t.call(this,n)||this;return s.currentDataVersion=0,s.targetDataVersion=0,s.getDefaultState=function(){var e=s.props,t=e.groups,n=e.sortOptions,r=s.props.pageSize||f,o=Object(a.__assign)({sortBy:n&&n[0]?n[0].value:null,group:t&&t[0]?t[0].value:null,search:"",page:1,pageSize:r,after:null},s.props.values);return{isLoadingMoreData:!0,hasMoreData:!0,list:[],onScroll:s.onScroll,onSortByChanged:s.onSortByChanged,boundSelectionGroups:s.getBoundSelectionGroups,pageSize:r,values:o,userLastSelectedSortBy:null}},s.getBoundSelectionGroups=function(){var e=s.props,t=e.groups,n=e.layout,a=s.state.values;return"tabbed"===n?t?t.filter((function(e){return null!=e})).map((function(e){return{key:e.value,name:e.label,title:e.title,href:"?sortBy="+a.sortBy+"&group="+e.value,action:function(){return s.onSelectionGroupChanged(e.value)}}})):null:t?t.filter((function(e){return null!=e})).map((function(e){return e.separator?{separator:!0}:{key:e.value,name:e.label,title:e.title,href:"?sortBy="+a.sortBy+"&group="+e.value,action:function(){return s.onSelectionGroupChanged(e.value)}}})):null},s.getQueryStringParameters=function(e){var t={};for(var n in s.state.values)if(s.state.values.hasOwnProperty(n)){var a=s.state.values[n];("search"!==n||!s.props.searchableGroups||s.props.searchableGroups.filter((function(e){return e===s.state.values.group})).length>0)&&a&&(t[n]=a)}return s.enableAfterPagination()?delete t.page:t.page=e||t.page,s.props.initialPageSize&&(t.pageSize=s.state.list.length>0?s.props.pageSize:s.props.initialPageSize,s.setState({lastRequestedPageSize:t.pageSize})),s.props.selection&&(t.selection=s.props.selection),t},s.refetchData=function(){var t=Array(s.state.values.page),n=[];Object(u.c)("telemetry","list-refetch-data",{type:s.analyticsType(),event:"start"});for(var r=function(r){s.targetDataVersion+=1;var o=s.targetDataVersion,i=s.getQueryStringParameters(r+1);(s.props.dataQuery?s.props.dataQuery(i).catch((function(e){for(var t in e instanceof Error&&Object(c.a)(e),e)p.a.clear(),p.a.error(t)})):e(s.props.dataUrl+"?"+new URLSearchParams(i).toString(),{method:"GET",credentials:"same-origin"}).then((function(e){return e.json()}))).then((function(e){var i,l,c,d;if(s.currentDataVersion>=o)Object(u.c)("telemetry","list-refetch-data",{type:s.analyticsType(),event:"stale-response"});else if(Object(u.c)("telemetry","list-refetch-data",{type:s.analyticsType(),event:"process-response"}),s.currentDataVersion=o,t[r]=e,t.filter(Array).length===s.state.values.page){try{for(var p=(i=void 0,Object(a.__values)(t)),m=p.next();!m.done;m=p.next()){var h=m.value;if(s.props.dataPathToList)try{for(var f=(c=void 0,Object(a.__values)(s.props.dataPathToList.split("."))),g=f.next();!g.done;g=f.next()){var b=g.value;n=n.concat(h[b])}}catch(e){c={error:e}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}else n=s.props.dataResolver?n.concat(s.props.dataResolver(h)):n.concat(h)}}catch(e){i={error:e}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(i)throw i.error}}s.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:n.length>0,hasLoadedSomeData:n.length>0,list:n,data:e,children:n.map((function(e,t){return s.props.itemRenderer(e,t,s.logSearchAction,s)}))},(function(){Object(u.c)("telemetry","list-refetch-data",{type:s.analyticsType(),event:"new-data-loaded"}),s.props.onDataLoaded&&s.props.onDataLoaded(e)}))}}))},o=0;o<s.state.values.page;o++)r(o)},s.getData=function(t){return Object(a.__awaiter)(s,void 0,void 0,(function(){var n,r,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return Object(u.c)("telemetry","list-fetch-data",{type:this.analyticsType(),event:"start"}),this.setState({isLoadingMoreData:t,isPagingMoreData:!t}),this.targetDataVersion+=1,n=this.targetDataVersion,r=this.getQueryStringParameters(),[4,this.props.dataQuery?this.props.dataQuery(r).catch((function(e){for(var t in e instanceof Error&&Object(c.a)(e),e)p.a.clear(),p.a.error(t)})):e(this.props.dataUrl+"?"+new URLSearchParams(r).toString(),{method:"GET",credentials:"same-origin"}).then((function(e){return e.json()}))];case 1:return o=a.sent(),this.currentDataVersion>=n?(Object(u.c)("telemetry","list-fetch-data",{type:this.analyticsType(),event:"stale-response"}),[2,null]):(this.currentDataVersion=n,Object(u.c)("telemetry","list-fetch-data",{type:this.analyticsType(),event:"process-response"}),this.setData(o,t),Object(u.c)("telemetry","list-fetch-data",{type:this.analyticsType(),event:"new-data-loaded"}),[2])}}))}))},s.setData=function(e,t){var n,r,o=e;if(s.props.dataPathToList)try{for(var i=Object(a.__values)(s.props.dataPathToList.split(".")),l=i.next();!l.done;l=i.next()){o=o[l.value]}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else s.props.dataResolver&&(o=s.props.dataResolver(o));var c=o,u=t?o:s.state.list.concat(o);c&&s.setState({isLoadingMoreData:!1,isPagingMoreData:!1,hasMoreData:s.hasMoreData(c.length),hasLoadedSomeData:u.length>0,list:u,data:e,children:u.map((function(e,t){return s.props.itemRenderer(e,t,s.logSearchAction,s)}))},(function(){return s.props.onDataLoaded?s.props.onDataLoaded(e):null}))},s.setValueState=function(e,t,n){s.setState({values:s.mergeValues(e)},(function(){return s.onSelectionsChanged(t,n,e)}))},s.mergeValues=function(e){return Object(a.__assign)(Object(a.__assign)({},s.state.values),e)},s.onSearchChange=function(e){s.changeSearch(e.target.value,!0)},s.handleBeforeUnload=function(e){document.querySelector(".smart-list")!==document.activeElement&&s.logSearchAction()},s.logSearchAction=function(t,n,r,o){if(s.state.values.search){var i=null!=t&&null!=n,c=null;i&&(c=Object(l.v4)(),document.cookie="searchToken="+c+";path=/");var p={index:s.props.searchIndex,isQuick:!1,q:s.state.values.search,isSuccess:i,rank:r,id:t,url:n,secondsSpentSearching:s.state.searchStartTime?Math.floor((new Date).getTime()-s.state.searchStartTime.getTime())/1e3:null,token:c,isPrivate:o};Object(u.c)("search","searchBoxUsed",Object(a.__assign)(Object(a.__assign)({},p),{source:"SmartList"})),i||Object(u.c)("search","successLog",{clickedLink:!1,secondsOnPage:-1,token:void 0}),e("/search/log",{headers:{"x-xsrf-token":d.a.antiForgeryToken},method:"POST",body:JSON.stringify(p)})}},s.onFilterChanged=function(e,t,n,a){var r=s.state.values;if(r&&r[e]===t){if(!a)return;t=""}var o={};o[e]=t,s.setValueState(o,!0,n)},s.onSelectionGroupChanged=function(e){var t=s.state.values;if(!t||t.group!==e){var n=s.props.groupDefaultSortBys?s.props.groupDefaultSortBys.filter((function(t){return t.group===e})):null,a=s.state.userLastSelectedSortBy||(n&&n.length>0?n[0].sortBy:t.sortBy),r=s.props.groupSearchRedirects&&s.props.groupSearchRedirects.filter((function(t){return t.searchedGroup===e})).length>0||!s.props.searchableGroups||0===s.props.searchableGroups.filter((function(t){return t===e})).length;s.setValueState({group:e,sortBy:a,search:r?"":t.search},!0,!1)}},s.onPopState=function(e){var t=(window.history.state||{})[h]||null;if(t)s.setValueState(t,!1,!1);else{var n=s.getDefaultState();s.setValueState(n.values,!1,!1)}},s.onSortByChanged=function(e){s.state.values.sortBy!==e&&s.setState({values:s.mergeValues({sortBy:e}),userLastSelectedSortBy:"relevance"===e?s.state.userLastSelectedSortBy:e},(function(){return s.onSelectionsChanged(!0,!1,{sortBy:e})}))},s.onSelectionsChanged=function(e,t,n){t&&s.timer&&clearTimeout(s.timer),t?s.timer=window.setTimeout((function(){return s.onSelectionsChangedInternal(e,n)}),300):s.onSelectionsChangedInternal(e,n)},s.onSelectionsChangedInternal=function(e,t){s.props.onSelectionsChanged&&s.props.onSelectionsChanged(s.state.values,t);var n=s.refs.container;n&&(n.style.minHeight=document.querySelector(n).height),s.setState({hasMoreData:!0,hasLoadedSomeData:!1,list:s.props.disableClearResultsOnUpdate?s.state.list:[],children:s.props.disableClearResultsOnUpdate?s.state.children:[],values:s.mergeValues({page:1,after:null})},(function(){var t=window.location.pathname+"?"+new URLSearchParams(s.getQueryStringParameters()).toString();s.getData(!0).then((function(){var a;e&&!s.props.disablePushState&&Object(r.d)(((a={})[h]=s.state.values,a),null,t),n&&(n.style.minHeight="initial")}))}))},s.onScroll=function(){var e=s.props.initialPageSize?s.props.initialPageSize:s.props.pageSize?s.state.pageSize:0;if(!(s.state.isLoadingMoreData||s.state.isPagingMoreData||!s.state.hasMoreData||0!==s.state.list.length&&s.state.list.length<e)){var t=s.enableAfterPagination()?{after:s.state.list[s.state.list.length-1].id}:{page:s.state.values.page+1};Object(u.c)("list","scroll",{type:s.analyticsType(),after:t.after,page:t.page}),s.setState({values:s.mergeValues(t)},(function(){s.getData(!1)}))}},s.updateOpenMobileSort=function(e){s.setState({openMobileSort:e})},s.removeListItemById=function(e){var t=s.state.list.filter((function(t){return t.id!==e}));t.length!==s.state.list.length&&s.setState({list:t,children:t.map((function(e,t){return s.props.itemRenderer(e,t,s.logSearchAction,s)}))})},function(e){o(e.data||e.dataUrl||e.dataQuery,"<SmartListContainer /> requires data OR dataUrl OR dataQuery property and none were supplied.\n\treferrer: "+e.referrer)}(n),s.state=s.getDefaultState(),Object(r.f)(Object(a.__assign)(Object(a.__assign)({},window.history.state),((i={})[h]=s.state.values,i)),document.title),s}return Object(a.__extends)(n,t),n.prototype.analyticsType=function(){return this.props.analyticsType||this.props.pluralItemDescription},n.prototype.componentDidUpdate=function(){this.props.onDidUpdate&&this.props.onDidUpdate()},n.prototype.componentDidMount=function(){Object(r.c)(this.onPopState),window.addEventListener("beforeunload",this.handleBeforeUnload,!1),!this.props.data||window.history.state?this.getData(!0):this.setData(this.props.data,!0),Object(u.c)("list","mount",{type:this.analyticsType()})},n.prototype.componentWillUnmount=function(){Object(r.e)(this.onPopState),window.removeEventListener("beforeunload",this.handleBeforeUnload,!1)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.data&&!s.isEqual(e.data,this.state.data)&&this.setData(e.data,!0)},n.prototype.enableAfterPagination=function(){return this.props.useAfterPagination&&(!this.state.values.search||""===this.state.values.search)},n.prototype.hasMoreData=function(e){return this.state.lastRequestedPageSize?this.state.lastRequestedPageSize===e:e>0},n.prototype.changeSearch=function(e,t){var n=this,a=this.props.groupDefaultSortBys?this.props.groupDefaultSortBys.filter((function(e){return e.group===n.state.values.group})):null,r=a&&a.length>0?a[0].sortBy:this.props.sortOptions&&this.props.sortOptions[0].value,o=null!=e&&""!==e||"relevance"!==this.state.values.sortBy?e?"relevance":this.state.values.sortBy:this.state.userLastSelectedSortBy||r,i=this.props.groupSearchRedirects&&this.props.groupSearchRedirects.filter((function(e){return e.searchedGroup===n.state.values.group})),s=i&&i.length>0?i[0].redirectToGroup:this.state.values.group;this.setState({values:this.mergeValues({search:e,sortBy:o,group:s}),searchStartTime:this.state.searchStartTime||new Date}),this.onSelectionsChanged(!0,t,{search:e})},n.prototype.render=function(){var e={updateOpenMobileSort:this.updateOpenMobileSort,onFilterChanged:this.onFilterChanged,onSearchChange:this.onSearchChange,analyticsType:this.analyticsType()},t=Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},this.props),this.state),e);return this.props.isHidden?null:i.createElement(m.a,Object(a.__assign)({},t))},n}(i.Component)}).call(this,n(56))},1390:function(e,t,n){"use strict";var a=n(0),r=n(2),o=n(145),i=n(874),s=n(6),l=n(1),c=n.n(l),u=n(1025),d=n(1019),p=n(1048);const m=c.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: ${e=>e.theme.material.spacing(6)};
`,h=c()(o.p)`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,f=c.a.img`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,g=c()(o.b)`
  text-align: center;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,b=c()(o.b)`
  text-align: center;
  color: ${e=>d.a[e.theme.name].error};
`,v=()=>{const e=a.useContext(u.a),t=a.useContext(u.b),n=a.useContext(s.b),{reference:i}=e,{selectedSource:l}=t,{clients:{competitionsClient:c}}=n,[d,b]=a.useState("waiting");if(!l||"competition"!==l.sourceType)return null;const v="competition"===i.type;return a.createElement(m,null,a.createElement(h,{emphasis:"high"},"Competition Rules"),a.createElement(f,{src:"/static/images/datasets/accept_comp_rules.png"}),a.createElement(g,{emphasis:"medium"},"To see this data you need to agree to the"," ",a.createElement(o.v,{href:`${l.sourceUrl}/rules`},"competition rules"),".",a.createElement("br",null),v&&a.createElement(a.Fragment,null,'By clicking "I understand and accept" you agree to be bound to these rules.')),v&&y(d,()=>Object(r.__awaiter)(void 0,void 0,void 0,(function*(){b("processing");try{yield c.userService.acceptRules({competitionId:l.sourceId}),window.location.reload()}catch(e){b("error")}}))),!v&&E(()=>Object(p.g)(l.sourceUrl,!0)))},y=(e,t)=>"error"===e?a.createElement(b,null,"An error occurred accepting the competition rules."):a.createElement(i.a,{leadingIcon:"processing"===e?"check":void 0,disabled:"processing"===e,onClick:t},"I understand and agree"),E=e=>a.createElement(i.a,{onClick:e},"Go to competition"),w=c.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: ${e=>e.theme.material.spacing(6)};
`,x=c()(o.p)`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,C=c.a.img`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,k=c()(o.b)`
  text-align: center;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,S=a.memo(e=>{const{message:t,title:n}=e,r=n||"Ooops, that's an error",i=t||a.createElement(a.Fragment,null,"There was a problem processing your request.",a.createElement("br",null),"If you keep having problems, please"," ",a.createElement(o.v,{href:"mailto: support@kaggle.com"},"contact support")," and we'll get you squared away.");return a.createElement(w,null,a.createElement(x,{emphasis:"high"},r),a.createElement(C,{src:"/static/images/datasets/error.png"}),a.createElement(k,{emphasis:"medium"},i))}),_=c()(o.b)`
  margin: ${e=>e.theme.material.spacing(6)};
  color: ${e=>d.a[e.theme.name].error};
`,O=a.memo(e=>{const{message:t,noPrefix:n}=e,r=n?t:"An error occurred"+(t?": "+t:".");return a.createElement(_,null,r)});n.d(t,"a",(function(){return T}));const T=a.memo(e=>{const{message:t,title:n,isExtended:r}=e,o="Deadline Exceeded"===t?"We're still crunching the numbers for your preview, please try again later":t,i="Deadline Exceeded"===t;return"To see the data you need to agree to the competition rules"===t?a.createElement(v,null):!0===r?a.createElement(S,{title:n,message:o}):a.createElement(O,{noPrefix:i,message:o})})},1395:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(145),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  align-items: center;
  display: flex;
  flex-direction: column;
  padding-top: 28px;
`,l=e=>i.createElement(s,null,i.createElement("img",{src:"/static/images/community/book.svg",width:"136",height:"133",alt:"No Bookmarks",style:{marginBottom:"12px"}}),i.createElement(a.p,{style:{marginBottom:"8px"}},"No Bookmarks added"),i.createElement(a.b,{style:{textAlign:"center"}},"You can bookmark content to save here.",i.createElement("br",null),"Look for the bookmark icon in your overflow menu options."))},1396:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(2),r=n(182),o=n(145),i=n(3),s=n(874),l=n(108),c=n(119),u=n(184),d=n(6),p=n(1),m=n.n(p),h=n(1366),f=n(122),g=n(0),b=n(254),v=n(1045),y=n(1078);const E={[v.a.UNSPECIFIED]:"Favorite",[v.a.COMPETITION]:"Pinned Competition",[v.a.DATASET]:"Dataset Favorite",[v.a.FORUM_TOPIC]:"Topic Favorite",[v.a.KERNEL]:"Notebook Favorite"},w=m.a.div`
  align-items: center;
  display: flex;
`,x=m()(r.a)`
  flex-shrink: 0;
`,C=m()(o.b)`
  display: -webkit-box;
  height: 40px;
  overflow: hidden;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
`,k=m.a.div`
  align-items: center;
  display: flex;
  height: 100%;

  & > button + button {
    margin-left: 8px;
  }
`,S=m()(k)`
  justify-content: center;
  margin-top: 16px;
`,_=m.a.div`
  border-bottom: 1px solid ${i.c};
  padding: 8px 16px;
`,O=m.a.div`
  align-items: center;
  display: flex;
`,T=e=>{const{bookmarkType:t}=e,[n,r]=g.useState(null),[o,i]=g.useState("init");g.useEffect(()=>{(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{remainingCount:e}=yield d.A.bookmarkService.getBookmarkStatus({bookmarkType:t});r(e)})))()},[t]);const c=g.useCallback(e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){if("working"===o)return;i("working");const a=e?v.b.MIGRATE:v.b.DISPOSE;yield d.A.bookmarkService.convertLegacyFavorites({bookmarkType:t,conversionMethod:a});const r=e?"bookmark-history-migrated":"bookmark-history-discarded";d.r.report("general",r,{bookmarkType:t,numItems:n}),i("complete"),e&&b.a.notify({title:`${n} ${f("bookmark",n)} added!`,dismissesOnAction:!0,actions:[{action:"Refresh",label:"Refresh",onClick:()=>window.location.reload()}],timeout:y.a})})),[t,o,n]);g.useEffect(()=>{"init"===o&&null!==n&&n>0&&d.n.bookmarksUI&&d.r.report("general","bookmark-history-banner-view",{bookmarkType:t,numItems:n})},[t,o,n]);const u=Object(h.a)(p.MaterialBreakpointDown.PHONE);if(null===n||0===n||"complete"===o||!d.n.bookmarksUI)return null;const m=f(E[t],n),w={message:`Introducing Bookmarks! Choose "Add" to move your \n    ${n} ${m} into bookmarks. If you select "Discard" \n    your ${m} will no longer be accessible.`,buttons:g.createElement(g.Fragment,null,g.createElement(s.a,{emphasis:"low",onClick:()=>c(!1)},"Discard"),g.createElement(s.a,{emphasis:"medium",onClick:()=>c(!0)},"Add")),icon:g.createElement(l.a,{icon:"report_problem",size:u?"large":"medium",style:{color:"#E37400"}})};return u?g.createElement(I,Object.assign({},w)):g.createElement(j,Object.assign({},w))},j=e=>{const{message:t,buttons:n,icon:a}=e;return g.createElement(c.a,{divider:!0},g.createElement(x,null,a),g.createElement(w,null,g.createElement(C,null,t)),g.createElement(u.a,null,g.createElement(k,null,n)))},I=e=>{const{message:t,buttons:n,icon:a}=e;return g.createElement(_,null,g.createElement(O,null,g.createElement(o.b,null,t),a),g.createElement(S,null,n))}},1397:function(e,t,n){e.exports=n(1492)},1398:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(1233),r=function(t){var n=t.title,r=t.subtitle,o=t.titleUrl,i=t.isEditingHeaderInfo,s=t.modifier,l=t.onTitleClick,c=t.forkInfo,u=t.editHeaderButton,d=t.canEdit;return e.createElement(e.Fragment,null,function(t,n,r,o,i){return n?t:r?e.createElement("a",{href:r,className:Object(a.b)("pageheader__title",i)},t):e.createElement("div",{role:"button",className:Object(a.b)("pageheader__title",i),onClick:o},t)}(n,i,o,l,s),u&&d?u:void 0,function(t,n,r,o,i){return n?t:e.createElement("a",{href:r,className:Object(a.b)("pageheader__subtitle",i)},e.createElement("p",null,t),o)}(r,i,o,c,s))}}).call(this,n(0))},1404:function(e,t,n){"use strict";var a=n(0),r=n(2),o={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};function i(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}var s,l=n(27),c={CLOSED_CLASS:"mdc-linear-progress--closed",INDETERMINATE_CLASS:"mdc-linear-progress--indeterminate",REVERSED_CLASS:"mdc-linear-progress--reversed"},u={BUFFER_SELECTOR:".mdc-linear-progress__buffer",PRIMARY_BAR_SELECTOR:".mdc-linear-progress__primary-bar"},d=function(e){function t(n){return e.call(this,r.__assign({},t.defaultAdapter,n))||this}return r.__extends(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return c},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return u},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},getBuffer:function(){return null},getPrimaryBar:function(){return null},hasClass:function(){return!1},removeClass:function(){},setStyle:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.isDeterminate_=!this.adapter_.hasClass(c.INDETERMINATE_CLASS),this.isReversed_=this.adapter_.hasClass(c.REVERSED_CLASS),this.progress_=0},t.prototype.setDeterminate=function(e){this.isDeterminate_=e,this.isDeterminate_?(this.adapter_.removeClass(c.INDETERMINATE_CLASS),this.setScale_(this.adapter_.getPrimaryBar(),this.progress_)):(this.adapter_.addClass(c.INDETERMINATE_CLASS),this.setScale_(this.adapter_.getPrimaryBar(),1),this.setScale_(this.adapter_.getBuffer(),1))},t.prototype.setProgress=function(e){this.progress_=e,this.isDeterminate_&&this.setScale_(this.adapter_.getPrimaryBar(),e)},t.prototype.setBuffer=function(e){this.isDeterminate_&&this.setScale_(this.adapter_.getBuffer(),e)},t.prototype.setReverse=function(e){this.isReversed_=e,this.isReversed_?this.adapter_.addClass(c.REVERSED_CLASS):this.adapter_.removeClass(c.REVERSED_CLASS)},t.prototype.open=function(){this.adapter_.removeClass(c.CLOSED_CLASS)},t.prototype.close=function(){this.adapter_.addClass(c.CLOSED_CLASS)},t.prototype.setScale_=function(e,t){if(e){var n="scaleX("+t+")";this.adapter_.setStyle(e,function(e,t){if(i(e)&&t in o){var n=e.document.createElement("div"),a=o[t],r=a.standard,s=a.prefixed;return r in n.style?r:s}return t}(window,"transform"),n)}},t}(l.a),p=n(28),m=n(105),h=n(190),f=(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),g=function(){return(g=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},v=Object(p.a)({displayName:"LinearProgressRoot",tag:"nav",classNames:function(e){return["mdc-linear-progress",{"mdc-linear-progress--reversed":e.reversed,"mdc-linear-progress--closed":e.closed}]},defaultProps:{role:"progressbar"},consumeProps:["determinate","reversed","accent","closed"]}),y=Object(p.a)({displayName:"LinearProgressBufferingDots",classNames:["mdc-linear-progress__buffering-dots"]}),E=Object(p.a)({displayName:"LinearProgressBuffer",classNames:["mdc-linear-progress__buffer"]}),w=Object(p.a)({displayName:"LinearProgressPrimaryBar",classNames:["mdc-linear-progress__bar mdc-linear-progress__primary-bar"]}),x=Object(p.a)({displayName:"LinearProgressSecondaryBar",classNames:["mdc-linear-progress__bar mdc-linear-progress__secondary-bar"]}),C=Object(p.a)({displayName:"LinearProgressBarInner",classNames:["mdc-linear-progress__bar-inner"]}),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=t.createElement("root"),t.determinate=null,t}return f(t,e),t.prototype.getDefaultFoundation=function(){var e=this;return new d({addClass:function(t){return e.root.addClass(t)},getPrimaryBar:function(){return e.root.ref&&e.root.ref.querySelector(d.strings.PRIMARY_BAR_SELECTOR)},getBuffer:function(){return e.root.ref&&e.root.ref.querySelector(d.strings.BUFFER_SELECTOR)},hasClass:function(t){return e.root.hasClass(t)},removeClass:function(t){return e.root.removeClass(t)},setStyle:function(e,t,n){return e.style[t]=n}})},t.prototype.sync=function(e,t){e.progress!==t.progress&&this.foundation.setProgress(e.progress||0),e.buffer!==t.buffer&&this.foundation.setBuffer(e.buffer||0),void 0===e.progress||this.determinate?(void 0===e.progress&&this.determinate||null===this.determinate)&&(this.foundation.setDeterminate(!1),this.determinate=!1):(this.foundation.setDeterminate(!0),this.determinate=!0),e.reversed!==t.reversed&&this.foundation.setReverse(!!e.reversed),e.closed!==t.closed&&(e.closed?this.foundation.close():this.foundation.open())},t.prototype.render=function(){var e=this.props,t=(e.progress,e.buffer,e.determinate),n=b(e,["progress","buffer","determinate"]);return void 0!==t&&Object(m.a)("LinearProgress determinate is no longer a valid prop. Determinate is set automatically be the presence of the progress prop."),a.createElement(v,g({},this.root.props(n),{ref:this.root.setRef}),a.createElement(y,null),a.createElement(E,null),a.createElement(w,null,a.createElement(C,null)),a.createElement(x,null,a.createElement(C,null)))},t.displayName="LinearProgress",t.defaultProps={progress:void 0,buffer:void 0,reversed:!1},t}(h.a);n.d(t,"a",(function(){return S})),n(1184);const S=e=>{const{progress:t}=e,n=!e.hasOwnProperty("closed")||e.closed;return a.createElement(k,{closed:!!n,progress:t})}},1405:function(e,t,n){"use strict";var a=n(1136),r=n(1),o=n.n(r),i=n(0),s=n(123),l=n(1331),c=n(1332),u=n(1367),d=n(1002),p=n(1004),m=n(1144),h=n(3);const f={light:{default:{background:h.t,color:h.n,divider:h.c},hover:{background:h.f},selected:{background:h.b},disabled:{color:h.h}},dark:{default:{color:h.c,background:h.j,divider:h.i},hover:{background:h.j},selected:{background:h.j},disabled:{color:h.i}}};n.d(t,"a",(function(){return E}));const g=i.createContext({listingTheme:{}}),b=o()(l.a)`
  width: 100%;
  min-width: 320px;
`,v=o()(c.a)`
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: flex-end;
  @media ${r.BreakpointDown.PHONE} {
    display: none;
  }
`,y=o()(p.a)`
  margin-top: -24px;
  @media ${r.BreakpointDown.TABLET} {
    margin-top: -16px;
  }
`,E=e=>{const{tabMap:t,sortByMap:n,selectedSortBy:o,selectedTab:l,searchQueryValue:p,searchBoxPlaceholder:h="",disableSearch:E=!1,disableSort:w=!1,filterCallback:x,filterMenu:C,list:k,className:S}=e,_=i.useContext(r.ThemeContext),O=f[_.name],T=[...n.keys()][0],[j,I]=i.useState(T),[D,N]=i.useState(0),[M,F]=i.useState(""),P=i.useRef(Object(s.a)(250,e=>x(e)));return i.createElement(g.Provider,{value:{listingTheme:O}},i.createElement(b,{className:S},i.createElement(c.a,{align:"middle",desktop:12,tablet:8,phone:4},i.createElement(d.a,{onChange:e=>{P.current({searchQuery:e.target.value}),F(e.target.value)},value:p||M,placeholder:h,actionItem:C,disabled:E})),i.createElement(c.a,{align:"middle",desktop:9,tablet:6,phone:4},i.createElement(m.a,{tabs:[...t.keys()],onSelectItem:e=>{N(e),x({tab:[...t.values()][e]})},selectedIndex:l?[...t.values()].indexOf(l):D})),i.createElement(v,{desktop:3,tablet:2,phone:0},i.createElement(u.a,{options:[...n.keys()],onSelect:e=>{I(e),x({sortBy:n.get(e)})},value:o?Object(a.a)(n,o):j,disabled:w})),i.createElement(c.a,{span:12},i.createElement(y,null),k)))}},1407:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,r,o,i,s,l=n(2),c=n(1),u=n.n(c),d=n(1007),p=u.a.span.withConfig({displayName:"Tag_Wrapper",componentId:"sc-9nhn9u"})(a||(a=Object(l.__makeTemplateObject)(["\n  position: relative;\n  z-index: ",";\n  color: ",";\n  margin-left: 6px; /* optical */\n"],["\n  position: relative;\n  z-index: ",";\n  color: ",";\n  margin-left: 6px; /* optical */\n"])),d.i.ZForeground,d.b.TextTag),m=u.a.span.withConfig({displayName:"Tag_Icon",componentId:"sc-58yxs"})(r||(r=Object(l.__makeTemplateObject)(["\n  margin-left: ",";\n  margin-right: ",";\n"],["\n  margin-left: ",";\n  margin-right: ",";\n"])),d.g.PadXs,d.g.PadXs),h=Object(c.css)(o||(o=Object(l.__makeTemplateObject)(["\n  ",";\n  color: "," !important;\n  font-weight: "," !important;\n\n  &:hover {\n    color: "," !important;\n  }\n\n  overflow: hidden;\n  word-wrap: nowrap;\n  text-overflow: ellipsis;\n"],["\n  ",";\n  color: "," !important;\n  font-weight: "," !important;\n\n  &:hover {\n    color: "," !important;\n  }\n\n  overflow: hidden;\n  word-wrap: nowrap;\n  text-overflow: ellipsis;\n"])),d.e.default,d.b.TextTag,d.d.FontWeightMedium,d.b.TextLinkHover),f=u.a.a.withConfig({displayName:"Tag_TextAnchor",componentId:"sc-hezo17"})(i||(i=Object(l.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),h),g=u.a.span.withConfig({displayName:"Tag_TextSpan",componentId:"sc-14oqu21"})(s||(s=Object(l.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),h);function b(t){var n=t.tags,a=t.className;return 0===n.length?null:e.createElement(p,{className:a},e.createElement(m,{className:"fa fa-tag"}),n.map((function(t,a){return e.createElement("span",{key:t.name},t.url||t.onClick?e.createElement(f,{href:t.url,onClick:t.onClick},t.name):e.createElement(g,null,t.name),a<n.length-1?", ":null)})))}}).call(this,n(0))},1408:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(2),r=n(370),o=n(0),i=n(109),s=!!window.IntersectionObserver,l=function(){function e(e,t,n,a){void 0===a&&(a=c.DEFAULT),this.target=e,this.callback=t,this.factory=a,this.intersectionObserver=a.getIntersectionObserver(n),a.cache(this)?this.intersectionObserver.observe(e):console.error("A target element can only be observed once per intersection observer factory.")}return e.prototype.run=function(e){this.callback(e.isIntersecting,e,this)},e.prototype.unobserve=function(){this.factory.uncache(this),this.intersectionObserver.unobserve(this.target)},e}(),c=function(){function e(){var e=this;this.observe=function(t,n,a){return new l(t,n,a,e)},this.intersectionObservers=new Map,this.entryObservers=new Map}return e.prototype.getOptionsKey=function(t){var n="";return(t=t||{}).root&&((n=t.root.getAttribute(e.KEY_ATTRIBUTE))||(n=Object(i.v4)(),t.root.setAttribute(e.KEY_ATTRIBUTE,n))),[n,t.rootMargin,t.threshold].join(" ")},e.prototype.getIntersectionObserver=function(e){var t=this,n=this.getOptionsKey(e);if(this.intersectionObservers.has(n))return this.intersectionObservers.get(n);var a=Object(r.a)((function(e){return e.forEach((function(e){t.entryObservers.has(e.target)&&t.entryObservers.get(e.target).run(e)}))}),e);return this.intersectionObservers.set(n,a),a},e.prototype.cache=function(e){return!this.entryObservers.has(e.target)&&(this.entryObservers.set(e.target,e),!0)},e.prototype.uncache=function(e){return!!this.entryObservers.has(e.target)&&(this.entryObservers.delete(e.target),!0)},e.KEY_ATTRIBUTE="data-intersection-observer-key",e.DEFAULT=new e,e}();!function(t){function n(e){var a=t.call(this,e)||this;return a.observer=null,s&&!n.factory&&(n.factory=new c),a.state={isVisible:null},a}Object(a.__extends)(n,t),n.prototype.componentWillUnmount=function(){this.unobserve()},n.prototype.shouldComponentUpdate=function(e,t){return null===this.state.isVisible||this.state.isVisible!==t.isVisible},n.prototype.unobserve=function(){this.observer&&(this.observer.unobserve(),this.observer=null)},n.prototype.observe=function(e){var t=this;this.unobserve(),this.observer=n.factory.observe(e,(function(e){return t.setState({isVisible:e})}),this.props)},n.prototype.refreshObserver=function(t){if(t&&s){var n=e.findDOMNode(t);n&&n instanceof Element?this.observer&&this.observer.target===n||this.observe(n):this.unobserve()}},n.prototype.render=function(){var e=this;if(1!==o.Children.count(this.props.children))throw new Error("VisibilityObserver requires exactly 1 child component.");var t=o.Children.only(this.props.children),n=function(t){return e.refreshObserver(t)};return null!==this.state.isVisible&&(n.isVisible=this.state.isVisible),o.cloneElement(t,n)}}(o.Component)}).call(this,n(15))},1409:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return m}));var a=n(2),r=n(999),o=n(6),i=n(0),s=n(1137),l=n(1143),c=n(1140);const u=(e,t)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return Object(c.a)(e.title,e.hasLinkedSubmission).then(n=>(n&&(o.q.deleteKernel({kernelId:e.id}),t.report("listing-item-delete-success")),n))})),d=e=>`https://www.kaggle.com/kernels/scriptcontent/${e}/download`,p=e=>{e.title&&e.scriptVersionId&&Object(r.d)(i.createElement(l.a,{usesAccelerator:e.isGpuEnabled,notebookTitle:e.title,sessionId:e.scriptVersionId,isDraft:!1,onClose:()=>{Object(r.b)()},languageName:e.languageName}))},m=(e,t)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const n=yield h(e.scriptVersionId),a=yield Object(o.p)();if(n&&n.length>0){if(!a||a.isAnonymous)return void(document.location.href=`/account/login?returnUrl=${encodeURIComponent(document.location.pathname)}`);Object(r.d)(i.createElement(s.a,{competitions:n,show:!0,onAcceptCompetitionRules:()=>(t.report("listing-item-competition-rules-accepted"),f(e,t)),onClose:()=>Object(r.b)(),showLinkToRules:!0}))}else g(e,t)})),h=t=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{competitionsRequiringAcceptance:n}=yield e.Scripts.checkRulesAcceptance({scriptVersionId:t});return n})),f=(t,n)=>e.Scripts.acceptRules({scriptVersionId:t.scriptVersionId}).then(e=>{e.redirectUrl?window.location.href=e.redirectUrl:e.success?g(t,n):alert(e.validationMessage)}),g=(e,t)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const n=yield Object(o.p)();t.report("listing-item-fork-and-edit-success");const a=`/code/new?forkParentScriptVersionId=${e.scriptVersionId}&userName=${n.displayName}`;window.location.href=a}))}).call(this,n(367))},1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(55),o=n(0),i=n(1411);var s=function(e){return function(t){Array.isArray(t)&&(t=null);var n=function(e){if(!e)return null;if(Array.isArray(e))throw new Error("<SelectBox /> may not store array items.");return e.value}(t);e.setState({selectValue:t}),e.props.onChange&&e.props.onChange(n)}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.change=s(t),t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.clearable,s=Object(a.__rest)(e,["className","clearable"]);return o.createElement(i.Async,Object(a.__assign)({},s,{className:r("KaggleSelect",t),onChange:this.change,clearable:n||!1}))},t}(o.Component)},1411:function(e,t,n){"use strict";n.r(t),n.d(t,"Async",(function(){return z})),n.d(t,"AsyncCreatable",(function(){return G})),n.d(t,"Creatable",(function(){return $})),n.d(t,"Value",(function(){return j})),n.d(t,"Option",(function(){return T})),n.d(t,"defaultMenuRenderer",(function(){return v})),n.d(t,"defaultArrowRenderer",(function(){return p})),n.d(t,"defaultClearRenderer",(function(){return m})),n.d(t,"defaultFilterOptions",(function(){return b}));var a=n(1447),r=n.n(a),o=n(55),i=n.n(o),s=n(8),l=n.n(s),c=n(0),u=n.n(c),d=n(15),p=function(e){var t=e.onMouseDown;return u.a.createElement("span",{className:"Select-arrow",onMouseDown:t})};p.propTypes={onMouseDown:l.a.func};var m=function(){return u.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],f=function(e){for(var t=0;t<h.length;t++)e=e.replace(h[t].letters,h[t].base);return e},g=function(e){return null!=e&&""!==e},b=function(e,t,n,a){return a.ignoreAccents&&(t=f(t)),a.ignoreCase&&(t=t.toLowerCase()),a.trimFilter&&(t=t.replace(/^\s+|\s+$/g,"")),n&&(n=n.map((function(e){return e[a.valueKey]}))),e.filter((function(e){if(n&&n.indexOf(e[a.valueKey])>-1)return!1;if(a.filterOption)return a.filterOption.call(void 0,e,t);if(!t)return!0;var r=e[a.valueKey],o=e[a.labelKey],i=g(r),s=g(o);if(!i&&!s)return!1;var l=i?String(r):null,c=s?String(o):null;return a.ignoreAccents&&(l&&"label"!==a.matchProp&&(l=f(l)),c&&"value"!==a.matchProp&&(c=f(c))),a.ignoreCase&&(l&&"label"!==a.matchProp&&(l=l.toLowerCase()),c&&"value"!==a.matchProp&&(c=c.toLowerCase())),"start"===a.matchPos?l&&"label"!==a.matchProp&&l.substr(0,t.length)===t||c&&"value"!==a.matchProp&&c.substr(0,t.length)===t:l&&"label"!==a.matchProp&&l.indexOf(t)>=0||c&&"value"!==a.matchProp&&c.indexOf(t)>=0}))},v=function(e){var t=e.focusedOption,n=e.focusOption,a=e.inputValue,r=e.instancePrefix,o=e.onFocus,s=e.onOptionRef,l=e.onSelect,c=e.optionClassName,d=e.optionComponent,p=e.optionRenderer,m=e.options,h=e.removeValue,f=e.selectValue,g=e.valueArray,b=e.valueKey,v=d;return m.map((function(e,d){var m=g&&g.some((function(t){return t[b]===e[b]})),y=e===t,E=i()(c,{"Select-option":!0,"is-selected":m,"is-focused":y,"is-disabled":e.disabled});return u.a.createElement(v,{className:E,focusOption:n,inputValue:a,instancePrefix:r,isDisabled:e.disabled,isFocused:y,isSelected:m,key:"option-"+d+"-"+e[b],onFocus:o,onSelect:l,option:e,optionIndex:d,ref:function(e){s(e,y)},removeValue:h,selectValue:f},p(e,d,a))}))};v.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var y=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=(function(){function e(e){this.value=e}function t(t){var n,a;function r(n,a){try{var i=t[n](a),s=i.value;s instanceof e?Promise.resolve(s.value).then((function(e){r("next",e)}),(function(e){r("throw",e)})):o(i.done?"return":"normal",i.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?r(n.key,n.arg):a=null}this._invoke=function(e,t){return new Promise((function(o,i){var s={key:e,arg:t,resolve:o,reject:i,next:null};a?a=a.next=s:(n=a=s,r(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),C=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n},O=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(e){function t(e){w(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return S(t,e),x(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,a=e.optionIndex,r=i()(this.props.className,t.className);return t.disabled?u.a.createElement("div",{className:r,onMouseDown:y,onClick:y},this.props.children):u.a.createElement("div",{className:r,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+a,title:t.title},this.props.children)}}]),t}(u.a.Component);T.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var j=function(e){function t(e){w(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return S(t,e),x(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return u.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?u.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):u.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return u.a.createElement("div",{className:i()("Select-value",this.props.value.disabled?"Select-value-disabled":"",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(u.a.Component);j.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};var I=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},D=l.a.oneOfType([l.a.string,l.a.node]),N=l.a.oneOfType([l.a.string,l.a.number]),M=1,F=function(e,t){var n=void 0===e?"undefined":E(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var a=t.options,r=t.valueKey;if(a)for(var o=0;o<a.length;o++)if(String(a[o][r])===String(e))return a[o]},P=function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)},L=function(e){function t(e){w(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach((function(e){return n[e]=n[e].bind(n)})),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return S(t,e),x(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++M)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:P(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:P(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(d.findDOMNode)(this.focused),a=Object(d.findDOMNode)(this.menu),r=a.scrollTop,o=r+a.offsetHeight,i=n.offsetTop,s=i+n.offsetHeight;(r>i||o<s)&&(a.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(d.findDOMNode)(this.focused),c=Object(d.findDOMNode)(this.menu),u=l.getBoundingClientRect(),p=c.getBoundingClientRect();u.bottom>p.bottom?c.scrollTop=l.offsetTop+l.clientHeight-c.offsetHeight:u.top<p.top&&(c.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var m=this.menuContainer.getBoundingClientRect();window.innerHeight<m.bottom+this.props.menuBuffer&&window.scrollBy(0,m.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var h=this.state.isOpen?this.props.onOpen:this.props.onClose;h&&h()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){var t=e?document.addEventListener?"addEventListener":"attachEvent":document.removeEventListener?"removeEventListener":"detachEvent",n=document.addEventListener?"":"on";document[t](n+"touchstart",this.handleTouchOutside),document[t](n+"mousedown",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen,focusedOption:null});if(this.state.isFocused){this.focus();var t=this.input,n=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1,focusedOption:null}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":E(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":E(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===t?"undefined":E(t))?t:this.props;if(n.multi){if("string"==typeof e&&(e=e.split(n.delimiter)),!Array.isArray(e)){if(null==e)return[];e=[e]}return e.map((function(e){return F(e,n)})).filter((function(e){return e}))}var a=F(e,n);return a?[a]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=P(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map((function(e){return e[t.props.valueKey]})).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(e){var t=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},(function(){t.getValueArray(t.props.value).some((function(n){return n[t.props.valueKey]===e[t.props.valueKey]}))?t.removeValue(e):t.addValue(e)})):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},(function(){t.setValue(e)}))}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter((function(e){return!e.disabled})),a=n.indexOf(e);this.setValue(t.concat(e)),this.props.closeOnSelect&&(n.length-1===a?this.focusOption(n[a-1]):n.length>a&&this.focusOption(n[a+1]))}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,n=this.getValueArray(this.props.value);this.setValue(n.filter((function(n){return n[t.props.valueKey]!==e[t.props.valueKey]}))),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map((function(e,t){return{option:e,index:t}})).filter((function(e){return!e.option.disabled}));if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(t.length){for(var a=-1,r=0;r<t.length;r++)if(this._focusedOption===t[r].option){a=r;break}if("next"===e&&-1!==a)a=(a+1)%t.length;else if("previous"===e)a>0?a-=1:a=t.length-1;else if("start"===e)a=0;else if("end"===e)a=t.length-1;else if("page_up"===e){var o=a-this.props.pageSize;a=o<0?0:o}else if("page_down"===e){var i=a+this.props.pageSize;a=i>t.length-1?t.length-1:i}-1===a&&(a=0),this.setState({focusedIndex:t[a].index,focusedOption:t[a].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return u.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},u.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,a=this.props.valueRenderer||this.getOptionLabel,r=this.props.valueComponent;if(!e.length)return function(e,t,n){var a=e.inputValue,r=e.isPseudoFocused,o=e.isFocused,i=t.onSelectResetsInput;return!a||!i&&!n&&!r&&!o}(this.state,this.props,t)?u.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var o,i,s,l,c,d,p=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map((function(t,o){return u.a.createElement(r,{disabled:n.props.disabled||!1===t.clearableValue,id:n._instancePrefix+"-value-"+o,instancePrefix:n._instancePrefix,key:"value-"+o+"-"+t[n.props.valueKey],onClick:p,onRemove:n.removeValue,placeholder:n.props.placeholder,value:t,values:e},a(t,o),u.a.createElement("span",{className:"Select-aria-only"}," "))})):(o=this.state,i=this.props,s=o.inputValue,l=o.isPseudoFocused,c=o.isFocused,d=i.onSelectResetsInput,s&&(d||!c&&l||c&&!l)?void 0:(t&&(p=null),u.a.createElement(r,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:p,placeholder:this.props.placeholder,value:e[0]},a(e[0]))))}},{key:"renderInput",value:function(e,t){var n,a=this,o=i()("Select-input",this.props.inputProps.className),s=this.state.isOpen,l=i()((C(n={},this._instancePrefix+"-list",s),C(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),c=this.state.inputValue;!c||this.props.onSelectResetsInput||this.state.isFocused||(c="");var d=k({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return a.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:c});if(this.props.inputRenderer)return this.props.inputRenderer(d);if(this.props.disabled||!this.props.searchable){var p=_(this.props.inputProps,[]),m=i()(C({},this._instancePrefix+"-list",s));return u.a.createElement("div",k({},p,{"aria-expanded":s,"aria-owns":m,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:o,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return a.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?u.a.createElement(r.a,k({id:this.props.id},d,{className:o,minWidth:"5"})):u.a.createElement("div",{className:o,key:"input-wrap",style:{display:"inline-block"}},u.a.createElement("input",k({id:this.props.id},d)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return u.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?u.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var a="function"==typeof this.props.filterOptions?this.props.filterOptions:b;return a(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?u.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map((function(e){return I(e[t.props.valueKey])})).join(this.props.delimiter);return u.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return t.value=e},type:"hidden",value:n})}return e.map((function(e,n){return u.a.createElement("input",{disabled:t.props.disabled,key:"hidden."+n,name:t.props.name,ref:"value"+n,type:"hidden",value:I(e[t.props.valueKey])})}))}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,a=this.state.focusedOption||e;if(a&&!a.disabled){var r=-1;if(t.some((function(e,t){var o=e[n]===a[n];return o&&(r=t),o})),-1!==r)return r}for(var o=0;o<t.length;o++)if(!t[o].disabled)return o;return null}},{key:"renderOuter",value:function(e,t,n){var a=this,r=this.renderMenu(e,t,n);return r?u.a.createElement("div",{ref:function(e){return a.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},u.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return a.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},r)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),a=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(a=!1);var r=this.getFocusableOptionIndex(t[0]),o=null;o=this._focusedOption=null!==r?n[r]:null;var s=i()("Select",this.props.className,{"has-value":t.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":a,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=u.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),u.a.createElement("div",{ref:function(t){return e.wrapper=t},className:s,style:this.props.wrapperStyle},this.renderHiddenField(t),u.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},u.a.createElement("div",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,a),this.renderInput(t,r)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),a?this.renderOuter(n,t,o):null)}}]),t}(u.a.Component);L.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:D,clearRenderer:l.a.func,clearValueText:D,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:D,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:D,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:N,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},L.defaultProps={arrowRenderer:p,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:m,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:b,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:v,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:T,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:j,valueKey:"value"};var A={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},R={},U={autoload:!0,cache:R,children:function(e){return u.a.createElement(L,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},z=function(e){function t(e,n){w(this,t);var a=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._cache=e.cache===R?{}:e.cache,a.state={inputValue:"",isLoading:!1,options:e.options},a.onInputChange=a.onInputChange.bind(a),a}return S(t,e),x(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,n=this.props.loadOptions,a=this._cache;if(a&&Object.prototype.hasOwnProperty.call(a,e))return this._callback=null,void this.setState({isLoading:!1,options:a[e]});var r=function n(r,o){var i=o&&o.options||[];a&&(a[e]=i),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:i}))};this._callback=r;var o=n(e,r);o&&o.then((function(e){return r(0,e)}),(function(e){return r()})),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,a=t.ignoreCase,r=t.onInputChange,o=e;if(r){var i=r(o);null!=i&&"object"!==(void 0===i?"undefined":E(i))&&(o=""+i)}var s=o;return n&&(s=f(s)),a&&(s=s.toLowerCase()),this.setState({inputValue:o}),this.loadOptions(s),o}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,a=e.searchPromptText,r=this.state,o=r.inputValue;return r.isLoading?t:o&&n?n:a}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.loadingPlaceholder,r=t.placeholder,o=this.state,i=o.isLoading,s=o.options,l={noResultsText:this.noResultsText(),placeholder:i?a:r,options:i&&a?[]:s,ref:function(t){return e.select=t}};return n(k({},this.props,l,{isLoading:i,onInputChange:this.onInputChange}))}}]),t}(c.Component);z.propTypes=A,z.defaultProps=U;var $=function(e){function t(e,n){w(this,t);var a=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.filterOptions=a.filterOptions.bind(a),a.menuRenderer=a.menuRenderer.bind(a),a.onInputKeyDown=a.onInputKeyDown.bind(a),a.onInputChange=a.onInputChange.bind(a),a.onOptionSelect=a.onOptionSelect.bind(a),a}return S(t,e),x(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,a=e.onNewOptionClick,r=e.options,o=void 0===r?[]:r;if(t({label:this.inputValue})){var i=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:i,options:o})&&(a?a(i):(o.unshift(i),this.select.selectValue(i)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,a=e.promptTextCreator,r=e.showNewOptionAtTop,o=(arguments.length<=2?void 0:arguments[2])||[],i=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,l=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey}),c=this.isOptionUnique({option:l,options:o.concat(i)});if(c){var u=a(this.inputValue);this._createPlaceholderOption=s({label:u,labelKey:this.labelKey,valueKey:this.valueKey}),r?i.unshift(this._createPlaceholderOption):i.push(this._createPlaceholderOption)}}return i}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,a=this.props.isOptionUnique;return n=n||this.props.options,a({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){var t=this.props.menuRenderer;return t(k({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,a=t.onInputKeyDown,r=this.select.getFocusedOption();r&&r===this._createPlaceholderOption&&n(e)?(this.createNewOption(),e.preventDefault()):a&&a(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.ref,a=_(t,["ref"]),r=this.props.children;return r||(r=B),r(k({},a,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),n&&n(t)}}))}}]),t}(u.a.Component),B=function(e){return u.a.createElement(L,e)},V=function(e){var t=e.option,n=e.options,a=e.labelKey,r=e.valueKey;return!n||!n.length||0===n.filter((function(e){return e[a]===t[a]||e[r]===t[r]})).length},H=function(e){return!!e.label},W=function(e){var t=e.label,n=e.labelKey,a={};return a[e.valueKey]=t,a[n]=t,a.className="Select-create-option-placeholder",a},q=function(e){return'Create option "'+e+'"'},K=function(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}};$.isOptionUnique=V,$.isValidNewOption=H,$.newOptionCreator=W,$.promptTextCreator=q,$.shouldKeyDownEventCreateNewOption=K,$.defaultProps={filterOptions:b,isOptionUnique:V,isValidNewOption:H,menuRenderer:v,newOptionCreator:W,promptTextCreator:q,shouldKeyDownEventCreateNewOption:K,showNewOptionAtTop:!0},$.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func,showNewOptionAtTop:l.a.bool};var G=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return S(t,e),x(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return u.a.createElement(z,this.props,(function(t){var n=t.ref,a=_(t,["ref"]),r=n;return u.a.createElement($,a,(function(t){var n=t.ref,a=_(t,["ref"]),o=n;return e.props.children(k({},a,{ref:function(t){o(t),r(t),e.select=t}}))}))}))}}]),t}(u.a.Component);G.propTypes={children:l.a.func.isRequired},G.defaultProps={children:function(e){return u.a.createElement(L,e)}},L.Async=z,L.AsyncCreatable=G,L.Creatable=$,L.Value=j,L.Option=T,t.default=L},1412:function(e,t,n){"use strict";(function(e){var a,r,o,i,s,l,c,u,d,p=n(2),m=n(1),h=n.n(m),f=n(1007),g=n(1094),b=n(1229),v=n(1274),y=n(1413),E=n(1414),w=h.a.div.withConfig({displayName:"Toolbar_ToolbarWrapper",componentId:"sc-csynmq"})(a||(a=Object(p.__makeTemplateObject)(["\n  ",";\n  display: flex;\n"],["\n  ",";\n  display: flex;\n"])),(function(e){return e.useBottomBorder?"\n    border-bottom: 1px solid "+f.b.ContentBorder+";\n  ":""})),x=h.a.div.withConfig({displayName:"Toolbar_ToolbarBody",componentId:"sc-1b1b4mo"})(r||(r=Object(p.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),C=h.a.a.withConfig({displayName:"Toolbar_ToolbarButtonLink",componentId:"sc-14ml9x8"})(i||(i=Object(p.__makeTemplateObject)(["\n  box-sizing: border-box;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 28px;\n  padding: "," ",";\n  position: relative;\n\n  &:hover {\n    color: ",";\n  }\n\n  ","\n\n  ","\n"],["\n  box-sizing: border-box;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 28px;\n  padding: "," ",";\n  position: relative;\n\n  &:hover {\n    color: ",";\n  }\n\n  ","\n\n  ","\n"])),f.b.TextLight,f.g.PadXs,f.g.PadS,f.b.TextLink,(function(e){return e.disabled?"\n        color: "+f.b.TextLight+";\n        cursor: not-allowed;\n    ":""}),f.f.nonMobile(o||(o=Object(p.__makeTemplateObject)(["\n    font-size: 24px;\n  "],["\n    font-size: 24px;\n  "])))),k=h.a.div.withConfig({displayName:"Toolbar_ToolbarButtonGroup",componentId:"sc-k3hh1a"})(s||(s=Object(p.__makeTemplateObject)(["\n  display: flex;\n  margin: "," 0;\n  padding: ",";\n  border-left: 1px solid ",";\n\n  &:first-child {\n    border-left: 0;\n  }\n"],["\n  display: flex;\n  margin: "," 0;\n  padding: ",";\n  border-left: 1px solid ",";\n\n  &:first-child {\n    border-left: 0;\n  }\n"])),f.g.PadS,f.g.PadXs,f.b.ContentBorderLight),S=h.a.div.withConfig({displayName:"Toolbar_ToolbarButtonGroupEnd",componentId:"sc-c5dvl4"})(l||(l=Object(p.__makeTemplateObject)(["\n  margin: auto 0 auto auto;\n"],["\n  margin: auto 0 auto auto;\n"]))),_=h.a.span.withConfig({displayName:"Toolbar_ToolbarMarkdownButtonWrapper",componentId:"sc-1mzc8tc"})(c||(c=Object(p.__makeTemplateObject)(["\n  margin: auto 0;\n"],["\n  margin: auto 0;\n"]))),O=h.a.img.withConfig({displayName:"Toolbar_ToolbarMarkdownButton",componentId:"sc-drisup"})(d||(d=Object(p.__makeTemplateObject)(["\n  height: auto;\n  margin-left: auto;\n  max-width: 28px;\n  width: 100%;\n\n  ","\n"],["\n  height: auto;\n  margin-left: auto;\n  max-width: 28px;\n  width: 100%;\n\n  ","\n"])),f.f.nonMobile(u||(u=Object(p.__makeTemplateObject)(["\n    max-width: 24px;\n  "],["\n    max-width: 24px;\n  "]))));t.a=e.memo((function(t){var n=t.emojis,a=t.handleInsert,r=t.handleInsertImage,o=t.handleUndo,i=t.handleRedo,s=t.handleToggleEmojiDropdown,l=t.handleToggleHeaderDropdown,c=t.handleToggleImageDropdown,u=t.handleToggleLinkModal,d=t.handleToggleLinkImageModal,m=t.handleToggleUploadImageModal,h=t.redoStack,f=t.snapSelection,T=t.showEmojiDropdown,j=t.showHeaderDropdown,I=t.showImageDropdown,D=t.showLinkModal,N=t.showLinkImageModal,M=t.showUploadImageModal,F=t.undoStack,P=t.useBottomBorder,L=t.value,A={emojis:n,handleInsert:a,handleToggleEmojiDropdown:s,showEmojiDropdown:T},R={handleInsert:a,handleToggleHeaderDropdown:l,showHeaderDropdown:j,snapSelection:f,value:L},U={handleInsert:a,handleToggleImageDropdown:c,handleToggleLinkImageModal:d,handleToggleUploadImageModal:m,showImageDropdown:I,snapSelection:f,value:L},z={handleInsert:a,handleToggleLinkModal:u,snapSelection:f,showLinkModal:D,value:L},$={handleInsert:a,handleToggleLinkImageModal:d,snapSelection:f,showLinkImageModal:N,value:L},B={handleInsert:a,handleInsertImage:r,handleToggleUploadImageModal:m,snapSelection:f,showUploadImageModal:M,value:L},V=L.substring(f.start,f.end),H=function(t){return void 0===t&&(t=!0),e.createElement(x,null,e.createElement(k,null,e.createElement(C,{onClick:o,disabled:0===F.length,title:"Undo"},e.createElement("i",{className:"material-icons"},"undo")),e.createElement(C,{onClick:i,disabled:0===h.length,title:"Redo"},e.createElement("i",{className:"material-icons"},"redo"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return t?l():a(V,"# ","")},title:"Insert Heading"},e.createElement("i",{className:"material-icons"},"format_size"),j&&t&&e.createElement(v.b,Object(p.__assign)({},R))),e.createElement(C,{onClick:function(){return a(V,"**","**")},title:"Make Bold"},e.createElement("i",{className:"material-icons"},"format_bold")),e.createElement(C,{onClick:function(){return a(V,"*","*")},title:"Italicize"},e.createElement("i",{className:"material-icons"},"format_italic"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return u()},title:"Insert Link"},e.createElement("i",{className:"material-icons"},"insert_link")),e.createElement(C,{onClick:function(){return a(V,"> ","")},title:"Insert Quote"},e.createElement("i",{className:"material-icons"},"format_quote")),e.createElement(C,{onClick:function(){V.indexOf("\n")>-1?a(V,"```\n","\n```"):a(V,"`","`")},title:"Insert Code Block"},e.createElement("i",{className:"material-icons"},"code"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return a(V,"1. ","")},title:"Insert Ordered List"},e.createElement("i",{className:"material-icons"},"format_list_numbered")),e.createElement(C,{onClick:function(){return a(V,"- ","")},title:"Insert Bulleted List"},e.createElement("i",{className:"material-icons"},"format_list_bulleted"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return a(V,"| "," |  |\n| --- | --- |\n|  |  |")},title:"Insert Table"},e.createElement("i",{className:"material-icons"},"border_all")),e.createElement(C,{onClick:function(){return t?c():d()},title:"Insert Photo"},e.createElement("i",{className:"material-icons"},"insert_photo"),I&&t&&e.createElement(v.c,Object(p.__assign)({},U))),!t&&e.createElement(C,{onClick:function(){return m()},title:"Upload Image"},e.createElement("i",{className:"material-icons"},"add_to_photos")),e.createElement(C,{onClick:function(){return s()}},e.createElement("i",{className:"material-icons"},"insert_emoticon"),T&&t&&e.createElement(y.a,Object(p.__assign)({},A)))),e.createElement(S,null,e.createElement(C,{href:"https://github.com/showdownjs/showdown/wiki/Showdown's-Markdown-syntax",target:"_blank",title:"Go to Markdown Documentation"},e.createElement(_,null,e.createElement(O,{src:"/static/images/markdown.png"})))))};return e.createElement(w,{useBottomBorder:P},e.createElement(g.b,{minWidth:0,maxWidth:g.a.tabletMax},e.createElement(b.a,null,H(!1))),e.createElement(g.b,{minWidth:g.a.tabletMax},H()),D&&e.createElement(E.b,Object(p.__assign)({},z)),N&&e.createElement(E.a,Object(p.__assign)({},$)),M&&e.createElement(E.c,Object(p.__assign)({},B)))}))}).call(this,n(0))},1413:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(1007),d=n(1274),p=c()(d.a).withConfig({displayName:"EmojiDropdown_EmojiDropdownBody",componentId:"sc-1nefzha"})(a||(a=Object(s.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  width: 165px;\n"],["\n  display: flex;\n  flex-direction: column;\n  width: 165px;\n"]))),m=c.a.div.withConfig({displayName:"EmojiDropdown_EmojiPageButtons",componentId:"sc-byjogq"})(r||(r=Object(s.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ",";\n  padding: 0 ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ",";\n  padding: 0 ",";\n"])),u.g.PadS,u.g.PadL),h=c.a.div.withConfig({displayName:"EmojiDropdown_EmojiPageButton",componentId:"sc-1ulwmzw"})(o||(o=Object(s.__makeTemplateObject)(["\n  ","\n  border-radius: 50%;\n  display: block;\n  height: 7px;\n  width: 7px;\n\n  &:hover {\n    background-color: ",";\n  }\n"],["\n  ","\n  border-radius: 50%;\n  display: block;\n  height: 7px;\n  width: 7px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.active?"\n  background-color: "+u.b.KaggleBlueDark+";\n":"\n  background-color: "+u.b.GrayLighter+";\n"}),u.b.KaggleBlueDark),f=c.a.div.withConfig({displayName:"EmojiDropdown_EmojiList",componentId:"sc-16r8tok"})(i||(i=Object(s.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),g=e.memo((function(t){var n=e.useRef(null),a=Object(s.__read)(e.useState(1),2),r=a[0],o=a[1],i=Math.ceil(t.emojis.length/20);return e.useEffect((function(){var e=function(e){var a=t.handleToggleEmojiDropdown;t.showEmojiDropdown&&!n.current.contains(e.target)&&a()},a=function(e){var n=t.handleToggleEmojiDropdown,a=t.showEmojiDropdown;"Escape"===e.code&&a&&n()};return window.addEventListener("mousedown",e,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",e,!0),window.removeEventListener("keydown",a,!0)}}),[]),e.createElement("div",{ref:n},e.createElement(p,{rightSide:!0,onClick:function(e){return e.stopPropagation()}},e.createElement(m,null,Array.from({length:i},(function(e,t){return t+1})).map((function(t){return e.createElement(h,{active:t===r,key:"emoji-page-"+t,onClick:function(e){return o(t)}})}))),e.createElement(f,null,t.emojis.slice(20*(r-1),20*r).map((function(n){return e.createElement("span",{role:"button",key:n.id,onClick:function(){t.handleInsert("",n.display+" ","",!0),t.handleToggleEmojiDropdown()}},n.display)})))))}))}).call(this,n(0))},1414:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return S})),n.d(t,"c",(function(){return _}));var a,r,o,i,s,l,c,u=n(2),d=n(1),p=n.n(d),m=n(1007),h=n(1032),f=n(1263),g=n(1036),b=p.a.div.withConfig({displayName:"Modals_ModalContent",componentId:"sc-1ry1q7u"})(a||(a=Object(u.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"],["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),v=p.a.div.withConfig({displayName:"Modals_ModalBody",componentId:"sc-9ieftx"})(r||(r=Object(u.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"])),m.g.PadL),y=p.a.div.withConfig({displayName:"Modals_ModalTitle",componentId:"sc-13func7"})(o||(o=Object(u.__makeTemplateObject)(["\n  border-bottom: 1px solid ",";\n  color: ",";\n  font-weight: ",";\n  padding: ",";\n  text-align: center;\n"],["\n  border-bottom: 1px solid ",";\n  color: ",";\n  font-weight: ",";\n  padding: ",";\n  text-align: center;\n"])),m.b.ContentBorder,m.b.TextLight,m.d.FontWeightMedium,m.g.PadM),E=p.a.div.withConfig({displayName:"Modals_ModalInputGroup",componentId:"sc-7x08lj"})(i||(i=Object(u.__makeTemplateObject)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 0 0 100%;\n  margin-bottom: ",";\n"],["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 0 0 100%;\n  margin-bottom: ",";\n"])),m.b.TextLight,m.g.PadM),w=p.a.p.withConfig({displayName:"Modals_ModalInputLabel",componentId:"sc-1t0555v"})(s||(s=Object(u.__makeTemplateObject)(["\n  color: ",";\n  flex: 0 1 25%;\n  font-size: ",";\n  font-weight: ",";\n"],["\n  color: ",";\n  flex: 0 1 25%;\n  font-size: ",";\n  font-weight: ",";\n"])),m.b.TextLight,m.d.FontSizeM,m.d.FontWeightMedium),x=p.a.input.withConfig({displayName:"Modals_ModalInput",componentId:"sc-o9ppi2"})(l||(l=Object(u.__makeTemplateObject)(["\n  border: 1px solid ",";\n  border-radius: ",";\n  flex: 0 1 75%;\n  min-width: 0;\n  padding: ",";\n"],["\n  border: 1px solid ",";\n  border-radius: ",";\n  flex: 0 1 75%;\n  min-width: 0;\n  padding: ",";\n"])),m.b.ContentBorder,m.g.BorderRadius,m.g.PadM),C=p.a.div.withConfig({displayName:"Modals_ModalPrimaryButton",componentId:"sc-ucpguo"})(c||(c=Object(u.__makeTemplateObject)(["\n  margin-left: auto;\n"],["\n  margin-left: auto;\n"]))),k=e.memo((function(t){var n=e.useRef(null),a=Object(u.__read)(e.useState(t.value.substring(t.snapSelection.start,t.snapSelection.end)),2),r=a[0],o=a[1],i=Object(u.__read)(e.useState(""),2),s=i[0],l=i[1];e.useEffect((function(){n.current.focus()}),[]);var c=t.handleInsert,d=t.handleToggleLinkModal,p=t.showLinkModal,m=e.useCallback((function(e){e.preventDefault(),c(r,"[","]("+s+")"),d()}),[c,d,r,s]);return e.createElement(g.a,{modalIsShown:p,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:d},e.createElement(b,null,e.createElement(g.c,{onClose:d}),e.createElement(y,null,"Add Link"),e.createElement(v,null,e.createElement(E,null,e.createElement(w,null,"Link Display"),e.createElement(x,{ref:n,onChange:function(e){return t=e.target.value,o(t);var t},placeholder:"Displayed link text",value:r})),e.createElement(E,null,e.createElement(w,null,"URL"),e.createElement(x,{onChange:function(e){return t=e.target.value,l(t);var t},placeholder:"The URL this link should go to"})),e.createElement(C,null,e.createElement(h.a,{text:"Add Link",onClick:m})))))})),S=e.memo((function(t){var n=e.useRef(null),a=Object(u.__read)(e.useState(t.value.substring(t.snapSelection.start,t.snapSelection.end)),2),r=a[0],o=a[1],i=Object(u.__read)(e.useState(""),2),s=i[0],l=i[1];e.useEffect((function(){n.current.focus()}),[]);var c=t.handleInsert,d=t.handleToggleLinkImageModal,p=t.showLinkImageModal,m=e.useCallback((function(e){e.preventDefault(),c(r,"![","]("+s+")"),d()}),[c,d,r,s]);return e.createElement(g.a,{modalIsShown:p,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:d},e.createElement(b,null,e.createElement(g.c,{onClose:d}),e.createElement(y,null,"Add Image"),e.createElement(v,null,e.createElement(E,null,e.createElement(w,null,"URL"),e.createElement(x,{ref:n,onChange:function(e){return t=e.target.value,l(t);var t},placeholder:"The URL for this image"})),e.createElement(E,null,e.createElement(w,null,"Alt Text"),e.createElement(x,{onChange:function(e){return t=e.target.value,o(t);var t},placeholder:"Image alt text",value:r})),e.createElement(C,null,e.createElement(h.a,{text:"Add Image",onClick:m})))))})),_=e.memo((function(t){var n=t.handleToggleUploadImageModal,a=t.showUploadImageModal;return e.createElement(g.a,{modalIsShown:a,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:n},e.createElement(b,null,e.createElement(g.c,{onClose:n}),e.createElement(y,null,"Upload Images"),e.createElement(v,null,e.createElement(f.a,{bucket:Kaggle.Blobs.Enums.ClientBlobBucket.Name.UserContent,onBlobUploaded:function(e,n,a,r){return Object(u.__awaiter)(void 0,void 0,void 0,(function(){return Object(u.__generator)(this,(function(e){return t.handleInsertImage(r),[2]}))}))},maxSize:5e6,onUploadsFinished:n}))))}))}).call(this,n(0))},1415:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(369);const r=(e,t)=>{const n=new URLSearchParams(location.search);t?n.set(e,t):n.delete(e);const r=n.toString();r?Object(a.g)(`${location.pathname}?${r}`):Object(a.g)(location.pathname)},o=e=>{return new URLSearchParams(location.search).get(e)}},1416:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var a=n(21),r=function(){return{id:a.a.userId,name:a.a.userDisplayName,slug:a.a.userName,imageUrl:a.a.userThumbnailUrl,isAdmin:a.a.isAdmin}},o=function(){return{type:"uploadContainer",files:[],directories:[],existingFiles:[],existingDirectories:[]}},i=function(e,t){var n,a,r,i,s,l,c,u,d,p,m,h,f,g,b=null===(a=null===(n=null==e?void 0:e.databundleVersion)||void 0===n?void 0:n.databundleVersionInfo)||void 0===a?void 0:a.databundleVersionType;if("fileset"===b)return{type:"uploadContainer",files:[],directories:[],existingFiles:(y=null!==(s=null===(i=null===(r=null==e?void 0:e.databundleVersion)||void 0===r?void 0:r.filesetInfo)||void 0===i?void 0:i.files.children)&&void 0!==s?s:[]).map((function(e){var t,n;return{type:"existingFile",name:e.name?e.name:"",size:(null===(t=e.fileInfo)||void 0===t?void 0:t.size)||0,identifier:{type:"firestore",gcsPath:null===(n=e.fileInfo)||void 0===n?void 0:n.gcsUrl}}})),existingDirectories:[]};if("remoteUrlFileSet"===b)return{children:(y=null!==(u=null===(c=null===(l=null==e?void 0:e.databundleVersion)||void 0===l?void 0:l.filesetInfo)||void 0===c?void 0:c.files.children)&&void 0!==u?u:[]).filter((function(e){return null!==e.remoteUrlInfo})).map((function(e){var t,n,a;return{type:"remoteUrlVersionedFile",size:null===(t=e.fileInfo)||void 0===t?void 0:t.size,name:null===(n=null==e?void 0:e.remoteUrlInfo)||void 0===n?void 0:n.name,url:null===(a=null==e?void 0:e.remoteUrlInfo)||void 0===a?void 0:a.url,id:0}})),type:"remoteUrlUploadContainer"};if("remoteGitRepositoryFileSet"===b)return{type:"githubContainer",state:{type:"success",content:[]},url:"https://github.com/"+(null===(p=null===(d=e.databundle)||void 0===d?void 0:d.githubInfo)||void 0===p?void 0:p.ownerSlug)+"/"+(null===(h=null===(m=e.databundle)||void 0===m?void 0:m.githubInfo)||void 0===h?void 0:h.repositorySlug)};if("gcsFileSet"===b){var v=null===(g=null===(f=e.databundleVersion)||void 0===f?void 0:f.storageInfo)||void 0===g?void 0:g.uploadDataLocation;return{type:"gcsFileSetContainer",gcsUrl:v&&v.path?"gs://"+v.bucket+"/"+v.path:v?"gs://"+v.bucket:""}}if(t&&t.owner&&t.outputFiles){var y=t.outputFiles.map((function(e){return{id:e.kernelVersionOutputFileId,name:e.name,size:e.contentLength,type:"kernelOutputFile"}}));return{type:"kernelOutputContainer",state:{type:"listFiles",kernel:{id:t.kernelId,lastKernelRunId:0,title:t.title,url:t.url,owner:{id:t.owner.id,imageUrl:t.owner.imageUrl,isOrganization:!1,name:t.owner.name,userTier:t.owner.userTier,slug:t.owner.slug},outputFiles:y},files:y}}}return o()}},1417:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(1),r=n.n(a),o=n(874),i=n(33);const s=r.a.div`
  border-radius: 20px;
  height: 36px;
  transition: all 0.3s ease;

  &:hover,
  &:active,
  &:focus {
    box-shadow: ${e=>!e.disabled&&i.a[e.theme.name][e.emphasis||"high"].hover.shadow};
  }
`,l=r()(o.a)`
  padding-right: 8px;
  border-right: ${e=>i.a[e.theme.name].medium.border};
  border-radius: 20px 0 0 20px;

  &:hover,
  &:active,
  &:focus {
    border-right: ${e=>i.a[e.theme.name].medium.border};
    box-shadow: none;
  }
`,c=r()(o.a)`
  border-radius: 0 20px 20px 0;
  padding-left: 10px;
  padding-right: 16px;

  &:hover,
  &:active,
  &:focus {
    background-color: ${e=>i.a[e.theme.name][e.emphasis||"high"].split_hover.background};
    box-shadow: none;
  }
`},1418:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a,r,o=n(2),i=n(1),s=n.n(i),l=n(1007),c=s.a.div.withConfig({displayName:"EmptyState_EmptyStateContainer",componentId:"sc-17rksgv"})(a||(a=Object(o.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: "," 0;\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: "," 0;\n"])),l.g.PadM),u=s()(c).withConfig({displayName:"EmptyState_EmptyStateText",componentId:"sc-lwnxuf"})(r||(r=Object(o.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),l.b.TextLight);function d(t){var n=t.placeholder,a=t.children;return!1===("boolean"!=typeof t.isEmpty||t.isEmpty)?a:"string"==typeof n?e.createElement(u,null,n):e.createElement(c,null,n)}}).call(this,n(0))},1419:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(2),r=n(872),o=function(e){return Array.isArray(e)?e:[e]},i=function(e){var t=o(e);return t.every((function(e){return"string"==typeof e}))?t:t.map((function(e){return"string"==typeof e?e:e.message}))};function s(e){var t,n;try{r.a.clear();var o=i(e);try{for(var s=Object(a.__values)(o),l=s.next();!l.done;l=s.next()){var c=l.value;r.a.error(c)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}catch(e){console.error("An unknown error occurred showing page messages.")}}},1420:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0);let r=(()=>{class e extends a.Component{render(){const{num:t}=this.props;return null!=t?a.createElement("span",null,`${e.getOrdinalString(t)}`):null}}return e.getSuffix=e=>{const t=e%10;return 1===(e-t)/10%10?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},e.getOrdinalString=t=>`${t}${e.getSuffix(t)}`,e})()},1421:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{const{legacyClients:{analyticsClient:a}}=e;a.logger.report("datasets",`task-${t}`,n)}},1425:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var r=n(0),o=r.useLayoutEffect,i=function(e){var t=Object(r.useRef)(e);return o((function(){t.current=e})),t},s=function(e,t){"function"!=typeof e?e.current=t:e(t)},l=function(e,t){var n=Object(r.useRef)();return Object(r.useCallback)((function(a){e.current=a,n.current&&s(n.current,null),n.current=t,t&&s(t,a)}),[t])},c={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},u=function(e){Object.keys(c).forEach((function(t){e.style.setProperty(t,c[t],"important")}))},d=null,p=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var m=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],f=!!document.documentElement.currentStyle,g=function(e,t){var n=e.cacheMeasurements,o=e.maxRows,s=e.minRows,c=e.onChange,g=void 0===c?m:c,b=e.onHeightChange,v=void 0===b?m:b,y=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var E,w=void 0!==y.value,x=Object(r.useRef)(null),C=l(x,t),k=Object(r.useRef)(0),S=Object(r.useRef)(),_=function(){var e=x.current,t=n&&S.current?S.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,a=(n=t,h.reduce((function(e,t){return e[t]=n[t],e}),{})),r=a.boxSizing;return""===r?null:(f&&"border-box"===r&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px"),{sizingStyle:a,paddingSize:parseFloat(a.paddingBottom)+parseFloat(a.paddingTop),borderSize:parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth)})}(e);if(t){S.current=t;var a=function(e,t,n,a){void 0===n&&(n=1),void 0===a&&(a=1/0),d||((d=document.createElement("textarea")).setAttribute("tab-index","-1"),d.setAttribute("aria-hidden","true"),u(d)),null===d.parentNode&&document.body.appendChild(d);var r=e.paddingSize,o=e.borderSize,i=e.sizingStyle,s=i.boxSizing;Object.keys(i).forEach((function(e){var t=e;d.style[t]=i[t]})),u(d),d.value=t;var l=p(d,e);d.value="x";var c=d.scrollHeight-r,m=c*n;"border-box"===s&&(m=m+r+o),l=Math.max(m,l);var h=c*a;return"border-box"===s&&(h=h+r+o),[l=Math.min(h,l),c]}(t,e.value||e.placeholder||"x",s,o),r=a[0],i=a[1];k.current!==r&&(k.current=r,e.style.setProperty("height",r+"px","important"),v(r,{rowHeight:i}))}};return Object(r.useLayoutEffect)(_),E=i(_),Object(r.useLayoutEffect)((function(){var e=function(e){E.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(r.createElement)("textarea",a({},y,{onChange:function(e){w||_(),g(e)},ref:C}))},b=Object(r.forwardRef)(g);t.a=b},1429:function(e,t,n){"use strict";var a=n(2),r=n(1047),o=n(108),i=n(1),s=n.n(i),l=n(0),c=n(70),u=n(1375),d=n(1031),p=n(1094),m=n(1364),h=n(1080),f=n(1229),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.onClick=function(e,t){e.preventDefault(),t.action()},t.prototype.render=function(){var e=this,t=this.props.children;return l.createElement("div",{className:"selection-group__wrapper"},l.createElement(f.a,null,l.createElement("ul",{className:"selection-group__items"},t?t.map((function(n,a){return n?l.createElement("li",{role:"button",onClick:function(t){return e.onClick(t,n)},key:a,className:"selection-group__child selection-group__child--"+(n.key===(e.props.selected||(t?t[0].key:null))?"selected":"unselected")},n.separator?l.createElement("span",{className:"selection-group__separator"},"|"):l.createElement("a",{href:n.href,title:n.title?n.title:n.name.toString()},n.name)):null})):null)),this.props.filters?l.createElement("div",{className:"selection-group__filters"},this.props.filters):null)},t}(l.Component);n.d(t,"a",(function(){return y}));var b,v=s()(o.a).withConfig({displayName:"SmartList_MaterialIcon",componentId:"sc-blofld"})(b||(b=Object(a.__makeTemplateObject)(["\n  vertical-align: bottom;\n  margin-right: 4px;\n"],["\n  vertical-align: bottom;\n  margin-right: 4px;\n"]))),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTitle=function(){return t.props.selectionGroupInTitle?t.renderSelectionGroups():t.props.title||(t.props.titleResolver?t.props.titleResolver(t.props.list,t.props):null)},t.renderSelectionGroups=function(){return t.props.groups?l.createElement(g,{children:t.props.boundSelectionGroups(),selected:t.props.values.group,filters:t.renderFiltersAndSearch()}):null},t.renderFilter=function(e,n,a,r){switch(e.kind){case"select":return l.createElement(h.a,{key:n,options:e.options,onChange:function(n){return t.props.onFilterChanged(e.parameter,n,!1,!1)},searchable:!1,value:t.props.values[e.parameter]||e.default||"",placeholder:e.placeholder,style:{display:r?"none":""},className:(a?"KaggleBoxlessSelectSafe":null)+" smart-list__filter smart-list__filter--"+(a?"boxless":"boxed")+" "+(e.className||"")});case"custom":return e.renderer(t.props.values[e.parameter],(function(n){return t.props.onFilterChanged(e.parameter,n,!0,!1)}))}},t.renderSearch=function(e){var n=!t.props.searchableGroups||0===t.props.searchableGroups.filter((function(e){return t.props.values.group===e})).length;return t.props.searchIndex?l.createElement("label",{className:"smart-list__search-wrapper smart-list__search-wrapper--"+e},l.createElement("input",{type:"text",className:"smart-list__search smart-list__search--"+e,ref:function(){return"search"},placeholder:"Search "+(t.props.pluralItemDescription||t.props.searchIndex),value:t.props.values.search||"",onChange:t.props.onSearchChange,disabled:n}),l.createElement("div",{role:"button",className:"fa fa-search smart-list__search-button",onClick:function(){return t.props.updateOpenMobileSort(!1)}})):null},t.renderFiltersAndSearch=function(){var e="inClass"===t.props.values.group,n=t.props.filtersOptions?t.props.filtersOptions.filter((function(e){return e})).filter((function(e){return!e.shouldRender||e.shouldRender(t.props.values.group)})).map((function(n,a){return t.renderFilter(n,a,!0,e)})):null;return l.createElement(p.b,{minWidth:t.props.mobileSortUpperBound+1},l.createElement("div",{className:"smart-list__sub-title-right"},n,t.renderSearch("sub-title-bar")))},t.renderSortByAndSecondaryCta=function(){return t.props.sortOptions?l.createElement("div",null,l.createElement(p.b,{minWidth:t.props.mobileSortUpperBound+1},l.createElement("div",{className:"smart-list__sort"},l.createElement("p",{className:"smart-list__sort-label"},"Sort by"),l.createElement(h.a,{maxHeight:245,options:t.getSortOptions(),onChange:t.props.onSortByChanged,searchable:!1,value:t.props.values.sortBy}),t.props.secondaryCta))):null},t.renderMobileFilterSortLink=function(){return l.createElement("div",null,l.createElement(p.b,{minWidth:0,maxWidth:t.props.mobileSortUpperBound},l.createElement("a",{role:"button",className:"kernels-listing__sort-link--mobile",onClick:function(e){return t.props.updateOpenMobileSort(!0)}},l.createElement(v,{icon:"filter_list",size:"xsmall"}),"Filter/Sort")))},t.renderSubTitleBar=function(){return t.props.selectionGroupInTitle?null:t.renderSelectionGroups()},t.getSortOptions=function(){return t.props.alwaysShowSortOptions?t.props.hideRelevanceWhenNoSearch&&!t.props.values.search?t.props.sortOptions.filter((function(e){return"relevance"!==e.value})):t.props.values.search?t.props.sortOptions.filter((function(e){return"Hotness"!==e.label})):t.props.sortOptions:t.props.sortOptions.filter((function(e){return null!=e&&"relevance"!==e.value==!t.props.values.search}))},t.renderMobileSortPanel=function(){var e="inClass"===t.props.values.group;return l.createElement(p.b,{minWidth:0,maxWidth:t.props.mobileSortUpperBound},l.createElement(m.a,{closeButtonCallback:function(){return t.props.updateOpenMobileSort(!1)},shouldShowOffCanvas:t.props.openMobileSort,shouldUseCloseButton:!0,shouldUseRightSide:!0},l.createElement("div",{className:"smart-list__sort-menu--mobile"},l.createElement("p",{className:"smart-list__sort-label--mobile"},"Sort by"),t.props.sortOptions?l.createElement(h.a,{className:"smart-list__sort--mobile",maxHeight:245,options:t.getSortOptions(),onChange:t.props.onSortByChanged,searchable:!1,value:t.props.values.sortBy}):null),t.props.filtersOptions?t.props.filtersOptions.filter((function(e){return e})).map((function(n,a){return l.createElement("div",{className:"smart-list__sort-menu--mobile",key:a},t.renderFilter(n,a,!1,e))})):null,l.createElement("div",null,t.renderSearch("off-canvas"))))},t.renderContent=function(){var e=t.props,n=e.adminGatedGroups,a=e.children,o=e.listHeaderRenderer,i=e.list,s=e.values,d=Array.isArray(a)?l.Children.map(a,(function(e,n){return l.createElement("div",{role:"button",onClick:function(e){return Object(c.c)("list","item-click",{type:t.props.analyticsType,item:n})}},l.cloneElement(e,{key:n}))})):a,p=n&&s.group&&n.indexOf(s.group)>-1,m=l.createElement(l.Fragment,null,o&&o(i,t.props),d,t.renderListFooterMessage()),h=l.createElement(r.a,{onVisible:t.props.onScroll,isDisabled:t.props.disableInfiniteScroll},m);return l.createElement("div",{className:"smart-list__content"},p?l.createElement(u.a,{disableDevMode:!0,title:"Careful!",subtitle:"There's sensitive information here."},h):h)},t.renderTabbedSmartList=function(){var e=t.props,n=e.borderless,a=e.boundSelectionGroups,r=e.containerClassName,o=e.contentClassName,i=e.disableClearResultsOnUpdate,s=e.isLoadingMoreData,c=e.titleBarRightSide,u=e.values,p=[];a().forEach((function(e){p.push({value:e.key,action:e.action,href:e.href,label:e.name,title:e.title})}));var m=p.map((function(e){return e.value})).indexOf(u.group);return l.createElement("div",{className:"smart-list smart-list--standard"},s&&i?l.createElement("div",{className:"smart-list__loading-overlay"}):null,l.createElement(d.d,{activeTabIndex:m,title:t.renderTitle(),titleBarRightSide:l.createElement("div",{className:"smart-list__title-bar-right-side-wrapper"},t.renderFiltersAndSearch(),t.renderMobileFilterSortLink()),className:r,contentClassName:o,borderless:n,tabs:p,tabsRightSide:c||t.renderSortByAndSecondaryCta()},t.renderContent()),t.renderMobileSortPanel())},t}return Object(a.__extends)(t,e),t.prototype.renderListFooterMessage=function(){var e=this.props,t=e.isLoadingMoreData,n=e.children,a=e.pageSize,r=e.hasMoreData,o=e.hasLoadedSomeData,i=e.singularItemDescription,s=e.pluralItemDescription,c=e.disableInfiniteScroll,u=e.listFooterRenderer;if(t||(!n||n.length>=a)&&r&&!c)return l.createElement("div",{className:"smart-list__message"},"Loading ",o?"more ":"",s,"...");if(c&&r)return l.createElement("div",{role:"button",className:"smart-list__load-more-message",onClick:this.props.onScroll},l.createElement("i",{className:"fa fa-plus","aria-hidden":"true"})," Load ",a," more"," ",s);if(u){var d=u(this.props.list,this.props);if(d)return d}if(!r){var p=n?n.length:0,m=this.props.expectedListSize-p,h=1===m&&i||s;return this.props.expectedListSize>p?l.createElement("div",{className:"smart-list__message"},l.createElement("span",null,p>0?"and ":"",m," private ",h," you're unable to view")):l.createElement("div",{className:"smart-list__message"},l.createElement("span",null,"No ",n&&n.length?"more ":"",s," to show"))}return null},t.prototype.renderUnstyledSmartList=function(){return l.createElement("div",{className:this.props.className},this.renderContent(),this.renderMobileSortPanel())},t.prototype.renderStandardSmartList=function(){return l.createElement("div",{className:"smart-list smart-list--"+(this.props.selectionGroupInTitle?"groups-in-title":"standard")+" "+this.props.className},this.props.isLoadingMoreData&&this.props.disableClearResultsOnUpdate?l.createElement("div",{className:"smart-list__loading-overlay"}):null,l.createElement(d.b,{title:this.renderTitle(),titleBarRightSide:this.props.titleBarRightSide||l.createElement("div",{className:"smart-list__title-bar-right-side-wrapper"},this.renderSortByAndSecondaryCta(),this.renderMobileFilterSortLink()),subTitleBar:l.createElement(p.b,{minWidth:this.props.mobileSortUpperBound+1},this.renderSubTitleBar()),className:this.props.containerClassName,contentClassName:this.props.contentClassName,borderless:this.props.borderless},this.renderContent()),this.renderMobileSortPanel())},t.prototype.render=function(){return this.props.isUnstyled?this.renderUnstyledSmartList():"tabbed"===this.props.layout?this.renderTabbedSmartList():this.renderStandardSmartList()},t}(l.Component)},1430:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(1221);const i=r.a.div`
  border-top: 1px solid ${e=>o.a[e.theme.name].border};
  padding: 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
`},1431:function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return v}));var a=n(2),r=n(21),o=["https://sheets.googleapis.com/$discovery/rest?version=v4"],i=function(e,t,n,r){c("Sheets > export start");var o=new XMLHttpRequest;o.open("GET",t+"?raw=true",!0),o.responseType="text",o.onerror=function(e){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return c("Sheets > error load"),r("load",e),[2]}))}))},o.onload=function(t){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var t,i,s,l,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:c("Sheets > export callback"),t=o.responseText,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,gapi.client.sheets.spreadsheets.create({properties:{title:e}})];case 2:return i=a.sent(),s=i.result,l=s.sheets[0],c("Sheets > export paste"),[4,gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:s.spreadsheetId},{requests:[{pasteData:{coordinate:{sheetId:l.properties.sheetId,rowIndex:0,columnIndex:0},data:t,type:"PASTE_NORMAL",delimiter:","}}]})];case 3:return a.sent(),c("Sheets > export done"),n(s.spreadsheetUrl),[3,5];case 4:return u=a.sent(),c("Sheets > export error "+JSON.stringify(u)),r("create",u),[3,5];case 5:return[2]}}))}))},c("Sheets > export send"),o.send(null),c("Sheets > export end")},s=function(){if(gapi&&gapi.auth2){var e=gapi.auth2.getAuthInstance();if(e&&e.isSignedIn){var t=e.isSignedIn.get();return c("Sheets > initialized = "+t),t}}return c("Sheets > initialized = false"),!1},l=function(e,t,n){c("Sheets > init start"),gapi.client.init({apiKey:"AIzaSyAdFS7M2T2SwJuRDEToA_M7DtvETLB_98o",clientId:"280951542138-te3b5f6o85jvtv30422vfbsam6k1phfs.apps.googleusercontent.com",discoveryDocs:o,scope:"https://www.googleapis.com/auth/spreadsheets"}).then((function(){c("Sheets > init end"),c("Sheets > signin listen");var a=gapi.auth2.getAuthInstance();if(a.isSignedIn.get()&&n)return c("Sheets > signin is signed in already"),void e();c("Sheets > signin signin"),a.signIn().then((function(){c("Sheets > signin end"),e()})).catch((function(e){c("Sheets > signin error "+JSON.stringify(e)),t("signin",e)}))})).catch((function(e){c("Sheets > init error "+JSON.stringify(e)),t("signin",e)}))},c=function(e){r.a.isAdmin&&console.log(e)},u=function(){switch(window.location.hostname){case"localhost":return"development";case"staging.kaggle.com":return"staging";case"kaggle.com":return"production"}return"production"},d=function(e){switch(e){case"fileset":case"remoteUrlFileSet":case"remoteGitRepositoryFileSet":case"kernelOutputFileSet":return!0;default:return!1}},p=["Revving our hard drives...","Beaming data to servers...","Reticulating files...","Checking data types...","Tabulating tabular files...","Calculating metrics...","Bundling blob files...","Applying middle out compression...","Activating Kernels...","Transmogrifying data...","Re-reticulating files...","Applying final touches..."],m="Still working...",h="Getting to the choppa...",f=function(e){return e?e>53687091200?10800:e>10737418240?3600:e>5368709120?1800:e>1073741824?900:e>524288e3?600:e>104857600?180:e>10485760?60:e>1048576?20:10:10},g=function(e){var t=function(e){return e.substring(e.lastIndexOf(".")+1,e.length)||e}(e);return b(t)},b=function(e){var t="."===e.substring(0,1)?e.substring(1):e;switch(t=t?t.toLowerCase():t){case"csv":case"tsv":case"xls":case"xlsx":return"table";case"sqlite":return"database";case"sqlitetable":return"table";case"png":case"jpg":case"jpeg":case"gif":return"picture-o";case"txt":case"json":case"ndjson":return"file-text-o";case"zip":case"7z":case"gz":case"tar":case"rar":case"bz2":return"file-zip-o";default:return"file-o"}},v=function(e){return Math.round(100*e)+"%"}},1432:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n(0),r=n(1530),o=n.n(r),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function c(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{l(a.next(e))}catch(e){o(e)}}function s(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(i,s)}l((a=a.apply(e,t||[])).next())}))}function u(e,t){var n,a,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,a=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var d={graph_id:null,legend_toggle:!1,graphID:null,options:{colors:null},data:null,rows:null,columns:null,diffdata:null,chartEvents:null,legendToggle:!1,chartActions:null,getChartWrapper:function(e,t){},getChartEditor:null,className:"",style:{},formatters:null,spreadSheetUrl:null,spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},controls:null,render:null,toolbarItems:null,toolbarID:null},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleGoogleChartsLoaderScriptLoaded=function(e){var n=t.props,a=n.chartVersion,r=n.chartPackages,o=n.chartLanguage,i=n.mapsApiKey,s=n.onLoad;e.charts.load(a||"current",{packages:r||["corechart","controls"],language:o||"en",mapsApiKey:i}),e.charts.setOnLoadCallback((function(){s(e)}))},t}return s(t,e),t.prototype.shouldComponentUpdate=function(e){return e.chartPackages===this.props.chartPackages},t.prototype.render=function(){var e=this,t=this.props.onError;return Object(a.createElement)(o.a,{url:"https://www.gstatic.com/charts/loader.js",onError:t,onLoad:function(){var t=window;t.google&&e.handleGoogleChartsLoaderScriptLoaded(t.google)}})},t}(a.Component),m=0,h=function(){return"reactgooglegraph-"+(m+=1)},f=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],g=function(e,t,n){return void 0===n&&(n={}),c(void 0,void 0,void 0,(function(){return u(this,(function(a){return[2,new Promise((function(a,r){var o=n.headers?"headers="+n.headers:"headers=0",i=n.query?"&tq="+encodeURIComponent(n.query):"",s=n.gid?"&gid="+n.gid:"",l=n.sheet?"&sheet="+n.sheet:"",c=n.access_token?"&access_token="+n.access_token:"",u=t+"/gviz/tq?"+(""+o+s+l+i+c);new e.visualization.Query(u).send((function(e){e.isError()?r("Error in query:  "+e.getMessage()+" "+e.getDetailedMessage()):a(e.getDataTable())}))}))]}))}))},b=Object(a.createContext)(d),v=b.Provider,y=b.Consumer,E=function(e){var t=e.children,n=e.value;return Object(a.createElement)(v,{value:n},t)},w=function(e){var t=e.render;return Object(a.createElement)(y,null,(function(e){return t(e)}))},x="#CCCCCC",C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hiddenColumns:[]},t.listenToLegendToggle=function(){var e=t.props,n=e.google,a=e.googleChartWrapper;n.visualization.events.addListener(a,"select",(function(){var e=a.getChart().getSelection(),n=a.getDataTable();if(0!==e.length&&null===e[0].row&&null!==n){var r=e[0].column,o=t.getColumnID(n,r);t.state.hiddenColumns.includes(o)?t.setState((function(e){return l({},e,{hiddenColumns:e.hiddenColumns.filter((function(e){return e!==o})).slice()})})):t.setState((function(e){return l({},e,{hiddenColumns:e.hiddenColumns.concat([o])})}))}}))},t.applyFormatters=function(e,n){for(var a=t.props.google,r=0,o=n;r<o.length;r++){var i=o[r];switch(i.type){case"ArrowFormat":(s=new a.visualization.ArrowFormat(i.options)).format(e,i.column);break;case"BarFormat":(s=new a.visualization.BarFormat(i.options)).format(e,i.column);break;case"ColorFormat":for(var s=new a.visualization.ColorFormat(i.options),l=0,c=i.ranges;l<c.length;l++){var u=c[l];s.addRange.apply(s,u)}s.format(e,i.column);break;case"DateFormat":(s=new a.visualization.DateFormat(i.options)).format(e,i.column);break;case"NumberFormat":(s=new a.visualization.NumberFormat(i.options)).format(e,i.column);break;case"PatternFormat":(s=new a.visualization.PatternFormat(i.options)).format(e,i.column)}}},t.getColumnID=function(e,t){return e.getColumnId(t)||e.getColumnLabel(t)},t.draw=function(e){var n=e.data,a=e.diffdata,r=e.rows,o=e.columns,i=e.options,s=e.legend_toggle,l=e.legendToggle,d=e.chartType,p=e.formatters,m=e.spreadSheetUrl,h=e.spreadSheetQueryParameters;return c(t,void 0,void 0,(function(){var e,t,c,f,b,v,y,E,w,x,C,k,S,_;return u(this,(function(u){switch(u.label){case 0:return e=this.props,t=e.google,c=e.googleChartWrapper,b=null,null!==a&&(v=t.visualization.arrayToDataTable(a.old),y=t.visualization.arrayToDataTable(a.new),b=t.visualization[d].prototype.computeDiff(v,y)),null===n?[3,1]:(f=Array.isArray(n)?t.visualization.arrayToDataTable(n):new t.visualization.DataTable(n),[3,5]);case 1:return null===r||null===o?[3,2]:(f=t.visualization.arrayToDataTable([o].concat(r)),[3,5]);case 2:return null===m?[3,4]:[4,g(t,m,h)];case 3:return f=u.sent(),[3,5];case 4:f=t.visualization.arrayToDataTable([]),u.label=5;case 5:for(E=f.getNumberOfColumns(),w=0;w<E;w+=1)x=this.getColumnID(f,w),this.state.hiddenColumns.includes(x)&&(C=f.getColumnLabel(w),k=f.getColumnId(w),S=f.getColumnType(w),f.removeColumn(w),f.addColumn({label:C,id:k,type:S}));return _=c.getChart(),"Timeline"===c.getChartType()&&_&&_.clearChart(),c.setChartType(d),c.setOptions(i),c.setDataTable(f),c.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(f),null!==b&&(c.setDataTable(b),c.draw()),null!==p&&(this.applyFormatters(f,p),c.setDataTable(f),c.draw()),!0!==l&&!0!==s||this.grayOutHiddenColumns({options:i}),[2]}}))}))},t.grayOutHiddenColumns=function(e){var n=e.options,a=t.props.googleChartWrapper,r=a.getDataTable();if(null!==r){var o=r.getNumberOfColumns();if(!1!==t.state.hiddenColumns.length>0){var i=Array.from({length:o-1}).map((function(e,a){var o=t.getColumnID(r,a+1);return t.state.hiddenColumns.includes(o)?x:void 0!==n.colors&&null!==n.colors?n.colors[a]:f[a]}));a.setOptions(l({},n,{colors:i})),a.draw()}}},t.onResize=function(){t.props.googleChartWrapper.draw()},t}return s(t,e),t.prototype.componentDidMount=function(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.google,n=e.googleChartWrapper;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(n),"Timeline"===n.getChartType()&&n.getChart()&&n.getChart().clearChart()},t.prototype.componentDidUpdate=function(){this.draw(this.props)},t.prototype.render=function(){return null},t}(a.Component),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.google,n=e.googleChartWrapper,r=e.googleChartDashboard;return Object(a.createElement)(w,{render:function(e){return Object(a.createElement)(C,l({},e,{google:t,googleChartWrapper:n,googleChartDashboard:r}))}})},t}(a.Component),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.listenToEvents=function(e){var t=this,n=e.chartEvents,a=e.google,r=e.googleChartWrapper;if(null!==n){a.visualization.events.removeAllListeners(r);for(var o=function(e){var n=e.eventName,o=e.callback;a.visualization.events.addListener(r,n,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o({chartWrapper:r,props:t.props,google:a,eventArgs:e})}))},i=0,s=n;i<s.length;i++){o(s[i])}}},t.prototype.render=function(){var e=this,t=this.props,n=t.google,r=t.googleChartWrapper;return Object(a.createElement)(w,{render:function(t){return e.listenToEvents({chartEvents:t.chartEvents||null,google:n,googleChartWrapper:r}),null}})},t}(a.Component),_=0,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},t.graphID=null,t.dashboard_ref=Object(a.createRef)(),t.toolbar_ref=Object(a.createRef)(),t.getGraphID=function(){var e,n=t.props,a=n.graphID,r=n.graph_id;return e=null===a&&null===r?null===t.graphID?h():t.graphID:null!==a&&null===r?a:null!==r&&null===a?r:a,t.graphID=e,t.graphID},t.getControlID=function(e,t){return _+=1,void 0===e?"googlechart-control-"+t+"-"+_:e},t.addControls=function(e,n){var a=t.props,r=a.google,o=a.controls,i=null===o?null:o.map((function(e,n){var a=e.controlID,o=e.controlType,i=e.options,s=e.controlWrapperParams,c=t.getControlID(a,n);return{controlProp:e,control:new r.visualization.ControlWrapper(l({containerId:c,controlType:o,options:i},s))}}));if(null===i)return null;n.bind(i.map((function(e){return e.control})),e);for(var s=function(n){for(var a=n.control,o=n.controlProp.controlEvents,i=function(n){var o=n.callback,i=n.eventName;r.visualization.events.removeListener(a,i,o),r.visualization.events.addListener(a,i,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];o({chartWrapper:e,controlWrapper:a,props:t.props,google:r,eventArgs:n})}))},s=0,l=void 0===o?[]:o;s<l.length;s++){i(l[s])}},c=0,u=i;c<u.length;c++){s(u[c])}return i},t.renderChart=function(){var e=t.props,n=e.width,r=e.height,o=e.options,i=e.style,s=e.className,c=e.rootProps,u=e.google,d=l({height:r||o&&o.height,width:n||o&&o.width},i);return Object(a.createElement)("div",l({id:t.getGraphID(),style:d,className:s},c),t.state.isReady&&null!==t.state.googleChartWrapper?Object(a.createElement)(a.Fragment,null,Object(a.createElement)(k,{googleChartWrapper:t.state.googleChartWrapper,google:u,googleChartDashboard:t.state.googleChartDashboard}),Object(a.createElement)(S,{googleChartWrapper:t.state.googleChartWrapper,google:u})):null)},t.renderControl=function(e){return void 0===e&&(e=function(e){e.control,e.controlProp;return!0}),t.state.isReady&&null!==t.state.googleChartControls?Object(a.createElement)(a.Fragment,null,t.state.googleChartControls.filter((function(t){var n=t.controlProp,a=t.control;return e({control:a,controlProp:n})})).map((function(e){var t=e.control;e.controlProp;return Object(a.createElement)("div",{key:t.getContainerId(),id:t.getContainerId()})}))):null},t.renderToolBar=function(){return null===t.props.toolbarItems?null:Object(a.createElement)("div",{ref:t.toolbar_ref})},t}return s(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.options,n=e.google,a=e.chartType,r=e.chartWrapperParams,o=e.toolbarItems,i=e.getChartEditor,s=e.getChartWrapper,c=l({chartType:a,options:t,containerId:this.getGraphID()},r),u=new n.visualization.ChartWrapper(c);u.setOptions(t),s(u,n);var d=new n.visualization.Dashboard(this.dashboard_ref),p=this.addControls(u,d);null!==o&&n.visualization.drawToolbar(this.toolbar_ref.current,o);var m=null;null!==i&&i({chartEditor:m=new n.visualization.ChartEditor,chartWrapper:u,google:n}),this.setState({googleChartEditor:m,googleChartControls:p,googleChartDashboard:d,googleChartWrapper:u,isReady:!0})},t.prototype.componentDidUpdate=function(){if(null!==this.state.googleChartWrapper&&null!==this.state.googleChartDashboard&&null!==this.state.googleChartControls)for(var e=this.props.controls,t=0;t<e.length;t+=1){var n=e[t],a=n.controlType,r=n.options,o=n.controlWrapperParams;o&&"state"in o&&this.state.googleChartControls[t].control.setState(o.state),this.state.googleChartControls[t].control.setOptions(r),this.state.googleChartControls[t].control.setControlType(a)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,r=e.options,o=e.style,i=l({height:n||r&&r.height,width:t||r&&r.width},o);return null!==this.props.render?Object(a.createElement)("div",{ref:this.dashboard_ref,style:i},Object(a.createElement)("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):Object(a.createElement)("div",{ref:this.dashboard_ref,style:i},this.renderControl((function(e){return"bottom"!==e.controlProp.controlPosition})),this.renderChart(),this.renderControl((function(e){return"bottom"===e.controlProp.controlPosition})),this.renderToolBar())},t}(a.Component),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isMounted=!1,t.state={loadingStatus:"loading",google:null},t.onLoad=function(e){if(t.isFullyLoaded(e))t.onSuccess(e);else var n=setInterval((function(){var e=window.google;t._isMounted?e&&t.isFullyLoaded(e)&&(clearInterval(n),t.onSuccess(e)):clearInterval(n)}),1e3)},t.onSuccess=function(e){t.setState({loadingStatus:"ready",google:e})},t.onError=function(){t.setState({loadingStatus:"errored"})},t}return s(t,e),t.prototype.render=function(){var e=this.props,t=e.chartLanguage,n=e.chartPackages,r=e.chartVersion,o=e.mapsApiKey,i=e.loader,s=e.errorElement;return Object(a.createElement)(E,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?Object(a.createElement)(O,l({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&s?s:i,Object(a.createElement)(p,l({},{chartLanguage:t,chartPackages:n,chartVersion:r,mapsApiKey:o},{onLoad:this.onLoad,onError:this.onError})))},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.isFullyLoaded=function(e){var t=this.props,n=t.controls,a=t.toolbarItems,r=t.getChartEditor;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!n||e.visualization.ChartWrapper)&&(!r||e.visualization.ChartEditor)&&(!a||e.visualization.drawToolbar)},t.defaultProps=d,t}(a.Component)},1433:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1474),r=n(1),o=n.n(r),i=n(0),s=n(1024),l=n(1025),c=n(1019),u=n(1048);const d=o()(a.a)`
  box-sizing: border-box;
  border-bottom: 1px solid ${e=>c.a[e.theme.name].border};
  background-color: ${e=>c.a[e.theme.name].backgroundAlt};
`,p=i.memo(e=>{const{message:t,item:n,source:a}=e,r=i.useContext(l.a),{reference:o}=r,c="dataset"===o.type?{onClick:()=>{Object(u.g)(Object(s.d)(o.datasetVersionId),!1)},label:"Create Notebook"}:void 0;return i.createElement(d,{variant:"notice",graphic:"error_outline",leftAction:{onClick:()=>r.dispatchAsync({type:"downloadObject",item:n,source:a}),label:"Download"},rightAction:c},t)})},1434:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(370),r=n(1),o=n.n(r),i=n(0);const s=o.a.div`
  height: 0px;
`,l=o.a.div`
  position: ${e=>e.isFloating?"sticky":"auto"};
  top: 0px;
  z-index: ${e=>e.isFloating?e.theme.zindex[100]:"auto"};
  box-shadow: ${e=>e.isFloating&&e.autoBoxShadow?e.theme.material.elevation[2]:"0"};
`;function c({autoBoxShadow:e,onStickyChanged:t,children:n}){const[r,o]=i.useState(!1),c=i.useRef(null);return i.useEffect(()=>{const e=Object(a.a)(([e])=>{const n=e.intersectionRatio<1,a=r;o(n),n!==a&&t&&t(n)},{threshold:1});return c.current&&e.observe(c.current),()=>{e.disconnect()}}),i.createElement(i.Fragment,null,i.createElement(s,{ref:c}),i.createElement(l,{isFloating:r,autoBoxShadow:!!e},n(r)))}},1443:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return c}));var r=n(2),o=n(6),i=n(872),s=n(1444),l=(e.Datasets,e.Scripts,e.Competitions,3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.onDeleteCategory=function(e,t){var a=Object(r.__assign)({},n.state);a.tags.splice(t,1),n.setState(a,(function(){n.props.onChange(n.state)}))},n.onAddCategory=function(e,t){var a=Object(r.__assign)({},n.state);a.tags.push(e),a.searchResults.splice(t,1),n.setState(a,(function(){n.props.onChange(n.state)}))},n.onSearchQueryChanged=function(e){n.setState({searchQuery:e}),n.searchTimer&&clearInterval(n.searchTimer),n.searchTimer=e?window.setTimeout((function(){return n.executeSearch(n.state.searchQuery)}),200):window.setTimeout((function(){return n.executeSearch("")}),200)},n.onSearchCategory=function(){n.executeSearch(n.state.searchQuery)},n.handleSearchResults=function(e){var t=e.tags.filter((function(e){return!n.state.tags.some((function(t){return t.id===e.id}))}));n.setState({searchResults:t,isSearching:!1})},n.handleAppliedTagsResults=function(e){n.setState({tags:e.tags,isSearching:!1},(function(){n.props.onChange(n.state)}))},n.executeSearch=function(e){n.setState({isSearching:!0,searchForQuery:!0}),n.searchTimer&&clearInterval(n.searchTimer),!n.state.searchQuery||!n.state.searchQuery.trim()||e.length<l?n.setState({isSearching:!1}):o.g.clients.tagsClient.searchTags({searchType:n.props.type,searchQuery:e,showSystemTags:!1,skip:0,take:10}).then((function(e){n.handleSearchResults(e)}))},n.applyCategoriesByIds=function(e){n.setState({isSearching:!0,searchForQuery:!0}),n.searchTimer&&clearInterval(n.searchTimer),o.g.clients.tagsClient.getTagsById({tagIds:e}).then((function(e){n.handleAppliedTagsResults(e)}))},n.state=Object(r.__assign)(Object(r.__assign)({},t),{searchResults:[],searchQuery:"",isSearching:!1,searchForQuery:!1,onAddCategory:n.onAddCategory,onDeleteCategory:n.onDeleteCategory,onSearchQueryChanged:n.onSearchQueryChanged,onSearchCategory:n.onSearchCategory}),!t.categoryIds||t.tags&&0!==t.tags.length||n.applyCategoriesByIds(t.categoryIds),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.executeSearch("")},t.prototype.error=function(e){i.a.clear(),i.a.error({dangerousHtmlMessage:e})},t.prototype.success=function(e){i.a.clear(),i.a.success({dangerousHtmlMessage:e})},t.prototype.render=function(){return a.createElement(s.a,this.state)},t}(a.Component)}).call(this,n(367),n(0))},1444:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(1255),o=n(55),i=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=function(e){e&&e.focus()},e.handleSearchChange=function(t){e.props.onSearchQueryChanged(t.target.value)},e}return Object(a.__extends)(n,t),n.prototype.renderSearchBox=function(){var t=this;return e.createElement("div",{className:"category-filter__search"},e.createElement("div",{className:"category-filter__search-box-container"},e.createElement("input",{ref:function(e){return t.focus(e)},className:"category-filter__search-box",type:"text",placeholder:"Search Tags...",onChange:this.handleSearchChange}),e.createElement("div",{className:"category-filter__search-button",onClick:function(){return t.props.onSearchCategory()},role:"button"},e.createElement("i",{className:"fa "+(this.props.isSearching?"fa-circle-o-notch fa-spin":"fa-search")}))))},n.prototype.renderCategory=function(t,n,a){var i=this;return e.createElement(r.a,{alignLeft:!0,key:"category-tip-"+n,tipContent:e.createElement("div",{className:"category-filter__tooltip"},e.createElement("p",{className:"category-filter__tooltip-title"},t.name),t.fullPath&&e.createElement("p",null,t.fullPath))},e.createElement("div",{key:"category-"+n,className:o("category-filter__category",{"category-filter__category-applied":a}),onClick:function(){a||i.props.onAddCategory(t,n)},role:"button"},e.createElement("span",{className:"category-filter__category-name"},t.name),a&&e.createElement("span",{className:"category-filter__category-remove fa fa-times",onClick:function(){return i.props.onDeleteCategory(t,n)},role:"button"})))},n.prototype.renderResults=function(){return this.props.searchForQuery?this.renderResultsSearch():this.renderResultsPupular()},n.prototype.renderResultsSearch=function(){var t=this;return e.createElement("div",{className:"category-filter__results"},e.createElement("div",{className:"category-filter__title"},"Choose from search results"),this.props.searchResults.map((function(e,n){return t.renderCategory(e,n,!1)})))},n.prototype.renderResultsPupular=function(){var t=this;return e.createElement("div",{className:"category-filter__results"},e.createElement("div",{className:"category-filter__title"},"Choose from popular tags"),this.props.searchResults.map((function(e,n){return t.renderCategory(e,n,!1)})))},n.prototype.renderAppliedTags=function(){var t=this;return e.createElement("div",{className:"category-filter__applied"},e.createElement("div",{className:"category-filter__title"},"Applied tags"),this.props.tags.map((function(e,n){return t.renderCategory(e,n,!0)})))},n.prototype.render=function(){var t=this.props.tags&&this.props.tags.length>0;return e.createElement("div",{className:"category-filter"},t&&this.renderAppliedTags(),this.renderSearchBox(),this.renderResults())},n}(e.Component)}).call(this,n(0))},1445:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(1);const r="48px",o="24px",i="16px",s=`\n  padding-left: ${r};\n  padding-right: ${r};\n\n  @media ${a.MaterialBreakpointDown.SM1} {\n    padding-left: ${o};\n    padding-right: ${o};\n  }\n  @media ${a.MaterialBreakpointDown.XS1} {\n    padding-left: ${i};\n    padding-right: ${i};\n  }\n`,l="\nmax-width: 1200px;\nmargin: auto; /* centers the content in the page */\n"},1446:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1);const r=n.n(a).a.div`
  padding: 16px;
`},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=l(o),s=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?i.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=a({},this.props.style);t.display||(t.display="inline-block");var n=a({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),r=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(r),r.className=this.props.inputClassName,r.id=this.state.inputId,r.style=n,i.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),i.default.createElement("input",a({},r,{ref:this.inputRef})),i.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?i.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},1449:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>"dataSource"===e.type?"../input/"+e.slug:t?"utilityScript"===t.sourceType?"../usr/lib/"+t.slug+"/"+e.relativeUrl:"notebookOutput"===t.sourceType?"./"+e.relativeUrl:"../input/"+t.slug+"/"+e.relativeUrl:e.relativeUrl},1450:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e===t)return!0;if(void 0===e||void 0===t)return!1;const{column:n,numericFilter:a,stringFilter:r,booleanFilter:o,dateTimeFilter:i}=e,{column:s,numericFilter:l,stringFilter:c,booleanFilter:u,dateTimeFilter:d}=t,p=n.firestorePath===s.firestorePath,m=a===l||void 0!==a&&void 0!==l&&a.operator===l.operator&&a.operand===l.operand,h=r===c||void 0!==r&&void 0!==c&&r.operator===c.operator&&r.operands.length===c.operands.length&&r.operands.map(e=>c.operands.includes(e)).reduce((e,t)=>e&&t,!0),f=o===u||void 0!==o&&void 0!==u&&o.value===u.value,g=i===d||void 0!==i&&void 0!==d&&i.operator===d.operator&&i.operand===d.operand;return p&&m&&h&&f&&g}},1451:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{switch(e.type){case"file":return null!==e.tableInfo;case"table":return!0;default:return!1}}},1452:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var a=function(t){e&&e.env,0}}).call(this,n(253))},1453:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(145),r=n(988),o=n(1),i=n.n(o),s=n(0),l=n(1164);const c=i()(l.c)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,u=i()(a.b)`
  margin-top: ${l.b};
`,d=e=>{const{text:t,className:n}=e;return s.createElement(c,{className:n},s.createElement(r.a,{size:"medium"}),s.createElement(u,null,t))}},1454:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(145),r=n(108),o=n(1),i=n.n(o),s=n(0),l=n(1164);const c=i()(l.c)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,u=i()(a.b)`
  margin-top: ${l.b};
  color: ${e=>e.theme.material.color.status.error[900]};
`,d=e=>{const{text:t,className:n}=e;return s.createElement(c,{className:n},s.createElement(r.a,{color:o.defaultTheme.material.color.status.error[900],icon:"warning"}),s.createElement(u,null,t))}},1455:function(e,t,n){"use strict";function a(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}n.d(t,"a",(function(){return a}))},1473:function(e,t,n){"use strict";var a,r,o=n(1),i=n.n(o),s=n(0),l=n(105),c=n(2),u=n(27),d={ACTIVATED:"mdc-select--activated",DISABLED:"mdc-select--disabled",FOCUSED:"mdc-select--focused",INVALID:"mdc-select--invalid",OUTLINED:"mdc-select--outlined",REQUIRED:"mdc-select--required",ROOT:"mdc-select",SELECTED_ITEM_CLASS:"mdc-list-item--selected",WITH_LEADING_ICON:"mdc-select--with-leading-icon"},p={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",ENHANCED_VALUE_ATTR:"data-value",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".mdc-floating-label",LEADING_ICON_SELECTOR:".mdc-select__icon",LINE_RIPPLE_SELECTOR:".mdc-line-ripple",MENU_SELECTOR:".mdc-select__menu",NATIVE_CONTROL_SELECTOR:".mdc-select__native-control",OUTLINE_SELECTOR:".mdc-notched-outline",SELECTED_ITEM_SELECTOR:"."+d.SELECTED_ITEM_CLASS,SELECTED_TEXT_SELECTOR:".mdc-select__selected-text"},m={LABEL_SCALE:.75},h=function(e){function t(n,a){void 0===a&&(a={});var r=e.call(this,c.__assign({},t.defaultAdapter,n))||this;return r.leadingIcon_=a.leadingIcon,r.helperText_=a.helperText,r}return c.__extends(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return d},enumerable:!0,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return m},enumerable:!0,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return p},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},setValue:function(){},getValue:function(){return""},floatLabel:function(){},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(){},setDisabled:function(){},setRippleCenter:function(){},notifyChange:function(){},checkValidity:function(){return!1},setValid:function(){}}},enumerable:!0,configurable:!0}),t.prototype.setSelectedIndex=function(e){this.adapter_.setSelectedIndex(e),this.adapter_.closeMenu();this.handleChange(!0)},t.prototype.setValue=function(e){this.adapter_.setValue(e);this.handleChange(!0)},t.prototype.getValue=function(){return this.adapter_.getValue()},t.prototype.setDisabled=function(e){e?this.adapter_.addClass(d.DISABLED):this.adapter_.removeClass(d.DISABLED),this.adapter_.setDisabled(e),this.adapter_.closeMenu(),this.leadingIcon_&&this.leadingIcon_.setDisabled(e)},t.prototype.setHelperTextContent=function(e){this.helperText_&&this.helperText_.setContent(e)},t.prototype.layout=function(){var e=this.getValue().length>0;this.notchOutline(e)},t.prototype.handleMenuOpened=function(){this.adapter_.addClass(d.ACTIVATED)},t.prototype.handleMenuClosed=function(){this.adapter_.removeClass(d.ACTIVATED)},t.prototype.handleChange=function(e){void 0===e&&(e=!0);var t=this.getValue(),n=t.length>0,a=this.adapter_.hasClass(d.REQUIRED);this.notchOutline(n),this.adapter_.hasClass(d.FOCUSED)||this.adapter_.floatLabel(n),e&&(this.adapter_.notifyChange(t),a&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},t.prototype.handleFocus=function(){this.adapter_.addClass(d.FOCUSED),this.adapter_.floatLabel(!0),this.notchOutline(!0),this.adapter_.activateBottomLine(),this.helperText_&&this.helperText_.showToScreenReader()},t.prototype.handleBlur=function(){this.adapter_.isMenuOpen()||(this.adapter_.removeClass(d.FOCUSED),this.handleChange(!1),this.adapter_.deactivateBottomLine(),this.adapter_.hasClass(d.REQUIRED)&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},t.prototype.handleClick=function(e){this.adapter_.isMenuOpen()||(this.adapter_.setRippleCenter(e),this.adapter_.openMenu())},t.prototype.handleKeydown=function(e){if(!this.adapter_.isMenuOpen()){var t="Enter"===e.key||13===e.keyCode,n="Space"===e.key||32===e.keyCode,a="ArrowUp"===e.key||38===e.keyCode,r="ArrowDown"===e.key||40===e.keyCode;this.adapter_.hasClass(d.FOCUSED)&&(t||n||a||r)&&(this.adapter_.openMenu(),e.preventDefault())}},t.prototype.notchOutline=function(e){if(this.adapter_.hasOutline()){var t=this.adapter_.hasClass(d.FOCUSED);if(e){var n=m.LABEL_SCALE,a=this.adapter_.getLabelWidth()*n;this.adapter_.notchOutline(a)}else t||this.adapter_.closeOutline()}},t.prototype.setLeadingIconAriaLabel=function(e){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(e)},t.prototype.setLeadingIconContent=function(e){this.leadingIcon_&&this.leadingIcon_.setContent(e)},t.prototype.setValid=function(e){this.adapter_.setValid(e)},t.prototype.isValid=function(){return this.adapter_.checkValidity()},t}(u.a),f={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"},g=["click","keydown"],b=function(e){function t(n){var a=e.call(this,c.__assign({},t.defaultAdapter,n))||this;return a.savedTabIndex_=null,a.interactionHandler_=function(e){return a.handleInteraction(e)},a}return c.__extends(t,e),Object.defineProperty(t,"strings",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex"),g.forEach((function(t){e.adapter_.registerInteractionHandler(t,e.interactionHandler_)}))},t.prototype.destroy=function(){var e=this;g.forEach((function(t){e.adapter_.deregisterInteractionHandler(t,e.interactionHandler_)}))},t.prototype.setDisabled=function(e){this.savedTabIndex_&&(e?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",f.ICON_ROLE)))},t.prototype.setAriaLabel=function(e){this.adapter_.setAttr("aria-label",e)},t.prototype.setContent=function(e){this.adapter_.setContent(e)},t.prototype.handleInteraction=function(e){var t="Enter"===e.key||13===e.keyCode;("click"===e.type||t)&&this.adapter_.notifyIconAction()},t}(u.a),v=n(28),y=n(996),E=n(190),w=n(1426),x=n(1428),C=n(34),k=n(1427),S=n(1006),_=n(890),O=n(55),T=n.n(O),j=n(1133),I=function(e){return"string"==typeof e&&e.includes(" ")&&Object(j.a)("Theme no longer accepts a string of theme names with spaces. Please pass them as an array instead."),(Array.isArray(e)?e:e.split(" ")).map((function(e){return e.includes("-")&&Object(j.a)("Theme properties need to be passed as camelCase. Please convert "+e+" to "+e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))),"mdc-theme--"+e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}))},D=function(){return(D=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},M=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},F=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(M(arguments[t]));return e},P=function(e){var t=e.displayName,n=e.classNames,a=void 0===n?[]:n,r=e.tag,o=void 0===r?"div":r,i=e.deprecate,l=e.defaultProps,c=e.consumeProps,u=void 0===c?[]:c,d=e.render,p=s.forwardRef((function(e,n){var r=e.className,l=e.theme,c=e.tag,p=N(e,["className","theme","tag"]);!function(e,t,n,a){var r=T.a.apply(void 0,F([n],a?I(a):[],"function"==typeof t?t(e):t));e.className=r}(p,a,r,l);var m=function(e,t,n){return"string"!=typeof t?(e.tag=n,t):n||t}(p,o,c);i&&(p=Object(j.b)(p,i,t)),function(e,t){t.forEach((function(t){delete e[t]}))}(p,u);var h=p;return d?d(h,n,m):s.createElement(m,D({},h,{ref:n}))}));return p.displayName=t,p.defaultProps=l,p},L=function(e,t){if(e instanceof Element){if(e&&e.closest)return e.closest(t);for(var n=e;n;){if(A(n,t))return n;n=n.parentElement}}return null},A=function(e,t){return(e.matches||e.webkitMatchesSelector||e.msMatchesSelector).call(e,t)},R={blur:"onBlur",cancel:"onCancel",click:"onClick",close:"onClose",contextmenu:"onContextMenu",copy:"onCopy",cut:"onCut",auxclick:"onAuxClick",doubleclick:"onDoubleClick",dragend:"onDragEnd",dragstart:"onDragStart",drop:"onDrop",focus:"onFocus",input:"onInput",invalid:"onInvalid",keydown:"onKeyDown",keypress:"onKeyPress",keyup:"onKeyUp",mousedown:"onMouseDown",mouseup:"onMouseUp",paste:"onPaste",pause:"onPause",play:"onPlay",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerup:"onPointerUp",ratechange:"onRateChange",reset:"onReset",seeked:"onSeeked",submit:"onSubmit",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchstart:"onTouchStart",volumechange:"onVolumeChange",abort:"onAbort",animationend:"onAnimationEnd",animationiteration:"onAnimationIteration",animationstart:"onAnimationStart",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",drag:"onDrag",dragenter:"onDragEnter",dragexit:"onDragExit",dragleave:"onDragLeave",dragover:"onDragOver",durationchange:"onDurationChange",emptied:"onEmptied",encrypted:"onEncrypted",ended:"onEnded",error:"onError",gotpointercapture:"onGotPointerCapture",load:"onLoad",loadeddata:"onLoadedData",loadedmetadata:"onLoadedMetadata",loadstart:"onLoadStart",lostpointercapture:"onLostPointerCapture",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseover:"onMouseOver",playing:"onPlaying",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",progress:"onProgress",scroll:"onScroll",seeking:"onSeeking",stalled:"onStalled",suspend:"onSuspend",timeupdate:"onTimeUpdate",toggle:"onToggle",touchmove:"onTouchMove",transitionend:"onTransitionEnd",waiting:"onWaiting",wheel:"onWheel",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",change:"onChange",select:"onSelect",beforeinput:"onBeforeInput",compositionend:"onCompositionEnd",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate"},U=function(e,t){var n;return function(){var a=this,r=arguments,o=function(){n=null,e.apply(a,r)};null!==n&&clearTimeout(n),n=setTimeout(o,t)}},z=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),$=function(){return($=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},B=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},V=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B(arguments[t]));return e},H=function(e){return R[e]||e},W=function(){function e(e){this._classes=new Set,this._events={},this._style={},this._props={},this._ref=null,this._onChange=null,this._onChange=e,this.onChange=this.onChange.bind(this),this.addClass=this.addClass.bind(this),this.removeClass=this.removeClass.bind(this),this.hasClass=this.hasClass.bind(this),this.setProp=this.setProp.bind(this),this.getProp=this.getProp.bind(this),this.removeProp=this.removeProp.bind(this),this.setStyle=this.setStyle.bind(this),this.addEventListener=this.addEventListener.bind(this),this.removeEventListener=this.removeEventListener.bind(this),this.setRef=this.setRef.bind(this)}return e.prototype.onChange=function(){this._onChange&&this._onChange()},e.prototype.destroy=function(){this._onChange=null,this._ref=null,this._events={},this._style={},this._props={},this._classes=new Set},e.prototype.addClass=function(e){this._classes.has(e)||(this._classes.add(e),this.onChange())},e.prototype.removeClass=function(e){this._classes.has(e)&&(this._classes.delete(e),this.onChange())},e.prototype.hasClass=function(e){return this._classes.has(e)},e.prototype.setProp=function(e,t){this._props[e]!==t&&(this._props[e]=t,this.onChange())},e.prototype.getProp=function(e){return this._props[e]},e.prototype.removeProp=function(e){void 0!==this._props[e]&&(delete this._props[e],this.onChange())},e.prototype.props=function(e){var t=this,n=e.className,a=void 0===n?"":n,r=e.style,o=void 0===r?{}:r,i=Object.entries(e).reduce((function(e,n){var a=B(n,2),r=a[0],o=a[1],i=t._events[r];if("function"==typeof o&&"function"==typeof i){e[r]=function(e){return i(e),o(e)}}return e}),$({},this._events)),s=T()(a,V(this._classes)),l=$({},this._style,o);return $({},e,this._props,i,{style:l,className:s})},e.prototype.setStyle=function(e,t){e=e.startsWith("--")?e:e.replace(/(-[a-z])/g,(function(e){return e.toUpperCase().replace("-","")})),this._style[e]!==t&&(this._style[e]=t,this.onChange())},e.prototype.addEventListener=function(e,t){var n=H(e);this._events[n]!==t&&(this._events[n]=t,this.onChange())},e.prototype.removeEventListener=function(e,t){var n=H(e);this._events[n]&&(delete this._events[n],this.onChange())},e.prototype.setRef=function(e){e&&(this._ref=e)},Object.defineProperty(e.prototype,"ref",{get:function(){return this._ref},enumerable:!0,configurable:!0}),e}(),q=function(e){function t(t){var n=e.call(this,t)||this;return n.elements={},n.constructor.shouldDebounce?n.update=U(n.update.bind(n),0):n.update=n.update.bind(n),n}return z(t,e),t.prototype.componentDidMount=function(){this.foundation=this.getDefaultFoundation(),this.foundation.init(),this.sync(this.props,{})},t.prototype.componentDidUpdate=function(e){this.sync(this.props,e)},t.prototype.componentWillUnmount=function(){this.foundation&&this.foundation.destroy(),this.foundation=void 0,Object.values(this.elements).forEach((function(e){return e.destroy()}))},t.prototype.createElement=function(e){var t=new W(this.update);return this.elements[e]=t,t},t.prototype.update=function(){this.foundation&&this.setState({})},t.prototype.sync=function(e,t){},t.prototype.syncProp=function(e,t,n){(void 0!==e||void 0!==t&&void 0===e)&&e!==t&&n()},t.prototype.getDefaultFoundation=function(){return{init:function(){},destroy:function(){}}},t.prototype.emit=function(e,t,n){var a;void 0===n&&(n=!1),a=new CustomEvent(e,{detail:t,bubbles:n}),Object.defineProperty(a,"target",{value:t,writable:!1}),Object.defineProperty(a,"currentTarget",{value:t,writable:!1});var r=e;return this.foundation&&this.props[r]&&this.props[r](a),a},t.shouldDebounce=!1,t}(s.Component),K=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),G=function(){return(G=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Z=P({displayName:"ListRoot",defaultProps:{dense:void 0,twoLine:void 0,avatarList:void 0,nonInteractive:void 0},classNames:function(e){return["mdc-list",{"mdc-list--dense":e.dense,"mdc-list--two-line":e.twoLine,"mdc-list--avatar-list":e.avatarList,"mdc-list--non-interactive":e.nonInteractive}]},consumeProps:["dense","twoLine","avatarList","nonInteractive","onAction"]}),Q=function(e){function t(t){var n=e.call(this,t)||this;return n.root=n.createElement("root"),n.handleClick=n.handleClick.bind(n),n.handleKeydown=n.handleKeydown.bind(n),n.handleFocusIn=n.handleFocusIn.bind(n),n.handleFocusOut=n.handleFocusOut.bind(n),n}return K(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return _.a.cssClasses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listElements",{get:function(){return this.root.ref?[].slice.call(this.root.ref.querySelectorAll("."+_.a.cssClasses.LIST_ITEM_CLASS)):[]},enumerable:!0,configurable:!0}),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.foundation.layout()},t.prototype.focusItemAtIndex=function(e){this.foundation.adapter_.focusItemAtIndex(e)},t.prototype.getDefaultFoundation=function(){var e=this;return new _.a(Object.assign({getListItemCount:function(){return e.listElements.length},getFocusedElementIndex:function(){return e.listElements.indexOf(document.activeElement)},setAttributeForElementIndex:function(t,n,a){if("tabindex"!==n||-1!==a){var r=e.listElements[t];r&&r.setAttribute(n,String(a))}},removeAttributeForElementIndex:function(t,n){var a=e.listElements[t];a&&a.removeAttribute(n)},addClassForElementIndex:function(t,n){var a=e.listElements[t];a&&a.classList.add(n)},removeClassForElementIndex:function(t,n){var a=e.listElements[t];a&&a.classList.remove(n)},focusItemAtIndex:function(t){var n=e.listElements[t];n&&n.focus()},setTabIndexForListItemChildren:function(t,n){var a=e.listElements[t];[].slice.call(a.querySelectorAll(_.a.strings.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach((function(e){return e.setAttribute("tabindex",String(n))}))},hasCheckboxAtIndex:function(t){return!!e.listElements[t].querySelector(_.a.strings.CHECKBOX_SELECTOR)},hasRadioAtIndex:function(t){return!!e.listElements[t].querySelector(_.a.strings.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(t){var n=e.listElements[t].querySelector(_.a.strings.CHECKBOX_SELECTOR);return!!n&&n.checked},setCheckedCheckboxOrRadioAtIndex:function(t,n){var a=e.listElements[t].querySelector(_.a.strings.CHECKBOX_RADIO_SELECTOR);if(a){a.checked=n;var r=document.createEvent("Event");r.initEvent("change",!0,!0),a.dispatchEvent(r)}},notifyAction:function(t){e.emit("onAction",t)},isFocusInsideList:function(){return e.root.ref&&e.root.ref.contains(document.activeElement)}}))},t.prototype.getListItemIndex=function(e){for(var t=e.target,n=-1;t&&!t.classList.contains(_.a.cssClasses.LIST_ITEM_CLASS)&&!t.classList.contains(_.a.cssClasses.ROOT);)t=t.parentElement;return t&&t.classList.contains(_.a.cssClasses.LIST_ITEM_CLASS)&&(n=this.listElements.indexOf(t)),n},t.prototype.handleClick=function(e){this.props.onClick&&this.props.onClick(e);var t=this.getListItemIndex(e),n=!A(e.target,_.a.strings.CHECKBOX_RADIO_SELECTOR);this.foundation.handleClick(t,n)},t.prototype.handleKeydown=function(e){this.props.onKeyDown&&this.props.onKeyDown(e);var t=this.getListItemIndex(e);t>=0&&this.foundation.handleKeydown(e,e.target instanceof Element&&e.target.classList.contains(_.a.cssClasses.LIST_ITEM_CLASS),t)},t.prototype.handleFocusIn=function(e){this.props.onFocus&&this.props.onFocus(e),this.foundation.handleFocusIn(e,this.getListItemIndex(e))},t.prototype.handleFocusOut=function(e){this.props.onBlur&&this.props.onBlur(e),this.foundation.handleFocusOut(e,this.getListItemIndex(e))},t.prototype.render=function(){var e=Y(this.props,[]);return s.createElement(Z,G({},e,{ref:this.root.setRef,onClick:this.handleClick,onKeyDown:this.handleKeydown,onFocus:this.handleFocusIn,onBlur:this.handleFocusOut}))},t}(q),X=n(263),J=(n.n(X).a,n(15)),ee=n(322),te=n(264);function ne(e,t){if(void 0===e&&(e=window),void 0===t&&(t=!1),void 0===r||t){var n=!1;try{e.document.addEventListener("test",(function(){}),{get passive(){return n=!0}})}catch(e){}r=n}return!!r&&{passive:!0}}n(1452);var ae=function(){return(ae=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},re={ripple:!0,tooltip:{align:"top",showArrow:!1,activateOn:["hover","focus"],enterDelay:0,leaveDelay:0},typography:{},icon:{icon:"",basename:"material-icons",prefix:"",strategy:"auto",render:void 0}},oe=s.createContext(re),ie=function(){return function(e){return s.forwardRef((function(t,n){return s.createElement(oe.Consumer,null,(function(a){return s.createElement(e,ae({},t,{providerContext:a,ref:n}))}))}))}},se=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),le=function(){return(le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ce=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},ue=s.createContext({}),de=function(e){function t(t){var n=e.call(this,t)||this;return n.root=n.createElement("root"),n.surface=n.createElement("surface"),n.isTouched=!1,n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return se(t,e),t.prototype.getDefaultFoundation=function(){var e=this;return new ee.a({browserSupportsCssVars:function(){return te.a.supportsCssVariables(window)},isUnbounded:function(){return!!e.props.unbounded},isSurfaceActive:function(){return!!e.root.ref&&A(e.root.ref,":active")},isSurfaceDisabled:function(){return!!e.props.disabled},addClass:function(t){return e.surface.addClass(t)},removeClass:function(t){return e.surface.removeClass(t)},containsEventTarget:function(t){return!!e.root.ref&&e.root.ref.contains(t)},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n)},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n)},registerDocumentInteractionHandler:function(e,t){return document.documentElement.addEventListener(e,t,ne())},deregisterDocumentInteractionHandler:function(e,t){return document.documentElement.removeEventListener(e,t,ne())},registerResizeHandler:function(e){return window.addEventListener("resize",e)},deregisterResizeHandler:function(e){return window.removeEventListener("resize",e)},updateCssVariable:function(t,n){return e.surface.setStyle(t,n)},computeBoundingRect:function(){return e.root.ref?e.root.ref.getBoundingClientRect():{width:0,height:0}},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}}})},t.prototype.sync=function(e,t){this.root.setRef(J.findDOMNode(this)),e.unbounded!==t.unbounded&&this.foundation.setUnbounded(!!e.unbounded)},t.prototype.handleFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this.foundation&&this.foundation.handleFocus()},t.prototype.handleBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this.foundation.handleBlur()},t.prototype.handleMouseDown=function(e){this.props.onMouseDown&&this.props.onMouseDown(e),this.isTouched||this.activateRipple(e),this.isTouched=!1},t.prototype.handleMouseUp=function(e){this.props.onMouseUp&&this.props.onMouseUp(e),this.deactivateRipple(e)},t.prototype.handleTouchStart=function(e){this.isTouched=!0,this.props.onTouchStart&&this.props.onTouchStart(e),this.activateRipple(e)},t.prototype.handleTouchEnd=function(e){this.props.onTouchEnd&&this.props.onTouchEnd(e),this.deactivateRipple(e)},t.prototype.handleKeyDown=function(e){this.props.onKeyDown&&this.props.onKeyDown(e),this.activateRipple(e)},t.prototype.handleKeyUp=function(e){this.props.onKeyUp&&this.props.onKeyUp(e),this.deactivateRipple(e)},t.prototype.activateRipple=function(e){e.persist(),this.foundation.activate(e)},t.prototype.deactivateRipple=function(e){e.persist(),this.foundation.deactivate()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.primary,r=e.accent,o=e.unbounded,i=e.surface,l=ce(e,["children","className","primary","accent","unbounded","surface"]),c=s.Children.only(t);if(!s.isValidElement(c))return null;var u=o?{"data-mdc-ripple-is-unbounded":!0}:{},d=!i||!o?this.surface.props({style:c.props.style}):{},p=T()(n,d.className,c.props.className,{"mdc-ripple-surface":"boolean"==typeof i?i:void 0===i,"mdc-ripple-surface--primary":a,"mdc-ripple-surface--accent":r});l.disabled&&(p=p.replace("mdc-ripple-upgraded--background-focused",""));var m=s.cloneElement(c,le({},c.props,u,this.root.props(le({},l,{style:c.props.style},d,{className:p})),{onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp}));return s.createElement(ue.Provider,{value:this.surface.props({style:c.props.style})},m)},t.shouldDebounce=!0,t.displayName="Ripple",t}(q),pe=function(){return(pe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},me=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},he=function(e,t,n){return"auto"===(t=t||n||"auto")?function(e){return"string"==typeof e&&e.includes("/")?"url":s.isValidElement(e)?"component":"ligature"}(e):t},fe={ligature:function(e){var t=e.content,n=me(e,["content"]);return s.createElement(ge,pe({},n),t)},className:function(e){e.content;var t=me(e,["content"]);return s.createElement(ge,pe({},t))},url:function(e){var t=e.content,n=me(e,["content"]);return s.createElement(ge,pe({},n,{className:T()(n.className,"rmwc-icon--image"),style:pe({},n.style,{backgroundImage:"url("+t+")"})}))},component:function(e){var t=e.content,n=me(e,["content"]);if("svg"===t.type){var a=t.props,r=a.children,o=me(a,["children"]);return s.createElement(ge,pe({},o,n,{tag:"svg"}),r)}return s.createElement(ge,pe({},n),t)},auto:void 0},ge=P({displayName:"IconRoot",tag:"i"}),be=ie()((function(e){var t,n=e.icon,a=e.iconOptions,r=e.providerContext,o=me(e,["icon","iconOptions","providerContext"]);if(a){var i=pe({content:"string"==typeof n?n:"<MyComponent {...}/>"},a);Object(j.a)("Icon component prop 'iconOptions' is deprecated. You options should now be passed directly to the 'icon' prop. I.E. icon={"+JSON.stringify(i)+"}")}var l=pe({},function(e){return s.isValidElement(e)||e&&"object"!=typeof e?{icon:e}:e}(n),a),c=l.icon,u=l.strategy,d=l.prefix,p=l.basename,m=l.render,h=l.size,f=me(l,["icon","strategy","prefix","basename","render","size"]),g=r.icon||{},b=g.basename,v=void 0===b?null:b,y=g.prefix,E=void 0===y?null:y,w=g.strategy,x=void 0===w?null:w,C=g.render,k=void 0===C?null:C,S=c,_=he(S,u||null,x||null),O=void 0===p?v:p,I="className"===_&&"string"==typeof c?""+String(d||E)+c:null,D="custom"===_?m||k:!!_&&fe[_]||null;if(!D)return console.error("Icon: rendering not implemented for "+String(_)+"."),null;var N=D(pe({},o,f,{content:S,className:T()("rmwc-icon",O,o.className,f.className,I,(t={},t["rmwc-icon--size-"+(h||"")]=!!h,t))}));return N.props.children&&N.props.children.type&&["Avatar","Icon"].includes(N.props.children.type.displayName)?s.cloneElement(N.props.children,pe({},N.props.children.props,N.props,{children:N.props.children.props.children,className:T()(N.props.className,N.props.children.props.className)})):N}));be.displayName="Icon";var ve,ye,Ee,we,xe,Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ke=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Se=(Ee=(ye=void 0===(ve={surface:!1})?{}:ve).unbounded,we=ye.accent,xe=ye.surface,function(e){var t=ie()(s.forwardRef((function(t,n){var a=t.providerContext,r=t.ripple,o=void 0===r?a.ripple:r,i=ce(t,["providerContext","ripple"]),l="object"!=typeof o?{}:o;return(i.accent||i.unbounded||i.surface)&&(Object(j.a)("'accent', 'unbounded', and 'surface' have been deprecated as indiviudal props. Please pass an options object to the ripple prop directly. ripple={{accent: true, unbounded: true}} "),l.accent=i.accent||l.accent,l.unbounded=i.unbounded||l.unbounded,l.surface=i.surface||l.surface),o?s.createElement(de,le({},i,{accent:l.accent||we,unbounded:l.unbounded||Ee,surface:l.surface||xe}),s.createElement(e,le({},i,{ref:n}))):s.createElement(e,le({},i,{ref:n}))})));return t.displayName="withRipple("+(e.displayName||"Unknown")+")",t})(P({displayName:"ListItem",defaultProps:{tabIndex:0},classNames:function(e){return["mdc-list-item",{"mdc-list-item--selected":e.selected,"mdc-list-item--activated":e.activated,"mdc-list-item--disabled":e.disabled}]},consumeProps:["selected","activated","disabled","options"]})),_e=(P({displayName:"ListItemText",tag:"span",classNames:["mdc-list-item__text"]}),P({displayName:"ListItemPrimaryText",tag:"span",classNames:["mdc-list-item__primary-text"]}),P({displayName:"ListItemSecondaryText",tag:"span",classNames:["mdc-list-item__secondary-text"]}),P({displayName:"ListItemGraphic",classNames:["mdc-list-item__graphic"],tag:be}),P({displayName:"ListItemMeta",classNames:["mdc-list-item__meta"],tag:"div",render:function(e,t,n){if(e.icon)return s.createElement(be,Ce({ref:t},e));if(s.isValidElement(e.children)){e.children;var a=ke(e,["children"]);return s.cloneElement(e.children,Ce({},a,e.children.props,{className:T()(e.className,e.children.props.className)}))}return s.createElement(n,Ce({ref:t},e))}}),P({displayName:"ListGroup",classNames:["mdc-list-group"]}),P({displayName:"ListGroupSubheader",classNames:["mdc-list-group__subheader"]}),P({displayName:"ListDivider",classNames:["mdc-list-divider"]}),n(86)),Oe=n(265),Te=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),je=function(){return(je=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ie=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},De={bottomEnd:"BOTTOM_END",bottomLeft:"BOTTOM_LEFT",bottomRight:"BOTTOM_RIGHT",bottomStart:"BOTTOM_START",topEnd:"TOP_END",topLeft:"TOP_LEFT",topRight:"TOP_RIGHT",topStart:"TOP_START"},Ne=P({displayName:"MenuSurfaceRoot",classNames:function(e){return["mdc-menu-surface",{"mdc-menu-surface--fixed":e.fixed}]},consumeProps:["fixed"]}),Me=function(e){function t(t){var n=e.call(this,t)||this;return n.root=n.createElement("root"),n.anchorElement=null,n.previousFocus=null,n.firstFocusableElement=null,n.lastFocusableElement=null,n.hoisted=!1,n.handleKeydown=n.handleKeydown.bind(n),n.handleBodyClick=n.handleBodyClick.bind(n),n}return Te(t,e),t.prototype.componentDidMount=function(){if(this.root.ref){var t=L(this.root.ref,"."+_e.a.cssClasses.ANCHOR);t&&(this.anchorElement=t)}e.prototype.componentDidMount.call(this)},t.prototype.componentWillUnmount=function(){this.hoisted&&this.unhoistMenuFromBody(),e.prototype.componentWillUnmount.call(this)},Object.defineProperty(t.prototype,"open",{get:function(){return this.foundation.isOpen()},set:function(e){if(e&&this.foundation&&!this.foundation.isOpen()){var t=this.root.ref?this.root.ref.querySelectorAll(_e.a.strings.FOCUSABLE_ELEMENTS):[];this.firstFocusableElement=t.length>0?t[0]:null,this.lastFocusableElement=t.length>0?t[t.length-1]:null,this.foundation.open()}else this.foundation&&this.foundation.isOpen()&&this.foundation.close()},enumerable:!0,configurable:!0}),t.prototype.getDefaultFoundation=function(){var e=this;return new _e.a(je({addClass:function(t){e.root.addClass(t)},removeClass:function(t){e.root.removeClass(t)},hasClass:function(t){return"mdc-menu-surface"===t||e.root.hasClass(t)},hasAnchor:function(){return!!e.anchorElement},notifyClose:function(){e.emit("onClose",{}),e.deregisterBodyClickListener(),e.props.open&&(e.open=e.props.open)},notifyOpen:function(){e.emit("onOpen",{}),e.registerBodyClickListener()},isElementInContainer:function(t){return e.root.ref===t||!!e.root.ref&&e.root.ref.contains(t)},isRtl:function(){return!!e.root.ref&&"rtl"===getComputedStyle(e.root.ref).getPropertyValue("direction")},setTransformOrigin:function(t){e.root.setStyle(Oe.a.getTransformPropertyName(window)+"-origin",t)}},this.getFocusAdapterMethods(),this.getDimensionAdapterMethods()))},t.prototype.getFocusAdapterMethods=function(){var e=this;return{isFocused:function(){return document.activeElement===e.root.ref},saveFocus:function(){e.previousFocus=document.activeElement},restoreFocus:function(){e.root.ref&&e.root.ref.contains(document.activeElement)&&e.previousFocus&&e.previousFocus.focus&&e.previousFocus.focus()},isFirstElementFocused:function(){return!!e.firstFocusableElement&&e.firstFocusableElement===document.activeElement},isLastElementFocused:function(){return!!e.firstFocusableElement&&e.firstFocusableElement===document.activeElement},focusFirstElement:function(){return!!e.firstFocusableElement&&e.firstFocusableElement.focus&&e.firstFocusableElement.focus()},focusLastElement:function(){return!!e.firstFocusableElement&&e.firstFocusableElement.focus&&e.firstFocusableElement.focus()}}},t.prototype.getDimensionAdapterMethods=function(){var e=this;return{getInnerDimensions:function(){return{width:e.root.ref?e.root.ref.offsetWidth:0,height:e.root.ref?e.root.ref.offsetHeight:0}},getAnchorDimensions:function(){return e.anchorElement&&e.anchorElement.getBoundingClientRect()},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(t){e.root.setStyle("left",void 0!==t.left?t.left:null),e.root.setStyle("right",void 0!==t.right?t.right:null),e.root.setStyle("top",void 0!==t.top?t.top:null),e.root.setStyle("bottom",void 0!==t.bottom?t.bottom:null)},setMaxHeight:function(t){e.root.setStyle("maxHeight",t)}}},t.prototype.sync=function(e,t){var n=this;this.syncProp(e.fixed,t.fixed,(function(){n.foundation.setFixedPosition(!!e.fixed)})),this.syncProp(e.hoistToBody,t.hoistToBody,(function(){e.hoistToBody?n.hoistMenuToBody():n.unhoistMenuFromBody()}));var a=e.anchorCorner&&function(e){return _e.a.Corner[De[e]]}(e.anchorCorner);this.syncProp(a,this.foundation.anchorCorner_,(function(){a&&(n.foundation.setAnchorCorner(a),n.foundation.dimensions_=n.foundation.adapter_.getInnerDimensions(),n.foundation.autoPosition_())})),this.syncProp(e.open,t.open,(function(){n.open=!!e.open}))},t.prototype.hoistMenuToBody=function(){var e=this;this.root.ref&&this.root.ref.parentElement&&(document.body.appendChild(this.root.ref.parentElement.removeChild(this.root.ref)),this.hoisted=!0,this.foundation.setIsHoisted(!0),this.props.open&&setTimeout((function(){return e.foundation.autoPosition_()})))},t.prototype.unhoistMenuFromBody=function(){this.anchorElement&&this.root.ref&&(this.anchorElement.appendChild(this.root.ref),this.hoisted=!1,this.foundation.setIsHoisted(!1))},t.prototype.setAnchorCorner=function(e){this.foundation.setAnchorCorner(e)},t.prototype.registerBodyClickListener=function(){var e=this;setTimeout((function(){document.body.addEventListener("click",e.handleBodyClick),document.body.addEventListener("touchstart",e.handleBodyClick)}),150)},t.prototype.deregisterBodyClickListener=function(){document.body.removeEventListener("click",this.handleBodyClick),document.body.removeEventListener("touchstart",this.handleBodyClick)},t.prototype.handleBodyClick=function(e){this.foundation&&this.foundation.handleBodyClick(e)},t.prototype.handleKeydown=function(e){this.props.onKeyDown&&this.props.onKeyDown(e),this.foundation.handleKeydown(e)},t.prototype.render=function(){var e=this.props,t=e.children,n=(e.open,e.anchorCorner,e.onOpen,e.onClose,e.hoistToBody,Ie(e,["children","open","anchorCorner","onOpen","onClose","hoistToBody"]));return s.createElement(Ne,je({},this.root.props(n),{ref:this.root.setRef,onKeyDown:this.handleKeydown}),t)},t.displayName="MenuSurface",t}(q),Fe=P({displayName:"MenuSurfaceAnchor",classNames:["mdc-menu-surface--anchor"]}),Pe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Re=P({displayName:"MenuItems",tag:Q,classNames:["mdc-list mdc-menu__items"],defaultProps:{role:"menu"}}),Ue=P({displayName:"MenuItem",tag:Se,defaultProps:{role:"menuitem",tabIndex:0}}),ze=function(e){return s.isValidElement(e)&&"object"==typeof e.type&&"MenuItems"===("displayName"in e.type&&e.type.displayName)},$e=function(e){function t(t){var n=e.call(this,t)||this;return n.list=null,n.menuSurface=null,n.handleKeydown=n.handleKeydown.bind(n),n.handleClick=n.handleClick.bind(n),n.handleOpen=n.handleOpen.bind(n),n}return Pe(t,e),Object.defineProperty(t.prototype,"items",{get:function(){return this.list?this.list.listElements:[]},enumerable:!0,configurable:!0}),t.prototype.hoistMenuToBody=function(){this.menuSurface&&this.menuSurface.hoistMenuToBody()},t.prototype.setAnchorCorner=function(e){this.menuSurface&&this.menuSurface.setAnchorCorner(e)},t.prototype.setAnchorElement=function(e){this.menuSurface&&(this.menuSurface.anchorElement=e)},t.prototype.getDefaultFoundation=function(){var e=this;return new S.a({addClassToElementAtIndex:function(t,n){e.items[t].classList.add(n)},removeClassFromElementAtIndex:function(t,n){e.items[t].classList.remove(n)},addAttributeToElementAtIndex:function(t,n,a){e.items[t].setAttribute(n,a)},removeAttributeFromElementAtIndex:function(t,n){e.items[t].removeAttribute(n)},elementContainsClass:function(e,t){return e.classList.contains(t)},closeSurface:function(){e.menuSurface&&(e.menuSurface.open=!1)},getElementIndex:function(t){return e.items.indexOf(t)},notifySelected:function(t){return e.emit("onSelect",{index:t.index,item:e.items[t.index]})},getMenuItemCount:function(){return e.items.length},focusItemAtIndex:function(t){return e.items[t].focus()},focusListRoot:function(){return e.list&&e.list.root&&e.list.root.ref&&e.list.root.ref.focus()}})},t.prototype.handleClick=function(e){this.props.onClick&&this.props.onClick(e);var t=L(e.target,".mdc-list-item");t&&this.foundation.handleItemAction(t)},t.prototype.handleKeydown=function(e){this.props.onKeyDown&&this.props.onKeyDown(e),this.foundation.handleKeydown(e),13===e.which&&e.target instanceof Element&&e.target.classList.contains(Q.cssClasses.LIST_ITEM_CLASS)&&this.foundation.handleItemAction(e.target)},t.prototype.handleOpen=function(e){var t=this.items;this.props.focusOnOpen&&t.length>0&&!t.some((function(e){return e===document.activeElement}))&&t[0].focus(),this.props.onOpen&&this.props.onOpen(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,a=(t.focusOnOpen,Ae(t,["children","focusOnOpen"])),r=(s.Children.map(n,ze)||[]).every((function(e){return!1===e}));return s.createElement(Me,Le({},a,{"aria-hidden":!a.open,className:"mdc-menu "+(a.className||""),onKeyDown:this.handleKeydown,onClick:this.handleClick,onOpen:this.handleOpen,ref:function(t){return e.menuSurface=t}}),r?s.createElement(Re,{ref:function(t){return e.list=t}},n):s.Children.map(n,(function(t){return ze(t)?s.cloneElement(t,{ref:function(t){return e.list=t}}):t})))},t.displayName="Menu",t.defaultProps={focusOnOpen:!0},t}(q),Be=function(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={open:!!e.props.open},e}return Pe(n,t),n.prototype.componentDidMount=function(){this.syncWithOpenProp(this.props.open)},n.prototype.componentDidUpdate=function(e){this.syncWithOpenProp(e.open)},n.prototype.syncWithOpenProp=function(e){void 0!==e&&this.state.open!==e&&this.setState({open:e})},n.prototype.render=function(){var t=this,n=this.props,a=n.handle,r=n.onClose,o=n.children,i=n.rootProps,l=void 0===i?{}:i,c=n.open,u=Ae(n,["handle","onClose","children","rootProps","open"]),d=s.cloneElement(a,Le({},a.props,{onClick:function(e){t.setState({open:!t.state.open}),a.props.onClick&&a.props.onClick(e)}}));return s.createElement(Fe,Le({},l),s.createElement(e,Le({},u,{onClose:function(e){t.setState({open:!!c||!1}),r&&r(e)},open:this.state.open}),o),d)},n}(s.Component)).displayName="Simple"+e.displayName,t},Ve=(Be($e),Be(Me),n(991)),He=n(57),We=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),qe=function(){return(qe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ke=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},Ge=function(e){return Array.isArray(e)&&e[0]&&"object"==typeof e[0]?e.map((function(e){if("object"!=typeof e)throw new Error("Encountered non object for Select "+e);return qe({},e,{options:Ge(e.options)})})):Array.isArray(e)?e.map((function(e){return{value:e,label:e}})):"object"==typeof e?Object.keys(e).map((function(t){return{value:t,label:e[t]}})):e},Ye=Object(He.a)()(Object(v.a)({displayName:"SelectRoot",defaultProps:{role:"listbox"},classNames:function(e){return["mdc-select",{"mdc-select--outlined":!!e.outlined,"mdc-select--required":!!e.required,"mdc-select--invalid":!!e.invalid,"mdc-select--with-leading-icon":!!e.icon}]},consumeProps:["outlined","icon","required","invalid"]})),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return We(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return s.createElement("i",{className:"mdc-select__dropdown-icon"})},t}(s.Component),Qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return We(t,e),t.prototype.render=function(){var e=this.props,t=e.selectOptions,n=e.placeholder,a=void 0===n?"":n,r=e.children,o=e.elementRef,i=Ke(e,["selectOptions","placeholder","children","elementRef"]);return s.createElement("select",qe({tabIndex:0},i,{ref:o,className:"mdc-select__native-control "+(i.className||"")}),!this.props.value&&!this.props.defaultValue&&s.createElement("option",{value:"",disabled:""===a},a),!!t&&t.map((function(e,t){var n=e.label,a=e.options,r=Ke(e,["label","options"]);return a?s.createElement("optgroup",{label:n,key:n},a.map((function(e,t){var n=e.label,a=Ke(e,["label"]);return s.createElement("option",qe({key:n+"-"+a.value},a,{value:a.value}),n)}))):s.createElement("option",qe({key:n+"-"+r.value},r,{value:r.value}),n)})),r)},t.displayName="SelectNativeControl",t}(s.Component),Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return We(t,e),t.prototype.render=function(){var e=this.props,t=e.selectOptions,n=e.apiRef,a=e.selectedIndex,r=e.placeholder,o=e.children,i=Ke(e,["selectOptions","apiRef","selectedIndex","placeholder","children"]),l=0,c=(void 0!==r||void 0===this.props.value&&void 0===this.props.defaultValue)&&0==l++;return s.createElement($e,qe({},i,{ref:n,className:"mdc-select__menu"}),c&&s.createElement(Ue,{selected:l-1===a,"data-value":""},r),t.map((function(e,n){var r=e.label,o=e.options,i=Ke(e,["label","options"]);return o?s.createElement(Ve.b,{key:r},s.createElement(Ve.c,{theme:"textDisabledOnBackground"},r),s.createElement(Re,null,o.map((function(e,t){var n=e.label,r=Ke(e,["label"]);return l+=1,s.createElement(Ue,qe({key:n+"-"+r.value,activated:l-1===a},r,{"data-value":r.value}),n)}))),n<t.length-1&&s.createElement(Ve.a,null)):(l+=1,s.createElement(Ue,qe({key:r+"-"+i.value,activated:l-1===a},i,{"data-value":i.value}),r))})),o)},t}(s.Component),Je=function(e){function t(t){var n=e.call(this,t)||this;return n.root=n.createElement("root"),n.lineRipple=n.createElement("lineRipple"),n.outline=n.createElement("outline"),n.label=n.createElement("label"),n.id=n.props.id||Object(y.a)("select"),n.nativeControl=null,n.selectedText=null,n.menuElement=null,n.menu=null,n.hiddenInput_=null,n.leadingIcon_=null,n.trailingIcon_=null,n.state={selectedIndex:void 0!==n.props.placeholder?0:-1,menuOpen:!1,selectedTextContent:""},n.handleChange=n.handleChange.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleClick=n.handleClick.bind(n),n.handleKeydown=n.handleKeydown.bind(n),n.handleMenuSelected=n.handleMenuSelected.bind(n),n.handleMenuOpened=n.handleMenuOpened.bind(n),n.handleMenuClosed=n.handleMenuClosed.bind(n),n}return We(t,e),t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this);var t=this.props,n=t.enhanced,a=t.value;this.menu&&(this.menuElement=this.root.ref&&this.root.ref.querySelector(".mdc-select__menu"),this.menu.hoistMenuToBody(),this.root.ref&&this.menu.setAnchorElement(this.root.ref),this.hiddenInput_&&this.hiddenInput_.value?this.getEnhancedSelectAdapterMethods_().setValue(this.hiddenInput_?this.hiddenInput_.value:""):n&&this.getEnhancedSelectAdapterMethods_().setValue(a||""));this.foundation.handleChange(!1),this.props.disabled&&this.foundation.setDisabled(!0),this.nativeControl&&document.activeElement===this.nativeControl&&this.foundation.handleFocus()},t.prototype.getDefaultFoundation=function(){return new h(qe({},this.props.enhanced?this.getEnhancedSelectAdapterMethods_():this.getNativeSelectAdapterMethods_(),this.getCommonAdapterMethods_(),this.getOutlineAdapterMethods_(),this.getLabelAdapterMethods_()),this.getFoundationMap_())},t.prototype.getNativeSelectAdapterMethods_=function(){var e=this;return{getValue:function(){var t=e.nativeControl&&e.nativeControl.value;return""===t&&e.props.placeholder?" ":t||""},setValue:function(t){return e.nativeControl&&(e.nativeControl.value=t)},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(t){e.nativeControl&&(e.nativeControl.selectedIndex=t)},setDisabled:function(t){return e.nativeControl&&(e.nativeControl.disabled=t)},setValid:function(t){t?e.root.removeClass(h.cssClasses.INVALID):e.root.addClass(h.cssClasses.INVALID)},checkValidity:function(){return!!e.nativeControl&&e.nativeControl.checkValidity()}}},t.prototype.getEnhancedSelectAdapterMethods_=function(){var e=this;return{getValue:function(){var t="",n=e.menu&&e.menu.items[e.state.selectedIndex];return n&&n.hasAttribute(h.strings.ENHANCED_VALUE_ATTR)&&(t=n.getAttribute(h.strings.ENHANCED_VALUE_ATTR)),""===t&&e.props.placeholder?" ":t},setValue:function(t){if(e.menuElement){var n=e.menuElement.querySelector("["+h.strings.ENHANCED_VALUE_ATTR+'="'+t+'"]'),a=n&&e.menu?e.menu.items.indexOf(n):-1,r=e.menu&&e.menu.items[a],o="";r&&(o=r.dataset.label||r.textContent&&r.textContent.trim()||""),e.setState({selectedIndex:a,selectedTextContent:o},(function(){e.foundation.layout(),e.foundation.adapter_.floatLabel(!!o)}))}},openMenu:function(){e.setState({menuOpen:!0})},closeMenu:function(){e.setState({menuOpen:!1})},isMenuOpen:function(){return e.state.menuOpen},setSelectedIndex:function(t){e.setState({selectedIndex:t})},setDisabled:function(e){},checkValidity:function(){var t=e.root.ref&&e.root.ref.classList;return!(t&&t.contains(h.cssClasses.REQUIRED)&&!t.contains(h.cssClasses.DISABLED))||-1!==e.state.selectedIndex&&(0!==e.state.selectedIndex||!!e.value)},setValid:function(t){e.selectedText&&e.selectedText.setAttribute("aria-invalid",(!t).toString()),t?e.root.removeClass(h.cssClasses.INVALID):e.root.addClass(h.cssClasses.INVALID)}}},t.prototype.getCommonAdapterMethods_=function(){var e=this;return{addClass:function(t){return e.root.addClass(t)},removeClass:function(t){return e.root.removeClass(t)},hasClass:function(t){return e.root.hasClass(t)},isRtl:function(){return e.root.ref&&"rtl"===window.getComputedStyle(e.root.ref).getPropertyValue("direction")},setRippleCenter:function(t){return e.lineRipple.setProp("center",t)},activateBottomLine:function(){return e.lineRipple.setProp("active",!0)},deactivateBottomLine:function(){return e.lineRipple.setProp("active",!1)},notifyChange:function(e){}}},t.prototype.getOutlineAdapterMethods_=function(){var e=this;return{hasOutline:function(){return!!e.props.outlined},notchOutline:function(t){e.outline.setProp("notch",t)},closeOutline:function(){e.outline.removeProp("notch")}}},t.prototype.getLabelAdapterMethods_=function(){var e=this;return{floatLabel:function(t){e.label.setProp("float",t)},getLabelWidth:function(){return e.label.ref?e.label.ref.getWidth():0}}},t.prototype.getFoundationMap_=function(){return{leadingIcon:this.leadingIcon_&&this.leadingIcon_.foundation||void 0}},t.prototype.sync=function(e,t){e.value===t.value&&e.options===t.options&&JSON.stringify(e.options)===JSON.stringify(t.options)||this.foundation.setValue(e.value||""),void 0===e.disabled||t&&t.disabled===e.disabled||this.foundation.setDisabled(e.disabled)},Object.defineProperty(t.prototype,"value",{get:function(){return this.foundation.getValue()},set:function(e){this.foundation.setValue(e)},enumerable:!0,configurable:!0}),t.prototype.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.foundation.handleChange(!0)},t.prototype.handleFocus=function(e){this.props.onFocus&&this.props.onFocus(e),this.foundation&&this.foundation.handleFocus()},t.prototype.handleBlur=function(e){this.props.onBlur&&this.props.onBlur(e),this.foundation.handleBlur()},t.prototype.handleClick=function(e){var t=this,n=this.props,a=n.onMouseDown,r=n.onTouchStart;"mousedown"===e.type&&a&&a(e),"touchstart"===e.type&&r&&r(e);this.selectedText&&this.selectedText.focus();var o=function(e){var t=e.target.getBoundingClientRect();return e.clientX-t.left}(e);setTimeout((function(){t.foundation.handleClick(o)}))},t.prototype.handleKeydown=function(e){this.props.onKeyDown&&this.props.onKeyDown(e),this.foundation.handleKeydown(e)},t.prototype.handleMenuSelected=function(e){var t=e.detail.item.dataset.value;this.emit("onChange",{index:e.detail.index,value:t},!0),void 0===this.props.value&&this.getEnhancedSelectAdapterMethods_().setValue(t||"")},t.prototype.handleMenuOpened=function(){this.menu&&this.state.selectedIndex>=0&&this.menu.items[this.state.selectedIndex].focus()},t.prototype.handleMenuClosed=function(){this.setState({menuOpen:!1}),document.activeElement!==this.selectedText&&this.foundation.handleBlur()},t.prototype.renderIcon=function(e,t){var n=this;return e&&"string"==typeof e||e.type&&e.type.displayName!==et.displayName?s.createElement(et,{ref:function(e){"leadingIcon_"===t?n.leadingIcon_=e&&e.foundation:n.trailingIcon_=e&&e.foundation},tabIndex:"trailingIcon_"===t?0:void 0,icon:e}):e},t.prototype.renderHelpText=function(){var e=this.props.helpText;if(!!!e)return null;var t="object"==typeof e&&!s.isValidElement(e);return e&&t?s.createElement(tt,qe({},e)):s.createElement(tt,null,e)},t.prototype.render=function(){var e=this,t=this.props,n=t.placeholder,a=t.children,r=t.value,o=t.outlined,i=t.label,c=void 0===i?"":i,u=t.options,d=void 0===u?[]:u,p=t.rootProps,m=void 0===p?{}:p,h=t.className,f=t.enhanced,g=(t.icon,t.withLeadingIcon,t.onChange,t.onFocus,t.onBlur,t.onKeyDown,t.invalid),b=t.inputRef,v=(t.helpText,Ke(t,["placeholder","children","value","outlined","label","options","rootProps","className","enhanced","icon","withLeadingIcon","onChange","onFocus","onBlur","onKeyDown","invalid","inputRef","helpText"])),y=this.props,E=y.icon,C=y.withLeadingIcon;void 0!==C&&(Object(l.a)("Select prop 'withLeadingIcon' is now 'icon'."),E=C);var S=Ge(d),_=void 0!==r?void 0:this.props.defaultValue||"",O={onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onTouchStart:this.handleClick,onMouseDown:this.handleClick},T={defaultValue:_,value:r,placeholder:n,selectOptions:S},j=s.createElement(w.a,qe({},this.label.props({}),{ref:this.label.setRef}),c);return s.createElement(s.Fragment,null,s.createElement(Ye,qe({ripple:!o},this.root.props(qe({className:h},m)),{invalid:g,required:v.required,icon:E,outlined:o,ref:this.root.setRef}),!!E&&this.renderIcon(E,"leadingIcon_"),s.createElement(Ze,null),f?s.createElement(s.Fragment,null,s.createElement("input",{type:"hidden",ref:function(t){return e.hiddenInput_=t}}),s.createElement("div",qe({ref:function(t){return e.selectedText=t},className:"mdc-select__selected-text",tabIndex:this.props.disabled?-1:0,"aria-disabled":this.props.disabled?"true":"false","aria-expanded":this.state.menuOpen,onKeyDown:this.handleKeydown},O),this.state.selectedTextContent),s.createElement(Xe,qe({},T,{selectedIndex:this.state.selectedIndex,apiRef:function(t){e.menu=t},open:this.state.menuOpen,onClose:this.handleMenuClosed,onOpen:this.handleMenuOpened,onSelect:this.handleMenuSelected}),a)):s.createElement(Qe,qe({},v,{elementRef:function(t){e.nativeControl=t,b&&b(t)}},T,O),a),o?s.createElement(k.a,qe({},this.outline.props({})),j):s.createElement(s.Fragment,null,j,s.createElement(x.a,qe({},this.lineRipple.props({}))))),this.renderHelpText())},t}(E.a),et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=t.createElement("root"),t}return We(t,e),t.prototype.getDefaultFoundation=function(){var e=this;return new b({getAttr:function(t){return e.root.getProp(t)},setAttr:function(t,n){return e.root.setProp(t,n)},removeAttr:function(t){return e.root.removeProp(t)},setContent:function(t){e.root.ref&&(e.root.ref.textContent=t)},registerInteractionHandler:function(t,n){return e.root.addEventListener(t,n)},deregisterInteractionHandler:function(t,n){return e.root.removeEventListener(t,n)},notifyIconAction:function(){return e.emit("onClick",{},!0)}})},t.prototype.render=function(){return s.createElement(C.Icon,qe({},this.root.props(qe({},this.props,{className:"mdc-select__icon"}))))},t.displayName="SelectIcon",t}(E.a),tt=Object(v.a)({displayName:"SelectHelperText",tag:"p",classNames:function(e){return["mdc-select-helper-text",{"mdc-select-helper-text--persistent":e.persistent,"mdc-select-helper-text--validation-msg":e.validationMsg}]},consumeProps:["persistent","validationMsg"]}),nt=function(e){var t=e.enhanced,n=Ke(e,["enhanced"]);return s.createElement(Je,qe({key:t?"enhanced":"native",enhanced:t},n))};nt.displayName="Select";var at=n(3);const rt={light:{textinput:{default:at.i,hover:at.l,focused:at.n,text:at.j}},dark:{textinput:{default:at.e,hover:at.f,focused:at.t,text:at.c}}};n.d(t,"a",(function(){return st})),n(1155),n(1156),n(1157),n(1243);const ot=e=>"data:image/svg+xml,%3Csvg%20width%3D%2210px%22%20height%3D%225px%22%20viewBox%3D%227%2010%2010%205%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20stroke%3D%22none%22%20fill%3D%22%23"+e.substr(1)+"%22%20fill-rule%3D%22evenodd%22%20opacity%3D%221%22%20points%3D%227%2010%2012%2015%2017%2010%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E",it=i()(nt)`
  &.mdc-select--outlined:not(.mdc-select--focused) {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>rt[e.theme.name].textinput.default};
    }

    .mdc-floating-label {
      color: ${e=>rt[e.theme.name].textinput.default};
    }

    .mdc-select__dropdown-icon {
      background: url(${e=>ot(rt[e.theme.name].textinput.default)}) no-repeat center;
      color: ${e=>rt[e.theme.name].textinput.default};
    }

    .mdc-select__native-control {
      color: ${e=>rt[e.theme.name].textinput.text};
    }
  }

  &.mdc-select--outlined:not(.mdc-select--focused):not(.mdc-select--focused)
  .mdc-select__native-control:hover
    ~ .mdc-notched-outline {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>rt[e.theme.name].textinput.hover};
    }

    .mdc-floating-label {
      color: ${e=>rt[e.theme.name].textinput.hover};
    }

    .mdc-select__native-control {
      color: ${e=>rt[e.theme.name].textinput.text};
    }

    .mdc-select__dropdown-icon {
      background: url(${e=>ot(rt[e.theme.name].textinput.hover)}) no-repeat center;
      color: ${e=>rt[e.theme.name].textinput.hover};
    }
  }

  &.mdc-select--outlined:not(.mdc-select--disabled).mdc-select--focused {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>rt[e.theme.name].textinput.focused};
    }

    .mdc-floating-label {
      color: ${e=>rt[e.theme.name].textinput.focused};
    }

    .mdc-select__native-control {
      color: ${e=>rt[e.theme.name].textinput.text};
    }

    .mdc-select__dropdown-icon {
      background: url(${e=>ot(rt[e.theme.name].textinput.focused)}) no-repeat center;
      color: ${e=>rt[e.theme.name].textinput.focused};
      z-index: 1;
    }
  }

  & .mdc-select__native-control {
    z-index: 0;
  }

  &&&.mdc-select--disabled {
    opacity: 0.38;
  }
`,st=e=>{const{autoFocus:t,children:n,className:a,disabled:r,icon:o,label:i,onChange:l,placeholder:c,required:u,status:d,value:p,variant:m}=e;return s.createElement(it,{autoFocus:t,className:a,disabled:!!r,icon:o,invalid:"error"===d,label:i,onChange:l,outlined:"filled"!==m,placeholder:c,required:!!u,value:p},n)}},1474:function(e,t,n){"use strict";var a=n(0),r=n(145),o=n(874),i=n(1),s=n.n(i);const l=s.a.div`
  align-items: center;
  display: flex;
  padding: ${e=>e.theme.material.spacing(4)};
  padding-left: ${e=>e.theme.material.spacing(8)};
  width: 100%;
`,c=e=>{const{children:t,className:n,variant:r}=e;return a.createElement(l,{className:[n,r].join(" "),variant:r},t)},u=s.a.div`
  display: flex;

  div:not(:last-child) {
    margin-right: ${e=>e.theme.material.spacing(4)};
  }
`,d=e=>{const{children:t}=e;return a.createElement(u,null,t)};var p=n(127);const m=s.a.div`
  margin-right: ${e=>e.theme.material.spacing(4)};

  .notice & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.notice};
    }
  }
  .warning & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.warning};
    }
  }
  .error & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.error};
    }
  }
`,h=e=>{const{alt:t,graphic:n,fallbackImage:r}=e;return a.createElement(m,null,a.createElement(p.a,{graphic:n,alt:t,fallbackImage:r}))},f=s()(r.b)`
  && {
    flex: 1;
    margin-right: ${e=>e.theme.material.spacing(8)};
  }
`,g=e=>{const{className:t,children:n}=e;return a.createElement(f,{className:t},n)},b=e=>{const{children:t,className:n,graphic:r,leftAction:i,rightAction:s,variant:l}=e;return a.createElement(c,{variant:l,className:n},r&&a.createElement(h,{graphic:r}),a.createElement(g,null,t),a.createElement(d,null,i&&a.createElement(o.a,{emphasis:"low",onClick:i.onClick},i.label),s&&a.createElement(o.a,{emphasis:"low",onClick:s.onClick},s.label)))};n.d(t,"a",(function(){return v}));const v=e=>{const{useKM:t}=e;return t?a.createElement(r.i,{useKM:t},"Please implement KM SimpleAlertBanner"):a.createElement(b,Object.assign({},e))}},1475:function(e,t,n){"use strict";var a=n(1415),r=n(1335),o=n(1334);const i=(e,t)=>{if(e.path===t.path)return[e];const n=Object(o.a)(e);for(const a of n){const n=i(a,t);if(n)return[e,...n]}};var s=n(1336);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));const l="select",c=(e,t)=>{const{newItem:n,selectionContainer:o,updateUrl:c}=t,{dataSources:u,expanded:d}=e,p=u.find(e=>void 0!==i(e,n));if(!p)return e;const m=Object(s.a)(n,d),h=Object(r.a)(n),f="notebook"===e.reference.type&&e.reference.isEditor;return c&&!f&&((e=>!!e.relativeUrl&&e.relativeUrl.indexOf("/")<0)(n)?Object(a.b)(l,n.relativeUrl):Object(a.b)(l,null)),h&&"notExpanded"===m?e.dispatch({type:"expand",item:n,source:p}):h&&"expanded"===m&&e.dispatch({type:"expand",item:n,state:"notExpanded",source:p}),o.select(p,n),e}},1486:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k}));var a=n(2),r=n(1330),o=n(891),i=n(108),s=n(1),l=n(122),c=n(130),u=n(1487),d=n(70),p=n(1220),m=n(1407),h=n(1033),f=n(876),g=n(1007),b=c.default.a.withConfig({displayName:"KernelListItem_StyledListItemAuthorLink",componentId:"sc-10x2qmo"})(w||(w=Object(a.__makeTemplateObject)(["\n  && {\n    color: ",";\n  }\n"],["\n  && {\n    color: ",";\n  }\n"])),g.b.TextLink),v=Object(c.default)(i.a).withConfig({displayName:"KernelListItem_TaskIcon",componentId:"sc-aw594o"})(x||(x=Object(a.__makeTemplateObject)(["\n  margin: 0 "," 0\n    ",";\n  vertical-align: top;\n"],["\n  margin: 0 "," 0\n    ",";\n  vertical-align: top;\n"])),(function(e){return e.theme.material.spacing(1)}),(function(e){return e.theme.material.spacing(2)}));function y(e){switch(e.toLowerCase()){case"python":return"Py";case"r":return"R";case"rmd":case"rmarkdown":case"markdown":return"Rmd";case"julia":return"Ju";case"sqlite":return"SQL";default:return null}}function E(t,n,a,r){return t?e.createElement("span",{role:"button",onClick:function(){return Object(d.c)("kernels","listing-item-clicked-data-source",{location:r})}},a.dataSources.length>1?e.createElement("span",null,n?"with ":"",e.createElement("a",{href:a.scriptInputUrl},"multiple data sources")):0===a.dataSources.length?e.createElement("span",null,n?"with ":"","no data sources"):e.createElement("span",null,n?"in ":"",a.dataSources[0].dataSourceUrl?e.createElement("a",{href:a.dataSources[0].dataSourceUrl},a.dataSources[0].name):a.dataSources[0].name)):null}var w,x,C=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderOptionalTaskSubmission=function(t){if(!t)return null;var a=t.taskUrl,r=t.isAcceptedSolution;return e.createElement("a",{href:a,onClick:function(){return Object(d.c)("kernels","notebook-list-submission-click",{isAcceptedSolution:r,location:n.props.location})}},r?e.createElement(v,{color:s.defaultTheme.material.color.status.success[1e3],icon:e.createElement("svg",{viewBox:"0 0 24 24",width:"12px",height:"12px"},e.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xxsmall"}):e.createElement(v,{color:s.defaultTheme.material.color.text[700],icon:"assignment",size:"xxsmall"}),r?"Accepted":"Task"," Submission")},n.onFilterChanged=function(e,t,a){a.preventDefault(),n.props.parentContainer.onFilterChanged(e,t,!1,!0)},n}return Object(a.__extends)(n,t),n.prototype.renderOptionalMedal=function(){var t=this.props.scriptData.medal;return t?e.createElement("img",{alt:"medals",className:"kernel-list-item__medals",src:("/static/images/medals/notebooks/"+t+"s@1x.png").toLowerCase(),title:""+t}):null},n.prototype.renderOptionalForkSection=function(){var t,n,a,r=this.props.scriptData,o=(t=r.forkDiffLinesInserted+r.forkDiffLinesChanged,n=r.forkDiffLinesDeleted+r.forkDiffLinesChanged,(a=function(e){return l("line",e,!0)})(t)+" inserted / "+a(n)+" deleted");return this.props.scriptData.isFork?e.createElement(h.b,{tip:o},e.createElement("a",{role:"button",href:r.forkDiffUrl,className:"kernel-list-item__fork"},e.createElement("span",{className:"fa fa-clone"}))):null},n.prototype.renderOptionalUncommittedDraftBadge=function(){return this.props.scriptData.isMyUncommittedDraft?e.createElement(u.a,{option:"warning",icon:"fa-edit"},"Uncommitted Draft"):null},n.prototype.renderOptionalCollaboratorsSection=function(){var t=this.props.profileUserId,n=this.props.scriptData,a=n.author;if(!n.hasCollaborators)return null;var r=t&&t!==a.id;return e.createElement("span",null,r&&e.createElement("a",{href:a.profileUrl},a.displayName),e.createElement("span",null,e.createElement(h.b,{tip:e.createElement("span",null,"This Notebook has collaborators.")},e.createElement("span",{className:"fa fa-users kernel-list-item__collaboration-icon"}))))},n.prototype.renderOptionalDetailTags=function(){return[this.renderOptionalScoreSection(),this.renderOptionalCategoriesSection()].filter((function(e){return!!e}))},n.prototype.renderOptionalScoreSection=function(){var t=this,n=this.props.scriptData.bestPublicScore;return n?e.createElement("div",{role:"button",className:"kernel-list-item__score",key:"score",onClick:function(){return Object(d.c)("kernels","listing-item-clicked-score",{location:t.props.location})}},e.createElement("i",{className:"fa fa-bullseye"}),n):null},n.prototype.renderOptionalCategoriesSection=function(){var t=this.props.scriptData.categories;if(!t||0===t.length)return null;var n=this.props.onCategoryClick,a=t.map((function(e){return{name:e.name||"",onClick:function(){n(e)}}}));return e.createElement(m.a,{tags:a,key:"tags"})},n.prototype.renderOutputToolTip=function(t,n,a,r){var o=this;return e.createElement(h.a,{tipText:r,key:t},n?e.createElement("a",{role:"button",onClick:function(e){Object(d.c)("kernels","listing-item-clicked-output",{location:o.props.location}),o.onFilterChanged("outputType",n,e)},className:"kernel-list-item__info-block--link"},a):e.createElement("div",{className:"kernel-list-item__info-block--link"},a))},n.prototype.renderOutputBlock=function(t){var n=0,a=0;return t.forEach((function(e){"Visualization"===e.extension?n=e.count:"Data"===e.extension&&(a=e.count)})),n>0&&a>0?this.renderOutputToolTip("Combined","Visualization,Data",e.createElement("img",{alt:"viz-and-data-count",src:"/static/images/kernel-viz-and-data-output.svg"}),"This Notebook outputs "+l("visualization",n,!0)+" and "+t[0].count+" data "+l("file",a)+"."):n>0?this.renderOutputToolTip("Visualization","Visualization",e.createElement("span",{className:"fa fa-bar-chart"}),"This Notebook outputs "+l("visualization",n,!0)+"."):a>0?this.renderOutputToolTip("Data","Data",e.createElement("span",{className:"fa fa-table"}),"This Notebook outputs "+t[0].count+" data "+l("file",a)+"."):this.renderOutputToolTip("None",null,e.createElement("span",{className:"kernel-list-item__info-block--bullet"}," • "),"This Notebook doesn't output any visualizations or data files.")},n.prototype.renderLanguageBlock=function(t,n){var a=this,r="markdown"===n?"markdown":t,o="markdown"===n?"R":t;return e.createElement(h.a,{tipText:"This Notebook is written in "+r},e.createElement("a",{role:"button",className:"kernel-list-item__info-block--link",onClick:function(e){Object(d.c)("kernels","listing-item-clicked-language",{location:a.props.location}),a.onFilterChanged("language",o,e)}},y(r)))},n.prototype.renderCommentBlock=function(t,n){var a=this;return e.createElement(h.a,{tipText:"This Notebook has "+t+" "+l("comment",t)+"."},e.createElement("a",{className:"kernel-list-item__info-block--comment",href:t>0?n:null,onClick:function(){return Object(d.c)("kernels","listing-item-clicked-comments",{location:a.props.location})}},e.createElement("span",{className:"fa fa-comment-o"})," ",t))},n.prototype.render=function(){var t=this,n=this.props.scriptData,a=null===n.author||null===n.author.id;return this.props.isHidden||a?null:e.createElement("div",{className:"kernel-list-item"},e.createElement("div",{className:"kernel-list-item__meta"},e.createElement("div",{className:"kernel-list-item__votes"},this.props.scriptData.isPrivate?e.createElement(f.VoteButton,{totalVotes:0,hasAlreadyVotedUp:!1,showVoters:!1,voteUpUrl:null,voteDownUrl:null,canDownvote:!1,canUpvote:!1,isPrivate:!0}):e.createElement(f.VoteButton,{totalVotes:n.totalVotes,hasAlreadyVotedUp:n.currentUserHasVotedForThisScript,voteUpUrl:null,kernelId:n.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,onVoteUpSuccess:function(){Object(d.c)("kernels","listing-item-upvoted",{location:t.props.location}),p.a.upvoteScript(n.id)}})),e.createElement("div",{className:"kernel-list-item__image-wrapper"},e.createElement(r.a,{id:n.author.id,thumbnailUrl:n.author.thumbnailUrl,profileUrl:n.author.profileUrl,displayName:n.author.displayName,tier:n.author.performanceTier,size:"xlarge"})))," ",e.createElement("div",{className:"kernel-list-item__synopsis"},e.createElement("div",{className:"kernel-list-item__info"},e.createElement("span",{className:"kernel-list-item__name"},this.renderOptionalMedal(),this.renderOptionalForkSection(),e.createElement("div",{className:"kernel-list-item__name "+(n.isMyUncommittedDraft&&"kernel-list-item__name--uncommitted")},n.title),this.renderOptionalUncommittedDraftBadge()),e.createElement("div",{className:"kernel-list-item__details"},this.renderOptionalCollaboratorsSection(),e.createElement(o.a,{time:n.scriptVersionDateCreated||n.lastRunTime,condense:!0})," ",E(this.props.showScriptProjectColumn,!0,n,this.props.location),this.renderOptionalTaskSubmission(n.taskSubmissionInfo),this.renderOptionalDetailTags().map((function(e){return e})))),e.createElement("div",{className:"kernel-list-item__info-blocks"},this.renderOutputBlock(n.outputTypes),this.renderLanguageBlock(n.languageName,n.aceLanguageName),this.renderCommentBlock(n.totalComments,n.scriptCommentsUrl)))," ",this.props.showEditIconContainer?e.createElement("div",{className:"kernel-list-item__edit-container"},e.createElement(h.b,{tip:"Edit Notebook"},e.createElement("a",{role:"button",href:this.props.scriptData.scriptEditUrl,className:"kernel-list-item__edit-button",onClick:function(){Object(d.c)("kernels","listing-item-clicked-edit",{location:t.props.location})}},e.createElement("span",{className:"fa fa-pencil"})))):this.props.showEditIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__no-edit-placeholder"}),this.props.showDeleteIconContainer?e.createElement("div",{className:"kernel-list-item__delete-container"},this.props.onDeleteClick&&e.createElement(h.b,{tip:"Delete Notebook"},e.createElement("button",{className:"kernel-list-item__delete-button",onClick:function(){t.props.onDeleteClick(n)}},e.createElement("span",{className:"fa fa-trash-o"})))):this.props.showDeleteIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__no-delete-placeholder"}),!this.props.showEditIconPlaceholder&&!this.props.showDeleteIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__placeholder"}))},n}(e.Component),k=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this.props.scriptData;return null===t.author||null===t.author.id?null:e.createElement("div",{className:"mobile-kernel-list-item"},e.createElement("div",{className:"mobile-kernel-list-item__image-wrapper"},e.createElement(r.a,{id:t.author.id,thumbnailUrl:t.author.thumbnailUrl,profileUrl:t.author.profileUrl,displayName:t.author.displayName,tier:t.author.performanceTier,size:"xlarge"})),e.createElement("div",{className:"mobile-kernel-list-item__content"},e.createElement("div",{className:"mobile-kernel-list-item__author"},e.createElement(o.a,{time:t.lastRunTime,condense:!0,hideAgo:!0}),e.createElement(b,{href:t.author.profileUrl}," ",t.author.displayName),e.createElement("br",null)),e.createElement("div",{className:"mobile-kernel-list-item__title"},t.title),e.createElement("div",{className:"mobile-kernel-list-item__project"},e.createElement("span",{className:"mobile-kernel-list-item__lang"},y(t.languageName),"  "),E(this.props.showScriptProjectColumn,!1,t,this.props.location))))},n}(e.Component)}).call(this,n(0))},1487:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,r,o=n(2),i=n(1),s=n.n(i),l=n(0),c=s.a.span.withConfig({displayName:"Badge_Primary",componentId:"sc-eke5o0"})(a||(a=Object(o.__makeTemplateObject)(["\n  padding: 4px;\n  background-color: #008abc;\n  font-size: 12px;\n  color: #ffffff;\n  margin-left: 8px;\n  border-radius: 2px;\n"],["\n  padding: 4px;\n  background-color: #008abc;\n  font-size: 12px;\n  color: #ffffff;\n  margin-left: 8px;\n  border-radius: 2px;\n"]))),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.option,n=e.icon,a=e.children,i=e.custom,u="badge badge--"+(t||"default");if("primary"===t)return l.createElement(c,{className:u},n&&l.createElement("i",{className:"badge__icon fa "+n}),a);if("custom"===t){var d=s.a.span.withConfig({displayName:"Badge_Custom",componentId:"sc-ncntz4"})(r||(r=Object(o.__makeTemplateObject)(["\n        ","\n      "],["\n        ","\n      "])),i);return l.createElement(d,{className:u},n&&l.createElement("i",{className:"badge__icon fa "+n}),a)}return l.createElement("span",{className:u},n&&l.createElement("i",{className:"badge__icon fa "+n}),a)},t}(l.Component)},1488:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(1443),o=n(55),i=function(t){function n(e){var n=t.call(this,e)||this;n.onMouseUp=function(e){n.state.isExtended&&(document.querySelector(".category-smartlist-filter")!==e.target&&n.onClose())},n.onClose=function(){n.setState({isExtended:!1})},n.onValueClick=function(){n.state.isExtended?n.onClose():n.setState({isExtended:!0})},n.onUpdateCategories=function(e){n.updateCategories(e.tags,!0)},n.updateCategories=function(e,t){var a=e.map((function(e){return e.id})),r=e.length>1?e.length+" tags":e.length>0?e.length+" tag":"Tags";n.setState({tags:e,value:a,displayValue:r},(function(){t&&n.props.onChange(n.state.value)}))},n.addCategory=function(e){if(!n.state.tags.some((function(t){return t.id===e.id}))){var t=Object(a.__assign)({},n.state);t.tags.push(e),n.updateCategories(t.tags,!0)}};var r=e.value?e.value:[],o=r.length>1?r.length+" tags":r.length>0?r.length+" tag":"Tags";return n.state=Object(a.__assign)(Object(a.__assign)({},e),{isExtended:!1,displayValue:o,tags:[]}),n}return Object(a.__extends)(n,t),n.prototype.componentDidMount=function(){document.body.addEventListener("mouseup",this.onMouseUp)},n.prototype.componentWillUnmount=function(){document.body.removeEventListener("mouseup",this.onMouseUp)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.value&&this.setState({value:e.value})},n.prototype.renderValue=function(){var t=this,n=this.state.displayValue||"Tags";return e.createElement("div",{className:"Select-control category-smartlist-filter__control",onClick:function(){return t.onValueClick()},role:"button"},e.createElement("span",{className:"Select-multi-value-wrapper"},e.createElement("div",{className:"Select-value"},e.createElement("span",{className:"Select-value-label"},n))),e.createElement("span",{className:"Select-arrow-zone"},e.createElement("span",{className:"Select-arrow"})))},n.prototype.renderDropout=function(){return e.createElement("div",{className:"Select-menu-outer category-smartlist-filter__dropout"},e.createElement(r.a,{tags:this.state.tags,categoryIds:this.state.value,showCounts:!0,type:this.state.categoryType,onChange:this.onUpdateCategories}))},n.prototype.render=function(){return e.createElement("div",{className:o("Select","Select--single","KaggleSelect","KaggleBoxlessSelectSafe","smart-list__filter","smart-list__filter--boxless","has-value","category-smartlist-filter",{"is-open":this.state.isExtended},{"is-focused":this.state.isExtended})},this.renderValue(),this.state.isExtended&&this.renderDropout())},n}(e.Component)}).call(this,n(0))},1489:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(128),r=n(145),o=n(874),i=n(1),s=n.n(i),l=n(0);const c=1e3,u=s()(r.b)`
  align-self: center;
`,d=s.a.div`
  ${Object(i.primaryBorder)()};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-columns: 1fr auto;
  width: 100%;
`,p=s.a.div`
  align-self: center;
  border-left: 1px solid ${e=>e.theme.colors.border};
  width: fit-content;
`,m=s()(u)`
  overflow: hidden;
  text-overflow: ellipsis;
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(4)};
`;class h extends l.Component{constructor(){super(...arguments),this.state={recentlyCopied:!1},this.onCopy=()=>{const{text:e,onCopy:t}=this.props;t&&t(e),Object(a.b)(e),this.setState({recentlyCopied:!0}),setTimeout(()=>this.setState({recentlyCopied:!1}),c)}}render(){const{text:e,className:t}=this.props,{recentlyCopied:n}=this.state;return l.createElement(d,{className:t},l.createElement(m,{useKM:!0},e),l.createElement(p,null,l.createElement(o.a,{leadingIcon:"content_copy",emphasis:"low",onClick:this.onCopy,disabled:n},n?"Copied":"Copy")))}}},1491:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),r=n(0),o=n(1359);function i(e){return r.createElement(o.a,Object(a.__assign)({banner:r.createElement("span",{className:"fa-stack"},r.createElement("i",{className:"fa fa-circle fa-stack-2x fa-inverse"}),r.createElement("i",{className:"fa fa-user-secret fa-stack-1x"})),tip:"Only visible in development."},e,{shouldRender:!1}))}},1492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=s(r),i=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n.eventListenerOptions=n.eventListenerOptions.bind(n),n.mousewheelListener=n.mousewheelListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){if(this.props.isReverse&&this.loadMore){var e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this.detachMousewheelListener()}},{key:"isPassiveSupported",value:function(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}},{key:"eventListenerOptions",value:function(){var e=this.props.useCapture;return this.isPassiveSupported()&&(e={useCapture:this.props.useCapture,passive:!0}),e}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachMousewheelListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}},{key:"getParentElement",value:function(e){var t=this.props.getScrollParent&&this.props.getScrollParent();return null!=t?t:e&&e.parentNode}},{key:"filterProps",value:function(e){return e}},{key:"attachScrollListener",value:function(){var e=this.getParentElement(this.scrollComponent);if(this.props.hasMore&&e){var t=window;!1===this.props.useWindow&&(t=e),t.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),t.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"mousewheelListener",value:function(e){1!==e.deltaY||this.isPassiveSupported()||e.preventDefault()}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=this.getParentElement(e),a=void 0;if(this.props.useWindow){var r=document.documentElement||document.body.parentNode||document.body,o=void 0!==t.pageYOffset?t.pageYOffset:r.scrollTop;a=this.props.isReverse?o:this.calculateOffset(e,o)}else a=this.props.isReverse?n.scrollTop:e.scrollHeight-n.scrollTop-n.clientHeight;a<Number(this.props.threshold)&&e&&null!==e.offsetParent&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,"function"==typeof this.props.loadMore&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}},{key:"calculateOffset",value:function(e,t){return e?this.calculateTopPosition(e)+(e.offsetHeight-t-window.innerHeight):0}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.filterProps(this.props),n=t.children,a=t.element,r=t.hasMore,i=(t.initialLoad,t.isReverse),s=t.loader,l=(t.loadMore,t.pageStart,t.ref),c=(t.threshold,t.useCapture,t.useWindow,t.getScrollParent,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","ref","threshold","useCapture","useWindow","getScrollParent"]));c.ref=function(t){e.scrollComponent=t,l&&l(t)};var u=[n];return r&&(s?i?u.unshift(s):u.push(s):this.defaultLoader&&(i?u.unshift(this.defaultLoader):u.push(this.defaultLoader))),o.default.createElement(a,c,u)}}]),t}(r.Component);l.propTypes={children:i.default.node.isRequired,element:i.default.node,hasMore:i.default.bool,initialLoad:i.default.bool,isReverse:i.default.bool,loader:i.default.node,loadMore:i.default.func.isRequired,pageStart:i.default.number,ref:i.default.func,getScrollParent:i.default.func,threshold:i.default.number,useCapture:i.default.bool,useWindow:i.default.bool},l.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null},t.default=l,e.exports=t.default},1493:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(1007),u=l.a.div.withConfig({displayName:"TitleWithMedal_Wrapper",componentId:"sc-7amhqi"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n"])),c.g.PadXs,(function(e){return e.isHoveringParent?c.b.TextLinkHover:c.b.TextDark}),c.d.FontSizeM,c.d.FontSizeL,c.d.FontWeightMedium),d=l.a.img.withConfig({displayName:"TitleWithMedal_MedalImg",componentId:"sc-1k98z6g"})(r||(r=Object(i.__makeTemplateObject)(["\n  width: 15px;\n  height: 15px;\n  margin-right: ",";\n"],["\n  width: 15px;\n  height: 15px;\n  margin-right: ",";\n"])),c.g.PadS),p=l.a.span.withConfig({displayName:"TitleWithMedal_TitleText",componentId:"sc-cck92k"})(o||(o=Object(i.__makeTemplateObject)(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])));function m(t){var n=t.medal,a=t.text,r=t.isHoveringParent,o=t.className;return e.createElement(u,{isHoveringParent:r,className:o},n&&e.createElement(d,{src:n.src,alt:n.alt}),e.createElement(p,null,a))}}).call(this,n(0))},1494:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(0),d=n(1173),p=n(876),m=n(1007),h=c.a.div.withConfig({displayName:"TopItem_Wrapper",componentId:"sc-16g3rm2"})(a||(a=Object(s.__makeTemplateObject)([""],[""]))),f=c.a.div.withConfig({displayName:"TopItem_Content",componentId:"sc-1q7u7ta"})(r||(r=Object(s.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: "," ",";\n"],["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: "," ",";\n"])),m.g.PadS,m.g.PadM),g=c()(p.VoteButton).withConfig({displayName:"TopItem_StyledVoteButton",componentId:"sc-3yx5v5"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),m.g.PadM),b=c.a.div.withConfig({displayName:"TopItem_TextWrapper",componentId:"sc-e6gm5l"})(i||(i=Object(s.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-right: ",";\n"],["\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-right: ",";\n"])),(function(e){return e.hasFooter?m.g.PadM:0})),v=function(t){function n(e){var n=t.call(this,e)||this;return n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.mapVoteButtonDtoToProps=function(e){var t=e.voters,a=e.currentUserInfo,r=Object(s.__rest)(e,["voters","currentUserInfo"]),o=t&&t.map((function(e){return n.mapUserDtoToUserCardProps(e)})),i=a&&n.mapUserDtoToUserCardProps(a);return Object(s.__assign)(Object(s.__assign)({},r),{voters:o,currentUserInfo:i})},n.mapUserDtoToUserCardProps=function(e){return{userId:e.id,displayName:e.displayName,avatarThumbnailUrl:e.thumbnailUrl,profileUrl:e.profileUrl}},n.state={isHovering:!1},n}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=t.voteButtonDto,a=t.thumbnail,r=t.title,o=t.subtitle,i=t.href,l=t.footer,c=t.reportItemVisit,p=this.state.isHovering,m=n?e.createElement(g,Object(s.__assign)({},this.mapVoteButtonDtoToProps(n))):null;return e.createElement(h,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement(d.a,{href:i,borderless:!0,onClick:c},e.createElement(f,null,m,a,e.createElement(b,{hasFooter:!!l},Object(u.cloneElement)(r,{isHoveringParent:p}),o),l)))},n}(u.Component)}).call(this,n(0))},1495:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(21);function r(){return a.a.userId?{isAdmin:a.a.isAdmin||!1,displayName:a.a.userDisplayName,id:a.a.userId,thumbnailUrl:a.a.userThumbnailUrl,tier:(a.a.tier||"").toLowerCase(),userUrl:a.a.userProfileUrl}:null}},1502:function(e,t,n){"use strict";var a=n(145),r=n(1),o=n.n(r),i=n(251),s=n(0),l=n(1025),c=n(1335),u=n(1334),d=n(1336);var p=n(1242);var m=n(988),h=n(108),f=n(1154);const g=s.memo(e=>{const t=s.useContext(l.a),{parentItem:n,source:a,count:r,totalCount:o,isLoadingMore:i}=e,c=o-r;return s.createElement(f.d,{role:"button",onClick:()=>{t.dispatchAsync({type:"loadMoreChildren",item:n,source:a})}},s.createElement(f.f,{selected:!1}),s.createElement(f.a,{selected:!1},i?s.createElement(m.a,{size:f.c}):s.createElement(h.a,{icon:"more_horiz",size:f.c})),s.createElement(f.g,{tip:"Click here to load more items"},s.createElement(f.e,{selected:!1},c," more")))});var b=n(1141),v=n(128),y=n(252),E=n(1449),w=n(1019),x=n(885),C=n(884),k=n(260),S=n(6),_=n(1048);const O=s.memo(e=>{const t=s.useContext(l.a),n=[{icon:"open_in_new",text:"Open in new tab",callback:()=>{if("dataSource"===e.dataObject.type){const t=e.dataObject;Object(_.g)(t.sourceUrl,!0)}}},{icon:"delete",text:"Remove",callback:()=>{var n;const a=null===(n=null==t?void 0:t.externalCallbacks)||void 0===n?void 0:n.onRemoveDataSource;if(a&&"dataSource"===e.dataObject.type){a(e.dataObject)}}}];S.n.datasetsDataExplorerV3CheckForUpdates&&n.splice(1,0,{icon:"cached",text:"Check for updates",callback:()=>{var n;const a=null===(n=null==t?void 0:t.externalCallbacks)||void 0===n?void 0:n.onCheckDataSourceUpdates;if(a&&"dataSource"===e.dataObject.type){a(e.dataObject)}}});const a=[{icon:"cloud_download",text:"Download",callback:()=>{var n,a;"notebookOutput"===e.dataSource.sourceType&&"file"===e.dataObject.type&&(null===(n=t.externalCallbacks)||void 0===n?void 0:n.onDownloadOutputFile)?null===(a=t.externalCallbacks)||void 0===a||a.onDownloadOutputFile(e.dataObject):t.dispatchAsync({type:"downloadObject",item:e.dataObject,source:e.dataSource})}}],r="file"===e.dataObject.type?a:n;return s.createElement(x.a,null,s.createElement(C.a,{open:e.isOpen,onClose:e.onClose,onSelect:e=>{const t=r[e.detail.index];t.callback&&t.callback()},anchorCorner:"topRight",fixed:!1},r.map(e=>s.createElement(k.a,{key:e.text,icon:e.icon,disabled:e.disabled},e.text))))}),T=o.a.div`
  display: flex;
`,j=o.a.div`
  display: flex;
  flex: 0 0 auto;
`,I=o.a.div`
  height: 16px;
  width: 16px;
  margin-left: ${e=>e.theme.material.spacing(2)};
  color: ${e=>w.a[e.theme.name].textLow};

  &:hover {
    color: ${e=>w.a[e.theme.name].textHigh};
  }
`,D=o.a.span`
  color: ${e=>w.a[e.theme.name].textHigh};
`,N=["databundle","databundleVersion","dataSource"],M=e=>{var t;const n=s.useContext(l.a),[a,r]=s.useState(!1),[o,i]=s.useState(!1);s.useEffect(()=>{o&&setTimeout(()=>i(!1),1e3)},[o]);const c="dataSource"===e.dataObject.type&&"utilityScript"===e.dataObject.sourceType,u="notebookOutput"===e.dataSource.sourceType&&"file"===e.dataObject.type,d=N.includes(e.dataObject.type)||u;return s.createElement(T,null,o&&s.createElement(D,null,"Copied"),s.createElement(j,null,!c&&s.createElement(y.Tooltip,{tip:"Copy file path"},s.createElement(I,{role:"button",onClick:t=>{const n=Object(E.a)(e.dataObject,e.dataSource);Object(v.b)(n),i(!0),t.stopPropagation()}},s.createElement(h.a,{icon:"content_copy",size:f.c}))),d&&s.createElement(y.Tooltip,{tip:"More actions"},s.createElement(I,{role:"button",onClick:e=>{r(!0),e.stopPropagation()}},s.createElement(h.a,{icon:"more_vert",size:f.c})))),"directory"===e.dataObject.type&&"notebookOutput"===e.dataSource.sourceType&&"notebook"===n.reference.type&&n.reference.isEditor&&(null===(t=n.externalCallbacks)||void 0===t?void 0:t.onLoadOutputDirectory)&&s.createElement(y.Tooltip,{tip:"Refresh directory contents"},s.createElement(I,{role:"button",onClick:t=>{var a,r;(null===(a=n.externalCallbacks)||void 0===a?void 0:a.onLoadOutputDirectory)&&(null===(r=n.externalCallbacks)||void 0===r||r.onLoadOutputDirectory(e.dataObject)),t.stopPropagation()}},s.createElement(h.a,{icon:"sync",size:f.c}))),d&&s.createElement(O,{isOpen:a,dataObject:e.dataObject,dataSource:e.dataSource,onClose:()=>r(!1)}))},F=o.a.div`
  display: flex;
`,P=o()(f.i)`
  ${j} {
    display: none;
  }

  &:hover ${j}, &:focus ${j} {
    display: flex;
  }
`,L=o.a.div`
  display: flex;
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,A=o()(h.a)`
  color: ${e=>e.theme.colors.kaggle.red};
  margin-left: 4px;
  margin-top: 4px;
  vertical-align: text-bottom;
`,R=s.memo(e=>{const t=s.useContext(l.a),n=s.useContext(l.b),{item:a,source:r,selected:o,expanded:i,showNavIndentation:u,databundleVersionType:d,labelItemsBySlug:p,enableContextMenu:g,showRefreshAvailable:v}=e,{reference:y}=t,E=Object(c.a)(a),w="expanded"===i?s.createElement(h.a,{icon:"arrow_drop_down",size:f.c}):"loading"===i?s.createElement(m.a,{size:f.c}):s.createElement(h.a,{icon:"arrow_right",size:f.c}),x=Object(b.b)(a),C="notebook"!==y.type?Object(b.c)(d,"xxsmall",b.a):void 0,k=U(a,p);return s.createElement(P,{role:"button",selected:o,onClick:e=>{t.dispatch({type:"select",newItem:a,selectionContainer:n,updateUrl:!0}),e.stopPropagation()}},u&&s.createElement(f.f,{selected:o,onClick:e=>{t.dispatch({type:"expand",item:a,source:r}),e.stopPropagation()}},E&&w),s.createElement(f.a,{selected:o},x,C&&s.createElement(f.h,null,C)),s.createElement(L,null,s.createElement(f.g,{tip:a.name},s.createElement(f.e,{selected:o},k)),v&&s.createElement(A,{icon:"circle",size:"xxsmall",onClick:()=>{var n,a;(null===(n=t.externalCallbacks)||void 0===n?void 0:n.onCheckDataSourceUpdates)&&(null===(a=t.externalCallbacks)||void 0===a||a.onCheckDataSourceUpdates(e.source))}})),g&&s.createElement(F,null,s.createElement(M,{dataObject:a,dataSource:r})))}),U=(e,t)=>t&&"dataSource"===e.type?e.slug:e.name,z=o()(a.b)`
  margin-left: ${e=>e.theme.material.spacing(1)};
`.withComponent("span"),$=e=>s.createElement(f.i,{selected:!1},s.createElement(f.a,{selected:!1},s.createElement(h.a,{icon:e.icon,size:f.c})),s.createElement(f.e,{selected:!1},e.text,e.size&&s.createElement(z,{emphasis:"low"},"(",i(e.size),")")));n.d(t,"a",(function(){return Y}));const B=o.a.div``,V=o.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,H=o()(a.p)``,W=o()(a.u)`
  margin-top: ${e=>e.theme.material.spacing(2)};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
`,q=o.a.ul`
  list-style-type: none;
  margin-right: ${e=>e.theme.material.spacing(1)};
  padding: 0;
`,K=o.a.ul`
  list-style-type: none;
  margin-left: ${e=>e.theme.material.spacing(f.b)};
  padding: 0;
`,G=o.a.ul``,Y=e=>{var t,n;const{hideHeader:a,hideSize:r,labelItemsBySlug:o,enableContextMenu:c,rootLabel:d,headerLabel:m}=e,h=s.useContext(l.a),f=s.useContext(l.b),{dataSources:g,expanded:b}=h,{selectedObject:v,selectedSource:y}=f,E=null===(n=null===(t=null==y?void 0:y.databundleVersion)||void 0===t?void 0:t.databundleVersionInfo)||void 0===n?void 0:n.databundleVersionType,w=((e,t)=>{const{reference:n,dataSources:a}=e,{selectedSource:r}=t;switch(n.type){case"dataset":case"competition":return r?Object(u.a)(r.databundleVersion).map(e=>({item:e,source:r})):[];case"notebook":return 1!==a.length||"notebookOutput"!==a[0].sourceType&&("utilityScript"!==a[0].sourceType||n.isEditor)?a.map(e=>({item:e,source:e})):Object(u.a)(a[0].databundleVersion).map(e=>({item:e,source:a[0]}))}})(h,f),x=((e,t)=>{const{reference:n,dataSources:a}=e,{selectedSource:r}=t;switch(n.type){case"dataset":case"competition":return r?Object(p.a)(r.databundleVersion):0;case"notebook":return a.length}})(h,f),C=!y||"dataset"!==h.reference.type&&"competition"!==h.reference.type?void 0:{item:y,source:y},k=(e=>{const{dataSources:t}=e;return t.map(e=>{var t,n;return(null===(n=null===(t=e.databundleVersion)||void 0===t?void 0:t.filesetInfo)||void 0===n?void 0:n.totalSize)||0}).reduce((e,t)=>e+t,0)})(h),S=k>0&&!(!0===r),_=1===g.length&&("utilityScript"===g[0].sourceType||"notebook"===h.reference.type&&h.reference.isEditor&&"notebookOutput"===g[0].sourceType);return s.createElement(B,null,!a&&s.createElement(V,null,s.createElement(H,null,m||"Data Explorer"),S&&s.createElement(W,{emphasis:"low"},i(k))),d&&s.createElement($,{icon:"folder",text:d,size:a&&S?k:void 0}),Z(w,x,b,v,!0,_,Boolean(o),Boolean(c),C,E))},Z=(e,t,n,a,r,o,i,l,m,h)=>{const f=e.some(e=>Object(c.a)(e.item)),b=e.map(e=>{var t;const c=void 0!==a&&a.path===e.item.path,m=Object(d.a)(e.item,n),g="expanded"===m||"loadingMore"===m,b=g?Object(u.a)(e.item).map(t=>({item:t,source:Object.assign(Object.assign({},e.source),{refreshAvailable:void 0})})):void 0,v=g?Object(p.a)(e.item):0;return s.createElement(G,{key:e.item.path},s.createElement(R,{item:e.item,source:e.source,selected:c,expanded:m,showNavIndentation:f||!r||o,databundleVersionType:h,labelItemsBySlug:i,enableContextMenu:l,showRefreshAvailable:null!==(t=e.source.refreshAvailable)&&void 0!==t&&t}),b&&Z(b,v,n,a,!1,!1,i,l,e,h))}),v=!!m&&"loadingMore"===Object(d.a)(m.item,n),y=m&&e.length<t?[...b,s.createElement(g,{key:"more",count:e.length,totalCount:t,parentItem:m.item,source:m.source,isLoadingMore:v})]:b;return r?s.createElement(q,null,y):s.createElement(K,null,y)}},1503:function(e,t,n){"use strict";var a=n(108),r=n(874),o=n(252),i=n(1),s=n.n(i),l=n(1366),c=n(0),u=n(1025),d=n(1019),p=n(1048),m=n(1054),h=n(145),f=n(122),g=n(1010),b=n(1337),v=n(1141),y=n(1154);const E=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,w=s.a.div`
  display: flex;
  margin: ${e=>e.theme.material.spacing(1)} 0;
  cursor: ${e=>e.onClick?"pointer":"initial"};
`,x=s()(h.b)`
  flex: 0 0 auto;
  color: ${e=>d.a[e.theme.name].text};
`,C=s()(h.b)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: ${e=>d.a[e.theme.name].text};
  margin-left: ${e=>e.theme.material.spacing(2)};
`,k=s()(h.b)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,S=s()(a.a)`
  flex: 0 0 auto;
`,_=e=>{const t=c.useContext(i.ThemeContext),{title:n,totalCount:a,titleIcon:r,items:o}=e;if(0===o.length)return null;const[s,l]=c.useState(!0),u=c.createElement(S,{size:"xsmall",icon:s?"arrow_right":"arrow_drop_down",color:d.a[t.name].text}),p=o.length>3?o.slice(0,3):o,m=o.length>p.length?a-p.reduce((e,t)=>e+t.count,0):void 0;return c.createElement(E,null,c.createElement(w,{key:"title",onClick:()=>l(!s)},c.createElement(y.f,{selected:!1},u),c.createElement(y.a,{selected:!1},r),c.createElement(k,{emphasis:"low"},n)),!s&&c.createElement(c.Fragment,null,p.map((e,t)=>c.createElement(w,{key:`summary-item-${t}`},c.createElement(y.f,{selected:!1}),c.createElement(y.a,{selected:!1},e.icon),c.createElement(C,{key:e.label},e.label),c.createElement(x,null,Object(g.i)(e.count)))),m&&c.createElement(w,null,c.createElement(y.f,{selected:!1}),c.createElement(y.a,{selected:!1}),c.createElement(C,{key:"other"},"Other"),c.createElement(x,null,Object(g.i)(m)))))},O=s()(h.p)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,T=e=>{const{databundleVersion:{fileSummaryInfo:t,columnSummaryInfo:n}}=e;return c.createElement(c.Fragment,null,c.createElement(O,null,"Summary"),t&&t.fileTypes.length>0&&c.createElement(_,{title:`${Object(g.i)(t.totalFileCount)} ${f("file",t.totalFileCount)}`,totalCount:t.totalFileCount,titleIcon:c.createElement(a.a,{icon:"folder",size:"xsmall"}),items:t.fileTypes.map(e=>({count:e.fileCount,label:e.extension,icon:Object(v.e)(e.extension,"xsmall")}))}),n&&n.columnTypes.length>0&&c.createElement(_,{title:`${Object(g.i)(n.totalColumnCount)} ${f("column",n.totalColumnCount)}`,totalCount:n.totalColumnCount,titleIcon:c.createElement(a.a,{icon:"calendar_view_week",size:"xsmall"}),items:n.columnTypes.map(e=>({count:e.columnCount,label:e.columnType||"unknown",icon:c.createElement(a.a,{icon:Object(b.a)(j(e.columnType)),size:"xsmall"})}))}))},j=e=>{if(!e)return{columnType:"unknown",columnExtendedType:null};const t=e.toLowerCase();return{columnExtendedType:t,columnType:t||"unknown"}};var I=n(1502);n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return N})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return L})),n.d(t,"c",(function(){return A}));const D=(e,t)=>e?"0px":t?"326px":"226px",N=s.a.div`
  display: flex;
  flex-direction: column;
  max-height: ${e=>Object(m.b)(e.mobile,e.maximized)};
  margin: 0 ${e=>e.left?e.theme.material.spacing(4):e.theme.material.spacing(2)} 0
    ${e=>e.collapsed||e.left?"0":e.theme.material.spacing(4)};
  width: ${e=>D(e.collapsed,e.maximized)};
  min-width: ${e=>D(e.collapsed,e.maximized)};
  max-width: ${e=>D(e.collapsed,e.maximized)};
  background-color: ${e=>d.a[e.theme.name].background};
  box-sizing: border-box;
  transition: width 0.2s;

  ${e=>e.mobile&&`\n    position: relative;\n    transition: transform 0.2s;\n    margin: 0;\n    z-index: ${e.theme.zindex[100]};\n    border-radius: 0;\n    border-left: 1px solid ${d.a[e.theme.name].border};\n    border-right: 1px solid ${d.a[e.theme.name].border};\n  `}
  ${e=>e.mobile&&!e.collapsed&&`\n    transform: translateX(calc(-100% - 1px));\n    padding: ${e.theme.material.spacing(4)};\n    box-shadow: -3px 0 5px ${d.a[e.theme.name].shadow};\n  `}
  ${e=>e.mobile&&e.collapsed&&"\n    transform: translateX(0%);\n    padding: 0;\n  "}
`,M=s.a.div`
  flex: 1 1 auto;
  border-bottom: 1px solid ${e=>d.a[e.theme.name].border};
  max-height: fit-content;
  min-height: ${"48px"};
  overflow-x: hidden;
  overflow-y: auto;
  padding-bottom: ${e=>e.theme.material.spacing(6)};
  position: relative;

  ${e=>Object(m.a)(e)}
`,F=s.a.div`
  position: absolute;
  top: ${e=>e.theme.material.spacing(4)};
  right: ${e=>e.theme.material.spacing(4)};
  cursor: pointer;
`,P=s.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${e=>d.a[e.theme.name].border};
  padding-top: ${e=>e.theme.material.spacing(6)};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
`,L=s.a.div`
  flex: 0 0 auto;
  padding-top: ${e=>e.theme.material.spacing(6)};
  padding-bottom: ${e=>e.theme.material.spacing(6)};
`,A=e=>{var t,n,s,m,h;const f=c.useContext(u.a),g=c.useContext(u.b),b=c.useContext(i.ThemeContext),v=Object(l.a)(i.BreakpointDown.XS),{reference:y,dataSources:E,uxSettings:w,externalCallbacks:x,dispatch:C}=f,{selectedSource:k}=g,{maximized:S,treeCollapsed:_}=w,{treeOnLeft:O}=e,j=null===(n=null===(t=null==k?void 0:k.databundleVersion)||void 0===t?void 0:t.databundleVersionInfo)||void 0===n?void 0:n.databundleVersionType,D=void 0!==(null===(m=null===(s=null==k?void 0:k.databundleVersion)||void 0===s?void 0:s.fileSummaryInfo)||void 0===m?void 0:m.fileTypes)||void 0!==(null===(h=null==k?void 0:k.databundleVersion)||void 0===h?void 0:h.columnSummaryInfo),A=void 0!==(null==x?void 0:x.onDownloadAll),R=(null==x?void 0:x.onCreateVersion)&&("competition"===y.type||"dataset"===y.type),U=R&&(null==x?void 0:x.onUpdateVersion)&&("remoteGitRepositoryFileSet"===j||"remoteUrlFileSet"===j||"gcsFileSet"===j),z=A||R||U;return Object(p.j)("Escape",()=>{S&&C({type:"maximize",maximized:!1})}),c.createElement(N,{collapsed:_,maximized:S,mobile:v,left:O},!_&&c.createElement(c.Fragment,null,c.createElement(M,null,c.createElement(I.a,null)),v&&c.createElement(F,null,c.createElement(o.Tooltip,{tip:_?"Show tree":"Hide tree"},c.createElement(a.a,{icon:_?"chevron_left":"chevron_right",size:"xsmall",color:d.a[b.name].text70,onClick:()=>C({type:"collapseTree",collapsed:!_})}))),D&&("competition"===y.type||"dataset"===y.type)&&1===E.length&&(null==k?void 0:k.databundleVersion)&&c.createElement(P,null,c.createElement(T,{databundleVersion:k.databundleVersion})),z&&c.createElement(L,null,A&&c.createElement(r.a,{style:{marginBottom:"8px"},leadingIcon:"get_app",onClick:null==x?void 0:x.onDownloadAll},"Download All"),R&&c.createElement(r.a,{style:{marginBottom:"8px"},emphasis:"medium",leadingIcon:"add",onClick:null==x?void 0:x.onCreateVersion},"New Version"),U&&c.createElement(r.a,{style:{marginBottom:"8px"},emphasis:"medium",leadingIcon:"refresh",onClick:null==x?void 0:x.onUpdateVersion},"Update"))))}},1504:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a,r=n(2),o=n(1),i=n.n(o).a.span.withConfig({displayName:"Hint_HintView",componentId:"sc-14tk452"})(a||(a=Object(r.__makeTemplateObject)(["\n  color: #a8a8a8;\n\n  font-size: 0.8rem;\n  padding: 4px 0;\n\n  & i {\n    color: #e19337;\n    margin-right: 8px;\n  }\n"],["\n  color: #a8a8a8;\n\n  font-size: 0.8rem;\n  padding: 4px 0;\n\n  & i {\n    color: #e19337;\n    margin-right: 8px;\n  }\n"]))),s=function(t){return t.hide?null:e.createElement(i,{style:t.style},e.createElement("i",{className:"fa fa-info-circle"}),t.children)}}).call(this,n(0))},1522:function(e,t,n){"use strict";var a=n(145),r=n(108),o=n(252),i=n(6),s=n(1),l=n.n(s),c=n(1366),u=n(0),d=n.n(u),p=n(1025),m=n(1131);var h=n(251),f=n(1010);const g=(e,t)=>{var n,a,r,o,i;if(e)switch(e.type){case"file":return h(e.fileInfo.size);case"directory":const s=e,l=(null===(a=null===(n=s.directoryInfo)||void 0===n?void 0:n.directories)||void 0===a?void 0:a.totalChildren)||0,c=(null===(o=null===(r=s.directoryInfo)||void 0===r?void 0:r.files)||void 0===o?void 0:o.totalChildren)||0;return l>0&&c>0?`${Object(f.i)(l)} directories, ${Object(f.i)(c)} files`:c>0?`${Object(f.i)(c)} files`:l>0?`${Object(f.i)(l)} directories`:!0===t?"empty":void 0;case"table":const u=e;if(null===(i=u.tableInfo)||void 0===i?void 0:i.totalRows)return`${Object(f.i)(u.tableInfo.totalRows)} rows`}};var b=n(1385);var v=n(1346),y=n(1338),E=n(1019),w=n(1390),x=n(1339),C=n(1054),k=n(1026);const S=l()(k.j)`
  display: flex;
`,_=l.a.audio`
  flex: 1 1 auto;
  max-width: 100%;
  max-height: 100%;
  margin: ${e=>e.theme.material.spacing(6)};
`,O=u.memo(e=>{const{data:t,maximized:n}=e;return u.createElement(S,{maximized:n},u.createElement(_,{src:t.url,controls:!0,autoPlay:!1,"data-testid":"preview-audio"},"Your browser does not support the audio player."))});var T=n(874),j=n(1132);const I=l()(T.a)`
  margin-left: ${e=>e.theme.material.spacing(6)};
`,D=u.memo(e=>{const{reference:t,dataSources:n,selectedObject:a,selectedSource:r,userSettings:o}=e,[i,s]=u.useState(!1),[l,c]=u.useState(!1),[d,p]=u.useState(0);return u.useEffect(()=>{s(!1);const e=n.filter(e=>"competition"===e.sourceType);"notebook"===t.type&&"file"===(null==a?void 0:a.type)&&"notebookOutput"===(null==r?void 0:r.sourceType)&&e.length>=1&&o.userId&&o.canEdit&&(s(!0),p(e[0].sourceId))},[n,t,a]),i?u.createElement(u.Fragment,null,u.createElement(I,{onClick:()=>c(!0)},"Submit"),o.userId&&d&&u.createElement(j.a,{competitionId:d,userId:o.userId,kernelId:"notebook"===t.type?t.id:void 0,kernelRunId:"notebook"===t.type?t.kernelRunId:void 0,fileName:null==a?void 0:a.relativeUrl,shouldShow:l,onHide:()=>c(!1),client:"data-viewer-file"})):null});var N=n(891),M=n(1040),F=n(1141);const P=l.a.div`
  flex: 1 1 auto;
  margin: ${e=>e.theme.material.spacing(6)};
  overflow: auto;
  ${e=>Object(C.a)(e)}
`,L=l.a.div`
  display: flex;
`,A=l.a.img`
  flex: 0 0 auto;
  height: 68px;
  width: 68px;
  margin-right: ${e=>e.theme.material.spacing(4)};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
`,R=l.a.div`
  flex: 0 0 auto;
  height: 68px;
  width: 68px;
  margin-right: ${e=>e.theme.material.spacing(4)};
  display: flex;
  align-items: center;
`,U=l.a.div`
  flex: 1 1 auto;
  overflow-x: hidden;
`,z=l()(a.o)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;

  &:hover {
    color: ${e=>E.a[e.theme.name].blueHover};
  }
`,$=l()(a.u)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,B=l()(a.b)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,V=l.a.a`
  text-decoration: none;
`,H=l()(a.u)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,W=l()(a.b)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,q=l()(a.b.withComponent("div"))`
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: ${"400px"};
  overflow-x: hidden;
  overflow-y: auto;

  ${e=>Object(C.a)(e,2)}
`,K=l()(r.a)`
  margin-left: ${e=>e.left?0:e.theme.material.spacing(2)};
  margin-right: ${e=>e.left?e.theme.material.spacing(2):0};
  cursor: pointer;
`,G=u.memo(e=>{const t=u.useContext(p.a),n=u.useContext(s.ThemeContext),a=Object(c.a)(s.BreakpointDown.XS),{reference:r,uxSettings:i,dispatch:l}=t,{treeCollapsed:d}=i,{dataSource:m,treeOnLeft:h}=e,{name:f,subtitle:g,description:b,imageUrl:v,sourceUrl:y,lastUpdated:w,versionNumber:x,sourceType:C,state:k}=m,S=w&&x?u.createElement(u.Fragment,null,"Last Updated: ",u.createElement(N.a,{time:w})," (Version ",x,")"):w?u.createElement(u.Fragment,null,"Last Updated: ",u.createElement(N.a,{time:w})):x?u.createElement(u.Fragment,null,"Version ",x):void 0,_="competition"===C?"Competition":"dataset"===C?"Dataset":"notebook"===C?"Notebook":"utilityScript"===C?"Script":"Data",O="deleted"===k?"This data has been deleted.":"privateButVisible"===k?"This data is private, you have access to it.":"private"===k?"This data is private.":void 0,T="dataset"===m.sourceType||"competition"===m.sourceType,j="notebook"!==r.type||a?u.createElement(o.Tooltip,{tip:d?"Show tree":"Hide tree"},u.createElement(K,{icon:d?h?"chevron_right":"chevron_left":h?"chevron_left":"chevron_right",size:"medium",left:h||!1,color:E.a[n.name].text70,onClick:()=>l({type:"collapseTree",collapsed:!d})})):null;return u.createElement(P,null,u.createElement(L,null,T?u.createElement(A,{src:v}):u.createElement(R,null,Object(F.b)(m,"xlarge")),u.createElement(U,null,u.createElement(V,{href:y,target:"_blank",rel:"noopener"},u.createElement(z,{emphasis:"high"},f)),g&&u.createElement($,{emphasis:"medium"},g),S&&u.createElement(B,{emphasis:"low"},S)),j),O&&u.createElement(W,{emphasis:"low"},O),b&&u.createElement(u.Fragment,null,u.createElement(H,null,"About this ",_),u.createElement(q,null,u.createElement(M.a.Consumer,null,e=>e(b)))))});var Y=n(249),Z=n(1183);const Q=l.a.div`
  display: flex;
`,X=l()(a.u)`
  flex: 1 1 auto;
`,J=l()(Y.a)`
  flex: 0 0 auto;
  margin: -${e=>e.theme.material.spacing(4)};
`,ee=l()(a.e)`
  margin-top: ${e=>e.theme.material.spacing(2)};
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,te=l()(a.b.withComponent("div"))`
  margin-top: ${e=>e.theme.material.spacing(4)};
`,ne=l()(te)`
  overflow-y: auto;
  overflow-x: hidden;
  ${e=>Object(C.a)(e)};
`,ae=l()(a.v)`
  margin-left: ${e=>e.theme.material.spacing(1)};
`,re=e=>{const t=u.useContext(s.ThemeContext),{item:n,canEdit:a,isEdit:r,description:o,remoteUrl:i,onDescriptionChange:l,onToggleEdit:c}=e;return u.createElement(u.Fragment,null,u.createElement(Q,null,u.createElement(X,null,"About this ",oe(n)),a&&u.createElement(J,{icon:"create",size:"small",color:E.a[t.name].textHigh,onClick:c})),i&&u.createElement(ee,{emphasis:"medium"},"Remote source:",u.createElement(ae,{href:i,target:"_blank",rel:"noopener"},i)),r&&u.createElement(ne,null,u.createElement(Z.a.Consumer,null,e=>e(o,e=>l(e),t.material.spacing(28)))),!r&&u.createElement(te,null,u.createElement(M.a.Consumer,null,e=>e(o||"This file does not have a description yet."))))},oe=e=>{switch(e.type){case"file":return"file";case"table":return"table";case"directory":return"directory";case"tableColumn":return"column";case"dataSource":case"databundle":case"databundleVersion":return"data source";default:return"item"}},ie=l.a.div`
  border-top: 1px solid ${e=>E.a[e.theme.name].border};
`,se=l.a.div`
  flex: 0 0 auto;
  border-top: 1px solid ${e=>E.a[e.theme.name].border};
  border-bottom: 1px solid ${e=>E.a[e.theme.name].border};
  background-color: ${e=>e.isEdit?E.a[e.theme.name].background:E.a[e.theme.name].backgroundAlt};
  max-height: ${e=>e.isEdit?"332px":k.e};
  overflow-y: auto;
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
  ${e=>Object(C.a)(e)};
`,le=l.a.div`
  display: flex;
  justify-content: flex-end;
  margin-top: ${e=>e.theme.material.spacing(4)};
`,ce=l()(T.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,ue=e=>{const{item:t,remoteUrl:n,canEdit:a,onSave:r}=e,[o,i]=u.useState(!1),[s,l]=u.useState(t.description||"");return t.description||a?u.createElement(se,{isEdit:o},u.createElement(re,{canEdit:a,description:s,isEdit:o,item:t,remoteUrl:n,onDescriptionChange:l,onToggleEdit:()=>{i(!o),l(t.description||"")}}),o&&u.createElement(le,null,u.createElement(ce,{emphasis:"medium",onClick:()=>{i(!1),l(t.description||"")}},"Cancel"),u.createElement(ce,{onClick:()=>{i(!1),r(s)}},"Save"))):u.createElement(ie,null)},de=l.a.div`
  border: 1px solid ${e=>E.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  cursor: pointer;
  position: relative;
  height: 140px;
  overflow: hidden;
  margin: ${e=>e.theme.material.spacing(2)};
  padding: 0;
  width: 160px;
`,pe=l.a.div`
  background: ${e=>E.a[e.theme.name].backgroundTransparent};
  bottom: 0;
  left: 0;
  right: 0;
  padding: ${e=>e.theme.material.spacing(2)};
  position: absolute;
`,me=l.a.div`
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 80%;
`,he=l()(a.c)`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,fe=l()(a.e)`
  color: ${e=>E.a[e.theme.name].textHigh};
  margin-top: ${e=>e.theme.material.spacing(1)};
`,ge=l.a.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
`,be=u.memo(e=>{var t,n;const a=u.useContext(s.ThemeContext),{object:r,preview:o,onClick:l}=e,c=o&&"success"===o.type&&(null===(t=o.data.dataUrl)||void 0===t?void 0:t.url)&&qr(o.data.dataUrl.type)===i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE?u.createElement(ge,{src:null===(n=o.data.dataUrl)||void 0===n?void 0:n.url}):u.createElement(me,null,Object(F.b)(r,"xlarge",E.a[a.name].textLow)),d=g(r,!0);return u.createElement(de,{key:r.name,onClick:l?()=>l():void 0},c,u.createElement(pe,null,u.createElement(he,null,r.name),d&&u.createElement(fe,null,d)))}),ve=l.a.div`
  flex: 1 1 auto;
  overflow: auto;
  ${e=>Object(C.a)(e)}
`,ye=l.a.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: start;
  padding: ${e=>e.theme.material.spacing(2)};
`,Ee=l()(a.b)`
  margin: ${e=>e.theme.material.spacing(6)};
`,we=l.a.div`
  margin: 0 ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(4)} ${e=>e.theme.material.spacing(4)};
`,xe=l.a.a`
  margin-left: ${e=>e.theme.material.spacing(1)};
  cursor: pointer;
  text-decoration: underline;
`,Ce=e=>{const{directory:t,source:n}=e,r=u.useContext(p.a),o=u.useContext(p.b),{previewCache:i,dispatch:s,dispatchAsync:l}=r,c=t.directoryInfo.directories.totalChildren+t.directoryInfo.files.totalChildren,d=t.directoryInfo.directories.count+t.directoryInfo.files.count;return u.useEffect(()=>{t.directoryInfo.files.children.forEach(e=>{const t=Object(v.a)(e,void 0,void 0),a=Object(y.a)(t,i),r=Object(F.d)(e.name);"noPreview"===a.type&&Object(F.f)(r)&&l({type:"loadPreview",item:e,source:n})})},[t.directoryInfo.files.children]),c>0&&0===d?u.createElement(x.a,null):0===c?u.createElement(ve,null,u.createElement(Ee,null,"This directory is empty.")):u.createElement(ve,null,u.createElement(ye,null,t.directoryInfo.directories.children.map(e=>u.createElement(be,{key:e.name,object:e,onClick:()=>s({type:"select",newItem:e,selectionContainer:o,updateUrl:!0})})),t.directoryInfo.files.children.map(e=>{const t=Object(v.a)(e,void 0,void 0),n=Object(y.a)(t,i);return u.createElement(be,{key:e.name,object:e,preview:n,onClick:()=>s({type:"select",newItem:e,selectionContainer:o,updateUrl:!0})})})),d<c&&u.createElement(we,null,u.createElement(a.e,{emphasis:"low"},"This preview shows ",d," out of ",c," items.",u.createElement(xe,{onClick:()=>l({type:"loadMoreChildren",item:t,source:n})},"Load more"))))},ke=l.a.img`
  flex: 1 1 auto;
  max-width: 100%;
  max-height: 100%;
  object-fit: scale-down;
`,Se=u.memo(e=>{const{data:t,maximized:n}=e;return u.createElement(k.j,{maximized:n},u.createElement(ke,{src:t.url,"data-testid":"preview-image"}))});var _e=n(1433);const Oe=l.a.div`
  flex: 1 1 auto;
  padding: ${e=>e.theme.material.spacing(4)};
`,Te=l()(a.b.withComponent("div"))``,je=u.memo(e=>{const{data:t,item:n,source:a,maximized:r}=e,o=t.totalBytes>t.previewBytes;return u.createElement(k.j,{maximized:r},o&&u.createElement(_e.a,{message:Rr,item:n,source:a}),u.createElement(Oe,null,u.createElement(Te,null,u.createElement(M.a.Consumer,null,e=>e(t.data)))))}),Ie=l()(k.j)`
  display: flex;
`,De=l.a.iframe`
  flex: 1 1 auto;
  min-height: 400px;
  max-width: 100%;
  max-height: 100%;
  object-fit: scale-down;
`,Ne=u.memo(e=>{const{data:t,maximized:n}=e;return u.createElement(Ie,{maximized:n},u.createElement(De,{src:t.url,"data-testid":"preview-pdf"}))});var Me=n(1489),Fe=n(1449),Pe=n(348),Le=n(1352),Ae=n(912),Re=n(1005),Ue=n(991);n(125);const ze=l()(Ue.b)``,$e=e=>{const{children:t}=e;return u.createElement(ze,null,t)};var Be=n(1048);const Ve=l.a.div`
  background: ${e=>E.a[e.theme.name].background};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  border: 1px solid ${e=>E.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(1)};
  padding: ${e=>e.theme.material.spacing(3)};
  position: absolute;
  right: 0;
  top: ${e=>e.theme.material.spacing(8)};
  width: 350px;
  z-index: ${e=>e.theme.zindex[1e3]};
`,He=l.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,We=l.a.div`
  display: flex;
  width: fit-content;
  align-items: center;
  cursor: pointer;
`,qe=l.a.div`
  align-items: center;
  margin-left: ${e=>e.theme.material.spacing(4)};
`,Ke=l.a.div`
  white-space: nowrap;
  overflow: hidden;
`,Ge=l()(Pe.a)`
  overflow: scroll;
  height: fit-content;
  max-height: ${"180px"};

  ${e=>Object(C.a)(e)}
`,Ye=l()(Le.a)``,Ze=l.a.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
`,Qe=l()(T.a)`
  margin-left: ${e=>e.theme.material.spacing(4)};
`,Xe=l()(Ae.a)`
  &.mdc-list-item {
    padding: 0;
  }
`,Je=l.a.div`
  align-items: center;
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(2)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,et=l.a.div`
  align-items: center;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,tt=l()(r.a)`
  color: ${e=>E.a[e.theme.name].blueSelected};
  margin-left: ${e=>e.theme.material.spacing(2)};
`,nt=u.memo(e=>{const t=u.useContext(p.a),n=u.useContext(p.b),{dispatch:a}=t,{existingSelectedColumnPaths:r,columnBaseInfo:o,parentRef:i,onClose:s}=e,[l,c]=u.useState(""),[d,m]=u.useState(r);u.useEffect(()=>{c(""),m(r)},[e]);const h=d.length,f=o.length,g=o.filter(e=>e.name.includes(l)).sort((e,t)=>e.order-t.order).map(e=>Object.assign(Object.assign({},e),{selected:d.includes(e.firestorePath)})),b=u.useRef(null),v=i?[b,i]:[b];return Object(Be.e)(v,s),Object(Be.j)("Escape",s),u.createElement(Ve,{ref:b},u.createElement(Ye,{onChange:e=>c(e.currentTarget.value),value:l,trailingIcon:"search"}),u.createElement(He,null,u.createElement(We,{onClick:()=>{m(h===f?[]:o.map(e=>e.firestorePath))}},u.createElement(Re.a,{checked:h===f}),u.createElement(qe,null,"Select all")),u.createElement(Ke,null,h," of ",f," selected")),u.createElement(Ge,null,u.createElement($e,null,g.map(e=>u.createElement(Xe,{key:e.firestorePath,graphic:u.createElement(Re.a,{checked:e.selected}),onClick:()=>(e=>{const t=d.filter(t=>t!==e);t.length===d.length?m([...d,e]):m(t)})(e.firestorePath),primaryText:e.name})))),h>100&&u.createElement(Je,null,u.createElement(tt,{icon:"error_outline",size:"medium"}),u.createElement(et,null,"Large numbers of columns may slow down previews.")),u.createElement(Ze,null,u.createElement(Qe,{emphasis:"medium",onClick:s},"Cancel"),u.createElement(Qe,{onClick:()=>{const e=o.filter(e=>d.includes(e.firestorePath)).sort((e,t)=>e.order-t.order).map(e=>({firestorePath:e.firestorePath}));a({type:"selectColumns",selectedColumns:e,selectionContainer:n}),s()}},"Apply")))}),at=l.a.div`
  align-items: center;
  display: flex;
  justify-content: space-between;
  margin: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(6)};
`,rt=l.a.div`
  flex: 0 0 auto;
  position: relative;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,ot=l.a.div`
  display: flex;
  flex: 0 0 auto;
  text-align: right;
  cursor: pointer;
`,it=l()(a.b)`
  white-space: nowrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,st=l()(r.a)`
  margin-left: ${e=>e.theme.material.spacing(6)};
  cursor: pointer;
`,lt=u.memo(e=>{const t=u.useContext(s.ThemeContext),n=u.useContext(p.a),{dispatchAsync:a}=n,{selectedObject:i,selectedSource:l,downloadLink:c,selectedColumnPaths:d,columnBaseInfo:m}=e,[h,f]=u.useState(!0);return u.useEffect(()=>{f(!0)},[e]),u.createElement(at,null,u.createElement(Me.a,{text:Object(Fe.a)(i,l)}),void 0!==d&&void 0!==m&&u.createElement(rt,null,u.createElement(ot,{onClick:()=>f(!h)},u.createElement(it,{useKM:!0,emphasis:"low"},d.length," of ",m.length," columns"),u.createElement(r.a,{icon:h?"keyboard_arrow_down":"keyboard_arrow_up",size:"small",color:E.a[t.name].text})),!h&&u.createElement(nt,{existingSelectedColumnPaths:d,columnBaseInfo:m,onClose:()=>{f(!0)}})),c&&u.createElement(o.Tooltip,{tip:"Download"},u.createElement(st,{icon:"get_app",size:"medium",color:E.a[t.name].text70,onClick:()=>{a({type:"downloadObject",item:i,source:l})}})))});var ct=n(1144);const ut=l.a.div`
  display: flex;
  flex: 0 0 auto;
  justify-content: space-between;
  align-items: center;
`,dt=l.a.div`
  max-width: 400px;
`,pt=l.a.div`
  flex: 0 0 auto;
  position: relative;
`,mt=l.a.div`
  display: flex;
  flex: 0 0 auto;
  text-align: right;
  cursor: pointer;
`,ht=l()(a.b)`
  white-space: nowrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,ft=u.memo(e=>{const t=u.useContext(s.ThemeContext),n=u.useContext(p.a),{dispatch:a}=n,{selectedViewType:o,selectedColumnPaths:i,columnBaseInfo:l}=e,[c,d]=u.useState(!0);u.useEffect(()=>{d(!0)},[e]);const m=u.useRef(null),h="detail"===o?0:"compact"===o?1:2;return u.createElement(ut,null,u.createElement(dt,null,u.createElement(ct.a,{tabs:["Detail","Compact","Column"],selectedIndex:h,colorSelectedItem:!0,onSelectItem:e=>{switch(e){case 0:a({type:"setTabularView",viewType:"detail"});break;case 1:a({type:"setTabularView",viewType:"compact"});break;case 2:a({type:"setTabularView",viewType:"column"})}}})),u.createElement(pt,{ref:m},u.createElement(mt,{onClick:()=>d(!c)},u.createElement(ht,{emphasis:"low"},i.length," of ",l.length," columns"),u.createElement(r.a,{icon:c?"keyboard_arrow_down":"keyboard_arrow_up",size:"small",color:E.a[t.name].text})),!c&&u.createElement(nt,{existingSelectedColumnPaths:i,columnBaseInfo:l,parentRef:m,onClose:()=>{d(!0)}})))});var gt=n(1337);const bt={chartArea:{top:"10px",bottom:"5px",left:"5px",width:"80%",height:"80%"},colors:[`${s.defaultTheme.material.color.brand.blue[900]}`,`${s.defaultTheme.material.color.brand.blue[700]}`,`${s.defaultTheme.material.color.brand.blue[500]}`],legend:"none"},vt=e=>{const t=e<10?"90%":"100%";return Object.assign(Object.assign({},bt),{bars:"vertical",bar:{groupWidth:t},chartArea:{top:0,left:0,width:"100%",height:"100%"},vAxis:{gridlines:{count:0,color:`${s.defaultTheme.material.color.brand.grey[50]}`},viewWindowMode:"maximized",minValue:0}})},yt=l()(k.n)`
  cursor: pointer;
  display: grid;
  grid-template-columns: 2fr 1fr;
  align-items: center;
`,Et=l.a.div`
  align-items: center;
`,wt=l.a.div`
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
`,xt=l.a.div`
  margin-bottom: ${e=>e.largeSpacing?e.theme.material.spacing(3):e.theme.material.spacing(1)};
  &:last-child {
    margin-bottom: 0;
  }
`,Ct=l()(a.e.withComponent("p"))`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  white-space: nowrap;
`,kt=l()(a.e.withComponent("p"))`
  white-space: nowrap;
`,St=l.a.span`
  color: ${e=>E.a[e.theme.name].text40};
  margin-left: ${e=>e.theme.material.spacing(2)};
  white-space: nowrap;
`,_t=e=>{const{nullCount:t,totalCount:n,booleanMetrics:a,columnPath:r,height:o,showCounts:i,width:s,className:l}=e,{falseCount:c,trueCount:d}=a,p=[["Boolean","Count"],["true",d],["false",c],["[null]",t]];return u.createElement(yt,{key:`boolean-chart-${r}`,className:l},u.createElement(Et,null,u.createElement(k.c,{chartType:"PieChart",data:p,options:bt,graphID:`boolean-chart-${r}`,width:s,height:o})),i&&u.createElement(wt,null,u.createElement(xt,{largeSpacing:0===t},u.createElement(Ct,null,"true"),u.createElement(kt,null,Object(f.i)(d),u.createElement(St,null,Object(Be.h)(d/n)))),u.createElement(xt,{largeSpacing:0===t},u.createElement(Ct,null,"false"),u.createElement(kt,null,Object(f.i)(c),u.createElement(St,null,Object(Be.h)(c/n)))),t>0&&u.createElement(xt,{largeSpacing:!1},u.createElement(Ct,null,"[null]"),u.createElement(kt,null,Object(f.i)(t),u.createElement(St,null,Object(Be.h)(t/n))))))},Ot=l()(k.b)`
  cursor: pointer;
`,Tt=e=>{const{countryMetrics:t,columnPath:n,height:a,width:r,className:o}=e,{counts:i}=t,s=Object.assign(Object.assign({},bt),{keepAspectRatio:!1}),l=i.filter(e=>e.key&&e.value).map(e=>[e.key,e.value]);return l.unshift(["Country","Count"]),u.createElement(Ot,{key:`country-chart-${n}`,className:o},u.createElement(k.c,{chartType:"GeoChart",data:l,options:s,graphID:`country-chart-${n}`,width:r,height:a}))},jt=l.a.div`
  color: ${e=>E.a[e.theme.name].text40};
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(1)};
  justify-content: space-between;
`,It=l()(a.e.withComponent("div"))`
  flex: 1 1 auto;
  text-align: left;
  text-overflow: ellipsis;
  overflow: hidden;
  color: ${e=>E.a[e.theme.name].text40};
`,Dt=l()(It)`
  text-align: right;
`;function Nt(e){const{min:t,max:n}=e;return u.createElement(jt,null,u.createElement(It,null,t),u.createElement(Dt,null,n))}const Mt=l()(k.b)`
  cursor: pointer;
`,Ft=e=>{const{dateTimeMetrics:t,columnPath:n,height:a,width:r,className:o}=e,{histogram:i,maximum:s,minimum:l}=t;if(null===i||0===i.buckets.length)return u.createElement(u.Fragment,null);const c=i.buckets.filter(e=>e.label&&e.count).map(e=>[e.label,e.count]);return c.unshift(["DateTime","Count"]),u.createElement(Mt,{key:`datetime-chart-${n}`,className:o},u.createElement(k.c,{chartType:"ColumnChart",data:c,options:vt(i.buckets.length),graphID:`datetime-chart-${n}`,width:r,height:a}),u.createElement(Nt,{min:Object(f.e)(new Date(l)),max:Object(f.e)(new Date(s))}))},Pt=l()(k.b)`
  cursor: pointer;
`,Lt=e=>{const{numericMetrics:t,columnPath:n,height:a,isInteger:r,width:o,className:i}=e,{histogram:s,maximum:l,minimum:c}=t;if(null===s||0===s.buckets.length)return u.createElement(u.Fragment,null);const d=s.buckets.filter(e=>e.label&&e.count).map(e=>[e.label,e.count]);return d.unshift(["Label","Count"]),u.createElement(Pt,{key:`numeric-chart-${n}`,className:i},u.createElement(k.c,{chartType:"ColumnChart",data:d,options:vt(s.buckets.length),graphID:`numeric-chart-${n}`,width:o,height:a}),u.createElement(Nt,{min:Object(f.j)(c,r),max:Object(f.j)(l,r)}))},At=l.a.div`
  display: flex;
  flex-direction: row;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  width: 100%;
  min-width: 0; /* needed to overwrite the min-width: auto for grid cells */

  :hover {
    background-color: ${e=>E.a[e.theme.name].backgroundAlt};
  }
`,Rt=l()(a.e)`
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  color: ${e=>{switch(e.info.type){case"string":return`${E.a[e.theme.name].text100};`;case"null":return`${E.a[e.theme.name].error};`;case"other":default:return`${E.a[e.theme.name].text40};`}}};
`,Ut=l()(a.e)`
  flex: 0 0 auto;
  margin-left: ${e=>e.theme.material.spacing(2)};

  color: ${e=>{switch(e.info.type){case"string":return`${E.a[e.theme.name].blueSelected};`;case"null":return`${E.a[e.theme.name].error};`;case"other":default:return`${E.a[e.theme.name].text40};`}}};
`,zt=l()(o.Tooltip)`
  width: 100%;
  min-width: 0; /* needed to overwrite the min-width: auto for grid cells */
`;function $t(e){const{info:t,showTooltips:n}=e,a=Bt(t),r=Object(Be.h)(t.fraction),o=u.createElement(At,null,u.createElement(Rt,{info:t},a),u.createElement(Ut,{info:t},r));return n?u.createElement(zt,{type:"dark",tip:a,place:"bottom"},o):o}const Bt=e=>"other"===e.type?`Other (${e.count})`:"null"===e.type?Object(Be.i)(null):Object(Be.i)(e.text),Vt=l()(k.b)`
  cursor: pointer;
`,Ht=l()(k.n)`
  display: grid;
  grid-template-rows: 1fr 1fr 1fr;
  align-items: center;
`,Wt=e=>{const{nullCount:t,totalCount:n,stringMetrics:a,chartSize:r,className:o}=e,{counts:i,uniqueValueCount:s,mostCommonValueCount:l}=a;if(i&&qt(l,t,n,s))return u.createElement(Ht,{className:o},Kt(i,t,n,s));const c=s+(t>0?1:0);return u.createElement(Vt,{className:o},"small"===r&&u.createElement(u.Fragment,null,u.createElement(k.g,null,c),u.createElement(k.i,null,"unique value"+(c>1?"s":""))),"large"===r&&u.createElement(u.Fragment,null,u.createElement(k.f,null,c),u.createElement(k.h,null,"unique value"+(c>1?"s":""))))},qt=(e,t,n,a)=>{return(e/n>.01||t/n>.01)&&(a*e>n-t||e<t)},Kt=(e,t,n,a)=>{const r=((e,t)=>0===t?e:[...e,{key:null,value:t}])(e,t).sort((e,t)=>t.value-e.value).slice(0,2),o=r.map(e=>null===e.key?u.createElement($t,{key:"null",showTooltips:!1,info:{type:"null",fraction:e.value/n}}):u.createElement($t,{key:e.key,showTooltips:!0,info:{type:"string",text:e.key,fraction:e.value/n}}));if(a+(t>0?1:0)>2){const e=n-r[0].value-r[1].value;o.push(u.createElement($t,{key:"other",showTooltips:!1,info:{type:"other",count:e,fraction:e/n}}))}return o},Gt=u.memo(e=>{const{column:t,chartSize:n,className:a}=e,{tableColumnInfo:r,tableColumnMetrics:o,path:i}=t;if(null===o)return u.createElement(k.b,null,"Metrics not available");const{extendedType:s,type:l}=r,{nullCount:c,booleanMetrics:d,countryMetrics:p,numericMetrics:m,dateTimeMetrics:h,stringMetrics:f,totalCount:g}=o,b={columnPath:i,height:"small"===n?"70px":"unset",width:"100%"};if("country"===s&&null!==p)return u.createElement(Tt,Object.assign({},b,{countryMetrics:p,className:a}));if("numeric"===l&&null!==m&&null!==m.histogram&&m.histogram.buckets.length>0){const e="id"===s||"integer"===s;return u.createElement(Lt,Object.assign({},b,{numericMetrics:m,isInteger:e,className:a}))}return"boolean"===l&&null!==d?u.createElement(_t,Object.assign({},b,{booleanMetrics:d,nullCount:c,showCounts:!0,totalCount:g,className:a})):"dateTime"===l&&null!==h&&null!==h.histogram&&h.histogram.buckets.length>0?u.createElement(Ft,Object.assign({},b,{dateTimeMetrics:h,className:a})):"string"===l&&null!==f?u.createElement(Wt,{nullCount:c,totalCount:g,stringMetrics:f,chartSize:n,className:a}):u.createElement(k.b,{className:a},"small"===n&&u.createElement(u.Fragment,null,u.createElement(k.g,null,g),u.createElement(k.i,null,"total values")),"large"===n&&u.createElement(u.Fragment,null,u.createElement(k.f,null,g),u.createElement(k.h,null,"total values")))}),Yt=l()(a.e.withComponent("div"))`
  display: flex;
  justify-content: space-between;
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,Zt=l.a.div`
  flex: 1 1 auto;
`,Qt=l.a.span`
  display: inline-block;
  height: 8px;
  margin-left: ${e=>e.theme.material.spacing(1)};
  width: 8px;
`,Xt=l.a.span`
  color: ${e=>E.a[e.theme.name].text40};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  text-align: right;
  width: 50px;
`,Jt=l.a.div`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  overflow: hidden;
  text-align: right;
  text-overflow: ellipsis;
  white-space: nowrap;
  width: 80px;
`,en=e=>{const{label:t,value:n,className:a,percent:r,labelColor:o}=e;return u.createElement(Yt,{className:a},u.createElement(Zt,null,t,o&&u.createElement(Qt,{style:{backgroundColor:o}})),u.createElement(Jt,null,n),u.createElement(Xt,null,r))},tn=l.a.div`
  display: flex;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  width: 100%;
`,nn=l.a.div`
  height: ${e=>e.theme.material.spacing(2)};
`,an=e=>{const{percentages:t,colors:n}=e;return t.length!==n.length?u.createElement(u.Fragment,null):u.createElement(tn,null,t.map((e,t)=>u.createElement(nn,{key:`${e}-${n[t]}`,style:{width:e,backgroundColor:n[t]}})))};var rn=n(31);const on=l()(en)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,sn=e=>{const{tableColumnInfo:t,tableColumnMetrics:n}=e,{type:a,extendedType:r}=t,{totalCount:o,booleanMetrics:i,countryMetrics:s,dateTimeMetrics:l,numericMetrics:c,stringMetrics:d}=n;if("country"===r&&null!==s){const{mostCommonValue:e,mostCommonValueCount:t,uniqueValueCount:n}=s,a=Object(Be.h)(t/o);return u.createElement(u.Fragment,null,u.createElement(en,{key:"country-unique",label:"Unique",value:Object(f.i)(n)}),null!==e&&u.createElement(en,{key:"country-most-common",label:"Most Common",value:e,percent:a}))}if("numeric"===a&&null!==c){const{mean:e,standardDeviation:t,quantiles:n,minimum:a,maximum:o}=c,i="integer"===r||"id"===r;return u.createElement(u.Fragment,null,u.createElement(en,{key:"numeric-mean",label:"Mean",value:Object(f.h)(e)}),u.createElement(on,{key:"numeric-std-dev",label:"Std. Deviation",value:Object(f.h)(t)}),u.createElement(en,{key:"numeric-min",label:"Quantiles",value:Object(f.j)(a,i),percent:"Min"}),n.map(e=>u.createElement(en,{key:`numeric-${e.point}`,label:"",value:Object(f.j)(e.value,i),percent:Object(Be.h)(e.point)})),u.createElement(en,{key:"numeric-max",label:"",value:Object(f.j)(o,i),percent:"Max"}))}if("boolean"===a&&null!==i){const{trueCount:e,falseCount:t}=i,n=Object(Be.h)(e/o),a=Object(Be.h)(t/o);return u.createElement(u.Fragment,null,u.createElement(en,{key:"boolean-true",label:"True",value:Object(f.i)(e),percent:n}),u.createElement(en,{key:"boolean-false",label:"False",value:Object(f.i)(t),percent:a}))}if("dateTime"===a&&null!==l){const{maximum:e,mean:t,minimum:n}=l;return u.createElement(u.Fragment,null,u.createElement(en,{key:"datetime-min",label:"Minimum",value:rn(n).format("DMMMYY")}),u.createElement(en,{key:"datetime-mean",label:"Mean",value:rn(t).format("DMMMYY")}),u.createElement(en,{key:"datetime-max",label:"Maximum",value:rn(e).format("DMMMYY")}))}if("string"===a&&null!==d){const{mostCommonValue:e,mostCommonValueCount:t,uniqueValueCount:n}=d,a=Object(Be.h)(t/o);return u.createElement(u.Fragment,null,u.createElement(en,{key:"string-unique",label:"Unique",value:Object(f.i)(n)}),null!==e&&u.createElement(en,{key:"string-most-common",label:"Most Common",value:e,percent:a}))}return u.createElement(en,{key:"unknown-total",label:"Total",value:Object(f.i)(o)})},ln=l.a.div``,cn=l()(en)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,un=e=>{const t=u.useContext(s.ThemeContext),{tableColumnInfo:n,tableColumnMetrics:a}=e,{totalCount:r,validCount:o,nullCount:i,invalidCount:l}=a,c=E.a[t.name].success,d=E.a[t.name].caution,p=E.a[t.name].error,m=Object(Be.h)(o/r),h=Object(Be.h)(l/r),g=Object(Be.h)(i/r);return u.createElement(ln,null,u.createElement(an,{percentages:[m,h,g],colors:[c,d,p]}),u.createElement(en,{key:"valid",label:"Valid",value:Object(f.i)(o),percent:m,labelColor:c}),u.createElement(en,{key:"mismatched",label:"Mismatched",value:Object(f.i)(l),percent:h,labelColor:d}),u.createElement(cn,{key:"missing",label:"Missing",value:Object(f.i)(i),percent:g,labelColor:p}),u.createElement(sn,{tableColumnInfo:n,tableColumnMetrics:a}))},dn=l.a.div`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(2)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
  border-bottom: 1px solid ${e=>E.a[e.theme.name].border};
  padding-bottom: ${e=>e.theme.material.spacing(3)};

  &:last-child {
    margin-bottom: 0;
    border-bottom: 0;
  }
`,pn=l.a.div`
  display: grid;
  grid-template-rows: none;
  grid-template-columns: 2fr 3fr;
  grid-column-gap: ${e=>e.theme.material.spacing(6)};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    grid-template-columns: none;
    grid-template-rows: 1fr auto;
    grid-row-gap: ${e=>e.theme.material.spacing(1)};
  }
`,mn=l()(Gt)`
  width: 100%;
  max-width: 100%;
  height: 100%;
  min-height: 75px; /* so that mobile view doesn't look squeezed */
  border: none;
  padding: 0;
  text-align: left;
`,hn=l.a.div`
  align-items: center;
  display: flex;
  flex-direction: row;
`,fn=l()(r.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,gn=l()(a.b)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,bn=u.memo(e=>{const{column:t}=e;return u.createElement(dn,null,u.createElement("div",null,u.createElement(hn,null,u.createElement(fn,{icon:Object(gt.a)({columnType:t.tableColumnInfo.type,columnExtendedType:t.tableColumnInfo.extendedType}),size:"xsmall"}),u.createElement(a.u,null,t.name)),u.createElement(gn,null,t.description)),u.createElement(pn,null,u.createElement(mn,{column:t,chartSize:"large"}),u.createElement("div",null,null!==t.tableColumnMetrics&&t.tableColumnMetrics.totalCount>0&&u.createElement(un,{tableColumnInfo:t.tableColumnInfo,tableColumnMetrics:t.tableColumnMetrics}),(null===t.tableColumnMetrics||t.tableColumnMetrics.totalCount<=0)&&u.createElement(a.b,null,"Further detail is not available."))))}),vn=l.a.div`
  margin: ${e=>e.theme.material.spacing(6)};
`,yn=u.memo(e=>{const{columns:t}=e;return t.map(e=>null===e.tableColumnMetrics||e.tableColumnMetrics.totalCount<=0).reduce((e,t)=>e&&t,!0)?u.createElement(vn,{style:{textAlign:"center"}},"Unfortunately, we couldn't grind out any metrics for the selected columns."):u.createElement(vn,null,t.map((e,t)=>u.createElement(bn,{key:"row-"+t,column:e})))});var En=n(1397),wn=n(1434);const xn=l()(k.p)`
  & div {
    ${k.o}
    font-size: 12px;
    line-height: 16px;
    width: ${e=>e.isCompact?k.a:k.d};
    min-width: ${e=>e.isCompact?k.a:k.d};
  }
`,Cn=u.memo(e=>{const{columns:t,isCompact:n}=e;return u.createElement(a.f,null,u.createElement(xn,{isCompact:n},t.map((e,t)=>u.createElement("div",{key:t},e))))}),kn=l()(a.e.withComponent("div"))`
  position: sticky;
  left: 0;
  color: ${e=>E.a[e.theme.name].textLow};
  margin: ${e=>e.theme.material.spacing(5)} 0;
  text-align: center;
  width: min(${e=>"0"!==e.contentWidth?e.contentWidth:"100%"}, 100%);
`,Sn=u.memo(e=>{const{columnCount:t,compact:n,children:a}=e,r=n?k.a:k.d,o=t>0?`calc(${t} * (${r} + ${k.l} * 2  + 1px))`:"0";return u.createElement(kn,{contentWidth:o},a)});var _n=n(1425),On=n(1450),Tn=n(995),jn=n(886);const In=l()(Tn.a)`
  margin: 0 ${e=>e.theme.material.spacing(3)};
`,Dn=l()(a.c)`
  font-family: "Inter", sans-serif;
`,Nn=e=>{var t;const{columnPath:n,currentFilter:a,setFilter:r}=e,o=null===(t=null==a?void 0:a.booleanFilter)||void 0===t?void 0:t.value;return u.createElement(In,{choice:!0},u.createElement(jn.a,{onClick:()=>Mn(!0,n,r,o),selected:!0===o},u.createElement(Dn,null,"TRUE")),u.createElement(jn.a,{onClick:()=>Mn(!1,n,r,o),selected:!1===o},u.createElement(Dn,null,"FALSE")))},Mn=(e,t,n,a)=>{n(e===a?void 0:{column:{firestorePath:t},booleanFilter:{value:e}})};var Fn=n(259),Pn=n(45),Ln=n(20),An=n(5),Rn=n(154),Un=(n(8),n(39)),zn=n(64),$n=n(1379),Bn=n(152),Vn=n(270),Hn=n(153);var Wn=function(e){return Object(Hn.a)(e).defaultView||window},qn=n(76),Kn=n(32);var Gn=Object(zn.a)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:Object(An.a)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,left:"calc(-50% + -4px)",transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(e){var t=e.children,n=e.classes,a=e.className,r=e.index,o=e.open,i=e.value,s=e.valueLabelDisplay,l=e.valueLabelFormat;return"off"===s?t:d.a.cloneElement(t,{className:Object(Un.default)(t.props.className,(o||"on"===s)&&n.open,n.thumb)},d.a.createElement("span",{className:Object(Un.default)(n.offset,a)},d.a.createElement("span",{className:n.circle},d.a.createElement("span",{className:n.label},"function"==typeof l?l(i,r):l))))}));function Yn(e,t){return e-t}function Zn(e,t,n){return e<t?t:e>n?n:e}function Qn(e,t){return e.reduce((function(e,n,a){var r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:a}:e}),null).index}function Xn(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var a=e.changedTouches[n];if(a.identifier===t.current)return{x:a.pageX,y:a.pageY}}return!1}return{x:e.pageX,y:e.pageY}}function Jn(e,t,n){return 100*(e-t)/(n-t)}function ea(e,t){var n=Math.round(e/t)*t;return Number(n.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var a=e.toString().split(".")[1];return a?a.length:0}(t)))}function ta(e){var t=e.values,n=e.source,a=e.newValue,r=e.index;if(t[r]===a)return n;var o=Object(Rn.a)(t);return o[r]=a,o}function na(e){var t=e.sliderRef,n=e.activeIndex,a=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[data-index="'.concat(n,'"]')).focus(),a&&a(n)}var aa={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},ra=[],oa=function(e){return e},ia=d.a.forwardRef((function(e,t){var n=e["aria-label"],a=e["aria-labelledby"],r=e["aria-valuetext"],o=e.classes,i=e.className,s=e.component,l=void 0===s?"span":s,c=e.defaultValue,u=e.disabled,p=void 0!==u&&u,m=e.getAriaValueText,h=e.marks,f=void 0===h?ra:h,g=e.max,b=void 0===g?100:g,v=e.min,y=void 0===v?0:v,E=e.name,w=e.onChange,x=e.onChangeCommitted,C=e.onMouseDown,k=e.orientation,S=void 0===k?"horizontal":k,_=e.step,O=void 0===_?1:_,T=e.ThumbComponent,j=void 0===T?"span":T,I=e.value,D=e.ValueLabelComponent,N=void 0===D?Gn:D,M=e.valueLabelDisplay,F=void 0===M?"off":M,P=e.valueLabelFormat,L=void 0===P?oa:P,A=Object(Ln.a)(e,["aria-label","aria-labelledby","aria-valuetext","classes","className","component","defaultValue","disabled","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","step","ThumbComponent","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),R=Object($n.a)(),U=d.a.useRef(null!=I).current,z=d.a.useRef(),$=d.a.useState(-1),B=Object(Pn.a)($,2),V=B[0],H=B[1],W=d.a.useState(-1),q=Object(Pn.a)(W,2),K=q[0],G=q[1],Y=d.a.useState(c),Z=Object(Pn.a)(Y,2),Q=Z[0],X=Z[1],J=U?I:Q,ee=Array.isArray(J),te=d.a.useRef(),ne=ee?J.sort(Yn):[J];ne=ne.map((function(e){return Zn(e,y,b)}));var ae=!0===f&&null!==O?Object(Rn.a)(Array(Math.floor((b-y)/O)+1)).map((function(e,t){return{value:y+O*t}})):f;te.current={source:J};var re=Object(Vn.a)(),oe=re.isFocusVisible,ie=re.onBlurVisible,se=re.ref,le=d.a.useState(-1),ce=Object(Pn.a)(le,2),ue=ce[0],de=ce[1],pe=d.a.useRef(),me=Object(Kn.c)(se,pe),he=Object(Kn.c)(t,me),fe=Object(qn.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));oe(e)&&de(t),G(t)})),ge=Object(qn.a)((function(){-1!==ue&&(de(-1),ie()),G(-1)})),be=Object(qn.a)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));G(t)})),ve=Object(qn.a)((function(){G(-1)})),ye=Object(qn.a)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),a=ne[n],r=(b-y)/10,o=ae.map((function(e){return e.value})),i=o.indexOf(a);switch(e.key){case"Home":t=y;break;case"End":t=b;break;case"PageUp":O&&(t=a+r);break;case"PageDown":O&&(t=a-r);break;case"ArrowRight":case"ArrowUp":t=O?a+O:o[i+1]||o[o.length-1];break;case"ArrowLeft":case"ArrowDown":t=O?a-O:o[i-1]||o[0];break;default:return}if(e.preventDefault(),O&&(t=ea(t,O)),t=Zn(t,y,b),ee){var s=t;t=ta({values:ne,source:J,newValue:t,index:n}).sort(Yn),na({sliderRef:pe,activeIndex:t.indexOf(s)})}U||X(t),de(n),w&&w(e,t),x&&x(e,t)})),Ee=d.a.useRef(),we=S;"rtl"===R.direction&&"vertical"!==S&&(we+="-reverse");var xe=d.a.useCallback((function(e){var t,n,a=e.finger,r=e.move,o=void 0!==r&&r,i=e.values,s=e.source,l=pe.current,c=l.getBoundingClientRect(),u=c.width,d=c.height,p=c.bottom,m=c.left;if(t=0===we.indexOf("vertical")?(p+Wn(l).pageYOffset-a.y)/d:(a.x-m-Wn(l).pageXOffset)/u,-1!==we.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,y,b),O)n=ea(n,O);else{var h=ae.map((function(e){return e.value}));n=h[Qn(h,n)]}n=Zn(n,y,b);var f=0;if(ee){var g=n;f=(n=ta({values:i,source:s,newValue:n,index:f=o?Ee.current:Qn(i,n)}).sort(Yn)).indexOf(g),Ee.current=f}return{newValue:n,activeIndex:f}}),[b,y,we,ee,O,ae]),Ce=Object(qn.a)((function(e){var t=Xn(e,z);if(t){var n=xe({finger:t,move:!0,values:ne,source:J}),a=n.newValue,r=n.activeIndex;na({sliderRef:pe,activeIndex:r,setActive:H}),U||X(a),w&&w(e,a)}})),ke=Object(qn.a)((function(e){var t=Xn(e,z);if(t){var n=xe({finger:t,values:ne,source:J}).newValue;H(-1),"touchend"===e.type&&G(-1),x&&x(e,n),z.current=void 0,document.body.removeEventListener("mousemove",Ce),document.body.removeEventListener("mouseup",ke),document.body.removeEventListener("mouseenter",Se),document.body.removeEventListener("touchmove",Ce),document.body.removeEventListener("touchend",ke)}})),Se=Object(qn.a)((function(e){0===e.buttons&&ke(e)})),_e=Object(qn.a)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(z.current=t.identifier);var n=Xn(e,z),a=xe({finger:n,values:ne,source:J}),r=a.newValue,o=a.activeIndex;na({sliderRef:pe,activeIndex:o,setActive:H}),U||X(r),w&&w(e,r),document.body.addEventListener("touchmove",Ce),document.body.addEventListener("touchend",ke)}));d.a.useEffect((function(){if(p)return function(){};var e=pe.current;return e.addEventListener("touchstart",_e),function(){e.removeEventListener("touchstart",_e),document.body.removeEventListener("mousemove",Ce),document.body.removeEventListener("mouseup",ke),document.body.removeEventListener("mouseenter",Se),document.body.removeEventListener("touchmove",Ce),document.body.removeEventListener("touchend",ke)}}),[p,Se,ke,Ce,_e]);var Oe=Object(qn.a)((function(e){if(C&&C(e),!p){e.preventDefault();var t=Xn(e,z),n=xe({finger:t,values:ne,source:J}),a=n.newValue,r=n.activeIndex;na({sliderRef:pe,activeIndex:r,setActive:H}),U||X(a),w&&w(e,a),document.body.addEventListener("mousemove",Ce),document.body.addEventListener("mouseenter",Se),document.body.addEventListener("mouseup",ke)}})),Te=Jn(ee?ne[0]:y,y,b),je=Jn(ne[ne.length-1],y,b)-Te,Ie=Object(An.a)({},aa[we].offset(Te),{},aa[we].leap(je));return d.a.createElement(l,Object(An.a)({ref:he,className:Object(Un.default)(o.root,i,p&&o.disabled,ae.length>0&&ae.some((function(e){return e.label}))&&o.marked,{vertical:o.vertical}[S]),onMouseDown:Oe},A),d.a.createElement("span",{className:o.rail}),d.a.createElement("span",{className:o.track,style:Ie}),d.a.createElement("input",{value:ne.join(","),name:E,type:"hidden"}),ae.map((function(e){var t=Jn(e.value,y,b),n=aa[we].offset(t),a=ee?e.value>=ne[0]&&e.value<=ne[ne.length-1]:e.value<=ne[0];return d.a.createElement(d.a.Fragment,{key:e.value},d.a.createElement("span",{style:n,className:Object(Un.default)(o.mark,a&&o.markActive)}),d.a.createElement("span",{style:n,className:Object(Un.default)(o.markLabel,a&&o.markLabelActive)},e.label))})),ne.map((function(e,t){var i=Jn(e,y,b),s=aa[we].offset(i);return d.a.createElement(N,{key:t,valueLabelFormat:L,valueLabelDisplay:F,className:o.valueLabel,value:e,index:t,open:K===t||V===t,disabled:p},d.a.createElement(j,{className:Object(Un.default)(o.thumb,V===t&&o.active,ue===t&&o.focusVisible),tabIndex:p?null:0,role:"slider",style:s,"data-index":t,"aria-label":n,"aria-labelledby":a,"aria-orientation":S,"aria-valuemax":b,"aria-valuemin":y,"aria-valuenow":e,"aria-valuetext":m?m(e,t):r,onKeyDown:ye,onFocus:fe,onBlur:ge,onMouseOver:be,onMouseLeave:ve}))})))})),sa=Object(zn.a)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"11px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 11px"}},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:"none",backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat(Object(Bn.b)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat(Object(Bn.b)(e.palette.primary.main,.16))},"$disabled &":{pointerEvents:"none",width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical$disabled &":{marginLeft:-3,marginBottom:-4}},active:{},focusVisible:{},valueLabel:{},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:Object(Bn.d)(e.palette.primary.main,.76)},markLabel:Object(An.a)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:22,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:22,transform:"translateY(50%)"}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(ia);const la=l.a.div`
  display: grid;
  grid-row-gap: ${e=>e.theme.material.spacing(2)};
  margin: 0 ${e=>e.theme.material.spacing(3)};
`,ca=l.a.div``,ua=l()(Le.a)``,da=u.memo(e=>{const{min:t,max:n,pattern:a,onUpdateMin:r,onUpdateMax:o}=e;return u.createElement(la,null,u.createElement(ca,null,u.createElement(ua,{label:"min",pattern:a,onChange:e=>r(e.currentTarget.value),value:null==t?void 0:t.toString()})),u.createElement(ca,null,u.createElement(ua,{label:"max",pattern:a,onChange:e=>o(e.currentTarget.value),value:null==n?void 0:n.toString()})))});var pa=i.c.Sdk.Datasets.DataViewer.Protos.DateTimeFilter.DateTimeOperator;const ma=/^\d{4}[\-](0[1-9]|1[012])[\-](0[1-9]|[12][0-9]|3[01])( (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9])?$/,ha=l.a.div`
  width: 180px;
  margin: 0 ${e=>e.theme.material.spacing(9)};
`,fa=l.a.span`
  /* this ensures that the text fits inside the bubble that showed up during dragging of slider */
  white-space: nowrap;
  font-size: ${e=>e.length>5?"8px":e.length>4?"10px":"12px"};
`,ga=e=>{const{columnPath:t,minDate:n,maxDate:a,currentFilters:r,displayError:o,setFilters:i}=e,s=r.filter(e=>{var t;return(null===(t=e.dateTimeFilter)||void 0===t?void 0:t.operator)===pa.GREATER_EQUALS}),l=r.filter(e=>{var t;return(null===(t=e.dateTimeFilter)||void 0===t?void 0:t.operator)===pa.LESS_EQUALS});(s.length>1||l.length>1)&&o("Date time filter should have at most 1 minimum and 1 maximum boundaries");const c=null==n?void 0:n.getTime(),d=null==a?void 0:a.getTime(),p=s.length>0&&s[0].dateTimeFilter?Object(Fn.a)(s[0].dateTimeFilter.operand).getTime():c,m=l.length>0&&l[0].dateTimeFilter?Object(Fn.a)(l[0].dateTimeFilter.operand).getTime():d;if(void 0===c||void 0===d||void 0===p||void 0===m)return u.createElement(da,{min:p?Object(f.g)(p):void 0,max:m?Object(f.g)(m):void 0,pattern:"[0-9]{4}[-](0[1-9]|1[012])[-](0[1-9]|[12][0-9]|3[01]) (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]",onUpdateMin:e=>{const n=e.match(ma)?rn(e).toDate().getTime():void 0;va(t,i,c,d,n,m)},onUpdateMax:e=>{const n=e.match(ma)?rn(e).toDate().getTime():void 0;va(t,i,c,d,p,n)}});const h=(d-c)/1e3;return u.createElement(ha,null,u.createElement(sa,{value:[p,m],min:c,max:d,step:h,onChange:(e,n)=>{va(t,i,c,d,n[0],n[1])},valueLabelDisplay:"auto",valueLabelFormat:(e,t)=>ba(e),marks:[{value:c,label:u.createElement(k.k,null,Object(f.f)(c))},{value:d,label:u.createElement(k.k,null,Object(f.f)(d))}]}))},ba=e=>{const t=Object(f.f)(e);return u.createElement(fa,{length:t.length},t)},va=(e,t,n,a,r,o)=>{const i=[];void 0!==r&&(void 0===n||r>n)&&i.push({column:{firestorePath:e},dateTimeFilter:{operator:pa.GREATER_EQUALS,operand:new Date(r).toISOString()}}),void 0!==o&&(void 0===a||o<a)&&i.push({column:{firestorePath:e},dateTimeFilter:{operator:pa.LESS_EQUALS,operand:new Date(o).toISOString()}}),t(i)};var ya=i.c.Sdk.Datasets.DataViewer.Protos.NumericFilter.NumericOperator;const Ea=l.a.div`
  width: 180px;
  margin: 0 ${e=>e.theme.material.spacing(9)};
`,wa=l.a.span`
  /* this ensures that the text fits inside the bubble that showed up during dragging of slider */
  white-space: nowrap;
  font-size: ${e=>e.length>5?"8px":e.length>4?"10px":"12px"};
`,xa=e=>{const{columnPath:t,isInteger:n,minValue:a,maxValue:r,currentFilters:o,displayError:i,setFilters:s}=e,l=o.filter(e=>{var t;return(null===(t=e.numericFilter)||void 0===t?void 0:t.operator)===ya.GREATER_EQUALS}),c=o.filter(e=>{var t;return(null===(t=e.numericFilter)||void 0===t?void 0:t.operator)===ya.LESS_EQUALS});(l.length>1||c.length>1)&&i("Numeric filter should have at most 1 minimum and 1 maximum boundaries");const d=l.length>0&&l[0].numericFilter?l[0].numericFilter.operand:a,p=c.length>0&&c[0].numericFilter?c[0].numericFilter.operand:r;if(void 0===a||void 0===r||void 0===d||void 0===p||isNaN(a)||isNaN(r)||isNaN(d)||isNaN(p)){const[e,n]=u.useState(void 0===d||isNaN(d)?void 0:d.toString()),[o,i]=u.useState(void 0===p||isNaN(p)?void 0:p.toString());return u.createElement(da,{min:e,max:o,pattern:"[-]{0,1}[0-9]*[.]{0,1}[0-9]*",onUpdateMax:e=>{i(e);const n=parseFloat(e);ka(t,s,a,r,d,Number.isNaN(n)?void 0:n)},onUpdateMin:e=>{n(e);const o=parseFloat(e);ka(t,s,a,r,Number.isNaN(o)?void 0:o,p)}})}const m=n?1:(r-a)/1e3;return u.createElement(Ea,null,u.createElement(sa,{value:[d,p],min:a,max:r,step:m,onChange:(e,n)=>{ka(t,s,a,r,n[0],n[1])},valueLabelDisplay:"auto",valueLabelFormat:(e,t)=>Ca(e,n),marks:[{value:a,label:u.createElement(k.k,null,Object(f.j)(a,n))},{value:r,label:u.createElement(k.k,null,Object(f.j)(r,n))}]}))},Ca=(e,t)=>{const n=Object(f.j)(e,t);return u.createElement(wa,{length:n.length},n)},ka=(e,t,n,a,r,o)=>{const i=[];void 0!==r&&(void 0===n||isNaN(n)||r>n)&&i.push({column:{firestorePath:e},numericFilter:{operator:ya.GREATER_EQUALS,operand:r}}),void 0!==o&&(void 0===a||isNaN(a)||o<a)&&i.push({column:{firestorePath:e},numericFilter:{operator:ya.LESS_EQUALS,operand:o}}),t(i)};var Sa=i.c.Sdk.Datasets.DataViewer.Protos.SortDirection;const _a=l()(Pe.a)`
  height: fit-content;
  margin-top: ${e=>e.theme.material.spacing(3)};
`,Oa=l()(Ae.a)`
  span {
    color: ${e=>e.selected?E.a[e.theme.name].blue:E.a[e.theme.name].textMedium};
  }

  /* TODO(jomike): remove box-shadow */
  &:focus {
    box-shadow: none;
  }
`,Ta=l()(r.a)`
  padding-right: ${e=>e.theme.material.spacing(1)};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
  /* TODO(jomike): remove highlighted styling */
  color: ${e=>e.highlighted?E.a[e.theme.name].blue:E.a[e.theme.name].textMedium};
`,ja=e=>{const{toggleSort:t,currentSort:n}=e;return u.createElement(_a,{variant:"dense"},u.createElement(Oa,{key:"sort-ascending",selected:n===Sa.ASC,onClick:()=>t(Sa.ASC),graphic:u.createElement(Ta,{icon:"arrow_upward",size:"small",highlighted:n===Sa.ASC}),primaryText:"Sort ascending"}),u.createElement(Oa,{key:"sort-descending",selected:n===Sa.DESC,onClick:()=>t(Sa.DESC),graphic:u.createElement(Ta,{icon:"arrow_downward",size:"small",highlighted:n===Sa.DESC}),primaryText:"Sort descending"}))};var Ia=i.c.Sdk.Datasets.DataViewer.Protos.StringFilter.StringOperator;const Da=l.a.div`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(1)};
`,Na=l()(Pe.a)`
  overflow: scroll;
  height: fit-content;
  max-height: ${"120px"};

  ${e=>Object(C.a)(e,1)}
`,Ma=l()(Le.a)`
  margin: 0 ${e=>e.theme.material.spacing(3)};

  /* TODO(jomike): add dense variant for TextField */
  input {
    font-size: ${e=>e.theme.material.typography.caption.fontSize};
    line-height: ${e=>e.theme.material.typography.caption.lineHeight};
  }
`,Fa=e=>{var t;const n=u.useContext(p.a),{reference:a}=n,r="notebook"===a.type&&a.isEditor,{columnPath:o,suggested:i,currentFilter:s,setFilter:l}=e,c=null===(t=null==s?void 0:s.stringFilter)||void 0===t?void 0:t.operands[0],d=r?[]:c?i.filter(e=>e.includes(c)):i;return u.createElement(Da,null,u.createElement(Ma,{onChange:e=>Pa(e.currentTarget.value,o,l),value:c,trailingIcon:"search"}),d.length>0&&u.createElement(Na,{variant:"dense"},u.createElement($e,null,d.map((e,t)=>u.createElement(Ae.a,{key:t,selected:e===c,onClick:()=>Pa(e,o,l),primaryText:e})))))},Pa=(e,t,n)=>{n(0===e.length?void 0:{column:{firestorePath:t},stringFilter:{operator:Ia.CONTAINS,operands:[e]}})},La=l.a.div`
  background: ${e=>E.a[e.theme.name].background};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  border: 1px solid ${e=>E.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-rows: auto auto auto;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  ${e=>e.displayIndex>0?"right: 0px":"left: 0px"};
  position: absolute;
  top: ${e=>e.theme.material.spacing(8)};
  width: max-content;
  max-width: 260px;
  z-index: ${e=>e.theme.zindex[1e3]};
`,Aa=l.a.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin: 0 ${e=>e.theme.material.spacing(3)}
    ${e=>e.theme.material.spacing(3)};
`,Ra=l()(T.a)`
  margin-left: ${e=>e.theme.material.spacing(4)};
  white-space: nowrap;
`,Ua=e=>{var t;const{tableColumn:n,displayIndex:a,parentRef:r,onToggleOff:o}=e,{path:i,tableColumnInfo:s,tableColumnMetrics:l}=n,{type:c,extendedType:d}=s,m={firestorePath:i},h=u.useContext(p.a),f=u.useContext(p.b),{dispatch:g,dispatchAsync:b}=h,{selectedTableQuery:v}=f,y=(null===(t=null==v?void 0:v.sortBy)||void 0===t?void 0:t.column.firestorePath)===i?v.sortBy.direction:void 0,[E,w]=u.useState(y),x=(null==v?void 0:v.filters)?v.filters.filter(e=>e.column.firestorePath===i):[],[C,k]=u.useState(x),S=()=>{w(y),o()},_=u.useRef(null),O=r?[_,r]:[_];return Object(Be.e)(O,S),Object(Be.j)("Escape",S),u.createElement(La,{ref:_,displayIndex:a},u.createElement(ja,{toggleSort:e=>{w(e===E?void 0:e)},currentSort:E}),za(i,c,d,C,l,e=>{b({type:"showMessage",message:e})},k),u.createElement(Aa,null,u.createElement(Ra,{emphasis:"medium",onClick:()=>{void 0===y&&0===x.length||(w(void 0),k([]),g({type:"setColumnQuery",column:m,selectionContainer:f,columnFilter:[],sortBy:void 0})),o()}},"Clear"),u.createElement(Ra,{onClick:()=>{const e=y!==E,t=x.length!==C.length||!x.map(e=>C.map(t=>Object(On.a)(e,t)).reduce((e,t)=>e&&t,!0)).reduce((e,t)=>e&&t,!0);(e||t)&&g({type:"setColumnQuery",column:m,selectionContainer:f,columnFilter:C,sortBy:void 0!==E?{column:m,direction:E}:void 0}),o()}},"Apply")))},za=(e,t,n,a,r,o,i)=>{const s=null===(null==r?void 0:r.stringMetrics)?void 0:null==r?void 0:r.stringMetrics,l=null===(null==r?void 0:r.countryMetrics)?void 0:null==r?void 0:r.countryMetrics,c=null===(null==r?void 0:r.numericMetrics)?void 0:null==r?void 0:r.numericMetrics,d=null===(null==r?void 0:r.dateTimeMetrics)?void 0:null==r?void 0:r.dateTimeMetrics;switch(t){case"string":return a.length>1&&o("There can be at most one filter on a string column"),u.createElement(Fa,{columnPath:e,suggested:void 0!==s?s.counts.map(e=>e.key):void 0!==l?l.counts.map(e=>e.key):[],currentFilter:a[0],setFilter:e=>i(e?[e]:[])});case"boolean":return a.length>1&&o("There can be at most one filter on a boolean column"),u.createElement(Nn,{columnPath:e,currentFilter:a[0],setFilter:e=>i(e?[e]:[])});case"numeric":const t="id"===n||"integer"===n;return u.createElement(xa,{columnPath:e,isInteger:t,minValue:null==c?void 0:c.minimum,maxValue:null==c?void 0:c.maximum,currentFilters:a,displayError:o,setFilters:i});case"dateTime":return u.createElement(ga,{columnPath:e,minDate:void 0===d?void 0:new Date(d.minimum),maxDate:void 0===d?void 0:new Date(d.maximum),currentFilters:a,displayError:o,setFilters:i});default:return}};var $a=n(884),Ba=n(260);const Va=new Map([["Address",{columnType:"string",columnExtendedType:"address"}],["Boolean",{columnType:"boolean",columnExtendedType:null}],["City",{columnType:"string",columnExtendedType:"city"}],["Coordinates",{columnType:"string",columnExtendedType:"coordinates"}],["Country",{columnType:"string",columnExtendedType:"country"}],["Date/Time",{columnType:"dateTime",columnExtendedType:null}],["Decimal",{columnType:"numeric",columnExtendedType:"decimal"}],["Email",{columnType:"string",columnExtendedType:"email"}],["ID",{columnType:"numeric",columnExtendedType:"id"}],["Integer",{columnType:"numeric",columnExtendedType:"integer"}],["Latitude",{columnType:"string",columnExtendedType:"latitude"}],["Longitude",{columnType:"string",columnExtendedType:"longitude"}],["Numeric",{columnType:"numeric",columnExtendedType:null}],["Postal Code",{columnType:"string",columnExtendedType:"postalCode"}],["Province",{columnType:"string",columnExtendedType:"province"}],["String",{columnType:"string",columnExtendedType:null}],["Url",{columnType:"string",columnExtendedType:"url"}],["UUID",{columnType:"string",columnExtendedType:"uuid"}],["Unknown",{columnType:"unknown",columnExtendedType:null}]]),Ha=[...Va.keys()],Wa=l.a.div`
  position: absolute;
  text-align: center;
  top: ${e=>e.theme.material.spacing(8)};
  width: inherit;
`,qa=l()($a.a)`
  width: 100%;
  height: ${"180px"};
  max-height: ${"180px"};
  overflow: scroll;

  ${e=>Object(C.a)(e,1)}
`,Ka=l()(Ba.a)`
  align-items: center;
`,Ga=u.memo(e=>{const{isOpen:t,selectedColumnTypePair:n,onColumnTypeUpdate:a,onToggleOff:r}=e;return u.createElement(Wa,null,u.createElement(qa,{open:t,onClose:r,onSelect:e=>{const t=Va.get(Ha[e.detail.index]);t&&a(t)}},Ha.map((e,t)=>{const a=Va.get(e);return a?u.createElement(Ka,{key:t,selected:a.columnExtendedType===n.columnExtendedType&&a.columnType===n.columnType,icon:Object(gt.a)(a)},e):void 0})))}),Ya=l()(k.n)`
  text-align: left;
  position: relative;
  width: ${e=>e.isCompact?k.a:k.d};
  min-width: ${e=>e.isCompact?k.a:k.d};
`,Za=l.a.div`
  align-items: center;
  cursor: ${e=>e.hasModal?"pointer":"default"};
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-column-gap: ${e=>e.theme.material.spacing(1)};
`,Qa=l()(a.e)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Xa=l()(_n.a)`
  border: 1px solid ${e=>E.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  box-sizing: border-box;

  font-family: ${e=>e.theme.material.typography.body3.fontFamily};
  font-size: ${e=>e.theme.material.typography.body3.fontSize};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  line-height: ${e=>e.theme.material.typography.body3.lineHeight};
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: 60px;
  resize: none;
  width: 100%;

  &:focus {
    outline: none;
    border: 1px solid ${e=>E.a[e.theme.name].borderFocus};
  }

  ${e=>Object(C.a)(e,1)}
`,Ja=l()(a.c)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: 100px;
  overflow-y: hidden;
  word-wrap: break-word;
`,er=e=>{var t,n;const a=u.useContext(p.b),o=u.useContext(s.ThemeContext),{column:i,displayIndex:l,isCompact:c,isEdit:d,openedModal:m,showDescription:h,showFilter:f,onColumnDescriptionUpdate:g,onColumnTypeUpdate:b,onToggleModal:v}=e,{description:y,name:w,path:x,tableColumnInfo:C}=i,{type:k,extendedType:S}=C,_={columnType:k,columnExtendedType:S},{selectedTableQuery:O}=a,T=(null===(t=null==O?void 0:O.sortBy)||void 0===t?void 0:t.column.firestorePath)===x||(null===(n=null==O?void 0:O.filters)||void 0===n?void 0:n.some(e=>e.column.firestorePath===x)),j=d||f,[I,D]=u.useState(!1),N=u.useRef(null);return u.createElement(Ya,{ref:N,isCompact:c},u.createElement(Za,{hasModal:j,onClick:j?()=>v(x):void 0},u.createElement(r.a,{icon:Object(gt.a)(_),size:"xxsmall"}),u.createElement(Qa,null,w),j&&u.createElement(r.a,{icon:d?"typeMenu"===m?"arrow_drop_up":"arrow_drop_down":"sort",size:"xsmall",color:T?E.a[o.name].blueSelected:E.a[o.name].text})),d&&h&&g&&u.createElement(Xa,{value:y||(I?"":"Please enter a description"),minRows:8,onChange:e=>{const t="Please enter a description"===e.target.value?"":e.target.value;D(!0),g(t)}}),!d&&h&&y&&u.createElement(Ja,{emphasis:"low"},y),!d&&"queryModal"===m&&u.createElement(Ua,{tableColumn:i,displayIndex:l,parentRef:N,onToggleOff:()=>v("")}),d&&b&&"typeMenu"===m&&u.createElement(Ga,{isOpen:"typeMenu"===m,selectedColumnTypePair:_,onColumnTypeUpdate:b,onToggleOff:()=>{"typeMenu"===m&&v("")}}))};class tr extends u.Component{constructor(){super(...arguments),this.state={openHeaderModal:""}}componentDidUpdate(e){e.isEdit===this.props.isEdit&&e.columns===this.props.columns||this.setState({openHeaderModal:""})}render(){const{columns:e,isCompact:t,isEdit:n,showDescription:a,showFilter:r,onSetColumnDescription:o,onSetColumnType:i}=this.props,{openHeaderModal:s}=this.state,l=e=>{this.setState({openHeaderModal:e})};return u.createElement(k.p,null,e.map((e,c)=>u.createElement(er,{key:"header-"+c,column:e,displayIndex:c,isCompact:t,isEdit:n,openedModal:s===e.path?n?"typeMenu":"queryModal":"none",showDescription:a,showFilter:r,onColumnDescriptionUpdate:o?t=>o(e.path,t):void 0,onColumnTypeUpdate:i?t=>{i(e.path,t),l("")}:void 0,onToggleModal:e=>l(s===e?"":e)})))}}const nr=l.a.div`
  width: fit-content;
`,ar=u.memo(e=>{const{columns:t,data:n,isEnd:a,selectedObject:r,selectedSource:o,selectedTableQuery:i}=e,s=u.useContext(p.a),{dispatchAsync:l}=s,c=Object(Be.a)(r);return u.createElement(u.Fragment,null,u.createElement(wn.a,{autoBoxShadow:!0},e=>u.createElement(nr,null,u.createElement(tr,{columns:t,isCompact:!0,isEdit:!1,showDescription:!1,showFilter:c}))),u.createElement(En,{initialLoad:!1,element:"div",useWindow:!1,pageStart:1,hasMore:!a,loadMore:()=>{l({type:"loadMoreTabularPreview",item:r,source:o,selectedTableQuery:i})}},n.rows.map((e,t)=>u.createElement(Cn,{key:"row-"+t,columns:e.text,isCompact:!0}))),a&&u.createElement(Sn,{columnCount:t.length,compact:!0},"No more data to show"))});var rr=n(370);const or=u.memo(e=>{const{columns:t}=e;return t.map(e=>null===e.tableColumnMetrics).reduce((e,t)=>e&&t,!0)?u.createElement(u.Fragment,null):u.createElement(k.p,null,t.map((e,t)=>u.createElement(Gt,{key:"metric-"+t,column:e,chartSize:"small"})))}),ir=l.a.div`
  flex: 1 1 auto;
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  left: 0;
  border-bottom: 1px solid ${e=>E.a[e.theme.name].border};
  background-color: ${e=>e.isEdit?E.a[e.theme.name].background:E.a[e.theme.name].backgroundAlt};
  max-height: ${e=>e.isEdit?"276px":k.e};
  overflow-y: auto;
  padding: ${e=>e.theme.material.spacing(4)};
  ${e=>e.theme.material.spacing(6)};
  ${e=>Object(C.a)(e)};

  /* Assign to ground to be above main preview content */
  z-index: ${e=>e.theme.zindex.ground};
`,sr=l.a.div`
  height: 0;
  position: sticky;
  left: 0;
`,lr=l()(sr)`
  top: 0;
`,cr=l.a.div`
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  width: fit-content;

  /*
  * This has to be foreground, so that in edit mode, the stacking context of the column type dropdown menu
  * will be above the save/cancel button
  */
  z-index: ${e=>e.theme.zindex.foreground};
`,ur=l.a.div`
  display: ${e=>e.isEdit?"flex":"none"};
  justify-content: flex-end;

  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  left: 0;

  background-color: ${e=>E.a[e.theme.name].background};
  border-bottom: 1px solid ${e=>E.a[e.theme.name].border};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  padding: ${e=>e.theme.material.spacing(4)};

  /* Assign to ground to be above main preview content */
  z-index: ${e=>e.theme.zindex.ground};
`,dr=l.a.div`
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;

  box-shadow: ${e=>e.isSticky?e.theme.material.elevation[5]:""};
  width: fit-content;
`,pr=l()(T.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,mr=u.memo(e=>{const t=u.useContext(p.a),n=u.useContext(p.b),{userSettings:a,dispatchAsync:r}=t,{selectedSource:o,selectedObject:i}=n,{canEdit:s,item:l,source:c}=e,d=Object(Be.c)(l,c),m=!("file"===l.type&&("notebookOutput"===(null==o?void 0:o.sourceType)||"utilityScript"===(null==o?void 0:o.sourceType)||"notebook"===(null==o?void 0:o.sourceType)))&&(l.description||a.canEdit),h=Object(Be.a)(i),[f,g]=u.useState(!1),[b,v]=u.useState(l.description||""),[y,E]=u.useState(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})));u.useEffect(()=>{g(!1),v(l.description||""),E(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})))},[e.canEdit,e.columns,e.item]);const w=u.createRef(),x=u.createRef(),C=u.createRef(),[k,S]=u.useState(0);u.useEffect(()=>{w.current&&S(w.current.getBoundingClientRect().height)});const[_,O]=u.useState(0);u.useEffect(()=>{x.current&&O(x.current.getBoundingClientRect().height)});const[T,j]=u.useState(0);u.useEffect(()=>{C.current&&j(C.current.getBoundingClientRect().height)});const[I,D]=u.useState(!1),N=u.useRef(null),M=u.useRef(null);return u.useEffect(()=>{const e=Object(rr.a)(e=>{const t=e.find(e=>e.target===N.current),n=e.find(e=>e.target===M.current),a=null==t?void 0:t.intersectionRatio,r=null==n?void 0:n.intersectionRatio;D((void 0===a||a<1)&&(void 0===r||r>=1))},{threshold:[1,1]});return N.current&&M.current&&(e.observe(N.current),e.observe(M.current)),()=>{e.disconnect()}},[]),u.createElement(u.Fragment,null,m&&u.createElement(ir,{ref:w,isEdit:f,viewVerticalOffset:f?0:-k},u.createElement(re,{canEdit:s,description:b,isEdit:f,item:l,remoteUrl:d,onDescriptionChange:v,onToggleEdit:()=>{v(l.description||""),g(!f)}})),u.createElement(sr,{ref:N}),u.createElement(lr,{ref:M}),u.createElement(cr,{ref:x,viewVerticalOffset:f?k:0},u.createElement(tr,{columns:y,isCompact:!1,isEdit:f,showDescription:!0,showFilter:h,onSetColumnDescription:(e,t)=>{const n=y.find(t=>t.path===e);n&&(n.description=t,E([...y]))},onSetColumnType:(e,t)=>{const n=y.find(t=>t.path===e);n&&(n.tableColumnInfo.type=t.columnType,n.tableColumnInfo.extendedType=t.columnExtendedType,E(y))}})),u.createElement(ur,{isEdit:f,viewVerticalOffset:_+k},u.createElement(pr,{emphasis:"medium",onClick:()=>{g(!1),v(l.description||""),E(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})))}},"Cancel"),u.createElement(pr,{onClick:()=>{g(!1);const e=y.map(e=>({firestorePath:e.path,description:e.description||"",extendedType:e.tableColumnInfo.extendedType,type:e.tableColumnInfo.type}));r({type:"updateMetadata",description:b,item:l,source:c,columns:e})}},"Save")),u.createElement(dr,{ref:C,viewVerticalOffset:f?-T:_,isSticky:!f&&I},u.createElement(or,{columns:y})))}),hr=u.memo(e=>{const{canEdit:t,columns:n,data:a,isEnd:r,selectedObject:o,selectedSource:i,selectedTableQuery:s}=e,l=u.useContext(p.a),{dispatchAsync:c}=l;return u.createElement(u.Fragment,null,u.createElement(mr,{canEdit:t,columns:n,item:o,source:i}),u.createElement(En,{initialLoad:!1,element:"div",useWindow:!1,pageStart:1,hasMore:!r,loadMore:()=>{c({type:"loadMoreTabularPreview",item:o,source:i,selectedTableQuery:s})}},a.rows.map((e,t)=>u.createElement(Cn,{key:"row-"+t,columns:e.text,isCompact:!1}))),r&&u.createElement(Sn,{columnCount:n.length,compact:!1},"No more data to show"))}),fr=u.memo(e=>{const{canEdit:t,columns:n,data:a,isEnd:r,selectedObject:o,selectedSource:i,tabularViewType:s,maximized:l,selectedTableQuery:c}=e;switch(s){case"column":return u.createElement(k.m,{key:`${o.path}-column`,maximized:l},u.createElement(yn,{columns:n}));case"compact":return u.createElement(k.m,{key:`${o.path}-compact`,maximized:l},u.createElement(ar,{columns:n,data:a,isEnd:r,selectedObject:o,selectedSource:i,selectedTableQuery:c}));default:case"detail":return u.createElement(k.m,{key:`${o.path}-detail`,maximized:l},u.createElement(hr,{canEdit:t,columns:n,data:a,isEnd:r,selectedObject:o,selectedSource:i,selectedTableQuery:c}))}}),gr=(e,t)=>!(!e.path||!t.path)&&e.path===t.path,br=l.a.div`
  flex: 1 1 auto;
  margin: ${e=>e.theme.material.spacing(4)};
  overflow: hidden;
  ${e=>Object(C.a)(e)}
`,vr=l.a.table`
  width: 100%;
`,yr=l()(a.b.withComponent("tbody"))``,Er=l.a.tr``,wr=l.a.th`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  border-bottom: 1px solid ${e=>E.a[e.theme.name].border};
  white-space: nowrap;
  text-align: left;
  padding: ${e=>e.theme.material.spacing(1)}
    ${e=>e.theme.material.spacing(2)};
`,xr=l()(wr)`
  text-align: right;
  width: 120px;
`,Cr=l.a.td`
  text-align: left;
  padding: ${e=>e.theme.material.spacing(1)}
    ${e=>e.theme.material.spacing(2)};
`,kr=l()(Cr)`
  text-align: right;
`,Sr=u.memo(e=>{const{tables:t}=e;return 0===t.totalChildren?u.createElement(w.a,{message:"There are no tables in this selection."}):0===t.count?u.createElement(x.a,null):u.createElement(br,null,u.createElement(vr,null,u.createElement(yr,null,u.createElement(Er,null,u.createElement(wr,null,"Table"),u.createElement(xr,null,"Total Rows"),u.createElement(xr,null,"Total Columns")),t.children.map((e,t)=>u.createElement(Er,{key:`row-${t}`},u.createElement(Cr,null,e.name),u.createElement(kr,null,e.tableInfo.totalRows),u.createElement(kr,null,e.tableInfo.totalColumns))))))},(e,t)=>((e,t)=>{if(e.totalChildren!==t.totalChildren)return!1;if(e.count!==t.count)return!1;if(e.children.length!==t.children.length)return!1;for(let n=0;n<e.children.length;n++)if(!gr(e.children[n],t.children[n]))return!1;return!0})(e.tables,t.tables)),_r=l.a.div`
  flex: 1 1 auto;
  white-space: pre;
  padding: ${e=>e.theme.material.spacing(4)};
`,Or=u.memo(e=>{const{data:t,item:n,source:r,maximized:o}=e,i=t.totalBytes>t.previewBytes;return u.createElement(k.j,{maximized:o},i&&u.createElement(_e.a,{message:Rr,item:n,source:r}),u.createElement(_r,null,u.createElement(a.f,null,t.data)))}),Tr=l()(k.j)`
  display: flex;
`,jr=l.a.video`
  flex: 1 1 auto;
  min-height: 400px;
  max-width: 100%;
  max-height: 100%;
`,Ir=u.memo(e=>{const{data:t,maximized:n}=e;return u.createElement(Tr,{maximized:n},u.createElement(jr,{src:t.url,controls:!0,autoPlay:!1,"data-testid":"preview-video"},"Your browser does not support the video player."))});n.d(t,"c",(function(){return Rr})),n.d(t,"b",(function(){return Ur})),n.d(t,"a",(function(){return $r})),n.d(t,"d",(function(){return qr}));const Dr=u.lazy(()=>Promise.all([n.e(111),n.e(112)]).then(n.bind(null,2353)).then(e=>({default:e.JsonPreview}))),Nr=l.a.div`
  display: flex;
  flex-direction: column;
  border: ${e=>e.mobile?"0":"1px"} solid
    ${e=>E.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.large};
  max-height: ${e=>Object(C.b)(e.mobile,e.maximized)};
`,Mr=l.a.div`
  display: flex;
  flex: 0 0 auto;
  margin: ${e=>e.theme.material.spacing(6)};
  align-items: center;
`,Fr=l()(a.o)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,Pr=l.a.div`
  margin-right: ${e=>e.theme.material.spacing(6)};
`,Lr=l()(a.o)`
  margin-left: ${e=>e.theme.material.spacing(2)};
  color: ${e=>E.a[e.theme.name].text};
  font-weight: ${e=>e.theme.material.typography.body1.fontWeight};
`.withComponent("span"),Ar=l()(r.a)`
  margin-left: ${e=>e.left?0:e.theme.material.spacing(2)};
  margin-right: ${e=>e.left?e.theme.material.spacing(2):0};
  cursor: pointer;
`,Rr="This preview is truncated due to the large file size. Create a Notebook or download this file to see the full content.",Ur="This preview is truncated due to the large file size. The number of JSON items and individual items might be might be truncated. Create a Notebook or download this file to see the full content.",zr="Unable to show preview",$r=e=>{const{treeOnLeft:t}=e,n=u.useContext(p.a),a=u.useContext(p.b),r=u.useContext(s.ThemeContext),i=Object(c.a)(s.BreakpointDown.XS),{dataSources:l,reference:d,previewCache:h,itemColumnCache:f,uxSettings:w,userSettings:x,dispatch:C,dispatchAsync:k,externalCallbacks:S}=n,{selectedObject:_,selectedSource:O,selectedTableQuery:T}=a,{maximized:j,treeCollapsed:I,tabularViewType:N}=w,M=_?Object(Be.d)(_):void 0,F=_?Object(m.a)(_,f):void 0,P=_?Object(v.a)(_,T,F):void 0,L=P?Object(y.a)(P,h):{type:"noPreview"},A=F?F.baseInfo:void 0,R=Object(b.b)(F,T),U=((e,t)=>void 0!==t&&"loadedCachedColumns"===t.state?e.filter(e=>void 0===t.cache[e]):e)(R,F),z=((e,t)=>{if(void 0===t)return{isTabular:!1};if("errorBaseInfo"===t.state||"errorCachedColumns"===t.state)return{isTabular:!0,state:"error",message:"Failed to load columns"};const n=e.map(e=>t.cache[e]).filter(e=>void 0!==e);return"loadedCachedColumns"===t.state&&n.length===e.length?{isTabular:!0,state:"loaded",columns:n}:{isTabular:!0,state:"loading"}})(R,F);if(u.useEffect(()=>{_&&O&&"noPreview"===L.type&&M&&n.dispatchAsync({type:"loadPreview",item:_,source:O,selectedTableQuery:T})},[L,_,O]),u.useEffect(()=>{_&&O&&(void 0===F||"noCache"!==F.state&&"errorBaseInfo"!==F.state||n.dispatchAsync({type:"loadColumnBaseInfo",item:_,source:O}))},[A,_,O]),u.useEffect(()=>{_&&O&&(U.length>0&&void 0!==F&&"loadingCachedColumns"!==F.state?n.dispatchAsync({type:"loadColumns",item:_,source:O,columnPaths:U}):"loadedBaseInfo"===(null==F?void 0:F.state)&&0===U.length&&n.dispatch({type:"setColumnCache",item:_,state:"loadedCachedColumns",cachedColumns:[]}))},[U,_,O]),!_||!O)return u.createElement(Nr,{mobile:i,maximized:j});const $=g(_),B=Object(Be.b)(_,O),V=Object(Be.c)(_,O),H="notebook"!==d.type&&"dataset"===(null==O?void 0:O.sourceType)&&"file"===_.type&&_.name.toLowerCase().endsWith(".csv"),W="dataSource"!==_.type&&"databundle"!==_.type&&"databundleVersion"!==_.type&&"notebook"!==d.type&&!0===x.canEdit,q="notebook"!==d.type,K="notebook"!==d.type||i,G="dataSource"!==_.type&&!("notebook"===d.type&&d.isEditor),Y="dataSource"!==_.type&&"notebook"!==(null==O?void 0:O.sourceType)&&"notebookOutput"!==(null==O?void 0:O.sourceType)&&"utilityScript"!==(null==O?void 0:O.sourceType)&&!z.isTabular,Z=B?u.createElement(o.Tooltip,{tip:"Download"},u.createElement(Ar,{icon:"get_app",size:"medium",left:!1,color:E.a[r.name].text70,onClick:()=>{k({type:"downloadObject",item:_,source:O})}})):null,Q=null==S?void 0:S.onExportToSheets,X=H&&Q&&B?u.createElement(o.Tooltip,{tip:"Export to Google Sheets"},u.createElement(Ar,{icon:"drive_spreadsheet_outline",size:"medium",left:!1,color:E.a[r.name].text70,onClick:()=>Q(_.name,B)})):null,J=q?u.createElement(o.Tooltip,{tip:"Maximize view"},u.createElement(Ar,{icon:j?"fullscreen_exit":"fullscreen",size:"medium",left:!1,color:E.a[r.name].text70,onClick:()=>C({type:"maximize",maximized:!j})})):null,ee=K?u.createElement(o.Tooltip,{tip:I?"Show tree":"Hide tree"},u.createElement(Ar,{icon:I?t?"chevron_right":"chevron_left":t?"chevron_left":"chevron_right",size:"medium",left:t||!1,color:E.a[r.name].text70,onClick:()=>C({type:"collapseTree",collapsed:!I})})):null;return u.createElement(Nr,{mobile:i,maximized:j},G&&u.createElement(Mr,null,t&&ee,u.createElement(Fr,null,_.name,$&&u.createElement(Lr,null,"(",$,")")),u.createElement(D,{reference:d,dataSources:l,userSettings:x,selectedSource:O,selectedObject:_,key:_.path}),Z,X,J,!t&&ee),"notebook"===d.type&&d.isEditor&&u.createElement(lt,{selectedObject:_,selectedSource:O,downloadLink:B,selectedColumnPaths:R,columnBaseInfo:A}),!("notebook"===d.type&&d.isEditor)&&z.isTabular&&"loaded"===z.state&&void 0!==A&&u.createElement(Pr,null,u.createElement(ft,{selectedViewType:N,selectedColumnPaths:R,columnBaseInfo:A})),Y&&u.createElement(ue,{item:_,canEdit:W,key:_.path,remoteUrl:V,onSave:e=>k({type:"updateMetadata",description:e,item:_,source:O,columns:[]})}),M?Vr(L,z,W,_,O,N,j,T):Br(_,O))},Br=(e,t)=>{switch(e.type){case"dataSource":return u.createElement(G,{dataSource:e});case"directory":return u.createElement(Ce,{directory:e,source:t});case"file":const n=e;if(n.sqliteInfo)return u.createElement(Sr,{tables:n.sqliteInfo.tables});if(n.excelInfo)return u.createElement(Sr,{tables:n.excelInfo.tables})}return u.createElement(w.a,{title:zr,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0})},Vr=(e,t,n,a,r,o,i,s)=>{const l=t.isTabular&&"loaded"===t.state?t.columns:[];return"success"!==e.type&&"successEnd"!==e.type&&"loadingMore"!==e.type||t.isTabular&&"loaded"!==t.state?"error"===e.type||"loadingMoreError"===e.type?u.createElement(w.a,{title:zr,message:e.message,isExtended:!0}):t.isTabular&&"error"===t.state?u.createElement(w.a,{title:zr,message:t.message,isExtended:!0}):"loading"===e.type||t.isTabular&&"loading"===t.state?u.createElement(x.a,null):u.createElement(w.a,{title:zr,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0}):Hr(e.data,"successEnd"===e.type,l,n,a,r,o,i,s)},Hr=(e,t,n,a,r,o,s,l,c)=>{if(e.dataRaw)switch(Wr(e.dataRaw.type)){case i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.MARKDOWN:return u.createElement(je,{data:e.dataRaw,item:r,source:o,maximized:l});case i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.JSON:return u.createElement(u.Suspense,{fallback:""},u.createElement(Dr,{data:e.dataRaw,item:r,source:o,maximized:l}));case i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.TEXT:return u.createElement(Or,{data:e.dataRaw,item:r,source:o,maximized:l})}else if(e.dataUrl)switch(qr(e.dataUrl.type)){case i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE:return u.createElement(Se,{data:e.dataUrl,maximized:l});case i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.PDF:return u.createElement(Ne,{data:e.dataUrl,maximized:l});case i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.VIDEO:return u.createElement(Ir,{data:e.dataUrl,maximized:l});case i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.AUDIO:return u.createElement(O,{data:e.dataUrl,maximized:l})}else if(e.dataTable)return u.createElement(fr,{canEdit:a,columns:n,data:e.dataTable,isEnd:t,selectedObject:r,selectedSource:o,selectedTableQuery:c,tabularViewType:s,maximized:l});return u.createElement(w.a,{title:zr,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0})},Wr=e=>{if("string"==typeof e){if("markdown"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.MARKDOWN;if("json"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.JSON;if("text"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataRawType.TEXT}return e},qr=e=>{if("string"==typeof e){if("image"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE;if("pdf"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.PDF;if("video"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.VIDEO;if("audio"===e)return i.c.Sdk.Datasets.DataViewer.Protos.DataUrlType.AUDIO}return e}},1524:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(2),r=n(6),o=n(872),i=n(1570),s=n(147),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onLoadCollaborators=function(e){var t=[];return!e||e.length<3?Promise.resolve({options:t}):r.v.fullSearchWeb({query:e+" in:users",page:1,resultsPerPage:20,showPrivate:!0}).then((function(e){return e.documents.filter((function(e){return"user"===e.documentType})).map((function(e){t.push({label:e.authorDisplayName+" ("+e.url.substr(1)+")",displayName:e.authorDisplayName,value:"i:"+e.databaseId,isOrganization:!1,thumbnailUrl:e.thumbnailImageUrl,id:e.databaseId,slug:e.url,userTier:e.userInfo.performanceTier})})),n.collaboratorSearchOptions=n.collaboratorSearchOptions.concat(t),{options:t}}))},n.onAddCollaborator=function(e){if(null!=e){var t=e.split(":");if(2===t.length){var r=Number(t[1]),i=n.collaboratorSearchOptions.filter((function(e){return!e.isOrganization&&e.id===r})),s=i.length>0?i[0]:null;if(s){if(n.state.collaborators.some((function(e){return e.isUser&&e.userId===s.id}))||n.state.owner.isUser&&n.state.owner.userId===s.id)return o.a.clear(),void o.a.warning("The selected user is already in the list of collaborators.");var l={isUser:!0,isGroup:!1,userId:s.id,name:s.displayName,profileUrl:"/"+s.slug,slug:s.slug,thumbnailUrl:s.thumbnailUrl,userTier:s.userTier,type:n.state.allowReaders?"reader":"writer"},c=n.state.collaborators;n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(c,[l])})}}}},n.onChangeCollaboratorType=function(e,t,r){var o=n.state.collaborators,i=o[t];n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(o.slice(0,t),[Object(a.__assign)(Object(a.__assign)({},i),{type:r})],o.slice(t+1))})},n.onRemoveCollaborator=function(e,t){var r=n.state.collaborators;n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(r.slice(0,t),r.slice(t+1))})},n.onSave=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var e,t,n,r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return e=this.state,t=e.collaborators,n=e.owner,[4,this.props.onSave({collaborators:t,owner:n})];case 1:return r=o.sent(),this.setState(Object(a.__assign)(Object(a.__assign)({},r),{somethingChanged:!1,lastSavedCollaborators:r.collaborators,privateDataSources:this.props.privateDataSources})),[2]}}))}))},n.onReset=function(){n.setState({somethingChanged:!1,collaborators:n.state.lastSavedCollaborators}),n.props.onCancel&&n.props.onCancel()},n.state=Object(a.__assign)(Object(a.__assign)({},e),{somethingChanged:!1,allowReaders:null===e.allowReaders||e.allowReaders,allowWriters:null===e.allowWriters||e.allowWriters,lastSavedCollaborators:e.collaborators.filter((function(e){return!0})),onLoadCollaborators:n.onLoadCollaborators,onAddCollaborator:n.onAddCollaborator,onChangeCollaboratorType:n.onChangeCollaboratorType,onRemoveCollaborator:n.onRemoveCollaborator,onReset:n.onReset,onSaveInternal:n.onSave}),s(n.state.allowWriters||n.state.allowReaders,"Either readers or writers must be allowed"),n.collaboratorSearchOptions=[],n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement(i.a,this.state)},n}(e.Component)}).call(this,n(0))},1525:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(55),o=n(147),i=function(t){function n(e){var n=t.call(this,e)||this;n.onPageChanged=function(e,t){var a=n.state.currentPageName,r=n.getPage(a),o=n.props.onPageChanged,i=t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1===t.button;n.props.preventLoadOnClick&&!i&&t.preventDefault(),n.setState({currentPageName:n.getPageName(e)},(function(){o&&o(e,r)}))},o(e.pages&&e.pages.length>0,"must have at least one page");var r=Object(a.__assign)(Object(a.__assign)({},e),{currentPageName:e.initialPageName?e.initialPageName:n.getPageName(e.pages[0])});return n.state=r,n}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({pages:e.pages,currentPageName:e.initialPageName?e.initialPageName:this.getPageName(e.pages[0])})},n.prototype.getPage=function(e){var t=this;return this.props.pages.find((function(n){return t.getPageName(n)===e}))},n.prototype.getPageName=function(e){return e.menuEntry.tab||e.menuEntry.title},n.prototype.renderNavigation=function(){var t=this;return e.createElement("div",{className:"navbox__nav-wrapper"},e.createElement("nav",{className:"navbox__nav"},this.props.pages.map((function(n,a){var o=t.state.currentPageName===t.getPageName(n),i=t.props.hideSelectedBar?"navbox__nav-item--selected":"navbox__nav-item--selected-with-bar",s=o?i:"navbox__nav-item";return e.createElement(e.Fragment,{key:"navbox-"+a},e.createElement("a",{className:r(s,n.menuEntry.additionalClassName),href:n.menuEntry.href,onClick:function(e){return t.onPageChanged(n,e)},title:n.menuEntry.title},e.createElement("span",{className:"navbox__nav-item-content"},n.menuEntry.text,n.menuEntry.count||n.menuEntry.showZeroCountExplicitly?" ("+(n.menuEntry.count||0)+")":null)),t.props.inlinePages&&o&&t.renderPage())}))))},n.prototype.renderPage=function(){var t=this.getPage(this.state.currentPageName);return t||console.error("Page named "+this.state.currentPageName+" not found."),e.createElement("div",{className:"navbox__page"},t&&t.element)},n.prototype.render=function(){return e.createElement("div",{className:"navbox__container"},this.renderNavigation(),!this.props.inlinePages&&this.renderPage())},n}(e.Component)}).call(this,n(0))},1529:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1415),r=n(1141),o=n(1475),i=n(1334);const s=(e,t)=>{const n=t?Object(i.a)(e):Object(i.a)(e).filter(e=>!Object(r.g)(e)),s=Object(a.a)(o.a);if(s){const e=n.find(e=>e.relativeUrl===s);if(e)return e}if(n.length>0){for(const e of n)if("file"===(null==e?void 0:e.type)&&(null==e?void 0:e.name)&&e.name.toLowerCase().indexOf("readme")>=0)return e;for(const e of n)if("directory"!==(null==e?void 0:e.type))return e;return n[0]}}},1530:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),i=(a=o)&&a.__esModule?a:{default:a},s=n(8);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scriptLoaderId="id"+n.constructor.idCount++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onError,n=e.onLoad,a=e.url;this.constructor.loadedScripts[a]?n():this.constructor.erroredScripts[a]?t():this.constructor.scriptObservers[a]?this.constructor.scriptObservers[a][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[a]=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.scriptLoaderId,this.props),this.createScript())}},{key:"componentWillUnmount",value:function(){var e=this.props.url,t=this.constructor.scriptObservers[e];t&&delete t[this.scriptLoaderId]}},{key:"createScript",value:function(){var e=this,t=this.props,n=t.onCreate,a=t.url,r=t.attributes,o=document.createElement("script");n(),r&&Object.keys(r).forEach((function(e){return o.setAttribute(e,r[e])})),o.src=a,o.hasAttribute("async")||(o.async=1);var i=function(t){var n=e.constructor.scriptObservers[a];Object.keys(n).forEach((function(r){t(n[r])&&delete e.constructor.scriptObservers[a][e.scriptLoaderId]}))};o.onload=function(){e.constructor.loadedScripts[a]=!0,i((function(e){return e.onLoad(),!0}))},o.onerror=function(){e.constructor.erroredScripts[a]=!0,i((function(e){return e.onError(),!0}))},document.body.appendChild(o)}},{key:"render",value:function(){return null}}]),t}(i.default.Component);l.propTypes={attributes:s.PropTypes.object,onCreate:s.PropTypes.func,onError:s.PropTypes.func.isRequired,onLoad:s.PropTypes.func.isRequired,url:s.PropTypes.string.isRequired},l.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},l.scriptObservers={},l.loadedScripts={},l.erroredScripts={},l.idCount=0,t.default=l,e.exports=t.default},1531:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));const a=(e,t)=>({type:"uploadContainer",files:[],directories:[],existingFiles:t.map(e=>o(e)),existingDirectories:e.map(e=>i(e))}),r=e=>({type:"remoteUrlUploadContainer",children:e.map(e=>({type:"remoteUrlUploadFile",name:e.name,url:e.url,state:{type:"success",size:0}}))}),o=e=>({type:"existingFile",name:e.name,size:e.size,identifier:{type:"firestore",gcsPath:e.gcsPath||""}}),i=e=>({type:"existingDirectory",name:e.name,directories:e.directories.map(e=>i(e)),files:e.files.map(e=>o(e))})},1532:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(2),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"horizontal-list"},this.props.list.filter((function(e){return e})).map((function(n,a){return e.createElement("li",{key:a,className:"horizontal-list-item horizontal-list-item--"+(t.props.separator||"bullet")+" "+(!t.props.overrideStyling&&"horizontal-list-item--default")},n)})))},n}(e.Component)}).call(this,n(0))},1533:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,r,o=n(2),i=n(891),s=n(1),l=n.n(s),c=n(1007),u=l.a.div.withConfig({displayName:"SubTitleWithElapsedTime_Wrapper",componentId:"sc-llzmqb"})(a||(a=Object(o.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),c.b.TextLight,c.d.FontSizeS,c.d.FontWeightNormal),d=l()(i.a).withConfig({displayName:"SubTitleWithElapsedTime_StyledTimeAgo",componentId:"sc-foa8qs"})(r||(r=Object(o.__makeTemplateObject)(["\n  display: inline-block;\n  width: 75px;\n  margin-right: ",";\n"],["\n  display: inline-block;\n  width: 75px;\n  margin-right: ",";\n"])),c.g.PadM);function p(t){return e.createElement(u,null,e.createElement(d,{time:t.elapsedTime}),t.children)}}).call(this,n(0))},1534:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(145),r=n(874),o=n(1),i=n.n(o),s=n(0),l=n(1164);const c=i()(l.c)`
  display: flex;
`,u=i.a.div`
  flex: 1 0 0;
  padding: ${l.o} ${e=>e.theme.material.spacing(12)} ${l.o}
    ${l.o};
`,d=i.a.div`
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
  height: 256px;
`,p=i()(a.n)`
  color: ${e=>e.theme.material.color.text[70]};
  margin-bottom: ${l.b};
`,m=i()(a.a)`
  margin-bottom: ${l.b};
  color: ${l.d};
`,h=i.a.img`
  background-color: ${l.e};
  width: 400px;
  border-radius: 0 ${e=>e.theme.material.borderRadius.normal}
    ${e=>e.theme.material.borderRadius.normal} 0;
  border: 0;
`,f=e=>{const{title:t,description:n,buttonText:a,imageUrl:o,onButtonClick:i}=e;return s.createElement(c,null,s.createElement(u,null,s.createElement(p,null,t),s.createElement(m,null,n),i&&s.createElement(r.a,{emphasis:"medium",onClick:i},a)),s.createElement(d,null,s.createElement(h,{src:o})))}},1535:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w}));var a=n(144),r=n(145),o=n(108),i=n(1003),s=n(245),l=n(1),c=n.n(l),u=n(122),d=n(0),p=n(891),m=n(1164);const h=c()(a.a)`
  z-index: 100 !important;
`,f=c.a.div`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: ${e=>e.extended?e.theme.material.spacing(3):e.theme.material.spacing(1)};
`,g=c.a.div`
  color: ${m.d};
  margin-top: ${e=>e.theme.material.spacing(2)};
  display: flex;
  align-items: center;
`,b=c()(g)`
  &:hover * {
    color: ${e=>e.theme.material.color.brand.blue[900]} !important;
  }
`,v=c()(r.e)`
  white-space: nowrap;
  margin-top: ${e=>e.theme.material.spacing(.5)};
  margin-right: ${e=>e.theme.material.spacing(1)};
`,y=c()(o.a)`
  /* link needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};
`,E=e=>{const{item:t,compact:n,selected:r,onSelect:o,onVote:c,onAccept:E,onUnaccept:w,onDelete:x}=e,{title:C,author:k,type:S,submittedDate:_,acceptedDate:O,lastUpdated:T,voteButton:j,commentCount:I,notebookInfo:D,datasetInfo:N}=t,{displayName:M,slug:F,thumbnailImageUrl:P,tier:L}=k,A=!0!==n,R=T||_,[U,z]=d.useState(!1);return d.createElement(d.Fragment,null,d.createElement(m.f,{selected:r,onClick:e=>{e.target&&e.target.firstChild&&"button"===e.target.firstChild.localName?e.stopPropagation():(o(),e.stopPropagation())}},P&&A&&d.createElement(i.a,{thumbnailUrl:P,displayName:M,profileUrl:`/${F}`,tier:L||void 0,size:"xlarge",style:{marginRight:"16px"}}),d.createElement(m.g,null,d.createElement(m.l,null,d.createElement(m.k,null,C)),d.createElement(f,{extended:A},d.createElement(m.h,null,A&&d.createElement(d.Fragment,null,d.createElement(m.j,{href:`/${F}`,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},M)," · "),R&&d.createElement(d.Fragment,null,d.createElement(p.a,{time:R})," · "),"notebook"===S?"Notebook":"Dataset",D&&d.createElement(d.Fragment,null," · ",D.language,A&&d.createElement(d.Fragment,null," · ",u("Comment",I,!0))),N&&d.createElement(d.Fragment,null," · ",u("File",N.fileCount,!0),A&&d.createElement(d.Fragment,null," · ",u("Comment",I,!0)))))),d.createElement(m.i,null,c&&j&&A&&d.createElement(m.m,{totalVotes:j.totalVotes,state:j.hasAlreadyVotedUp?"voted-up":"no-vote",onVote:j.canUpvote?e=>{c(),e.stopPropagation()}:void 0}),A&&O&&d.createElement(g,{onClick:w?e=>{w(),e.stopPropagation()}:void 0},d.createElement(v,null,"Accepted Submission"),d.createElement(y,{color:l.defaultTheme.material.color.status.success[1e3],icon:d.createElement("svg",{viewBox:"0 0 24 24",width:"18px",height:"18px"},d.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),d.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xsmall"})),A&&!O&&E&&d.createElement(b,{onClick:e=>{E(),e.stopPropagation()}},d.createElement(v,null,"Accept Submission"),d.createElement(y,{color:l.defaultTheme.material.color.brand.grey[500],icon:"radio_button_unchecked",size:"xsmall"})),A&&!O&&x&&d.createElement(b,{onClick:e=>{z(!0),e.stopPropagation()}},d.createElement(v,null,"Remove Submission"),d.createElement(y,{color:l.defaultTheme.material.color.brand.grey[500],icon:"delete_forever",size:"xsmall"})))),x&&d.createElement(h,{open:U,onClose:e=>{"delete"===e.detail.action&&x(),z(!1),e.stopPropagation()}},d.createElement(a.d,null,"Are you sure you want to remove this submission?"),d.createElement(a.c,null,"This submissions to the task will be deleted with this action. Are you sure you want to proceed?"),d.createElement(a.b,null,d.createElement(s.a,{action:"delete",emphasis:"low"},"Delete"),d.createElement(s.a,{action:"cancel",isDefaultAction:!0},"Cancel"))))},w=e=>"dataset"===e.type&&e.datasetInfo?`dataset-${e.datasetInfo.datasetId}`:"notebook"===e.type&&e.notebookInfo?`notebook-${e.notebookInfo.kernelId}`:`submission-${e.id}`},1536:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return O}));var a,r,o,i,s,l=n(2),c=n(6),u=n(1),d=n.n(u),p=n(0),m=n(1007),h=n(1126),f=n(1537),g=c.c.Sdk.Discussions.Protos.FlagReason,b=d.a.div.withConfig({displayName:"ReportContent_ButtonRow",componentId:"sc-8lkmma"})(a||(a=Object(l.__makeTemplateObject)(["\n  display: flex;\n  justify-content: flex-end;\n"],["\n  display: flex;\n  justify-content: flex-end;\n"]))),v=d()(h.a).withConfig({displayName:"ReportContent_SpacedOutButton",componentId:"sc-12knikk"})(r||(r=Object(l.__makeTemplateObject)(["\n  margin: 5px;\n  width: 80px; /* not using ButtonAutoWidth since it doesn't support disabled */\n"],["\n  margin: 5px;\n  width: 80px; /* not using ButtonAutoWidth since it doesn't support disabled */\n"]))),y=d.a.textarea.withConfig({displayName:"ReportContent_TextArea",componentId:"sc-xpcbhv"})(o||(o=Object(l.__makeTemplateObject)(["\n  color: ",";\n  font-size: inherit;\n  ",";\n  padding: "," ",";\n  margin: "," 0;\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: ",";\n  &::placeholder {\n    color: ",";\n  }\n  width: 100%;\n  box-sizing: border-box;\n  height: 200px;\n"],["\n  color: ",";\n  font-size: inherit;\n  ",";\n  padding: "," ",";\n  margin: "," 0;\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: ",";\n  &::placeholder {\n    color: ",";\n  }\n  width: 100%;\n  box-sizing: border-box;\n  height: 200px;\n"])),(function(e){return e.theme.colors.text.medium}),(function(e){return e.theme.font.main.family}),m.g.PadS,m.g.PadM,m.g.PadM,(function(e){return e.theme.colors.border}),m.b.PureWhite,(function(e){return e.theme.size.border.radius.input}),(function(e){return e.theme.colors.text.light})),E=d.a.div.withConfig({displayName:"ReportContent_CommentReportModal",componentId:"sc-buxpr1"})(i||(i=Object(l.__makeTemplateObject)(["\n  padding: 30px;\n  @media screen and (min-width: ",") {\n    min-width: 500px;\n  }\n"],["\n  padding: 30px;\n  @media screen and (min-width: ",") {\n    min-width: 500px;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max})),w=d.a.div.withConfig({displayName:"ReportContent_ReportContentHeader",componentId:"sc-1cziybi"})(s||(s=Object(l.__makeTemplateObject)(["\n  font-size: ",";\n  padding-bottom: 10px;\n"],["\n  font-size: ",";\n  padding-bottom: 10px;\n"])),m.d.FontSizeXl),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reasonType:null},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.reasons.map((function(e){return{value:e.value,text:e.reasonText}}));return p.createElement("div",null,p.createElement(f.a,{options:t,onChange:function(t){return e.setState({reasonType:t.value})}}),p.createElement(b,null,p.createElement(v,{onClick:this.props.onCancel},"Cancel"),p.createElement(v,{onClick:function(){return e.props.onNext(e.state.reasonType)},isDisabled:null==this.state.reasonType},"Next")))},t}(p.Component),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={responseText:""},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this;return p.createElement("div",null,this.props.promptText,p.createElement(y,{onChange:function(t){e.setState({responseText:t.target.value})}}),p.createElement(b,null,p.createElement(v,{onClick:this.props.onCancel},"Cancel"),p.createElement(v,{isDisabled:this.props.requireExplanationText&&0===this.state.responseText.length,onClick:function(){e.props.onSubmit(e.state.responseText)}},"Report")))},t}(p.Component),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reasonType:null,curPage:1},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this;return 1===this.state.curPage?p.createElement(x,{reasons:this.props.reasons,onCancel:this.props.onCancel,onNext:function(t){e.setState({curPage:2,reasonType:t})}}):p.createElement(C,{onSubmit:function(t){return e.props.submitMethod(e.state.reasonType,t)},onCancel:this.props.onCancel,promptText:this.getPromptTextFromReasonValue(),requireExplanationText:this.props.requireExplanationText})},t.prototype.getPromptTextFromReasonValue=function(){var e=this;return this.props.reasons.filter((function(t){return t.value===e.state.reasonType}))[0].promptText},t}(p.Component),S=[{value:g.SPAM,reasonText:"This Notebook is being promoted in a way I feel is spammy",promptText:p.createElement("div",null,'"Where did you see the promotion for this Notebook?')},{value:g.ABUSIVE,reasonText:"Notebook contains abusive content that is not suitable for this platform",promptText:p.createElement("div",null,"Please describe the content concern")},{value:g.PLAGIARISM,reasonText:"Plagiarism/copied content that is not meaningfully different",promptText:p.createElement("div",null,"Where is this copied from? Reports must include an example of the exact snippets that have been copied, their location within both of the documents, and the URL of the original content. If the original is not a Notebook, the original must include a date showing when it was created.")},{value:g.VOTE_MANIPULATION,reasonText:"Votes for this Notebook are being manipulated",promptText:p.createElement("div",null,"Please describe the vote manipulation")},{value:g.OTHER,reasonText:"Other",promptText:p.createElement("div",null,"For questions about the editing tool or to report bugs, post to the"," ",p.createElement("a",{href:"kaggle.com/getting-started"},"Getting Started")," or"," ",p.createElement("a",{href:"kaggle.com/product-feedback"},"Product Feedback")," forum.",p.createElement("br",null),"Otherwise, explain your concerns here.")}],_=[{value:g.SPAM,reasonText:"This dataset is being promoted in a way I feel is spammy",promptText:p.createElement("div",null,"Where did you see the promotion for this dataset?")},{value:g.ABUSIVE,reasonText:"Dataset contains abusive content that is not suitable for this platform",promptText:p.createElement("div",null,"Please describe the content concern")},{value:g.PRIVACY_VIOLATION,reasonText:"Dataset raises a privacy concern, or is not sufficiently anonymized",promptText:p.createElement("div",null,"Please describe your concern")},{value:g.VOTE_MANIPULATION,reasonText:"Votes for this dataset are being manipulated",promptText:p.createElement("div",null,"Please describe the vote manipulation")},{value:g.COPYRIGHT_VIOLATION,reasonText:"Dataset raises a copyright concern",promptText:p.createElement("div",null,"Please follow the guidance ",p.createElement("a",{href:"/copyright-dispute-policy"},"here")," ","to file a takedown request, and include any relevant information below")},{value:g.OTHER,reasonText:"Other",promptText:p.createElement("div",null,"What are your concerns?")}],O=[{value:g.SPAM,reasonText:"Spammy message",promptText:p.createElement("div",null,"Anything else to add? (optional)")},{value:g.ABUSIVE,reasonText:"Abusive language",promptText:p.createElement("div",null,"Anything else to add? (optional)")},{value:g.VOTE_MANIPULATION,reasonText:"Votes for this post are being manipulated",promptText:p.createElement("div",null,"Please describe the vote manipulation")},{value:g.OTHER,reasonText:"Other",promptText:p.createElement("div",null,"What are your concerns?")}]},1537:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=n(55),o=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},n.state={selectedValue:e.selectedValue},n}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"radio-button-list"},this.props.options.map((function(n){var a=t.state.selectedValue===n.value;return e.createElement("li",{role:"button",className:r("radio-button-list__option",a?"radio-button-list__option--selected":"",t.props.textIsClickable?"checkbox--clickable":""),key:n.value,onClick:t.props.textIsClickable?function(){return t.handleClick(n)}:null},e.createElement("span",{role:"radio","aria-checked":a,className:r("radio-button-list__option-radio",t.props.textIsClickable?"":"radio-button-list__option-radio--clickable",a?"radio-button-list__option-radio--selected":""),onClick:function(){return t.handleClick(n)}}),e.createElement("span",{className:r("radio-button-list__option-label")},n.text))})))},n}(e.Component)}).call(this,n(0))},1549:function(e,t,n){"use strict";var a=n(6);var r=n(1048);var o=n(1335),i=n(1336);const s=e=>{var t,n,a,r,o,i,l;if(!e)return 0;switch(e.type){case"dataSource":return s(e.databundleVersion);case"databundle":return(null===(t=e.databundleInfo.versions)||void 0===t?void 0:t.children.length)||0;case"databundleVersion":const c=e;return((null===(n=c.filesetInfo)||void 0===n?void 0:n.directories.children.length)||0)+((null===(a=c.filesetInfo)||void 0===a?void 0:a.files.children.length)||0)+((null===(r=c.bigquerySnapshotInfo)||void 0===r?void 0:r.bigqueryTables.children.length)||0);case"directory":const u=e;return(u.directoryInfo.directories.children.length||0)+(u.directoryInfo.files.children.length||0);case"file":const d=e;return((null===(o=d.tableInfo)||void 0===o?void 0:o.tableColumns.children.length)||0)+((null===(i=d.sqliteInfo)||void 0===i?void 0:i.tables.children.length)||0)+((null===(l=d.excelInfo)||void 0===l?void 0:l.tables.children.length)||0);case"table":return e.tableInfo.tableColumns.children.length||0}return 0};var l=n(1242);const c=(e,t)=>{if(!Object(o.a)(t.item))return e;if(t.state)return u(e,t.item,t.state);const n=Object(i.a)(t.item,e.expanded);if("loading"===n||"loadingMore"===n)return e;if((e=>{const t=s(e),n=Object(l.a)(e);return 0===t&&n>0})(t.item))return e.dispatchAsync({type:"loadInitialChildren",item:t.item,source:t.source}),u(e,t.item,"loading");const a="expanded"===n?"notExpanded":"expanded";return u(e,t.item,a)},u=(e,t,n)=>{const a=e.expanded;return a[t.path]=n,Object.assign(Object.assign({},e),{expanded:a})};var d=n(2),p=n(1131);const m=(e,t)=>{const{reference:n}=e;return t.databundleVersion.legacyEntityId?{competitionId:"competition"===t.sourceType?t.sourceId:null,datasetId:"dataset"===t.sourceType?t.sourceId:null,databundleVersionId:t.databundleVersion.legacyEntityId,datasetHashLink:"dataset"===n.type&&n.hashLink?n.hashLink:null}:{competitionId:null,datasetId:null,databundleVersionId:0,datasetHashLink:null}};var h=n(1130);var f=n(1346),g=n(1338);const b={skip:0,take:50,filter:{constantFilter:{value:!0}},selectedColumns:[],sorts:[]},v=(e,t,n,a)=>{const r=(e=>{switch(e.type){case"file":const t=e;return t.fileInfo.fullPath.endsWith(".csv")||t.fileInfo.fullPath.endsWith(".tsv");case"table":return!0;default:return!1}})(e)?Object.assign({},b):null;if(r){if(a&&a.filters&&a.filters.length>0){const e=a.filters.map(e=>({columnFilter:e}));r.filter={andFilter:{filters:e}}}if((null==a?void 0:a.selectedColumns)&&(r.selectedColumns=a.selectedColumns),(null==a?void 0:a.sortBy)&&(r.sorts=[a.sortBy]),(null==a?void 0:a.skip)&&(r.skip=a.skip),(null==a?void 0:a.take)&&(r.take=a.take),n){const e="success"===t.type&&t.data.dataTable?t.data.dataTable.rows.length:0;r.skip+=e}}return r},y=(e,t)=>("notebookOutput"===e.sourceType||"notebook"===e.sourceType||"utilityScript"===e.sourceType)&&null!==t.legacyEntityId,E=(e,t)=>{var n,a,r,o,i,s;switch(t.item.type){case"dataSource":const l=t.item;return E(e,Object.assign(Object.assign({},t),{item:l.databundleVersion}));case"databundleVersion":const c=t.item;(null===(n=c.bigquerySnapshotInfo)||void 0===n?void 0:n.bigqueryTables)&&c.bigquerySnapshotInfo.bigqueryTables.totalChildren>0&&t.tables.length>0&&(c.bigquerySnapshotInfo.bigqueryTables=C(c.bigquerySnapshotInfo.bigqueryTables,t.tables)),(null===(a=c.filesetInfo)||void 0===a?void 0:a.directories)&&c.filesetInfo.directories.totalChildren>0&&t.directories.length>0&&(c.filesetInfo.directories=w(c.filesetInfo.directories,t.directories)),(null===(r=c.filesetInfo)||void 0===r?void 0:r.files)&&c.filesetInfo.files.totalChildren>0&&t.files.length>0&&(c.filesetInfo.files=x(c.filesetInfo.files=c.filesetInfo.files,t.files));break;case"directory":const u=t.item;t.directories.length>0&&(u.directoryInfo.directories=w(u.directoryInfo.directories,t.directories)),t.files.length>0&&(u.directoryInfo.files=x(u.directoryInfo.files,t.files));break;case"file":const d=t.item;t.tables.length>0&&((null===(o=d.excelInfo)||void 0===o?void 0:o.tables)&&d.excelInfo.tables.totalChildren>0?d.excelInfo.tables=C(d.excelInfo.tables,t.tables):(null===(i=d.sqliteInfo)||void 0===i?void 0:i.tables)&&d.sqliteInfo.tables.totalChildren>0&&(d.sqliteInfo.tables=C(d.sqliteInfo.tables,t.tables))),(null===(s=d.tableInfo)||void 0===s?void 0:s.tableColumns)&&d.tableInfo.tableColumns.totalChildren>0&&t.tableColumns.length>0&&(d.tableInfo.tableColumns=k(d.tableInfo.tableColumns,t.tableColumns));break;case"table":const p=t.item;t.tableColumns.length>0&&(p.tableInfo.tableColumns=k(p.tableInfo.tableColumns,t.tableColumns))}return t.expandParent?u(e,t.item,"expanded"):Object.assign({},e)},w=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),x=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),C=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),k=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren});var S=n(1475),_=n(1385);var O=n(1450);const T=(e,t,n)=>{const a=e.previewCache;return a[t]=n,Object.assign(Object.assign({},e),{previewCache:a})};n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return I}));const j=(e,t,n)=>{const{legacyClients:{analyticsClient:r}}=n,{reference:o}=e;r.logger.report("datasets",`data-explorer-v3-${t.type}`,{reference:o,treeOnLeft:a.n.datasetsDataExplorerV3TreeLeft});try{if("select"===t.type)return Object(S.b)(e,t);if("setColumnQuery"===t.type)return((e,t)=>{var n,a,r,o,i;const{dispatchAsync:s}=e,{column:l,selectionContainer:c,columnFilter:u,sortBy:d}=t,{selectedTableQuery:p}=c,m=(null==d?void 0:d.column.firestorePath)===l.firestorePath?d:void 0;if(m!==d)return s({type:"showMessage",message:"Could not sort a different column than selected. Please refresh and try again."}),e;const h=u.filter(e=>e.column.firestorePath===l.firestorePath);if(h.length!==u.length)return s({type:"showMessage",message:"Could not filter a different column than selected. Please refresh and try again."}),e;const f=Object.assign({},p),g=(null===(n=null==p?void 0:p.sortBy)||void 0===n?void 0:n.column.firestorePath)===l.firestorePath?p.sortBy:void 0,b=(null==g?void 0:g.column.firestorePath)!==(null==m?void 0:m.column.firestorePath)||(null==g?void 0:g.direction)!==(null==m?void 0:m.direction);b&&(f.sortBy=m);const v=null!==(r=null===(a=null==p?void 0:p.filters)||void 0===a?void 0:a.filter(e=>e.column.firestorePath===l.firestorePath))&&void 0!==r?r:[],y=v.length!==h.length||!v.map(e=>h.map(t=>Object(O.a)(e,t)).reduce((e,t)=>e&&t,!0)).reduce((e,t)=>e&&t,!0);if(y){const e=null!==(i=null===(o=f.filters)||void 0===o?void 0:o.filter(e=>e.column.firestorePath!==l.firestorePath))&&void 0!==i?i:[];f.filters=e.concat(h)}return(b||y)&&c.setTableQuery(f),e})(e,t);if("selectColumns"===t.type)return((e,t)=>{var n;const{itemColumnCache:a}=e,{selectedColumns:r,selectionContainer:o}=t,{selectedObject:i,selectedTableQuery:s}=o;if(!i)return e;const l=null===(n=Object(p.a)(i,a))||void 0===n?void 0:n.baseInfo;if(void 0===l||0===l.length)return e;const c=(null==s?void 0:s.selectedColumns)?s.selectedColumns.map(e=>e.firestorePath):l.map(e=>e.firestorePath).slice(0,_.a),u=r.map(e=>e.firestorePath);return u.length!==c.length||u.map(e=>!c.includes(e)).reduce((e,t)=>e&&t,!0)?(o.setTableQuery(Object.assign(Object.assign({},s),{selectedColumns:r})),e):e})(e,t);if("expand"===t.type)return c(e,t);if("mergeChildren"===t.type)return E(e,t);if("setColumnCache"===t.type)return((e,t)=>{var n,a;const{itemColumnCache:r}=e,{item:o,state:i,baseInfo:s,cachedColumns:l}=t,c=Object(p.a)(o,r);if(void 0===c)return e;const u=c.state;if("loadingBaseInfo"===i&&"noCache"===u){const t=r;return t[o.path]={state:i,baseInfo:[],cache:{}},Object.assign(Object.assign({},e),{itemColumnCache:t})}if("loadedBaseInfo"===i&&("loadingBaseInfo"===u||"errorBaseInfo"===u)||"errorBaseInfo"===i&&"loadingBaseInfo"===u||"loadingCachedColumns"===i&&("loadedBaseInfo"===u||"loadedCachedColumns"===u||"errorCachedColumns"===u)||"loadedCachedColumns"===i&&("loadingCachedColumns"===u||"errorCachedColumns"===u)||"errorCachedColumns"===i&&"loadingCachedColumns"===u||"loadedCachedColumns"===i&&"loadedBaseInfo"===u&&0===(null===(n=t.cachedColumns)||void 0===n?void 0:n.length)&&0===(null===(a=c.baseInfo)||void 0===a?void 0:a.length)){const n=r,a=n[o.path];return a.state=i,void 0!==s&&(a.baseInfo=s),void 0!==l&&l.forEach(e=>{a.cache[e.path]=e}),n[t.item.path]=a,Object.assign(Object.assign({},e),{itemColumnCache:n})}return e})(e,t);if("setPreview"===t.type)return((e,t)=>T(e,t.cacheKey,t.state))(e,t);if("setMoreTabularPreview"===t.type)return((e,t)=>{const n=e.previewCache,a=n[t.cacheKey],{state:r}=t;if("loadingMore"===r.type&&("success"===a.type||"loadingMoreError"===a.type))return n[t.cacheKey]={type:r.type,data:a.data,lastRetrieved:"success"===a.type?a.retrieved:a.lastRetrieved},Object.assign(Object.assign({},e),{previewCache:n});if("loadingMoreError"===r.type&&"loadingMore"===a.type)return n[t.cacheKey]={type:r.type,data:a.data,lastRetrieved:a.lastRetrieved,message:r.message},Object.assign(Object.assign({},e),{previewCache:n});if(("success"===r.type||"successEnd"===r.type)&&r.additionalData.dataTable&&("loadingMore"===a.type||"loadingMoreError"===a.type)&&a.data.dataTable){const o=a.data.dataTable.rows.concat(r.additionalData.dataTable.rows),i=a.data.dataTable.rowsReturned+r.additionalData.dataTable.rowsReturned,s=o.map((e,t)=>Object.assign(Object.assign({},e),{rowNumber:t}));return n[t.cacheKey]={type:r.type,retrieved:r.retrievedDate,data:Object.assign(Object.assign({},a.data),{dataTable:{type:r.additionalData.dataTable.type,rows:s,rowsReturned:i,totalRows:r.additionalData.dataTable.totalRows}})},Object.assign(Object.assign({},e),{previewCache:n})}return e})(e,t);if("collapseTree"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{treeCollapsed:t.collapsed})}))(e,t);if("maximize"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{maximized:t.maximized})}))(e,t);if("setTabularView"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{tabularViewType:t.viewType})}))(e,t);if("setMetadata"===t.type)return((e,t)=>{const{itemColumnCache:n}=e,{item:a,description:r,columnUpdates:o}=t;a.description=r;const i=Object(p.a)(a,n);return 0===o.length||void 0===(null==i?void 0:i.cache)?e:(o.forEach(e=>{i.cache[e.firestorePath]&&(i.cache[e.firestorePath].tableColumnInfo.type=e.type,i.cache[e.firestorePath].tableColumnInfo.extendedType=e.extendedType,i.cache[e.firestorePath].description=e.description)}),e)})(e,t)}catch(e){r.logger.report("datasets","data-explorer-v3-error",{actionType:t.type,reference:o,error:e,treeOnLeft:a.n.datasetsDataExplorerV3TreeLeft})}return e},I=(e,t,n)=>{const{legacyClients:{analyticsClient:o}}=n,{reference:c}=e;o.logger.report("datasets",`data-explorer-v3-${t.type}`,{reference:c,treeOnLeft:a.n.datasetsDataExplorerV3TreeLeft});try{"loadInitialChildren"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){var a;const{dispatch:r,dispatchAsync:o}=e;if((null===(a=e.externalCallbacks)||void 0===a?void 0:a.onLoadOutputDirectory)&&"notebookOutput"===t.source.sourceType)return yield e.externalCallbacks.onLoadOutputDirectory(t.item),void r({type:"expand",item:t.item,source:t.source,state:"expanded"});const i=Object(l.a)(t.item),s=Math.min(i,30),{clients:{datasetsClient:c},legacyClients:{analyticsClient:u}}=n;try{const n=yield c.getDatabundleExternalChildren({verificationInfo:m(e,t.source),firestorePath:t.item.path,count:s,depth:1,offset:0});r({type:"mergeChildren",item:t.item,directories:n.directories,files:n.files,tables:n.tables,tableColumns:n.tableColumns,expandParent:!0})}catch(e){o({type:"showMessage",message:`Could not load files: ${Object(h.a)("GetDatabundleExternalChildrenRequest",e,u)}`}),r({type:"expand",item:t.item,source:t.source,state:"notExpanded"})}})))(e,t,n):"loadMoreChildren"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){const{clients:{datasetsClient:a},legacyClients:{analyticsClient:r}}=n,{expanded:o,dispatch:c,dispatchAsync:u}=e,d=Object(i.a)(t.item,o);c({type:"expand",item:t.item,source:t.source,state:"loadingMore"});const p=s(t.item),f=Object(l.a)(t.item);if(p>=f)return;const g=Math.min(f-p,30);try{const n=yield a.getDatabundleExternalChildren({verificationInfo:m(e,t.source),firestorePath:t.item.path,count:g,depth:1,offset:p});c({type:"mergeChildren",item:t.item,directories:n.directories,files:n.files,tables:n.tables,tableColumns:n.tableColumns,expandParent:!0})}catch(e){u({type:"showMessage",message:`Could not load more files: ${Object(h.a)("GetDatabundleExternalChildrenRequest",e,r)}`}),c({type:"expand",item:t.item,source:t.source,state:d})}})))(e,t,n):"loadPreview"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){var a,r;const{clients:{datasetsClient:o},legacyClients:{analyticsClient:i}}=n,{previewCache:s,itemColumnCache:l,dispatch:c}=e,u=Object(p.a)(t.item,l),d=Object(f.a)(t.item,t.selectedTableQuery,u),b=Object(g.a)(d,s),E=v(t.item,b,!1,t.selectedTableQuery);if("loading"===b.type||"success"===b.type)return;c({type:"setPreview",cacheKey:d,state:{type:"loading"}});const w=y(t.source,t.item);try{const n=w?yield o.getKernelOutputDataViewExternal({kernelOutputFileId:t.item.legacyEntityId,tableQuery:E}):yield o.getDataViewExternal({verificationInfo:m(e,t.source),firestorePath:t.item.path,tableQuery:E});c({type:"setPreview",cacheKey:d,state:{type:void 0!==(null===(r=null===(a=n.dataView)||void 0===a?void 0:a.dataTable)||void 0===r?void 0:r.rowsReturned)&&void 0!==(null==E?void 0:E.take)&&n.dataView.dataTable.rowsReturned<E.take?"successEnd":"success",data:n.dataView,retrieved:new Date}})}catch(e){c({type:"setPreview",cacheKey:d,state:{type:"error",message:Object(h.a)(w?"GetKernelOutputDataViewExternalRequest":"GetDataViewExternalRequest",e,i)}})}})))(e,t,n):"loadMoreTabularPreview"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){var a,r;const{clients:{datasetsClient:o},legacyClients:{analyticsClient:i}}=n,{previewCache:s,itemColumnCache:l,dispatch:c,dispatchAsync:u}=e,d=Object(p.a)(t.item,l),b=Object(f.a)(t.item,t.selectedTableQuery,d),E=Object(g.a)(b,s),w=v(t.item,E,!0,t.selectedTableQuery);if("success"!==E.type&&"loadingMoreError"!==E.type)return;c({type:"setMoreTabularPreview",cacheKey:b,state:{type:"loadingMore"}});const x=y(t.source,t.item);try{const n=x?yield o.getKernelOutputDataViewExternal({kernelOutputFileId:t.item.legacyEntityId,tableQuery:w}):yield o.getDataViewExternal({verificationInfo:m(e,t.source),firestorePath:t.item.path,tableQuery:w});c({type:"setMoreTabularPreview",cacheKey:b,state:{type:void 0!==(null===(r=null===(a=n.dataView)||void 0===a?void 0:a.dataTable)||void 0===r?void 0:r.rowsReturned)&&void 0!==(null==w?void 0:w.take)&&n.dataView.dataTable.rowsReturned<w.take?"successEnd":"success",additionalData:n.dataView,retrievedDate:new Date}})}catch(e){const t=Object(h.a)(x?"GetKernelOutputDataViewExternalRequest":"GetDataViewExternalRequest",e,i);u({type:"showMessage",message:`Could not load more data: ${t}`}),c({type:"setMoreTabularPreview",cacheKey:b,state:{type:"loadingMoreError",message:t}})}})))(e,t,n):"loadColumns"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){const{itemColumnCache:a,dispatch:r,dispatchAsync:o}=e,{item:i,source:s,columnPaths:l}=t,{clients:{datasetsClient:c},legacyClients:{analyticsClient:u}}=n,d=Object(p.a)(i,a);if(void 0!==d&&("loadedBaseInfo"===d.state||"loadedCachedColumns"===d.state||"errorCachedColumns"===d.state)){r({type:"setColumnCache",item:i,state:"loadingCachedColumns"});try{r({type:"setColumnCache",item:i,state:"loadedCachedColumns",cachedColumns:(yield c.getDatabundleExternalColumnsByFirestorePath({verificationInfo:m(e,s),firestorePaths:l})).columns})}catch(e){o({type:"showMessage",message:`Could not load data: ${Object(h.a)("GetDatabundleExternalColumnsByFirestorePathRequest",e,u)}`}),r({type:"setColumnCache",item:i,state:"errorCachedColumns"})}}})))(e,t,n):"loadColumnBaseInfo"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){const{itemColumnCache:a,dispatch:r}=e,{item:o,source:i}=t,{clients:{datasetsClient:s},legacyClients:{analyticsClient:l}}=n,c=Object(p.a)(o,a);if(void 0!==c&&("noCache"===c.state||"errorBaseInfo"===c.state)){e.dispatch({type:"setColumnCache",item:o,state:"loadingBaseInfo"});try{r({type:"setColumnCache",item:o,state:"loadedBaseInfo",baseInfo:(yield s.getDatabundleExternalColumns({verificationInfo:m(e,i),firestorePath:o.path})).columns})}catch(e){Object(h.a)("GetDatabundleExternalColumnsRequest",e,l),r({type:"setColumnCache",item:o,state:"errorBaseInfo"})}}})))(e,t,n):"updateMetadata"===t.type?((e,t,n)=>Object(d.__awaiter)(void 0,void 0,void 0,(function*(){const{clients:{datasetsClient:a},legacyClients:{analyticsClient:r}}=n,{dispatch:o,dispatchAsync:i,externalCallbacks:s}=e,{columns:l,description:c,item:u,source:d}=t;try{const t=yield a.updateDatabundleMetadataExternal({firestorePath:u.path,description:c,columns:l,verificationInfo:m(e,d)});void 0!==s&&void 0!==s.onUpdateUsabilityRating&&null!==t.usabilityRating&&s.onUpdateUsabilityRating(t.usabilityRating),o({type:"setMetadata",item:u,description:c,columnUpdates:l})}catch(e){i({type:"showMessage",message:`Could not update: ${Object(h.a)("UpdateDatabundleMetadataExternalRequest",e,r)}`})}})))(e,t,n):"downloadObject"===t.type&&(e=>{const{item:t,source:n}=e;if(t){const e=Object(r.b)(t,n);e&&Object(r.f)(e)}})(t)}catch(e){o.logger.report("datasets","data-explorer-v3-error",{actionType:t.type,reference:c,error:e,treeOnLeft:a.n.datasetsDataExplorerV3TreeLeft})}}},1551:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n.n(a),o=n(0);const i=r.a.a`
  text-decoration: none;
  flex-grow: 1;
`,s=e=>{const{children:t,href:n,id:a,className:r,style:s,target:l,onClick:c}=e;return o.createElement(i,{id:a,tabIndex:0,href:n,target:l,className:r,style:s,onClick:c},t)}},1563:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(1221);const i={small:"108px",medium:"216px"},s=r.a.div`
  width: 100%;
  height: ${e=>i[e.$imageSize]||i.small};
  object-fit: cover;
  background-color: ${e=>o.a[e.theme.name].imagePlaceholder};
`,l=r.a.img`
  width: 100%;
  height: ${e=>i[e.$imageSize]||i.small};
  object-fit: cover;
`},1564:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(1),r=n.n(a),o=n(1366),i=n(0),s=n(874),l=n(108),c=n(249),u=n(3),d=n(1370),p=n(145);const m=r.a.div`
  display: flex;
  flex-direction: column;
  padding: 40px 0px 30px 0px;
  border-bottom: 1px solid ${u.d};
`,h=r.a.div`
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin-left: 8px;
  margin-right: 8px;
  margin-bottom: 40px;
  max-height: 24px;
`,f=r()(p.o).attrs({as:"h2"})`
  flex-grow: 1;
  margin-left: 20px;

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,g=r.a.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  grid-gap: 24px;
  overflow-y: hidden;
  height: ${e=>e.cardHeight+10}px;

  @media ${a.MaterialBreakpointUp.DESKTOP} {
    grid-template-columns: repeat(auto-fit, minmax(224px, 1fr));
  }

  @media ${a.MaterialBreakpointDown.PHONE} {
    grid-template-columns:
      repeat(${e=>e.cardsPerRow}, ${e=>e.naturalCardWidth}px)
      auto;

    overflow-x: auto;
    margin: 0px -24px;
    padding: 0px 24px;
  }
  @media ${a.MaterialBreakpointDown.TABLET} {
    grid-gap: 16px;
  }
`,b=r.a.div`
  padding: 0px 24px;
  align-items: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
`,v=r.a.a`
  text-decoration: none;
`,y=({icon:e,title:t,onExpand:n,expandHref:r,isLoading:u,cardHeight:y,cardsPerRow:E=4,naturalCardWidth:w=282,expandButtonText:x,children:C})=>{const k=Object(o.a)(a.MaterialBreakpointDown.PHONE),S=(C?Array.isArray(C)?C:[C]:[]).filter(e=>!!e).slice(0,E);return i.createElement(m,null,i.createElement(h,null,u?i.createElement(i.Fragment,null,i.createElement(d.a,{width:"24px"}),i.createElement(d.a,{width:"20%"})):i.createElement(i.Fragment,null,i.createElement(l.a,{icon:e,size:"medium"}),i.createElement(f,null,t),!k&&i.createElement(s.a,{"data-testid":"expandButton",emphasis:"low",onClick:n,href:r},x))),i.createElement(g,{cardHeight:y,cardsPerRow:E,naturalCardWidth:w,role:"list"},S,!!k&&i.createElement(v,{href:r,onClick:n},i.createElement(b,null,i.createElement(c.a,{style:{marginBottom:"16px"},emphasis:"medium",icon:"arrow_forward"}),i.createElement(p.d,{style:{whiteSpace:"nowrap"}},x)))))}},1565:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(0),i=n(1348);const s=r()(i.a).withConfig(Object(a.captureProps)(["height"]))`
  height: ${e=>e.height||"auto"};
  display: flex;
  flex-direction: column;
`,l=e=>{const{height:t,title:n,className:a,style:r,children:i}=e;return o.createElement(s,{height:t,role:"listitem","aria-label":n,className:a,style:r},i)}},1566:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(145);const i=r()(o.u)`
  margin-bottom: 4px;
`},1567:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),o=n(145);const i=r()(o.t)`
  line-height: 20px;
  margin-bottom: 4px;
`},1568:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var a=n(1),r=n.n(a),o=n(0),i=n(1370),s=n(1348),l=n(1446),c=n(1430);const u=320,d=r()(s.a)`
  height: ${u}px;
  display: flex;
  flex-direction: column;
`,p=r.a.div`
  width: 100%;
  height: 108px;
`,m=r()(l.a)`
  display: flex;
  flex: 1;
  flex-direction: column;
`,h=r()(i.b)`
  margin: 0px;
`,f=p.withComponent(h),g=r()(i.b)`
  width: ${e=>e.width};
  height: 24px;
`,b=()=>o.createElement(d,{role:"listitem"},o.createElement(f,null),o.createElement(m,null,o.createElement(i.d,{width:"80%"}),o.createElement(i.c,{width:"80%"}),o.createElement(i.c,{width:"80%"}),o.createElement(i.c,{width:"80%"})),o.createElement(c.a,null,o.createElement(g,{width:"30%"}),o.createElement(g,{width:"10%"})))},1569:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(1),r=n.n(a),o=n(0),i=n(91),s=n(108),l=n(3),c=n(145);const u=(e,t)=>Array.from(new Array(t-e+1),(t,n)=>n+e),d=e=>{const t=Math.min(e.maxPages?e.maxPages:e.currentPage,Math.max(1,e.currentPage)),n=Math.min(e.countPagesShown,e.maxPages||e.countPagesShown),a=e.maxPages||t+n,r=Math.floor(n/2),o=Math.min(Math.max(1,t-r),a-n+1);return{startPage:o,stopPage:o+n-1}},p=(e,t)=>{switch(t.type){case"prev":if(t.payload.prevEnabled){const n=t.payload.currentPage===e.startPage;return{startPage:n?e.startPage-1:e.startPage,stopPage:n?e.stopPage-1:e.stopPage}}return e;case"next":if(t.payload.nextEnabled){const n=t.payload.currentPage===e.stopPage;return{startPage:n?e.startPage+1:e.startPage,stopPage:n?e.stopPage+1:e.stopPage}}return e;case"select":return t.payload.value>=e.startPage&&t.payload.value<=e.stopPage?{startPage:e.startPage,stopPage:e.stopPage}:e;case"setMaxPages":const n=t.payload.value?e.stopPage-t.payload.value:-1;return n>=0?{startPage:Math.max(e.startPage-n,1),stopPage:t.payload.value}:e;case"reset":return d(t.payload.props)}},m=r.a.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding-top: 36px;
  padding-bottom: 36px;
`,h=r()(c.a)`
  background-color: ${l.l};
  color: ${l.b};
  margin-left: 16px;
  margin-right: 16px;
  min-width: 24px;
  text-align: center;
  border-radius: 50%;
`,f=r()(c.a)`
  cursor: pointer;
  margin-left: 24px;
  color: black;
`,g=r()(c.a)`
  cursor: pointer;
  margin-right: 24px;
  color: black;
`,b=e=>{const[t,n]=o.useReducer(p,e,d);o.useEffect(()=>{n({type:"reset",payload:{props:e}})},[e.maxPages]);const a=e.currentPage<t.startPage||e.currentPage>t.stopPage,r=a?e.currentPage:t.startPage,l=a?e.currentPage+e.countPagesShown-1:t.stopPage;o.useLayoutEffect(()=>{a&&n({type:"reset",payload:{props:e}})},[a]);const c=u(r,e.currentPage-1),b=u(e.currentPage+1,l),v=o.useCallback(t=>{e.onPageChanged(t),n({type:"select",payload:{value:t}})},[e.onPageChanged]),y=o.useCallback(()=>{e.currentPage>1&&(e.onPageChanged(e.currentPage-1),n({type:"prev",payload:{prevEnabled:!0,currentPage:e.currentPage}}))},[e.onPageChanged,e.currentPage]),E=o.useCallback(()=>{(!e.maxPages||e.currentPage<e.maxPages)&&(e.onPageChanged(e.currentPage+1),n({type:"next",payload:{nextEnabled:!0,currentPage:e.currentPage}}))},[e.onPageChanged,e.currentPage,e.maxPages]);return o.createElement(m,{role:"navigation","aria-label":"pagination navigation"},o.createElement(s.a,{title:"Previous Page",icon:"chevron_left",size:"medium",emphasis:"high",onClick:y}),c.map(e=>o.createElement(f,Object.assign({key:e,onClick:()=>v(e)},Object(i.a)()),e)),o.createElement(h,{"data-testid":"selectedPage"},e.currentPage),b.map(e=>o.createElement(g,Object.assign({key:e,onClick:()=>v(e)},Object(i.a)()),e)),o.createElement(s.a,{title:"Next Page",icon:"chevron_right",size:"medium",emphasis:"high",onClick:E}))}},1570:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return de}));var a,r,o,i,s,l,c,u,d,p,m,h,f,g,b,v,y,E,w,x,C,k,S,_,O,T=n(2),j=n(1330),I=n(874),D=n(1),N=n.n(D),M=n(1007),F=n(21),P=n(1504),L=n(1039),A=n(1080),R=n(1410),U=n(1033),z=N.a.div.withConfig({displayName:"CollaborationSettings_CollaborationContainer",componentId:"sc-by1nzz"})(a||(a=Object(T.__makeTemplateObject)(["\n  padding: 0 0 0 0;\n"],["\n  padding: 0 0 0 0;\n"]))),$=N.a.div.withConfig({displayName:"CollaborationSettings_CollaborationHeader",componentId:"sc-k5n8o6"})(r||(r=Object(T.__makeTemplateObject)(["\n    ","\n    color: ",";\n    margin: "," 0;\n    font-size: ",";\n    line-height: ",";\n\n    a {\n        margin-left: 10px;\n        color: ",";\n\n        &:hover {\n            color: ",";\n        }\n    }\n"],["\n    ","\n    color: ",";\n    margin: "," 0;\n    font-size: ",";\n    line-height: ",";\n\n    a {\n        margin-left: 10px;\n        color: ",";\n\n        &:hover {\n            color: ",";\n        }\n    }\n"])),M.c.Inter,M.b.FooterGrayDark,M.g.PadS,M.d.FontSizeM,M.d.LineHeightTall,M.b.FooterGrayDark,M.b.TextMedium),B=N.a.div.withConfig({displayName:"CollaborationSettings_CollaborationSection",componentId:"sc-gsqc2z"})(o||(o=Object(T.__makeTemplateObject)(["\n  margin: "," "," "," 0;\n"],["\n  margin: "," "," "," 0;\n"])),M.g.PadS,M.g.PadXxl,M.g.PadL),V=N.a.div.withConfig({displayName:"CollaborationSettings_CollaborsSection",componentId:"sc-sd6byj"})(i||(i=Object(T.__makeTemplateObject)(["\n  margin: "," 0 "," 0;\n"],["\n  margin: "," 0 "," 0;\n"])),M.g.PadS,M.g.PadL),H=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorContainer",componentId:"sc-4qod4g"})(s||(s=Object(T.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  margin: "," "," "," 0;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  margin: "," "," "," 0;\n"])),M.g.PadS,M.g.PadS,M.g.PadS),W=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorIcon",componentId:"sc-1mp3nk8"})(l||(l=Object(T.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 48px;\n"],["\n  flex: 0 0 auto;\n  width: 48px;\n"]))),q=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorName",componentId:"sc-1ayeflx"})(c||(c=Object(T.__makeTemplateObject)(["\n  flex: 0 2 200px;\n  font-weight: ",";\n"],["\n  flex: 0 2 200px;\n  font-weight: ",";\n"])),M.d.FontWeightMedium),K=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorType",componentId:"sc-1densbg"})(p||(p=Object(T.__makeTemplateObject)(["\n  flex: 2 2 auto;\n\n  ","\n  ","\n"],["\n  flex: 2 2 auto;\n\n  ","\n  ","\n"])),M.f.tablet(u||(u=Object(T.__makeTemplateObject)(["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "],["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "]))),M.f.mobile(d||(d=Object(T.__makeTemplateObject)(["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "],["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "])))),G=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorTypeText",componentId:"sc-1jglfva"})(m||(m=Object(T.__makeTemplateObject)(["\n  /* Line up icons with select boxes */\n  padding-left: 13px;\n"],["\n  /* Line up icons with select boxes */\n  padding-left: 13px;\n"]))),Y=N.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorRemove",componentId:"sc-1x8fi81"})(h||(h=Object(T.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 38px;\n  text-align: right;\n"],["\n  flex: 0 0 auto;\n  width: 38px;\n  text-align: right;\n"]))),Z=N.a.span.withConfig({displayName:"CollaborationSettings_CollaboratorSelf",componentId:"sc-9fogi1"})(f||(f=Object(T.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),M.g.PadXs),Q=N.a.a.withConfig({displayName:"CollaborationSettings_CollaboratorLink",componentId:"sc-1glrewq"})(g||(g=Object(T.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"])),M.b.TextLink,M.b.TextLinkHover),X=N.a.a.withConfig({displayName:"CollaborationSettings_GroupCollaboratorCountLink",componentId:"sc-17tiqcq"})(b||(b=Object(T.__makeTemplateObject)(["\n  margin-left: ",";\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  margin-left: ",";\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n"])),M.g.PadXs,M.b.TextMedium),J=N()(L.b).withConfig({displayName:"CollaborationSettings_RemoveIcon",componentId:"sc-5270ha"})(v||(v=Object(T.__makeTemplateObject)(["\n  color: ",";\n  cursor: pointer;\n  margin-left: 24px;\n"],["\n  color: ",";\n  cursor: pointer;\n  margin-left: 24px;\n"])),M.b.KaggleRed),ee=N()(L.b).withConfig({displayName:"CollaborationSettings_CollaboratorTypeIcon",componentId:"sc-1ontqt2"})(y||(y=Object(T.__makeTemplateObject)(["\n  color: ",";\n  margin-right: 10px;\n"],["\n  color: ",";\n  margin-right: 10px;\n"])),M.b.TextMedium),te=N()(L.b).withConfig({displayName:"CollaborationSettings_CollaboratorTypeIconInSelect",componentId:"sc-or2gn1"})(E||(E=Object(T.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),M.b.TextMedium,M.g.PadS),ne=N.a.div.withConfig({displayName:"CollaborationSettings_SelectUser",componentId:"sc-lyt2yh"})(w||(w=Object(T.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ae=N.a.img.withConfig({displayName:"CollaborationSettings_SelectUserThumbnail",componentId:"sc-1xbgsqc"})(x||(x=Object(T.__makeTemplateObject)(["\n  border-radius: ",";\n  margin-right: ",";\n  max-width: ",";\n"],["\n  border-radius: ",";\n  margin-right: ",";\n  max-width: ",";\n"])),M.g.BorderRadius,M.g.PadS,M.g.PadL),re=N.a.div.withConfig({displayName:"CollaborationSettings_CollaborationButtons",componentId:"sc-13fee3o"})(C||(C=Object(T.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin: "," "," 0 0;\n  justify-content: flex-end;\n"],["\n  display: flex;\n  align-items: center;\n  margin: "," "," 0 0;\n  justify-content: flex-end;\n"])),M.g.PadM,M.g.PadXxl),oe=N.a.span.withConfig({displayName:"CollaborationSettings_Warning",componentId:"sc-1i6i11z"})(k||(k=Object(T.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),M.b.TextLight),ie=N.a.div.withConfig({displayName:"CollaborationSettings_PrivateDatasetsHint",componentId:"sc-8giycy"})(S||(S=Object(T.__makeTemplateObject)(["\n  margin: "," 0 0 0;\n"],["\n  margin: "," 0 0 0;\n"])),M.g.PadS),se=N.a.a.withConfig({displayName:"CollaborationSettings_PrivateDataset",componentId:"sc-1v7zs4u"})(_||(_=Object(T.__makeTemplateObject)(["\n  font-size: 0.8rem;\n  padding-left: ",";\n  padding-right: ",";\n  color: #a8a8a8;\n"],["\n  font-size: 0.8rem;\n  padding-left: ",";\n  padding-right: ",";\n  color: #a8a8a8;\n"])),M.g.PadS,M.g.PadXs),le=N()(L.b).withConfig({displayName:"CollaborationSettings_PrivateDatasetPopoutIcon",componentId:"sc-1ky8pie"})(O||(O=Object(T.__makeTemplateObject)(["\n  font-size: 0.8rem;\n  vertical-align: bottom;\n"],["\n  font-size: 0.8rem;\n  vertical-align: bottom;\n"]))),ce=function(e){switch(e){case"owner":return"Owner";case"writer":return"Can edit";case"reader":return"Can view"}return e},ue=function(e){switch(e){case"owner":return"user";case"writer":return"pencil";case"reader":return"eye"}return e},de=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.getCollaboratorTypeOptions=function(){var e=[];return n.props.allowReaders&&e.push({label:ce("reader"),value:"reader"}),n.props.allowWriters&&e.push({label:ce("writer"),value:"writer"}),e},n.renderCollaboratorOption=function(t){return e.createElement(ne,null,t.thumbnailUrl&&e.createElement(ae,{src:t.thumbnailUrl,alt:t.label+" thumbnail"}),e.createElement("p",null,t.label))},n.renderCollaboratorTypeOption=function(t){return"reader"===t.value?e.createElement("span",null,e.createElement(te,{name:ue("reader")}),t.label):e.createElement("span",null,e.createElement(te,{name:ue("writer")}),t.label)},n}return Object(T.__extends)(n,t),n.prototype.renderCollaborator=function(t,n){var a=this,r=e.createElement(G,null,e.createElement(ee,{name:ue(t.type)}),ce(t.type)),o="owner"!==t.type&&this.props.canEdit,i="owner"!==t.type&&(this.props.canEdit||F.a.isAdmin||this.props.canRemoveSelf&&t.isUser&&!F.a.isAnonymous&&t.userId===F.a.userId);return o&&(r=e.createElement(A.a,{options:this.getCollaboratorTypeOptions(),keepFocus:!0,onChange:function(e){return a.props.onChangeCollaboratorType(t,n,e)},optionRenderer:this.renderCollaboratorTypeOption,valueRenderer:this.renderCollaboratorTypeOption,searchable:!1,value:t.type})),e.createElement(H,{key:"collaborator-"+n+"-"+t.slug},e.createElement(W,null,e.createElement(j.a,{thumbnailUrl:t.thumbnailUrl,displayName:t.name,id:t.userId,profileUrl:t.profileUrl,key:t.userId,tier:t.userTier,size:"large"})),e.createElement(q,null,e.createElement(Q,{href:t.profileUrl},t.name),t.isUser&&!F.a.isAnonymous&&t.userId===F.a.userId&&e.createElement(Z,null,"(you)"),t.isGroup&&t.groupMemberCount&&e.createElement(X,{href:t.profileUrl+"/people"},"(",t.groupMemberCount," member",t.groupMemberCount>1?"s":"",")")),e.createElement(K,null,r),e.createElement(Y,null,i&&e.createElement(J,{name:"times",onClick:function(){return a.props.onRemoveCollaborator(t,n)}})))},n.prototype.render=function(){var t=this;return e.createElement(z,null,e.createElement(V,null,this.renderCollaborator(this.props.owner,-1),this.props.collaborators.map((function(e,n){return t.renderCollaborator(e,n)}))),this.props.somethingChanged&&e.createElement(B,null,e.createElement(oe,null,"Your changes are not saved yet, please confirm using the button below.")),this.props.canEdit&&e.createElement($,null,"Add user",e.createElement(U.b,{tip:"View Collaborators Documentation"},e.createElement("a",{href:"/docs/notebooks#collaborating-on-kernels",target:"_blank",role:"button"},e.createElement("i",{className:"fa fa-book","aria-hidden":"true"})))),this.props.canEdit&&e.createElement(B,null,e.createElement(R.a,{loadOptions:this.props.onLoadCollaborators,placeholder:"Search for users",value:null,optionRenderer:this.renderCollaboratorOption,valueRenderer:this.renderCollaboratorOption,onChange:function(e){return t.props.onAddCollaborator(e)}})),e.createElement(re,null,e.createElement(I.a,{emphasis:"low",onClick:function(){return t.props.onReset()}},"Cancel"),e.createElement(I.a,{disabled:!this.props.somethingChanged,onClick:function(){return Object(T.__awaiter)(t,void 0,void 0,(function(){return Object(T.__generator)(this,(function(e){return[2,this.props.onSaveInternal()]}))}))},style:{marginLeft:"8px"}},"Save")),null!=this.props.privateDataSources&&this.props.privateDataSources.length>0&&e.createElement(ie,null,e.createElement(P.a,null,"Sharing this Notebook does not automatically share the connected data sources. For full access share these private datasets with them:",this.props.privateDataSources.map((function(t,n){return e.createElement("span",null,e.createElement(se,{href:t.dataSourceUrl,target:"_blank"},t.name),e.createElement(le,{name:"external-link"}))})))))},n}(e.Component)}).call(this,n(0))},1571:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return"/datasets?maintainerOrgId="+e}},1575:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var a=n(2),r=n(1),o=n.n(r),i=n(1007),s=n(1220),l=n(1173),c=n(1031),u=n(1039),d=o.a.div.withConfig({displayName:"Suggestions_SuggestionsWrapper",componentId:"sc-1xk7v0c"})(E||(E=Object(a.__makeTemplateObject)(["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n  flex: 1 1 auto;\n  justify-content: center;\n  background: ",";\n  border-radius: 0 0 "," ",";\n"],["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n  flex: 1 1 auto;\n  justify-content: center;\n  background: ",";\n  border-radius: 0 0 "," ",";\n"])),i.c.Inter,i.b.PureWhite,i.g.BorderRadius,i.g.BorderRadius),p=o.a.span.withConfig({displayName:"Suggestions_InfoTitle",componentId:"sc-1w3dl99"})(w||(w=Object(a.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  position: relative;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  text-transform: capitalize;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  position: relative;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  text-transform: capitalize;\n"])),i.b.TextMedium,i.d.FontSizeS,i.d.FontWeightMedium,i.d.LineHeightNormal),m=o()(l.a).withConfig({displayName:"Suggestions_SuggestionWrapper",componentId:"sc-1ef3k08"})(C||(C=Object(a.__makeTemplateObject)(["\n  background: ",";\n  cursor: pointer;\n  display: flex;\n  flex-flow: column wrap;\n  flex: 1 1 auto;\n  align-self: stretch;\n  padding: ",";\n  position: relative;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  transition: 0.1s color ease;\n  width: 15%;\n\n  &:hover {\n    background: fade(",", 2);\n\n    "," {\n      color: ",";\n    }\n  }\n\n  &:first-child {\n    border-radius: 0 0 0 ",";\n    border-top: 0;\n  }\n\n  &:last-child {\n    border-radius: 0 0 "," 0;\n  }\n\n  ","\n"],["\n  background: ",";\n  cursor: pointer;\n  display: flex;\n  flex-flow: column wrap;\n  flex: 1 1 auto;\n  align-self: stretch;\n  padding: ",";\n  position: relative;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  transition: 0.1s color ease;\n  width: 15%;\n\n  &:hover {\n    background: fade(",", 2);\n\n    "," {\n      color: ",";\n    }\n  }\n\n  &:first-child {\n    border-radius: 0 0 0 ",";\n    border-top: 0;\n  }\n\n  &:last-child {\n    border-radius: 0 0 "," 0;\n  }\n\n  ","\n"])),i.b.ContentBackground,i.g.PadM,i.b.PureWhite,i.b.PureWhite,i.b.HoverLight,p,i.b.TextLinkHover,i.g.BorderRadius,i.g.BorderRadius,i.f.nonDesktop(x||(x=Object(a.__makeTemplateObject)(["\n        padding: "," ",";\n        align-items: flex-start;\n    "],["\n        padding: "," ",";\n        align-items: flex-start;\n    "])),i.g.PadS,i.g.PadM)),h=o.a.div.withConfig({displayName:"Suggestions_ContentWrapper",componentId:"sc-135ctbi"})(k||(k=Object(a.__makeTemplateObject)(["\n  max-width: 140px;\n  align-self: center;\n"],["\n  max-width: 140px;\n  align-self: center;\n"]))),f=o.a.div.withConfig({displayName:"Suggestions_SuggestionImageWrapper",componentId:"sc-148gjh6"})(_||(_=Object(a.__makeTemplateObject)(["\n  position: relative;\n  align-self: center;\n  margin: auto;\n\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"],["\n  position: relative;\n  align-self: center;\n  margin: auto;\n\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"])),i.g.CardS,i.g.CardS,i.g.CardS,i.g.CardS,i.f.nonDesktop(S||(S=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        height: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "],["\n        width: 64px;\n        height: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "])))),g=o.a.img.withConfig({displayName:"Suggestions_SuggestionImage",componentId:"sc-1c4g2wk"})(T||(T=Object(a.__makeTemplateObject)(["\n  border-radius: ",";\n  width: ",";\n  height: ",";\n\n  ","\n"],["\n  border-radius: ",";\n  width: ",";\n  height: ",";\n\n  ","\n"])),i.g.BorderRadius,i.g.CardS,i.g.CardS,i.f.nonDesktop(O||(O=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        height: 64px;\n    "],["\n        width: 64px;\n        height: 64px;\n    "])))),b=o()(u.b).withConfig({displayName:"Suggestions_SuggestionIcon",componentId:"sc-1n4hexv"})(I||(I=Object(a.__makeTemplateObject)(["\n  background: ",";\n  color: ",";\n  align-self: center;\n  text-align: center;\n\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n\n  width: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"],["\n  background: ",";\n  color: ",";\n  align-self: center;\n  text-align: center;\n\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n\n  width: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"])),i.b.GrayLighter,i.b.BlackOverlay,i.g.CardS,i.g.CardS,i.g.CardS,i.f.nonDesktop(j||(j=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "],["\n        width: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "])))),v=o.a.div.withConfig({displayName:"Suggestions_InfoWrapper",componentId:"sc-iy14r8"})(N||(N=Object(a.__makeTemplateObject)(["\n  align-self: center;\n  flex-flow: column nowrap;\n  display: flex;\n  padding-top: ",";\n\n  ","\n"],["\n  align-self: center;\n  flex-flow: column nowrap;\n  display: flex;\n  padding-top: ",";\n\n  ","\n"])),i.g.PadS,i.f.nonDesktop(D||(D=Object(a.__makeTemplateObject)(["\n        order: 1;\n    "],["\n        order: 1;\n    "]))));function y(t){return e.createElement(m,{href:t.entityUrl,onClick:function(){return s.a.clickedSuggestion(t.entityId,t.entityType)}},e.createElement(h,null,e.createElement(f,null,"category"===t.entityType?e.createElement(b,{name:t.thumbnailImageUrl}):e.createElement(g,{alt:t.title,src:t.thumbnailImageUrl})),e.createElement(v,null,e.createElement(p,null,t.title))))}var E,w,x,C,k,S,_,O,T,j,I,D,N,M=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return this.props.suggestions&&0!==this.props.suggestions.length?e.createElement(c.b,{title:this.props.title},e.createElement(d,null,this.props.suggestions.map((function(t){return e.createElement(y,Object(a.__assign)({},t,{key:t.entityId}))})))):null},n}(e.Component)}).call(this,n(0))},1576:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(0),i=n(1019);const s=r.a.div`
  position: fixed;
  top: 0px;
  bottom: 0px;
  left: 0px;
  right: 0px;
  z-index: ${e=>e.theme.zindex[1e3]};
  background-color: ${e=>i.a[e.theme.name].background};
`,l=e=>{const{maximized:t,children:n}=e;return t?o.createElement(s,null,n):o.createElement(o.Fragment,null,n)}},1577:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(2);function r(e){var t,n;if(e&&e.length){var r={},o=e.replace(/\?/g,"").split("&");try{for(var i=Object(a.__values)(o),s=i.next();!s.done;s=i.next()){var l=s.value,c=Object(a.__read)(l.split("="),2),u=c[0],d=c[1];r[u]=d,r[u.toLowerCase()]=d}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return{}}function o(e){return"?"+Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},1578:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s}));var a=n(1431),r=function(e,t){if(e&&e.includes("/")){var n=e.split("/").filter((function(e){return!!e}));if(0===n.length)return e;var a=n.length-t-1;return a<0?n[n.length-1]:n[a]}return e||""},o=function(e){switch(e.action){case"add":return"added";case"delete":return"removed";case"modifyDescription":return"description changed";case"modifyType":return e.newValue?"type changed to "+e.newValue:"type changed";case"rowCountChange":case"sizeChange":return"content changed"}return""},i=function(e){switch(e){case"column":return"Column";case"file":return"File";case"dataset":return"Data";case"table":return"Table"}return e},s=function(e,t){switch(e){case"column":return"columns";case"file":return t?Object(a.e)(t):"file-o";case"dataset":return"database";case"table":return"table"}return"question"}},1579:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1374),l=n(1580),c=i.a.div.withConfig({displayName:"LoadingState_Wrapper",componentId:"sc-7gpw0z"})(a||(a=Object(r.__makeTemplateObject)(["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));function u(t){var n=t.className;return e.createElement(l.a,null,e.createElement(c,{className:n},e.createElement(s.a,{text:"Loading chart",isLoading:!0})))}}).call(this,n(0))},1580:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(2),r=n(0),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showElement:!1},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this.interval=setTimeout((function(){return e.setState({showElement:!0})}),t)},t.prototype.componentWillUnmount=function(){clearTimeout(this.interval)},t.prototype.render=function(){var e=this.props.children;return this.state.showElement?e:null},t.defaultProps={delay:300},t}(r.Component)},1581:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1007),l=i.a.ul.withConfig({displayName:"UnstyledList_Ul",componentId:"sc-1etca4m"})(a||(a=Object(r.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  list-style: none;\n  margin: 0 "," "," ",";\n  padding: 0;\n\n  display: grid;\n  /* Each column can shrink to zero size */\n  grid-template-columns: minmax(0, 100%);\n\n  /* Ensure that there is a row for every item */\n  grid-template-rows: ",";\n  grid-row-gap: ",";\n\n  align-content: space-evenly;\n  justify-content: stretch;\n  align-items: center;\n"],["\n  flex-grow: 1;\n\n  list-style: none;\n  margin: 0 "," "," ",";\n  padding: 0;\n\n  display: grid;\n  /* Each column can shrink to zero size */\n  grid-template-columns: minmax(0, 100%);\n\n  /* Ensure that there is a row for every item */\n  grid-template-rows: ",";\n  grid-row-gap: ",";\n\n  align-content: space-evenly;\n  justify-content: stretch;\n  align-items: center;\n"])),s.g.PadM,s.g.PadM,s.g.PadM,(function(e){return"repeat("+e.rowCount+", 1fr)"}),s.g.PadM);function c(t){var n=t.items,a=t.maxNumberOfLis,r=t.className,o=Math.min(n.length,a),i=n.slice(0,o).map((function(t){return e.createElement("li",{key:t.key},t.el)}));return e.createElement(l,{rowCount:a,className:r},i)}}).call(this,n(0))},1582:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a,r=n(2),o=n(874),i=n(1),s=n.n(i),l=n(1007),c=s.a.div.withConfig({displayName:"ButtonPlaceholder_Wrapper",componentId:"sc-15un99t"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  color: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  color: ",";\n"])),l.b.TextLight);function u(t){var n=t.description,a=t.onClick,r=t.buttonText;return e.createElement(c,null,n,e.createElement(o.a,{emphasis:"medium",onClick:a,style:{marginLeft:0,marginTop:"16px"}},r))}}).call(this,n(0))},1583:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(2),r=n(6),o=n(0),i=n(1421),s=n(1584);const l=500;let c=(()=>{class t extends o.Component{constructor(){super(...arguments),this.state={list:"loading"},this.loadList=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{source:e,acceptedOnly:t}=this.props,{clients:{datasetsClient:n}}=this.context;try{if("task"===e.type){const t=yield n.getTaskSubmissions({taskId:e.id,offset:0,limit:l});this.setState({list:t.taskSubmissions})}else if("user"===e.type){const a=yield n.getUserSubmissions({userId:e.id,acceptedOnly:!0===t,offset:0,limit:l});this.setState({list:a.taskSubmissions})}}catch(t){Object(i.a)(this.context,"load-submissions-error",{source:e,error:t}),this.setState({list:"error"})}})),this.onVote=t=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{list:n}=this.state;if("error"===n||"loading"===n||!t.voteButton)return;this.toggleVoteButtonForItem(t,!0);const{hasAlreadyVotedUp:a,totalVotes:o,voteUpUrl:s}=t.voteButton;try{e(s,{method:a?"delete":"post",headers:new Headers({"Content-Type":"application/json","X-XSRF-TOKEN":Object(r.o)()})});const n=!a,l=n?o+1:o-1;Object(i.a)(this.context,"submission-vote",{newHasVotedUp:n,newVoteCount:l,taskId:t.id}),this.setState(e=>"loading"===e.list||"error"===e.list?e:{list:e.list.map(e=>e.id===t.id&&e.voteButton?Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{hasAlreadyVotedUp:n,totalVotes:l,isDisabled:!1})}):e)})}catch(e){Object(i.a)(this.context,"submission-vote-error",{error:e,taskId:t.id}),this.toggleVoteButtonForItem(t,!1)}})),this.toggleVoteButtonForItem=(e,t)=>{this.setState(n=>"loading"===n.list||"error"===n.list?n:{list:n.list.map(n=>n===e&&n.voteButton?Object.assign(Object.assign({},n),{voteButton:Object.assign(Object.assign({},n.voteButton),{isDisabled:t})}):n)})}}render(){const{canSubmit:e,acceptedOnly:t,hideOnEmpty:n,taskAuthorId:a,onSelect:r,onSubmit:i,onAccept:l,onUnaccept:c,onDelete:u}=this.props,{list:d}=this.state;return o.createElement(s.a,{state:d,acceptedOnly:t,hideOnEmpty:n,canSubmit:e,taskAuthorId:a,onSelect:r,onVote:this.onVote,onSubmit:i,onAccept:l,onUnaccept:c,onDelete:u})}componentDidMount(){this.loadList()}}return t.contextType=r.b,t})()}).call(this,n(56))},1584:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(145),r=n(1),o=n.n(r),i=n(0),s=n(1534),l=n(1454),c=n(1453),u=n(1164),d=n(1535);const p=o.a.div`
  display: flex;
  align-items: center;
  padding: ${u.b} ${u.o};
`,m=o()(a.o)`
  flex: 1 1 0;
`,h=o.a.ul`
  list-style: none;
`,f=e=>{const{state:t,acceptedOnly:n,hideOnEmpty:a,taskAuthorId:r,onSelect:o,onVote:f,onSubmit:g,onAccept:b,onUnaccept:v,onDelete:y}=e;return"loading"===t?!0===a?null:i.createElement(c.a,{text:"Loading submissions..."}):"error"===t?!0===a?null:i.createElement(l.a,{text:"An error occured while loading the submissions."}):0===t.length?!0===a?null:i.createElement(s.a,{title:"Solve Tasks with Submissions",description:"Be the first to submit to this task! Submissions on tasks will get upvotes from the community and counts towards progression.",buttonText:"Submit",imageUrl:"/static/images/datasets/submission_empty.jpg",onButtonClick:g}):i.createElement(u.c,null,i.createElement(p,null,i.createElement(m,null,n&&"Accepted ","Task Submissions")),i.createElement(h,null,t.map(e=>{var t;return i.createElement(d.a,{key:Object(d.b)(e),item:e,onSelect:()=>o(e),onVote:()=>f(e),onAccept:b&&(null===(t=e.author)||void 0===t?void 0:t.id)!==r?()=>b(e):void 0,onUnaccept:v,onDelete:y?()=>y(e):void 0})})))}},1585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1702),o=(a=r)&&a.__esModule?a:{default:a};t.default=o.default},1586:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(1220),o=n(1587),i=function(t){function n(e){var n=t.call(this,e)||this;n.onVote=function(){setTimeout((function(){n.setState({hasUpvoted:!0}),n.props.onVote&&n.props.onVote(),"dataset"===n.props.entity?Object(r.c)(null,"suggestions"):"script"===n.props.entity&&Object(r.b)(null,"suggestions")}))};var o=Object(a.__assign)(Object(a.__assign)({},e),{hasUpvoted:!1,subText:e.subText||"Show your appreciation with an upvote",onVote:n.onVote});return n.state=o,n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement(o.a,Object(a.__assign)(Object(a.__assign)({},this.props),this.state))},n}(e.Component)}).call(this,n(0))},1587:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(2),r=n(1033),o=n(876),i=n(55),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.renderUpvoter=function(t,n){return e.createElement("div",{key:n,className:"upvote-suggestion__voter"},e.createElement(r.a,{tipText:t.displayName,size:"small"},e.createElement("a",{href:t.profileUrl,className:"upvote-suggestion__voter-link"},e.createElement("img",{src:t.avatarThumbnailUrl,alt:t.userName,className:"upvote-suggestion__voter-img"}))))},n.prototype.renderAlreadyUpvoted=function(){return e.createElement("div",{className:i("upvote-suggestion",this.props.additionalClassNames)},e.createElement("div",{className:"upvote-suggestion__already-upvoted"},"Thanks for showing your appreciation and casting your vote."))},n.prototype.renderNotYetUpvoted=function(){var t=this;return e.createElement("div",{className:i("upvote-suggestion",this.props.additionalClassNames)},e.createElement("div",{className:"upvote-suggestion__text"},e.createElement("div",{className:"upvote-suggestion__main-text"},this.props.mainText),e.createElement("div",{className:"upvote-suggestion__sub-text"},this.props.subText)),e.createElement("div",{className:"upvote-suggestion__button"},e.createElement(o.VoteButton,{canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,totalVotes:this.props.voteCount,hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!1,onVoteUpSuccess:function(){return t.props.onVote()}})),e.createElement("div",{className:"upvote-suggestion__voters"},this.props.upVoters.map((function(e,n){return n<15&&t.renderUpvoter(e,n)}))))},n.prototype.render=function(){return this.props.hasUpvoted?this.renderAlreadyUpvoted():this.renderNotYetUpvoted()},n}(e.Component)}).call(this,n(0))},1588:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var a,r,o,i,s,l,c,u,d,p,m,h,f,g=n(2),b=n(1003),v=n(1),y=n.n(v),E=n(1152),w=n(1007),x=n(21),C=n(1039),k=n(1036),S=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsContainer",componentId:"sc-1520a1"})(a||(a=Object(g.__makeTemplateObject)(["\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  width: 500px;\n  height: 500px;\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  flex-flow: column nowrap;\n"],["\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  width: 500px;\n  height: 500px;\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  flex-flow: column nowrap;\n"])),w.d.FontSizeM,w.d.FontWeightMedium),_=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeader",componentId:"sc-oabd6n"})(r||(r=Object(g.__makeTemplateObject)(["\n  color: ",";\n  align-items: center;\n  background-color: ",";\n  border-radius: "," "," 0 0;\n  border-bottom: 1px solid ",";\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  width: 100%;\n"],["\n  color: ",";\n  align-items: center;\n  background-color: ",";\n  border-radius: "," "," 0 0;\n  border-bottom: 1px solid ",";\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  width: 100%;\n"])),w.b.TextMedium,w.b.ContentHeaderBackground,w.g.BorderRadius,w.g.BorderRadius,w.b.ContentBorderLight,w.g.PadL),O=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeaderTitle",componentId:"sc-ykovqd"})(o||(o=Object(g.__makeTemplateObject)(["\n  color: ",";\n  line-height: ",";\n  margin: ",";\n  text-align: left;\n  flex: 0 1 auto;\n"],["\n  color: ",";\n  line-height: ",";\n  margin: ",";\n  text-align: left;\n  flex: 0 1 auto;\n"])),w.b.TextLight,w.d.FontSizeM,w.g.PadM),T=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeaderClose",componentId:"sc-i4k2iq"})(i||(i=Object(g.__makeTemplateObject)(["\n  cursor: pointer;\n  color: ",";\n  flex: 0 0 auto;\n  margin: ",";\n"],["\n  cursor: pointer;\n  color: ",";\n  flex: 0 0 auto;\n  margin: ",";\n"])),w.b.TextLight,w.g.PadM),j=y()(C.b).withConfig({displayName:"CollaborationModal_CollaboratorsHeaderCloseIcon",componentId:"sc-1jb6qte"})(s||(s=Object(g.__makeTemplateObject)(["\n  cursor: pointer;\n  width: 16px;\n"],["\n  cursor: pointer;\n  width: 16px;\n"]))),I=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsList",componentId:"sc-8rt31z"})(l||(l=Object(g.__makeTemplateObject)(["\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 452px;\n"],["\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 452px;\n"]))),D=y.a.div.withConfig({displayName:"CollaborationModal_Collaborator",componentId:"sc-1nb8bwv"})(c||(c=Object(g.__makeTemplateObject)(["\n  display: flex;\n  border-bottom: 1px solid ",";\n"],["\n  display: flex;\n  border-bottom: 1px solid ",";\n"])),w.b.ContentBorderLight),N=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorIcon",componentId:"sc-1rpmd2s"})(u||(u=Object(g.__makeTemplateObject)(["\n  align-self: center;\n  flex: 0 0 auto;\n  width: 48px;\n  margin: "," ",";\n"],["\n  align-self: center;\n  flex: 0 0 auto;\n  width: 48px;\n  margin: "," ",";\n"])),w.g.PadXs,w.g.PadM),M=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorName",componentId:"sc-etst25"})(d||(d=Object(g.__makeTemplateObject)(["\n  align-self: center;\n  flex: 2 2 auto;\n  font-weight: ",";\n"],["\n  align-self: center;\n  flex: 2 2 auto;\n  font-weight: ",";\n"])),w.d.FontWeightMedium),F=y.a.span.withConfig({displayName:"CollaborationModal_CollaboratorSelf",componentId:"sc-1pmqjs8"})(p||(p=Object(g.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),w.g.PadXs),P=y.a.a.withConfig({displayName:"CollaborationModal_CollaboratorLink",componentId:"sc-13fdhor"})(m||(m=Object(g.__makeTemplateObject)(["\n  text-decoration: none;\n  color: "," !important;\n  &:hover {\n    color: "," !important;\n  }\n"],["\n  text-decoration: none;\n  color: "," !important;\n  &:hover {\n    color: "," !important;\n  }\n"])),w.b.TextLink,w.b.TextLinkHover),L=y.a.div.withConfig({displayName:"CollaborationModal_CollaboratorOwner",componentId:"sc-3v5h8l"})(h||(h=Object(g.__makeTemplateObject)(["\n  color: ",";\n  align-self: center;\n  flex: 0 0 auto;\n  font-weight: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  align-self: center;\n  flex: 0 0 auto;\n  font-weight: ",";\n  margin-right: ",";\n"])),w.b.TextLight,w.d.FontWeightNormal,w.g.PadL),A=y()(L).withConfig({displayName:"CollaborationModal_RemoveCollaboratorIcon",componentId:"sc-1v41mqv"})(f||(f=Object(g.__makeTemplateObject)(["\n  color: ",";\n  cursor: pointer;\n"],["\n  color: ",";\n  cursor: pointer;\n"])),w.b.KaggleRed),R=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={showRemovalConfirmation:!1},n.onRemoveCollaboratorConfirm=function(){var e=n.props,t=e.collaborators,a=e.owner,r=t.filter((function(e){return e.userId!==x.a.userId}));n.props.onRemoveCurrentUser({collaborators:r,owner:a}),n.props.onClose()},n.onRemoveCollaboratorClick=function(){n.setState({showRemovalConfirmation:!0})},n.renderRemovalConfirmation=function(){return e.createElement(E.a,{isShown:n.state.showRemovalConfirmation,isDangerousAction:!0,title:"Confirm Removal",children:"This action will remove you as a collaborator. Are you sure you want to continue?",confirmText:"Yes, remove me",onConfirm:n.onRemoveCollaboratorConfirm,onCancel:function(){n.setState({showRemovalConfirmation:!1})}})},n}return Object(g.__extends)(n,t),n.prototype.renderCollaborator=function(t,n){var a=t.isUser&&!x.a.isAnonymous&&t.userId===x.a.userId,r=null;return"owner"===t.type?r=e.createElement(L,null,"Owner"):a&&(r=e.createElement(A,null,e.createElement(C.b,{name:"times",onClick:this.onRemoveCollaboratorClick}))),e.createElement(D,{key:"collaborator-"+n},e.createElement(N,null,e.createElement(b.a,{thumbnailUrl:t.thumbnailUrl,displayName:t.name,profileUrl:t.profileUrl,key:t.userId,tier:t.userTier,size:"large"})),e.createElement(M,null,e.createElement(P,{href:t.profileUrl},t.name),a&&e.createElement(F,null,"(you)")),r)},n.prototype.render=function(){var t=this,n=this.props.collaborators.filter((function(e){return"reader"===e.type&&t.props.showReaders||"writer"===e.type&&t.props.showWriters}));return e.createElement(k.a,{modalIsShown:this.props.isShown,onClose:function(){return t.props.onClose()},className:"collaboration-modal"},e.createElement(e.Fragment,null,e.createElement(S,null,e.createElement(_,null,e.createElement(O,null,"Collaborators"),e.createElement(T,null,e.createElement(j,{name:"close",onClick:function(){return t.props.onClose()}}))),e.createElement(I,null,this.renderCollaborator(this.props.owner,-1),n.map((function(e,n){return t.renderCollaborator(e,n)})))),this.renderRemovalConfirmation()))},n}(e.Component)}).call(this,n(0))},1631:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n(368),s=n(370);const l=r.a.div`
  position: absolute;
  height: ${e=>{var t;return null!==(t=e.height)&&void 0!==t?t:"200px"}};
  /** a zero width sentinel does not function correctly. 1px seemed risky */
  width: 2px;
`,c=(e,t)=>{const[n,a]=o.useState(!1),r=o.useRef(null);return{isScrolled:n,sentinelRef:o.useCallback(n=>{r.current&&(r.current.disconnect(),r.current=null),n&&(r.current=Object(s.a)(([t])=>{a(t.intersectionRatio<1),e&&e(t.intersectionRatio)},{threshold:null!=t?t:[1]}),r.current.observe(n))},[])}};var u=n(1445);n.d(t,"a",(function(){return f}));const d=r.a.div`
  ${u.b}
`,p=r.a.div`
  ${u.a}
`,m=r.a.div`
  ${u.b}

  position: ${e=>e.isScrolled?"sticky":"auto"};
  box-shadow: ${e=>e.isScrolled?e.theme.material.elevation[2]:"0"};
  z-index: ${e=>e.isScrolled?e.theme.zindex[100]:"auto"};

  top: 0px;
  padding-top: 8px;
  background-color: ${e=>e.theme.material.color.white};
`,h=r.a.div`
  ${u.a}
`,f=({contentHeader:e,children:t})=>{const{setHideNavigationTopBar:n}=o.useContext(i.b),a=c(),r=c();return o.useEffect(()=>n(a.isScrolled),[a.isScrolled]),o.createElement(o.Fragment,null,o.createElement(l,{ref:a.sentinelRef}),o.createElement(d,null,o.createElement(p,null,e)),o.createElement(l,{ref:r.sentinelRef}),o.createElement(m,{isScrolled:r.isScrolled},o.createElement(h,null,t)))}},1633:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var a,r=n(2),o=n(2321),i=n(6),s=n(1),l=n.n(s),c=n(1031),u=n(21),d=n(1525),p=n(872),m=n(1652),h=n(1653),f=n(1656),g=n(1654),b=l()(o.a).withConfig({displayName:"Settings_CodeConfig",componentId:"sc-1l9q58m"})(v||(v=Object(r.__makeTemplateObject)(["\n  width: 700px;\n  margin: ",";\n\n  .CodeMirror-wrapper {\n    border: none;\n  }\n\n  .CodeMirror {\n    height: 400px;\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  .CodeMirror-gutters {\n    /* Force gutter background to take up full height of editor */\n    min-height: 100% !important;\n  }\n"],["\n  width: 700px;\n  margin: ",";\n\n  .CodeMirror-wrapper {\n    border: none;\n  }\n\n  .CodeMirror {\n    height: 400px;\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  .CodeMirror-gutters {\n    /* Force gutter background to take up full height of editor */\n    min-height: 100% !important;\n  }\n"])),(function(e){return e.theme.material.spacing(4)}));!function(e){e.GENERAL="general",e.IMAGE="image",e.SHARING="sharing",e.POWER_SETTINGS="power",e.CODE_CONFIG="code-config"}(a||(a={}));var v,y=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPageChanged=function(t,n){e.context.legacyClients.analyticsClient.logger.report("datasets","settings-tab-change-"+(t&&t.menuEntry.text),{previousTab:n&&n.menuEntry.text}),n&&t&&n.menuEntry.tab===a.GENERAL&&t.menuEntry.tab!==a.GENERAL&&e.generalRef.onSaveWithoutOwnerImmediately(),p.a.clear()},e}return Object(r.__extends)(n,t),n.prototype.render=function(){var t,n,r,o=this,i=[],s=null===(n=null===(t=this.props.data.databundleVersion)||void 0===t?void 0:t.databundleVersionInfo)||void 0===n?void 0:n.databundleVersionType,l=this.props.datasetVersions.find((function(e){return e.id===o.props.datasetVersionId})),p=null==l||"remoteGitRepositoryFileSet"!==s&&"remoteUrlFileSet"!==s&&"gcsFileSet"!==s?void 0:l.creationDate;return this.props.canEdit&&i.push({menuEntry:{tab:a.GENERAL,text:"General",title:a.GENERAL},element:e.createElement(m.a,{ref:function(e){null!=e&&(o.generalRef=e)},datasetId:this.props.datasetId,canEdit:this.props.canEdit,canSeeDeletionButton:this.props.canSeeDeletionButton,deletionNeedsReview:this.props.deletionNeedsReview,hasDatasetDoiApproved:this.props.hasDatasetDoiApproved,isConfirmDeleteVisible:this.props.isConfirmDeleteVisible,licenseId:this.props.licenseId,licenseGroups:this.props.licenseGroups,onDeleteDataset:this.props.onDeleteDataset,onSaveSettingsGeneral:this.props.onSaveSettingsGeneral,overview:this.props.overview,owner:this.props.owner,owners:this.props.owners,setConfirmDeleteVisible:this.props.setConfirmDeleteVisible,slug:this.props.slug,title:this.props.title,diffType:this.props.diffType,databundleVersionType:s,remoteUpdateFrequency:E(null===(r=this.props.data.databundle)||void 0===r?void 0:r.remoteDatasourceInfo),lastRemoteUpdate:p,blockTaskCreation:this.props.blockTaskCreation})}),this.props.canEdit&&i.push({menuEntry:{tab:a.IMAGE,text:"Image",title:a.IMAGE},element:e.createElement(h.a,{ref:function(e){null!=e&&(o.imageRef=e)},cardImageUrl:this.props.cardImageUrl,cardImageLeft:this.props.cardImageLeft,cardImageTop:this.props.cardImageTop,cardImageHeight:this.props.cardImageHeight,cardImageWidth:this.props.cardImageWidth,coverImageLeft:this.props.coverImageLeft,coverImageHeight:this.props.coverImageHeight,coverImageTop:this.props.coverImageTop,coverImageWidth:this.props.coverImageWidth,coverImageUrl:this.props.coverImageUrl,datasetId:this.props.datasetId,datasetUrl:this.props.datasetUrl,onSaveSettingsImages:this.props.onSaveSettingsImages,originalImageUrl:this.props.originalImageUrl,thumbnailImageUrl:this.props.thumbnailImageUrl})}),i.push({menuEntry:{tab:a.SHARING,text:"Sharing",title:a.SHARING},element:e.createElement(g.a,{ref:function(e){null!=e&&(o.sharingRef=e)},canPerformOwnerTasks:this.props.canPerformOwnerTasks,canSeeDatasetHashLink:this.props.canSeeDatasetHashLink,collaborators:this.props.collaborators,datasetId:this.props.datasetId,isPrivate:this.props.isPrivate,owner:this.props.owner,slug:this.props.slug,hashLink:null!==this.props.datasetHashLink?this.props.datasetHashLink:void 0,onUpdateCollaborators:this.props.onUpdateCollaborators,onUpdateHashLink:this.props.onUpdateHashLink,setConfirmPrivacyVisible:this.props.setConfirmPrivacyVisible})}),this.props.canSeeConfigAsCode&&this.props.canEdit&&i.push({menuEntry:{tab:a.CODE_CONFIG,text:"JSON Config",title:a.CODE_CONFIG,additionalClassName:"dataset-settings__json-config-tab"},element:e.createElement(b,{datasetId:this.props.datasetId})}),u.a.isAdmin&&i.push({menuEntry:{tab:a.POWER_SETTINGS,text:"Power Settings",title:a.POWER_SETTINGS},element:e.createElement(f.a,{ref:function(e){null!=e&&(o.powerRef=e)},isFeatured:this.props.isFeatured,isSuperFeatured:this.props.isSuperFeatured,isRemoved:this.props.isRemoved,onSaveSettingsPower:this.props.onSaveSettingsPower,owner:this.props.owner,maintainerOrganization:this.props.maintainerOrganization,slug:this.props.slug,scheduledToBeFeatured:this.props.scheduledToBeFeatured,scheduledToBeUnFeatured:this.props.scheduledToBeUnFeatured,scheduledToBeUnSuperFeatured:this.props.scheduledToBeUnSuperFeatured,scheduledToBeSuperFeatured:this.props.scheduledToBeSuperFeatured})}),e.createElement("div",{className:"dataset-settings"},e.createElement(c.b,{title:"Settings"},e.createElement(d.a,{pages:i,onPageChanged:this.onPageChanged,initialPageName:this.props.initialSubtab})))},n.contextType=i.b,n}(e.Component),E=function(e){if(e&&"never"!==e.updateFrequency)return e.updateFrequency}}).call(this,n(0))},1642:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a,r,o,i,s,l=n(2),c=n(145),u=n(1),d=n.n(u),p=n(31),m=n(21),h=n(1431),f=n(1039),g=n(1226),b=n(1153),v=n(1033),y=d()(c.b).withConfig({displayName:"RenderProgress_Container",componentId:"sc-19tomnd"})(a||(a=Object(l.__makeTemplateObject)(["\n  margin: ","\n    ",";\n"],["\n  margin: ","\n    ",";\n"])),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),E=d()(c.b).withConfig({displayName:"RenderProgress_ProgressBarContainer",componentId:"sc-1be7hbw"})(r||(r=Object(l.__makeTemplateObject)(["\n  margin: 0 ",";\n"],["\n  margin: 0 ",";\n"])),(function(e){return e.theme.material.spacing(3)})),w=d()(c.e).withConfig({displayName:"RenderProgress_StyledMessage",componentId:"sc-1jffyb3"})(o||(o=Object(l.__makeTemplateObject)(["\n  margin: 0 ",";\n"],["\n  margin: 0 ",";\n"])),(function(e){return e.theme.material.spacing(3)})),x=d()(c.b).withConfig({displayName:"RenderProgress_Footer",componentId:"sc-13jdja9"})(i||(i=Object(l.__makeTemplateObject)(["\n  margin: "," 0 0 0;\n"],["\n  margin: "," 0 0 0;\n"])),(function(e){return e.theme.material.spacing(3)})),C=d()(c.b).withConfig({displayName:"RenderProgress_BoldFooter",componentId:"sc-sx5j8w"})(s||(s=Object(l.__makeTemplateObject)(["\n  display: inline;\n  font-weight: ",";\n"],["\n  display: inline;\n  font-weight: ",";\n"])),(function(e){return e.theme.material.typography.fontWeight.medium})),k=function(t,n,a,r,o){var i=null!=r?p.utc(r):null,s=p(),c=h.h(o),u=p.duration(c,"seconds").humanize(),d=a;i&&((d=s.diff(i,"seconds")/c)>1&&(d=1));var k=(a+d)/2,S={progressEvent:b.f({loaded:100*k,total:100}),initiatedTimeStamp:null!=r?i.valueOf():Date.now()},_=h.c[0];if(k>=0&&k<1){var O=Math.floor(k*h.c.length);_=h.c[O],Math.random()<.001&&(_=h.a)}else _=h.b;k>=.95&&(k=.95);var T=e.createElement(w,null,_);return m.a&&m.a.isAdmin&&(T=e.createElement(v.b,{tip:e.createElement("span",null,e.createElement("b",null,"Admin-only"),"   Action: ",n," / Estimate:"," ",c,"s")},e.createElement(w,null,_))),e.createElement(y,null,e.createElement(g.a,Object(l.__assign)({},S),e.createElement(E,null,e.createElement(f.b,{name:"circle-o-notch",className:"fa-spin"}),T)),e.createElement(x,null,"We estimate this will take"," ",e.createElement(C,null,"about ",u),". Closing your browser tab and/or navigating away from this page will ",e.createElement(C,null,"not")," ","disrupt processing."))}}).call(this,n(0))},1643:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r,o=n(2),i=n(1083),s=n(1061),l=n(1062),c=n(1060),u=n(1049),d=n(88),p=n(145),m=n(1),h=n.n(m),f=n(0),g=n(1495),b=h.a.div.withConfig({displayName:"Forum_Header",componentId:"sc-srfmg7"})(a||(a=Object(o.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  height: 92px;\n  justify-content: space-between;\n  margin-top: -24px;\n"],["\n  align-items: center;\n  display: flex;\n  height: 92px;\n  justify-content: space-between;\n  margin-top: -24px;\n"]))),v=h.a.div.withConfig({displayName:"Forum_KMListWrapper",componentId:"sc-1tkxtom"})(r||(r=Object(o.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),d.p),y=function(e){var t=e.onTopicClicked,n=e.forumId,a=e.topicId,r=e.isNew,o=e.subscription,d=e.paramValues;return a?f.createElement(i.a,{user:Object(g.a)(),topicId:a}):r?f.createElement(s.a,{onTopicSubmitted:e.topicSubmitted,allowAttachments:e.allowAttachments,user:Object(g.a)(),forumUrl:e.parentUrl,forumId:e.forumId}):f.createElement(v,null,f.createElement(b,null,f.createElement(p.n,null,"Discussions"),f.createElement(l.a,{forumId:n,initialSubscriptionState:o,emphasis:"medium"})),f.createElement(c.a,{forumId:n,onTopicClick:t,initialSort:Object(u.b)(d.sortBy),tagId:null,fullWidth:!0}))}},1644:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return he}));var r,o,i,s,l,c,u,d,p,m,h,f,g,b,v,y,E,w,x=n(2),C=n(1922),k=n(2322),S=n(891),_=n(2061),O=n(874),T=n(6),j=n(1),I=n.n(j),D=n(251),N=n(8),M=n(1039),F=n(21),P=n(1095),L=n(1229),A=n(1245),R=n(1036),U=n(70),z=n(1220),$=n(1588),B=n(1431),V=n(1223),H=n(872),W=n(1586),q=n(1007),K=n(1571),G=n(1714),Y=n(1715),Z=(e.Scripts,I.a.img.withConfig({displayName:"Header_CoverImg",componentId:"sc-1431b7d"})(r||(r=Object(x.__makeTemplateObject)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  height: 200px;\n  width: 100%;\n\n  object-fit: cover;\n  overflow: hidden;\n  z-index: 0;\n  border-radius: "," "," 0 0;\n"],["\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  height: 200px;\n  width: 100%;\n\n  object-fit: cover;\n  overflow: hidden;\n  z-index: 0;\n  border-radius: "," "," 0 0;\n"])),q.g.BorderRadius,q.g.BorderRadius)),Q=I.a.div.withConfig({displayName:"Header_UpvoteContainer",componentId:"sc-p1gj85"})(o||(o=Object(x.__makeTemplateObject)(["\n  display: flex;\n  border: none;\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: ",";\n"],["\n  display: flex;\n  border: none;\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: ",";\n"])),q.i.Z25),X=I.a.div.withConfig({displayName:"Header_CtaWrapper",componentId:"sc-1xx24oz"})(i||(i=Object(x.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin: 0 ",";\n  font-size: ",";\n"],["\n  display: flex;\n  align-items: center;\n  margin: 0 ",";\n  font-size: ",";\n"])),q.g.PadS,q.d.FontSizeS),J=I()(O.a).withConfig({displayName:"Header_CtaButton",componentId:"sc-j16wu8"})(s||(s=Object(x.__makeTemplateObject)(["\n  margin-right: ",";\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"],["\n  margin-right: ",";\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"])),q.g.PadS,q.a.ScreenTabletMax),ee=I.a.button.withConfig({displayName:"Header_CloseButton",componentId:"sc-1h8m8vp"})(l||(l=Object(x.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),q.g.PadS,q.g.PadS,q.g.PadXs,q.g.PadS,q.g.BorderRadius,q.b.ContentBorderLight,q.b.TextLight,(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?q.b.TextLight:q.b.TextMedium})),te=I.a.div.withConfig({displayName:"Header_SheetsModalContent",componentId:"sc-a6140q"})(c||(c=Object(x.__makeTemplateObject)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  line-height: 1.4;\n  padding: ",";\n  color: ",";\n  width: 280px;\n  ",";\n"],["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  line-height: 1.4;\n  padding: ",";\n  color: ",";\n  width: 280px;\n  ",";\n"])),q.g.PadL,q.b.TextMedium,q.c.Inter),ne=I.a.div.withConfig({displayName:"Header_SheetsIconWrapper",componentId:"sc-5ab6ns"})(u||(u=Object(x.__makeTemplateObject)(["\n  padding: "," 0 "," 0;\n  font-size: ",";\n  text-align: center;\n"],["\n  padding: "," 0 "," 0;\n  font-size: ",";\n  text-align: center;\n"])),q.g.PadS,q.g.PadXl,q.d.FontSizeXxl),ae=I()(M.b).withConfig({displayName:"Header_SheetsFailureIcon",componentId:"sc-14xbflg"})(d||(d=Object(x.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"],["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"])),(function(e){return e.theme.colors.hover.light}),(function(e){return e.theme.colors.kaggle.redDark}),(function(e){return e.theme.colors.kaggle.redDark}),(function(e){return e.theme.size.pad.l})),re=I()(M.b).withConfig({displayName:"Header_SheetsSuccessIcon",componentId:"sc-b8a1r2"})(p||(p=Object(x.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"],["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"])),(function(e){return e.theme.colors.hover.light}),(function(e){return e.theme.colors.kaggle.green}),(function(e){return e.theme.colors.kaggle.green}),(function(e){return e.theme.size.pad.l})),oe=I.a.div.withConfig({displayName:"Header_SheetsModalText",componentId:"sc-16qo3lq"})(m||(m=Object(x.__makeTemplateObject)(["\n  font-size: ",";\n  text-align: center;\n"],["\n  font-size: ",";\n  text-align: center;\n"])),q.d.FontSizeM),ie=I.a.a.withConfig({displayName:"Header_SheetsModalLink",componentId:"sc-lup878"})(h||(h=Object(x.__makeTemplateObject)(["\n  color: ",";\n  font-weight: ",";\n  text-decoration: none;\n  &:hover {\n    color: ",";\n  }\n"],["\n  color: ",";\n  font-weight: ",";\n  text-decoration: none;\n  &:hover {\n    color: ",";\n  }\n"])),q.b.TextLink,q.d.FontWeightMedium,q.b.TextLinkHover),se=I.a.div.withConfig({displayName:"Header_BigQueryHint",componentId:"sc-1etyuug"})(f||(f=Object(x.__makeTemplateObject)(["\n  color: ",";\n  background-color: ",";\n  padding: 12px "," "," ",";\n  border-bottom: 1px solid ",";\n  border-right: 1px solid ",";\n  border-left: 1px solid ",";\n  border-radius: 0 0 "," ",";\n  font-size: ",";\n  line-height: ",";\n"],["\n  color: ",";\n  background-color: ",";\n  padding: 12px "," "," ",";\n  border-bottom: 1px solid ",";\n  border-right: 1px solid ",";\n  border-left: 1px solid ",";\n  border-radius: 0 0 "," ",";\n  font-size: ",";\n  line-height: ",";\n"])),q.b.TextMedium,q.b.SubcontentBackground,q.g.PadM,q.g.PadS,q.g.PadM,q.b.ContentBorder,q.b.ContentBorder,q.b.ContentBorder,q.g.BorderRadius,q.g.BorderRadius,q.d.FontSizeM,q.d.LineHeightNormal),le=I.a.span.withConfig({displayName:"Header_BigQueryMain",componentId:"sc-tzu51t"})(g||(g=Object(x.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),q.d.FontWeightMedium),ce=I.a.div.withConfig({displayName:"Header_DatasetDropdownWrapper",componentId:"sc-1u4womr"})(b||(b=Object(x.__makeTemplateObject)(["\n  color: ",";\n  position: relative;\n"],["\n  color: ",";\n  position: relative;\n"])),q.b.TextMedium),ue=I.a.span.withConfig({displayName:"Header_ClickableSpan",componentId:"sc-7anj58"})(v||(v=Object(x.__makeTemplateObject)(["\n  cursor: ",";\n"],["\n  cursor: ",";\n"])),(function(e){return e.clickable?"pointer":"initial"})),de=I()(C.a).withConfig({displayName:"Header_MaintainerBadge",componentId:"sc-9ngnde"})(y||(y=Object(x.__makeTemplateObject)(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),q.d.FontSizeS),pe=I.a.a.withConfig({displayName:"Header_FirestoreLink",componentId:"sc-fvfcxb"})(E||(E=Object(x.__makeTemplateObject)(["\n  color: ",";\n  margin-left: ",";\n"],["\n  color: ",";\n  margin-left: ",";\n"])),q.b.PureWhite,q.g.PadXs),me=I.a.img.withConfig({displayName:"Header_Img",componentId:"sc-n6ekb0"})(w||(w=Object(x.__makeTemplateObject)(["\n  width: 40px;\n  height: 40px;\n  margin-right: ",";\n"],["\n  width: 40px;\n  height: 40px;\n  margin-right: ",";\n"])),(function(e){return e.theme.material.spacing(2)})),he=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCallToAction=function(e){var t,r,o,i,s;if(!n.props.isRemoved&&!n.props.isOldDatasetVersion){var l=n.props,c=l.currentTab,u=l.data,d=n.context,p=d.onCreateTopic,m=d.onCreateKernel,h=e?"discussion"===c?a.createElement(J,{onClick:p},"New Topic"):n.isNoDataSourceDataset()?void 0:a.createElement(J,{onClick:m},"New Notebook"):void 0,f=(null===(r=null===(t=u.databundleVersion)||void 0===t?void 0:t.filesetInfo)||void 0===r?void 0:r.totalSize)||0,g=null!=n.props.pendingDatasetVersion,b=n.props.currentDatasetVersion&&"reprocessing"===n.props.currentDatasetVersion.status,v=n.props.canEdit&&!g&&!b;n.props.createdByKernel&&null===n.props.createdByKernel.url&&(v=!1);var y=null===(o=n.props.data)||void 0===o?void 0:o.databundleVersion,E=null===(i=null==y?void 0:y.databundleVersionInfo)||void 0===i?void 0:i.databundleVersionType,w=v&&("remoteUrlFileSet"===E||"remoteGitRepositoryFileSet"===E),x=Object(B.f)(E),C=y&&Object(B.f)(E)&&(null===(s=null==y?void 0:y.bundleCompressionInfo)||void 0===s?void 0:s.archiveGcsUrl),S=function(){};return a.createElement(X,null,C&&a.createElement(J,{emphasis:"medium",onClick:n.trackDownload,href:n.props.downloadUrl,disableRapidash:!0},"Download (",D(f,{round:0}),")"),h,a.createElement(ce,null,a.createElement(k.a,{dataset:{id:n.props.datasetId,url:n.props.datasetExternalUrl,overview:n.props.overview,ownerSlug:n.props.owner.slug,slug:n.props.slug,title:n.props.title,bookmarked:n.props.bookmarked},claims:{canUpdate:w,canCreateVersion:v,canCopyApiCommand:x,canOpenInGoogleSheets:!1},actions:{onUpdate:w?n.props.onRefreshVersion:S,onCreateVersion:v?n.props.onCreateNewVersion:S,onOpenInGoogleSheets:S,onReportIssue:n.onReportIssue},reportEvent:U.c})))}},n.trackDownload=function(){n.props.onDownload(),Object(U.c)("datasets","download",{datasetId:n.props.datasetId,source:"header",type:"all"}),z.a.downloadDatasetOnDataTab(n.props.datasetId)},n.trackUpvote=function(){n.props.onVote();var e=n.props.upvoteSuggestion?"suggestions":"nosuggestions";z.a.upvotedDatasetOnHeader(n.props.datasetId,e)},n.onOpenInGoogleSheets=function(){var e=n.props,t=e.datasetId,a=e.datasetUrl;Object(U.c)("datasets","export-google-sheets-select",{datasetId:t,datasetUrl:a}),n.setState({googleSheetsState:{type:"selectFile"}})},n.onSelectFileGoogleSheets=function(e){},n.onSelectFileGoogleSheetsGeneric=function(e,t){var a=n.props,r=a.datasetId,o=a.datasetUrl;Object(U.c)("datasets","export-google-sheets-export",{datasetId:r,datasetUrl:o}),n.setState({googleSheetsState:{type:"working",filename:e}});var i=function(){return Object(B.i)(e,t,(function(e){return n.setState({googleSheetsState:{type:"success",url:e}})}),n.handleSheetsError)};Object(B.k)()?i():Object(B.j)(i,n.handleSheetsError,!1)},n.onReportIssue=function(){n.setState({isReportModalShown:!0})},n.handleSheetsError=function(e,t){var a,r=n.props,o=r.datasetId,i=r.datasetUrl;Object(U.c)("datasets","export-google-sheets-error",{datasetId:o,datasetUrl:i,type:e,error:t}),"signin"===e&&t&&t.error&&"popup_closed_by_user"===t.error?a="You have to sign in with your Google account and authorize Kaggle to access Google Sheets on your behalf to proceed.":"signin"===e&&t&&t.error&&"popup_blocked_by_browser"===t.error&&(a="Your browser is blocking Google's authentication popup. Please configure your browser to allow popups from www.kaggle.com."),n.setState({googleSheetsState:{type:"error",error:a,errorType:e}})},n.renderClassification=function(){var e=a.createElement("span",null),t=null;return"bigQuery"===n.props.type&&(t="BigQuery"),n.props.isPrivate?e=a.createElement("span",{className:"dataset-header-v2__classification-classification"},a.createElement("span",{className:"dataset-header-v2__classification-text-icon--nocircle"},a.createElement("i",{className:"fa fa-eye-slash"})),"  Private ",t," Dataset"):n.props.isRemoved||(e=a.createElement("span",{className:"dataset-header-v2__classification-classification"},a.createElement("span",{className:"fa-stack dataset-header-v2__classification-text-icon"},a.createElement("i",{className:"fa fa-circle-thin fa-stack-2x"}),a.createElement("i",{className:"fa fa-cube fa-stack-1x"})),"  ",t," Dataset")),a.createElement("div",{className:"dataset-header-v2__classification"},a.createElement("p",{className:"dataset-header-v2__classification-text"},e,n.renderAdminInfo()))},n.renderAdminInfo=function(){var e,t,r=n.props,o=r.datasetId,i=r.datasetVersionId,s=r.data,l="development"===Object(B.d)()?"https://firebase.corp.google.com/project/kaggle-metastore-test/database/firestore/data~2Fdatabundles":"https://firebase.corp.google.com/project/kaggle-metastore/database/firestore/data~2Fdatabundles",c=s&&s.firestorePath?l+"~2F"+s.firestorePath.replace("/","~2F"):null,u=null===(e=s.databundle)||void 0===e?void 0:e.legacyEntityId,d=null===(t=s.databundleVersion)||void 0===t?void 0:t.legacyEntityId;return F.a.isAdmin?a.createElement("span",{className:"dataset-header-v2__classification-ids"},a.createElement("span",{className:"fa fa-lock"}),"  D=",o," DV=",i,u&&a.createElement(a.Fragment,null," DB=",u),d&&a.createElement(a.Fragment,null," DBV=",d),c&&a.createElement(pe,{href:c,target:"_blank"},"Firestore")):null},n.renderUpdateInfo=function(){var e=n.props,t=e.isRemoved,r=e.isInFlight,o=e.diffType,i=e.lastUpdated,s=e.datasetVersionNumber,l=e.onShowHistoryModal;if(t||r)return null;var c=function(){return l(!0)};switch(o){case"realtime":return a.createElement("span",null,"(Continuous updates)");case"unversioned":return a.createElement(ue,{onClick:c,clickable:!0},"updated ",a.createElement(S.a,{time:i}));case"versioned":return a.createElement(ue,{onClick:c,clickable:!0},"updated ",a.createElement(S.a,{time:i})," (Version"," ",s,")")}return a.createElement(ue,{className:"dataset-item__main-update",onClick:c,clickable:!0},"updated ",a.createElement(S.a,{time:i}))},n.onSaveCollaborators=function(e){return Object(x.__awaiter)(n,void 0,void 0,(function(){var t;return Object(x.__generator)(this,(function(n){switch(n.label){case 0:H.a.clear(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,T.k.setDatasetCollaboratorList({datasetId:this.props.datasetId,collaboratorList:e})];case 2:return n.sent(),H.a.success("Successfully updated the sharing settings."),this.props.onUpdateState({collaborators:e}),[2,e];case 3:return(t=n.sent())instanceof T.a&&H.a.error({dangerousHtmlMessage:t.message}),[2];case 4:return[2]}}))}))},n.renderBottom=function(){var e=n.props,t=e.canEdit,r=e.currentTab,o=e.isCollaborator,i=e.isPrivate,s=e.isRemoved,l=e.slug,c=e.owner,u=e.numberOfScripts,d=e.numberOfTopics,p=e.numberOfTasks,m=e.canCreateDatasetTasks,h=e.pageMessages,f=e.onChangeTab;if(n.props.isInFlight)return null;var g="/"+c.slug+"/"+l,b={title:"Data",text:"Data",tab:"data",href:g},v={title:"Code",text:"Code",tab:"code",href:g+"/code",count:Object(P.b)(u)},y={title:"Discussion",text:"Discussion",tab:"discussion",count:Object(P.b)(d),href:g+"/discussion"},E={title:"Activity",text:"Activity",tab:"activity",href:g+"/activity"},w={title:"Settings",text:"Settings",tab:"settings",href:g+"/settings"},x={title:"Metadata",text:"Metadata",tab:"metadata",href:g+"/metadata"},C={title:"Tasks",text:"Tasks",tab:"tasks",count:Object(P.b)(p),href:g+"/tasks"},k=[b],S=!i||t||o;if(S&&(k.push(v),k.push(y)),!s){k.push(E),k.push(x);(S&&!i&&(p>0||m)||[540640,551982].some((function(e){return e===n.props.datasetId})))&&k.splice(1,0,C),t&&k.push(w)}var _="Overview";switch(r){case"data":_="Data";break;case"tasks":_="Tasks";break;case"dataOld":_="DataOld";break;case"kernels":case"notebooks":_="Notebooks";case"code":_="Code";break;case"discussion":_="Discussion";break;case"activity":_="Activity";break;case"settings":_="Settings";break;case"metadata":_="Metadata";break;default:_="Data"}return a.createElement(V.b,{pageMessages:h},a.createElement(L.a,null,a.createElement(V.d,{classNameModifier:"dataset",menuLinks:k,rightMenuLinks:[],activeTab:_,changeActiveTab:function(e){return f(e?e.toLowerCase():"data")}})),n.renderCallToAction(S))},n.state={isCollaborationModalShown:!1,isSocialSharingDropDownShown:!1,isReportModalShown:!1,googleSheetsState:{type:"hidden"}},n}return Object(x.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isSocialSharingDropDownShown:!1})},t.prototype.isNoDataSourceDataset=function(){return 1107===this.props.datasetId},t.prototype.componentDidMount=function(){var e=this.props.upvoteSuggestion?"suggestions":"nosuggestions";z.a.viewDataset(this.props.datasetId,e),Object(U.c)("datasets","view",{datasetId:this.props.datasetId})},t.prototype.renderTop=function(){var e=this.props.medalUrl,t={totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,alwaysShowVoters:!0,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,voters:this.props.upvoteSuggestion&&this.props.upvoteSuggestion.upVoters||[],medalVotes:this.props.upvoteSuggestion&&this.props.upvoteSuggestion.medalVoteCount?this.props.upvoteSuggestion.medalVoteCount:0,onVoteUpSuccess:this.trackUpvote};return a.createElement("div",{id:"dataset-header",className:"dataset-header-v2__top"},a.createElement("div",{className:"dataset-header-v2__top-image-container"},a.createElement(Z,{src:this.props.coverImageUrl})),a.createElement(V.g,{nodeId:"pageheader__top--safe--datasets"},!this.props.isRemoved&&!this.props.isInFlight&&a.createElement(Q,null,e&&a.createElement(me,{src:e,alt:"medal"}),a.createElement(G.a,{voteProps:t})),this.renderClassification(),a.createElement("div",{className:"dataset-header-v2__info"},a.createElement("h1",{className:"dataset-header-v2__title"},this.props.title),a.createElement("h2",{className:"dataset-header-v2__subtitle"},!this.props.isRemoved&&this.props.overview)),!this.props.isRemoved&&a.createElement("div",{className:"dataset-header-v2__details"},a.createElement("div",{className:"dataset-header-v2__collaborators-wrapper"},a.createElement("a",{href:this.props.owner.isOrganization?null:this.props.owner.profileUrl,className:"dataset-header-v2__owner-name"},a.createElement("img",{className:"dataset-header-v2__owner-thumbnail",src:this.props.owner.imageUrl,alt:"",role:"presentation"}),this.props.owner.name),this.renderCollaborators()),this.props.maintainerOrganization&&a.createElement(de,{name:this.props.maintainerOrganization.name,action:Object(K.a)(this.props.maintainerOrganization.id),appearance:"light"}),!this.props.isInFlight&&a.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()},a.createElement("span",null,a.createElement("span",{className:"dataset-header-v2__meta-bullet"}," •  "),this.renderUpdateInfo())))))},t.prototype.renderCollaborators=function(){var e=this,t=this.props.isPrivate,n=this.props.collaborators&&this.props.collaborators.collaborators?this.props.collaborators.collaborators.filter((function(e){return"writer"===e.type||t})):[];return 0===n.length?null:a.createElement("span",{className:"dataset-header-v2__collaborators",onClick:function(){return e.setState({isCollaborationModalShown:!0})},role:"button"},"and ",a.createElement(A.a,{count:n.length,word:"collaborator"}))},t.prototype.render=function(){var e,t,n=this,r=this.props,o=r.isRemoved,i=r.isInFlight,s=r.collaborators,l=r.datasetVersionId,c=r.upvoteSuggestion,u=r.hasAlreadyVotedUp,d=r.showDownloadUpvoteHeader,p=r.data,m=r.onVote,h=this.state,f=h.isCollaborationModalShown,g=h.isReportModalShown,b=h.googleSheetsState,v=null===(t=null===(e=p.databundleVersion)||void 0===e?void 0:e.databundleVersionInfo)||void 0===t?void 0:t.databundleVersionType,y=!o&&"bigQuery"===v;return a.createElement("div",{className:"dataset-header-v2__container"},a.createElement(V.a,{backgroundClass:"dataset-header-v2"},this.renderTop(),this.renderBottom(),a.createElement("div",null,c&&!u&&d&&a.createElement(W.a,Object(x.__assign)({},c,{additionalClassNames:"upvote-suggestion__dataset-download",mainText:"Your Dataset download has started.",onVote:m,entity:"dataset"})))),!o&&!i&&y&&a.createElement(se,null,a.createElement(le,null,"This is a BigQuery Dataset.")," There are no files to download, but you can query it through Kernels using the"," ",a.createElement(ie,{href:"https://www.kaggle.com/sohier/beyond-queries-exploring-the-bigquery-api",target:"_blank"},"BigQuery API"),"."),!o&&!i&&a.createElement(a.Fragment,null,a.createElement($.a,{collaborators:s.collaborators,owner:s.owner,isShown:f,showWriters:!0,showReaders:this.props.isPrivate,onRemoveCurrentUser:this.onSaveCollaborators,onClose:function(){return n.setState({isCollaborationModalShown:!1})}}),a.createElement(_.a,{isOpen:"selectFile"===b.type,description:"Select from CSV files under 20MB",title:"Open a file to open in Google Sheets",onCloseRequest:function(){return n.setState({googleSheetsState:{type:"hidden"}})},onSelect:function(e){return n.onSelectFileGoogleSheets(e.name)},files:[]}),a.createElement(Y.a,{modalIsShown:g,onClose:function(){n.setState({isReportModalShown:!1})},datasetVersionId:l}),a.createElement(R.a,{modalIsShown:"success"===b.type||"error"===b.type||"working"===b.type,onClose:function(){"working"!==b.type&&n.setState({googleSheetsState:{type:"hidden"}})},className:"sheets-modal"},a.createElement(te,null,"working"!==b.type&&a.createElement(ee,{onClick:function(){return n.setState({googleSheetsState:{type:"hidden"}})}},a.createElement(M.b,{name:"times"})),"success"===b.type&&a.createElement(a.Fragment,null,a.createElement(ne,null,a.createElement(re,{name:"check"})),a.createElement(oe,null,"Your spreadsheet was created successfully!",a.createElement("br",null),a.createElement("br",null),a.createElement(ie,{href:b.url,target:"_blank"},"Check it out here"))),"working"===b.type&&a.createElement(a.Fragment,null,a.createElement(ne,{style:{color:q.b.TextLink}},a.createElement(M.b,{name:"circle-o-notch",className:"fa-spin"})),a.createElement(oe,null,"Please hang tight while your spreadsheet is being created. This can take up to a minute for larger files.")),"error"===b.type&&a.createElement(a.Fragment,null,a.createElement(ne,null,a.createElement(ae,{name:"exclamation"})),void 0!==b.error&&a.createElement(oe,null,b.error),void 0===b.error&&a.createElement(oe,null,"Unfortunately, we couldn't create your spreadsheet."," ",a.createElement("br",null),"If this keeps happening, please"," ",a.createElement(ie,{href:"mailto:support@kaggle.com"},"contact support")," ","and we'll get you squared away."))))))},t.contextTypes={onCreateKernel:N.func,onCreateTopic:N.func},t}(a.Component)}).call(this,n(367),n(0))},1648:function(e,t,n){"use strict";var a=n(2),r=n(1657),o=n(0),i=n(1),s=n.n(i);const l="Easy to understand and includes essential metadata",c="Rich, machine readable file formats and metadata",u="Assurances the dataset is maintained",d="Add a subtitle",p="Add tags",m="Add a description",h="Upload an image",f="Add file information",g="Include column descriptors",b="Specify a license",v="Use preferred file formats",y="Specify provenance",E="Specify update frequency",w="Publish a notebook",x="Add a task",C="Stand out on the listings page with a snappy subtitle",k="Make it easy for users to find your dataset in search",S="Share specifics about the context, sources, and inspiration behind your dataset",_="Make your dataset pop with an eye-catching cover image and thumbnail",O="Help others navigate your dataset with a description of each file",T="Empowers others to understand  your data by describing its features",j="Help other users understand how they can work with and share the data",I="Provide data in machine readable formats",D="Let others know how the data was collected and organized in the metadata tab",N="Let other users know if the dataset will be regularly updated in the metadata tab",M="Provide an example of the data in use so other users can get started quickly",F="Suggest an analysis users can do with this dataset";var P=n(145),L=n(108);const A=s()(P.b)`
  color: ${e=>e.theme.material.color.brand.grey[900]};
`,R=s()(P.b)`
  color: ${e=>1===e.score?`${e.theme.material.color.brand.grey[500]};`:`${e.theme.material.color.brand.blue[800]};`};

  :hover {
    cursor: ${e=>1===e.score?"text":"pointer"};
  }
`,U=s()(L.a)`
  color: ${e=>1===e.score?`${e.theme.material.color.brand.grey[500]};`:`${e.theme.material.color.brand.blue[800]};`};
  height: ${e=>e.theme.material.typography.body2.lineHeight};
  vertical-align: middle;
`,z=s.a.div`
  display: inline-block;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,$=s.a.div`
  display: flex;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  margin-bottom: ${e=>e.theme.material.spacing(6)};

  :last-child {
    margin-bottom: 0;
  }

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    :last-child {
      margin-bottom: ${e=>e.theme.material.spacing(6)};
    }
  }
`;function B(e){const{description:t,name:n,score:a,onNameClick:r}=e;return o.createElement($,{"data-test":"item"},o.createElement(U,{icon:1===a?"check":"radio_button_unchecked",score:a,size:"inline"}),o.createElement(z,null,o.createElement(R,{"data-test":"item-name",score:a,onClick:a<1?r:void 0},n),a<1&&o.createElement(A,null,t)))}const V=s()(P.u)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,H=s.a.div``;function W(e){const{sectionName:t,children:n}=e;return o.createElement(H,null,o.createElement(V,null,t),n)}const q=s.a.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-column-gap: ${e=>e.theme.material.spacing(16)};
  margin: ${e=>e.theme.material.spacing(8)};
  user-select: text;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-gap: ${e=>e.theme.material.spacing(2)};
    margin-bottom: ${e=>e.theme.material.spacing(5)};
  }
`;function K(e){const{scores:t,onSubtitleClick:n,onTagsClick:a,onOverviewClick:r,onCoverImageClick:i,onFileDescriptionClick:s,onColumnDescriptionClick:P,onLicenseClick:L,onFileFormatClick:A,onProvenanceClick:R,onUpdateFrequencyClick:U,onPublicKernelClick:z,onCreateTaskClick:$}=e;return o.createElement(q,null,o.createElement(W,{"data-test":"essential-section",sectionName:l},o.createElement(B,{"data-test":"subtitle",description:C,name:d,score:t.subtitleScore,onNameClick:n}),o.createElement(B,{"data-test":"tags",description:k,name:p,score:t.tagScore,onNameClick:a}),o.createElement(B,{"data-test":"overview",description:S,name:m,score:t.overviewScore,onNameClick:r}),o.createElement(B,{"data-test":"cover-image",description:_,name:h,score:t.coverImageScore,onNameClick:i})),o.createElement(W,{"data-test":"format-section",sectionName:c},o.createElement(B,{"data-test":"file-description",description:O,name:f,score:t.fileDescriptionScore,onNameClick:s}),null!==t.columnDescriptionScore&&o.createElement(B,{"data-test":"column-description",description:T,name:g,score:t.columnDescriptionScore,onNameClick:P}),o.createElement(B,{"data-test":"license",description:j,name:b,score:t.licenseScore,onNameClick:L}),o.createElement(B,{"data-test":"file-format",description:I,name:v,score:t.fileFormatScore,onNameClick:A})),o.createElement(W,{"data-test":"maintenance-section",sectionName:u},o.createElement(B,{"data-test":"provenance",description:D,name:y,score:t.provenanceScore,onNameClick:R}),o.createElement(B,{"data-test":"update-frequency",description:N,name:E,score:t.updateFrequencyScore,onNameClick:U}),o.createElement(B,{"data-test":"kernel",description:M,name:w,score:t.publicKernelScore,onNameClick:z}),o.createElement(B,{"data-test":"task",description:F,name:x,score:t.publicKernelScore,onNameClick:$})))}var G=n(252);const Y=s()(L.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  color: ${e=>1===e.score?`${e.theme.material.color.brand.blue[800]};`:`${e.theme.material.color.brand.grey[500]};`};
`,Z=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`;function Q(e){const{name:t,score:n}=e;return o.createElement(Z,null,o.createElement(Y,{icon:1===n?"check":"radio_button_unchecked",score:n,size:"inline"}),t)}const X=s.a.div`
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-shadow: ${e=>e.theme.material.elevation[4]};
  height: fit-content;
  margin-left: ${e=>e.theme.material.spacing(8)};
  padding: ${e=>e.theme.material.spacing(4)};
  position: absolute;
  text-align: left;
  width: 250px;
  z-index: ${e=>e.theme.zindex.foreground};
`,J=s.a.div`
  color: ${e=>e.theme.material.color.text[70]};
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  margin-top: ${e=>e.theme.material.spacing(4)};
  margin-bottom: ${e=>e.theme.material.spacing(2)};

  :first-child {
    margin-top: ${e=>e.theme.material.spacing(2)};
  }
`;function ee(e){const{coverImageScore:t,fileDescriptionScore:n,fileFormatScore:a,licenseScore:r,overviewScore:i,provenanceScore:s,publicKernelScore:d,subtitleScore:p,tagScore:m,updateFrequencyScore:h,columnDescriptionScore:f}=e;return o.createElement(X,{"data-test":"modal"},o.createElement(J,null,l),o.createElement(Q,{name:"Subtitle",score:p}),o.createElement(Q,{name:"Tags",score:m}),o.createElement(Q,{name:"Overview description",score:i}),o.createElement(Q,{name:"Cover image",score:t}),o.createElement(J,null,c),o.createElement(Q,{name:"File descriptions",score:n}),null!==f&&o.createElement(Q,{name:"Column descriptions",score:f}),o.createElement(Q,{name:"License specified",score:r}),o.createElement(Q,{name:"Acceptable file formats used",score:a}),o.createElement(J,null,u),o.createElement(Q,{name:"Provenance is specified",score:s}),o.createElement(Q,{name:"Update frequency is specified",score:h}),o.createElement(Q,{name:"Has a public kernel or task",score:d}))}const te=s()(L.a)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  padding-right: ${e=>e.theme.material.spacing(2)};
`,ne=s()(P.b)`
  display: inline;
`,ae=s()(P.u)`
  padding-right: ${e=>e.theme.material.spacing(2)};
  display: inline;
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,re=s.a.div`
  flex: 1 1 auto;
  text-align: left;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin: ${e=>e.theme.material.spacing(1)} 0;
  }
`;function oe(e){const{showModal:t,scores:n,className:a,onMouseEnter:r,onMouseLeave:i}=e;return o.createElement(re,{className:a,onMouseEnter:r,onMouseLeave:i,"data-test":"usability-wrapper"},o.createElement(te,{icon:"business_center","data-test":"icon",size:"inline"}),o.createElement(ae,{"data-test":"text"},"Usability"),o.createElement(ne,{"data-test":"rating"},(10*n.score).toFixed(1)),t&&o.createElement(ee,Object.assign({},n)))}class ie extends o.Component{constructor(){super(...arguments),this.state={showModal:!1},this.onMouseEnter=()=>{this.props.allowModal&&this.setState({showModal:!0})},this.onMouseLeave=()=>{this.setState({showModal:!1})}}render(){return o.createElement(oe,{scores:this.props.scores,showModal:this.state.showModal,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}const se=s()(L.a)`
  color: ${e=>e.theme.material.color.brand.blue[800]};
  margin-right: ${e=>e.theme.material.spacing(6)};
  height: ${e=>e.theme.material.spacing(7)};
  vertical-align: middle;
`,le=s()(P.u)`
  color: ${e=>e.theme.material.color.text[40]};
  line-height: ${e=>e.theme.material.spacing(7)};
  vertical-align: middle;
`,ce=s()(G.Button)`
  margin-left: ${e=>e.theme.material.spacing(3)};
  height: ${e=>e.theme.material.spacing(7)};
`,ue=s.a.div`
  display: flex;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  width: 100%;

  :hover {
    cursor: pointer;
  }
`,de=s()(ie)`
  line-height: ${e=>e.theme.material.spacing(7)};
`,pe=s.a.span`
  display: flex;
  margin-left: auto;
`;function me(e){const{usabilityRating:t,isCollapsed:n,isPrivate:a,onCollapse:r,onMakePublic:i}=e;return o.createElement(ue,{"data-test":"header",onClick:r},o.createElement(se,{icon:n?"expand_more":"expand_less"}),o.createElement(le,null,"Make your dataset easy to use"),o.createElement(pe,null,o.createElement(de,{allowModal:!1,scores:t,"data-test":"usability-rating"}),a&&o.createElement(ce,{"data-test":"make-public",onClick:e=>{e.stopPropagation(),i()},tight:!0,variant:"transparent"},"Make Public")))}function he(e){const{isCollapsed:t,isPrivate:n,scores:a,onCollapse:i,onMakePublic:s,onSubtitleClick:l,onTagsClick:c,onOverviewClick:u,onCoverImageClick:d,onFileDescriptionClick:p,onColumnDescriptionClick:m,onLicenseClick:h,onFileFormatClick:f,onProvenanceClick:g,onUpdateFrequencyClick:b,onPublicKernelClick:v,onCreateTaskClick:y}=e;return o.createElement(r.a,{header:o.createElement(me,{usabilityRating:a,isCollapsed:t,isPrivate:n,onCollapse:i,onMakePublic:s})},t?o.createElement(o.Fragment,null):o.createElement(K,{"data-test":"body",scores:a,onSubtitleClick:l,onTagsClick:c,onOverviewClick:u,onCoverImageClick:d,onFileDescriptionClick:p,onColumnDescriptionClick:m,onLicenseClick:h,onFileFormatClick:f,onProvenanceClick:g,onUpdateFrequencyClick:b,onPublicKernelClick:v,onCreateTaskClick:y}))}var fe,ge,be,ve,ye,Ee,we,xe,Ce,ke,Se,_e,Oe,Te,je,Ie,De,Ne,Me,Fe,Pe,Le,Ae,Re,Ue,ze,$e,Be,Ve,He,We,qe,Ke=n(1266),Ge=n(1907),Ye=n(8),Ze=n(1031),Qe=n(21),Xe=n(872),Je=n(1575),et=n(1007),tt=n(1039),nt=n(1642),at=s()(P.b).withConfig({displayName:"PublishStatus_NewVersionHint",componentId:"sc-1wtisvc"})(fe||(fe=Object(a.__makeTemplateObject)(["\n  margin: ","\n    "," 0 ",";\n"],["\n  margin: ","\n    "," 0 ",";\n"])),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(6)})),rt=s()(P.b).withConfig({displayName:"PublishStatus_PreprocessingHint",componentId:"sc-w2ul94"})(ge||(ge=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n  background: ",";\n  border-radius: ",";\n  display: flex;\n"],["\n  padding: ",";\n  color: ",";\n  background: ",";\n  border-radius: ",";\n  display: flex;\n"])),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.color.text[70]}),(function(e){return e.theme.material.color.brand.blue[100]}),(function(e){return e.theme.material.borderRadius.normal})),ot=s()(tt.b).withConfig({displayName:"PublishStatus_PreprocessingIcon",componentId:"sc-1bh41l0"})(be||(be=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),(function(e){return e.theme.material.color.brand.blue[500]}),(function(e){return e.theme.material.spacing(4)})),it=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isProcessingVersion=function(e){switch(e){case"blobsCopiedToSds":case"blobsDecompressed":case"blobsReceived":case"individualBlobsCompressed":case"notYetPersisted":return!0;default:return!1}},t.isReprocessing=function(e){return"reprocessing"===e},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.publishStatus;return e.canEdit&&t&&t.publishStatus?this.isProcessingVersion(t.publishStatus.status)?o.createElement(Ze.b,{title:"New Version In Progress"},o.createElement(at,null,"A new dataset version is being processed at this moment. During processing, you will see the files of the current version."),this.renderPublishProgress()):this.isReprocessing(this.props.publishStatus.publishStatus.status)?o.createElement(rt,null,o.createElement("div",null,o.createElement(ot,{name:"circle-o-notch",className:"fa-spin"})),o.createElement("div",null,"This dataset is reprocessing newly saved changes. You can continue to use and make changes to this dataset as usual. This page will refresh when reprocessing is completed.")):null:null},t.prototype.renderPublishProgress=function(){var e,t,n=this.props,a=n.publishStatus,r=(null===(t=null===(e=n.data.databundleVersion)||void 0===e?void 0:e.filesetInfo)||void 0===t?void 0:t.totalSize)||0,o=a.publishStatus,i=o.status?o.status:"notYetPersisted",s=o.creationStep?o.creationStep:"",l=o.creationPercentComplete?o.creationPercentComplete:0,c=o.creationStart?o.creationStart.toString():null;return Object(nt.a)(i,s,l,c,r)},t}(o.Component),st=n(1416),lt=n(1383),ct=n(1261),ut=n(1262),dt=s.a.div.withConfig({displayName:"Description_EmptyContainer",componentId:"sc-8kbd1c"})(ve||(ve=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n  font-size: ",";\n"],["\n  padding: ",";\n  color: ",";\n  font-size: ",";\n"])),et.g.PadS,et.b.TextMedium,et.d.FontSizeM),pt=s.a.span.withConfig({displayName:"Description_EmptyText",componentId:"sc-ha7eiu"})(ye||(ye=Object(a.__makeTemplateObject)(["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),et.b.TextLinkHover),mt=s()(tt.b).withConfig({displayName:"Description_EmptyIcon",componentId:"sc-adwazk"})(Ee||(Ee=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),et.g.PadS,et.b.TextLight,et.b.TextLinkHover),ht=s.a.div.withConfig({displayName:"Description_ContentWrapper",componentId:"sc-xv68c4"})(we||(we=Object(a.__makeTemplateObject)(["\n  position: relative;\n  color: ",";\n"],["\n  position: relative;\n  color: ",";\n"])),et.b.TextMedium),ft=s.a.div.withConfig({displayName:"Description_Content",componentId:"sc-wgnpmt"})(xe||(xe=Object(a.__makeTemplateObject)(["\n  max-height: ",";\n  padding: ",";\n  overflow: hidden;\n  transition: max-height 1s ease;\n  position: relative;\n  ","\n"],["\n  max-height: ",";\n  padding: ",";\n  overflow: hidden;\n  transition: max-height 1s ease;\n  position: relative;\n  ","\n"])),(function(e){return e.expanded?"unset":"200px"}),et.g.PadL,(function(e){return e.expanded?"":"\n      ::after {\n        content: '';\n        position: absolute;\n        top: 80px;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));\n      }"})),gt=s.a.div.withConfig({displayName:"Description_ContentInner",componentId:"sc-tnbhho"})(Ce||(Ce=Object(a.__makeTemplateObject)([""],[""]))),bt=s.a.div.withConfig({displayName:"Description_Expand",componentId:"sc-mobr94"})(ke||(ke=Object(a.__makeTemplateObject)(["\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-top: 1px solid ",";\n  padding: 12px ",";\n  text-align: center;\n  background: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"],["\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-top: 1px solid ",";\n  padding: 12px ",";\n  text-align: center;\n  background: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"])),et.b.ContentBorderLight,et.g.PadL,et.b.PureWhite,et.d.FontWeightMedium,et.b.HoverLight),vt=s()(tt.b).withConfig({displayName:"Description_ExpandIcon",componentId:"sc-zyxrq0"})(Se||(Se=Object(a.__makeTemplateObject)([""],[""]))),yt="### Context\n\nThere's a story behind every dataset and here's your opportunity to share yours.\n\n\n### Content\n\nWhat's inside is more than just rows and columns. Make it easy for others to get started by describing how you acquired the data and what time period it represents, too.\n\n\n### Acknowledgements\n\nWe wouldn't be here without the help of others. If you owe any attributions or thanks, include them here along with any citations of past research.\n\n\n### Inspiration\n\nYour data will be in front of the world's largest data science community. What questions do you want to see answered?",Et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expandable:!0,expanded:!1},t.renderContent=function(){var e=t.props,n=e.onDescriptionSaved,a=e.onDescriptionChanged,r=e.onDescriptionEditCancelled,i=e.canEdit,s=e.isEditing,l=e.onEdit,c=e.description,u=t.state,d=u.expanded,p=u.expandable,m=i&&o.createElement(lt.a,{sectionName:"Description",isEditing:s,cancelCallback:function(){r()},saveCallback:function(){n()},toggleCallback:function(){l(!s)}}),h=d||!p||s;return o.createElement(Ze.b,{title:"Description",titleBarRightSide:m},o.createElement(ht,null,o.createElement(ft,{expanded:h},o.createElement(gt,{ref:function(e){return t.contentRef=e}},s?o.createElement(ct.a,{onChange:function(e){return a(e)},placeholder:"Give a detailed description about your dataset.",value:c||yt}):o.createElement(ut.a,{value:c}))),p&&!s&&o.createElement(bt,{onClick:function(){return t.onExpand(!d)}},o.createElement(vt,{name:d?"angle-up":"angle-down"}))))},t.renderEmpty=function(){return o.createElement(dt,null,o.createElement(pt,{onClick:t.onAddDescription},"Add a description..."),o.createElement(mt,{name:"pencil",onClick:t.onAddDescription}))},t.onAddDescription=function(){var e=t.props,n=e.onEdit,a=e.onDescriptionChanged;n(!0),a(yt)},t.onExpand=function(e){t.setState({expanded:e})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.contentRef&&this.contentRef.clientHeight){var e=this.contentRef.clientHeight;this.setState({expandable:e>248})}},t.prototype.render=function(){var e=this.props,t=e.canEdit,n=e.description,a=e.isEditing;return""!==n&&n!==yt||a?this.renderContent():t?this.renderEmpty():null},t}(o.Component),wt=n(1245),xt=n(1532),Ct=s.a.div.withConfig({displayName:"Footer_Wrapper",componentId:"sc-1fi89lh"})(_e||(_e=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  line-height: ",";\n"],["\n  padding: ",";\n  line-height: ",";\n"])),et.g.PadM,et.d.LineHeightNormal),kt=s.a.div.withConfig({displayName:"Footer_MoreActivity",componentId:"sc-9bjxpl"})(Oe||(Oe=Object(a.__makeTemplateObject)(["\n  padding: "," 0 0 0;\n  line-height: ",";\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  padding: "," 0 0 0;\n  line-height: ",";\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),et.g.PadS,et.d.LineHeightNormal,et.b.TextLink,et.d.FontSizeS,et.d.FontWeightMedium,et.b.TextLinkHover),St=function(e){var t=e.numberOfViews,n=e.numberOfDownloads,a=e.numberOfScripts,r=e.numberOfTopics,i=e.onShowMoreActivity;return o.createElement(Ze.b,null,o.createElement(Ct,null,o.createElement(xt.a,{list:[o.createElement(wt.a,{key:"view",word:"view",count:t,formatNumber:!0}),o.createElement(wt.a,{key:"download",word:"download",count:n,formatNumber:!0}),o.createElement(wt.a,{key:"notebook",word:"notebook",count:a,formatNumber:!0}),o.createElement(wt.a,{key:"topic",word:"topic",count:r,formatNumber:!0})]}),o.createElement(kt,{onClick:i},"View more activity")))},_t=n(1232),Ot=n(885),Tt=n(6),jt=s.a.a.withConfig({displayName:"SimpleTag_Tag",componentId:"sc-1m0qa3y"})(Te||(Te=Object(a.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.color.text[40]}),(function(e){return e.theme.material.color.brand.blue[500]})),It=s()(tt.b).withConfig({displayName:"SimpleTag_TagRemoveIcon",componentId:"sc-lisz9l"})(je||(je=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),et.g.PadXs,et.b.TextLight,et.b.KaggleRedDark),Dt=s.a.div.withConfig({displayName:"SimpleTag_CategoryTooltip",componentId:"sc-193xph"})(Ie||(Ie=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    text-align: left;\n"],["\n    ","\n    font-size: ",";\n    text-align: left;\n"])),et.c.Inter,et.d.FontSizeS),Nt=s.a.p.withConfig({displayName:"SimpleTag_CategoryTooltipText",componentId:"sc-1yo5c7k"})(De||(De=Object(a.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),et.d.FontWeightMedium),Mt=(s.a.span.withConfig({displayName:"SimpleTag_CategoryTooltipCount",componentId:"sc-2781ml"})(Ne||(Ne=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin: 0 0 0 ",";\n"],["\n  color: ",";\n  margin: 0 0 0 ",";\n"])),et.b.TextLight,et.g.PadS),s.a.p.withConfig({displayName:"SimpleTag_CategoryTooltipInherited",componentId:"sc-f89ydh"})(Me||(Me=Object(a.__makeTemplateObject)(["\n  color: ",";\n  font-style: italic;\n"],["\n  color: ",";\n  font-style: italic;\n"])),et.b.TextLight),function(e){var t=e.tag,n=e.isEditing,a=e.isLast,r=e.onRemove,i=t.name;return o.createElement(o.Fragment,null,o.createElement(G.Tooltip,{type:"dark",tip:o.createElement(Dt,null,o.createElement(Nt,null,t.name),t.fullPath&&o.createElement("p",null,t.fullPath))},o.createElement(jt,{href:t.tagUrl,rel:"noopener"},i)),n&&o.createElement(It,{name:"times",onClick:function(){return r()}}),a?" ":", ")}),Ft=5,Pt=[14100,16637,3e3,13100,13200,16585],Lt="Apply up to "+Ft+" tags to help Kaggle \nusers find your dataset.",At=s.a.div.withConfig({displayName:"QuickInfo_Wrapper",componentId:"sc-zf34wg"})(Fe||(Fe=Object(a.__makeTemplateObject)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-column-gap: ",";\n  line-height: ",";\n  padding: ",";\n\n  @media only screen and (max-width: ",") {\n    grid-template-columns: 1fr;\n  }\n"],["\n  display: grid;\n  grid-template-columns: ",";\n  grid-column-gap: ",";\n  line-height: ",";\n  padding: ",";\n\n  @media only screen and (max-width: ",") {\n    grid-template-columns: 1fr;\n  }\n"])),(function(e){return e.showUsabilityRating?"1fr 2fr 2fr":"1fr 2fr"}),(function(e){return e.theme.material.spacing(4)}),et.d.LineHeightNormal,(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.size.breakpoint.screen.tablet.max})),Rt=s.a.div.withConfig({displayName:"QuickInfo_InfoTitle",componentId:"sc-4kjp6o"})(Pe||(Pe=Object(a.__makeTemplateObject)(["\n  width: fit-content;\n  white-space: nowrap;\n"],["\n  width: fit-content;\n  white-space: nowrap;\n"]))),Ut=s.a.div.withConfig({displayName:"QuickInfo_License",componentId:"sc-gof2y"})(Le||(Le=Object(a.__makeTemplateObject)(["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"],["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max}),(function(e){return e.theme.material.spacing(1)})),zt=s.a.div.withConfig({displayName:"QuickInfo_Tags",componentId:"sc-b0c3af"})(Ae||(Ae=Object(a.__makeTemplateObject)(["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"],["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max}),(function(e){return e.theme.material.spacing(1)})),$t=s()(tt.b).withConfig({displayName:"QuickInfo_StyledIcon",componentId:"sc-1lv8yd"})(Re||(Re=Object(a.__makeTemplateObject)(["\n  color: ",";\n  padding-right: ",";\n"],["\n  color: ",";\n  padding-right: ",";\n"])),(function(e){return e.theme.material.color.brand.grey[500]}),(function(e){return e.theme.material.spacing(2)})),Bt=s()((function(e){e.active;var t=Object(a.__rest)(e,["active"]);return o.createElement(tt.b,Object(a.__assign)({},t))})).withConfig({displayName:"QuickInfo_TagEditIcon",componentId:"sc-1tvpwp2"})(Ue||(Ue=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.active?e.theme.material.color.brand.blue[500]:e.theme.material.color.brand.grey[500]}),(function(e){return e.active?e.theme.material.color.brand.grey[500]:e.theme.material.color.brand.blue[500]})),Vt=s.a.span.withConfig({displayName:"QuickInfo_MoreTags",componentId:"sc-124u3mu"})(ze||(ze=Object(a.__makeTemplateObject)([""],[""]))),Ht=s.a.span.withConfig({displayName:"QuickInfo_NoTags",componentId:"sc-ofja99"})($e||($e=Object(a.__makeTemplateObject)(["\n  cursor: ",";\n\n  :hover {\n    color: ",";\n  }\n"],["\n  cursor: ",";\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.canEdit?"pointer":"initial"}),(function(e){return e.theme.material.color.brand.blue[500]})),Wt=(s.a.button.withConfig({displayName:"QuickInfo_CloseButton",componentId:"sc-1kbqir3"})(Be||(Be=Object(a.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: (\n    "," ","\n  );\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: (\n    "," ","\n  );\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.spacing(1)}),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.borderRadius.normal}),et.b.ContentBorderLight,(function(e){return e.theme.material.color.brand.grey[400]}),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?e.theme.material.color.brand.grey[400]:e.theme.material.color.brand.grey[900]})),s.a.div.withConfig({displayName:"QuickInfo_TagTooltip",componentId:"sc-155e7gp"})(Ve||(Ve=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n    text-align: left;\n"],["\n    ","\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n    text-align: left;\n"])),et.c.Inter,(function(e){return e.theme.material.typography.caption.fontSize}),(function(e){return e.theme.material.typography.caption.fontWeight}),(function(e){return e.theme.material.typography.caption.lineHeight}))),qt=s.a.a.withConfig({displayName:"QuickInfo_A",componentId:"sc-43d8pb"})(He||(He=Object(a.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n"],["\n  text-decoration: none;\n  color: ",";\n"])),et.b.TextMedium),Kt=s.a.div.withConfig({displayName:"QuickInfo_Text",componentId:"sc-xitcj2"})(We||(We=Object(a.__makeTemplateObject)(["\n  display: inline;\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  padding-right: ",";\n"],["\n  display: inline;\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  padding-right: ",";\n"])),(function(e){return e.theme.material.typography.body2.fontSize}),(function(e){return e.theme.material.typography.body2.fontWeight}),(function(e){return e.theme.material.typography.body2.lineHeight}),(function(e){return e.theme.material.spacing(2)})),Gt=s()(Kt).withConfig({displayName:"QuickInfo_BoldText",componentId:"sc-ju87wd"})(qe||(qe=Object(a.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n"],["\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n"])),(function(e){return e.theme.material.typography.subhead.fontSize}),(function(e){return e.theme.material.typography.subhead.fontWeight}),(function(e){return e.theme.material.typography.subhead.lineHeight})),Yt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isEditingTags:!1,isShowingAllTags:!1},t.renderLicense=function(){var e=t.props.license;return 4===e.id?null:o.createElement(Ut,null,o.createElement(Rt,null,o.createElement($t,{name:"balance-scale",className:"fa-fw"}),o.createElement(Gt,null,"License")),o.createElement(qt,{href:e.url,target:"_blank"},e.name))},t.renderTags=function(){var e=t.props,n=e.tags,a=e.canEdit,r=t.state,i=r.isEditingTags,s=r.isShowingAllTags,l=n.tags.length>Ft&&!s?n.tags.slice(0,Ft):n.tags,c=n.tags.length>Ft&&!s?n.tags.slice(Ft):[],u=c.length;return o.createElement(zt,null,o.createElement(Rt,null,o.createElement($t,{name:"tag",className:"fa-fw"}),o.createElement(Gt,null,"Tags")),o.createElement(Ot.a,null,l.map((function(e,n){return t.renderTag(e,n,n===l.length-1)})),0===l.length&&a&&o.createElement(Ht,{onClick:function(){return t.onEditTags(!0)},canEdit:!0},"Add tags..."),0===l.length&&!a&&o.createElement(Ht,{canEdit:!1},"No tags yet"),u>0&&o.createElement(G.Tooltip,{type:"dark",tip:o.createElement(Wt,null,c.map((function(e){return e.name})).join(", "))},o.createElement(Vt,null,"and ",u," more")),a&&o.createElement(Bt,{name:"pencil",onClick:function(){return t.onEditTags(!0)},active:i}),t.renderCategoriesModal()))},t.renderTag=function(e,t,n){return o.createElement(Mt,{tag:e,key:"tag_"+t,isEditing:!1,isLast:n,onRemove:function(){}})},t.renderUsability=function(){return o.createElement(ie,{allowModal:!0,scores:t.props.usabilityRating})},t.renderCategoriesModal=function(){var e=t.props,n=e.tags,r=(e.canEdit,e.datasetId),i=e.onTagsChanged,s=t.state.isEditingTags,l=function(){t.onEditTags(!1)};return o.createElement(_t.a,{isOpen:s,selectedTags:n.tags,tagType:"datasets",taggedItem:{datasetId:r},maxTags:Ft,onApply:function(e){var o=n.tags.map((function(e){return e.id})),s=new Set(o),c=e.map((function(e){return e.id})),u=new Set(c);(function(e,n){return Object(a.__awaiter)(t,void 0,Promise,(function(){var t,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n.length>0?[4,Tt.k.deleteDatasetCategories({datasetId:r,categoryIds:n})]:[3,2];case 1:o=a.sent(),t=o.updatedUsabilityRating,a.label=2;case 2:return e.length>0?[4,Tt.k.addDatasetCategories({datasetId:r,categoryIds:e})]:[3,4];case 3:o=a.sent(),t=o.updatedUsabilityRating,a.label=4;case 4:return[2,t]}}))}))})(c.filter((function(e){return!s.has(e)})),o.filter((function(e){return!u.has(e)}))).then((function(t){void 0!==t&&(i({type:"dataset",tags:e},t),Xe.a.clear(),Xe.a.success({dangerousHtmlMessage:"The tags have been updated successfully."}))})).catch((function(e){Xe.a.clear(),Xe.a.error({dangerousHtmlMessage:"An error occured while updating tags."})})).finally(l)},onClose:l,placeholder:Lt,categoryOrder:Pt})},t.onEditTags=function(e){t.setState({isEditingTags:e})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.canEdit,n=e.usabilityRating,a=null!==n&&(!t||n.score>=1);return o.createElement(Ze.b,null,o.createElement(At,{showUsabilityRating:a},a&&this.renderUsability(),this.renderLicense(),this.renderTags()))},t}(o.Component);n.d(t,"a",(function(){return Zt})),n.d(t,"b",(function(){return rn}));var Zt,Qt,Xt=s.a.div.withConfig({displayName:"Home_Wrapper",componentId:"sc-1lm6bf2"})(tn||(tn=Object(a.__makeTemplateObject)([""],[""]))),Jt=s.a.div.withConfig({displayName:"Home_ComponentWrapper",componentId:"sc-7qy803"})(nn||(nn=Object(a.__makeTemplateObject)([""],[""]))),en=s.a.div.withConfig({displayName:"Home_DescriptionDeleted",componentId:"sc-146rlhl"})(an||(an=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n"],["\n  padding: ",";\n  color: ",";\n"])),et.g.PadL,et.b.TextMedium);!function(e){e[e.ADD_COLLABORATOR=0]="ADD_COLLABORATOR",e[e.UPDATE_DATA_DESCRIPTION=1]="UPDATE_DATA_DESCRIPTION",e[e.ADD_IMAGE=2]="ADD_IMAGE",e[e.ADD_SUBTITLE=3]="ADD_SUBTITLE",e[e.UPDATE_METADATA_TAB=4]="UPDATE_METADATA_TAB"}(Zt||(Zt={})),function(e){e[e.CATEGORY=0]="CATEGORY",e[e.DESCRIPTION=1]="DESCRIPTION"}(Qt||(Qt={}));var tn,nn,an,rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showNewVersionCreatorModal:!1},t.onCreateVersion=function(){t.setState({showNewVersionCreatorModal:!0})},t.renderChecklist=function(){var e=t.props,n=e.canEdit,a=e.isPrivate,r=e.checklistCollapsed,i=e.onToggleCollapseChecklist,s=e.setConfirmPrivacyVisible,l=e.usabilityRating,c=t.context,u=c.onCreateKernel,d=c.onCreateTask;if(n&&null!==l&&l.score<1)return o.createElement(he,{isCollapsed:r,isPrivate:a,scores:l,onCollapse:i,onMakePublic:function(){return s(!0)},onSubtitleClick:function(){return t.onChecklistNavigationClick(Zt.ADD_SUBTITLE)},onTagsClick:function(){return t.onScrollToHomeComponent(Qt.CATEGORY)},onOverviewClick:function(){return t.onScrollToHomeComponent(Qt.DESCRIPTION)},onCoverImageClick:function(){return t.onChecklistNavigationClick(Zt.ADD_IMAGE)},onFileDescriptionClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_DATA_DESCRIPTION)},onColumnDescriptionClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_DATA_DESCRIPTION)},onLicenseClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_METADATA_TAB)},onFileFormatClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_DATA_DESCRIPTION)},onProvenanceClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_METADATA_TAB)},onUpdateFrequencyClick:function(){return t.onChecklistNavigationClick(Zt.UPDATE_METADATA_TAB)},onPublicKernelClick:u,onCreateTaskClick:d})},t.renderQuickInfo=function(){var e=t.props,n=e.license,a=e.categories,r=e.canEdit,i=e.usabilityRating,s=e.onTagsChanged,l=e.datasetId;return o.createElement(Jt,{ref:function(e){return t.quickInfoRef=e}},o.createElement(Yt,{datasetId:l,license:n,tags:a,usabilityRating:i,canEdit:r,onTagsChanged:s}))},t.renderDescription=function(){var e=t.props,n=e.isRemoved,a=e.description,r=e.isEditingDescription,i=e.canEditDescription,s=e.onDescriptionEditToggled,l=e.onDescriptionEditCancelled,c=e.onDescriptionSaved,u=e.onDescriptionChanged;return n?o.createElement(Jt,{ref:function(e){return t.descriptionRef=e}},o.createElement(Ze.b,{title:"Deleted Dataset"},o.createElement(en,null,"This dataset was deleted."))):o.createElement(Jt,{ref:function(e){return t.descriptionRef=e}},o.createElement(Et,{description:a,canEdit:i,isEditing:r,onEdit:s,onDescriptionSaved:c,onDescriptionChanged:u,onDescriptionEditCancelled:l}))},t.renderSuggestions=function(){var e=t.props.suggestions;return e?o.createElement(Je.a,{title:"Similar Datasets",suggestions:e}):null},t.renderData=function(){var e=t.props,n=e.data,a=e.datasetId,r=e.datasetVersionId,i=e.datasetHashLink,s=e.canEdit,l=e.onRefreshVersion,c=e.onUpdateUsabilityRating;if(!n.databundleVersion)return null;var u=n.databundleVersion.legacyEntityId,d=i&&window.location.pathname.includes(i);return o.createElement(Jt,{ref:function(e){return t.dataExplorerRef=e}},o.createElement(Ke.a,{datasetId:a,datasetVersionId:r,databundleVersionId:u,userId:Qe.a.userId,datasetHashLink:d?i:void 0,canEdit:s,onCreateVersion:s?t.onCreateVersion:void 0,onUpdateVersion:s?l:void 0,onUpdateUsabilityRating:s?c:void 0}))},t.renderUploader=function(){var e=t.props,n=e.datasetId,a=e.datasetVersionId,r=e.isPrivate,i=e.license,s=e.owner,l=e.slug,c=e.title,u=t.state.showNewVersionCreatorModal,d=Object(st.a)(),p=Object(st.c)(t.props.data,t.props.createdByKernel);return o.createElement(Ge.a,{referrer:"datasets",dataset:{datasetId:n,isPrivate:r,lastDatasetVersionId:a,license:{id:i.id,description:i.description},owner:{id:s.id,imageUrl:s.imageUrl,isOrganization:s.isOrganization,name:s.name,slug:s.slug,userTier:s.userTier},slug:l,title:c},defaultContainer:p,isOpen:u,user:d,onCloseRequest:t.onUploaderCloseRequest})},t.renderTotals=function(){var e=t.props,n=e.numberOfViews,a=e.numberOfDownloads,r=e.numberOfScripts,i=e.numberOfTopics,s=e.onChangeTab;return o.createElement(St,{numberOfDownloads:a,numberOfScripts:r,numberOfTopics:i,numberOfViews:n,onShowMoreActivity:function(){return s("activity")}})},t.onUploaderCloseRequest=function(e){var n=e.type;t.setState({showNewVersionCreatorModal:!1}),"processing"!==n&&"success"!==n&&"failed"!==n||window.location.reload()},t.onError=function(e){Xe.a.clear(),Xe.a.error({dangerousHtmlMessage:e})},t.onSuccess=function(e){Xe.a.clear(),Xe.a.success({dangerousHtmlMessage:e})},t.onChecklistNavigationClick=function(e){var n=t.props.onChecklistNavigationClick;switch(e){case Zt.ADD_COLLABORATOR:case Zt.ADD_IMAGE:case Zt.ADD_SUBTITLE:case Zt.UPDATE_METADATA_TAB:n(e);break;case Zt.UPDATE_DATA_DESCRIPTION:t.dataExplorerRef&&window.scrollTo(0,t.dataExplorerRef.offsetTop)}},t.onScrollToHomeComponent=function(e){switch(e){case Qt.CATEGORY:t.quickInfoRef&&window.scrollTo(0,t.quickInfoRef.offsetTop);break;case Qt.DESCRIPTION:t.descriptionRef&&window.scrollTo(0,t.descriptionRef.offsetTop)}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isRemoved,n=e.data,a=e.publishStatus,r=e.canEdit;return o.createElement(Xt,null,r&&!t&&this.renderChecklist(),!t&&this.renderQuickInfo(),this.renderDescription(),!t&&o.createElement(it,{data:n,publishStatus:a,canEdit:r}),!t&&this.renderData(),!t&&this.renderSuggestions(),!t&&this.renderTotals(),!t&&this.renderUploader())},t.contextTypes={onCreateKernel:Ye.func,onCreateTask:Ye.func},t}(o.Component)},1651:function(e,t,n){!function(e){"use strict";e.defineMode("javascript",(function(t,n){var a,r,o=t.indentUnit,i=n.statementIndent,s=n.jsonld,l=n.json||s,c=n.typescript,u=n.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),a=e("keyword c"),r=e("keyword d"),o=e("operator"),i={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:e("new"),delete:a,void:a,throw:a,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:e("this"),class:e("class"),super:e("atom"),yield:a,export:e("export"),import:e("import"),extends:a,await:a}}(),p=/[+\-*&%=<>!?|~^@]/,m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e,t,n){return a=e,r=n,t}function f(e,t){var n,a=e.next();if('"'==a||"'"==a)return t.tokenize=(n=a,function(e,t){var a,r=!1;if(s&&"@"==e.peek()&&e.match(m))return t.tokenize=f,h("jsonld-keyword","meta");for(;null!=(a=e.next())&&(a!=n||r);)r=!r&&"\\"==a;return r||(t.tokenize=f),h("string","string")}),t.tokenize(e,t);if("."==a&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return h("number","number");if("."==a&&e.match(".."))return h("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(a))return h(a);if("="==a&&e.eat(">"))return h("=>","operator");if("0"==a&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return h("number","number");if(/\d/.test(a))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),h("number","number");if("/"==a)return e.eat("*")?(t.tokenize=g,g(e,t)):e.eat("/")?(e.skipToEnd(),h("comment","comment")):Ge(e,t,1)?(function(e){for(var t,n=!1,a=!1;null!=(t=e.next());){if(!n){if("/"==t&&!a)return;"["==t?a=!0:a&&"]"==t&&(a=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),h("regexp","string-2")):(e.eat("="),h("operator","operator",e.current()));if("`"==a)return t.tokenize=b,b(e,t);if("#"==a)return e.skipToEnd(),h("error","error");if("<"==a&&e.match("!--")||"-"==a&&e.match("->"))return e.skipToEnd(),h("comment","comment");if(p.test(a))return">"==a&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=a&&"="!=a||e.eat("="):/[<>*+\-]/.test(a)&&(e.eat(a),">"==a&&e.eat(a))),h("operator","operator",e.current());if(u.test(a)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(r)){var o=d[r];return h(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return h("async","keyword",r)}return h("variable","variable",r)}}function g(e,t){for(var n,a=!1;n=e.next();){if("/"==n&&a){t.tokenize=f;break}a="*"==n}return h("comment","comment")}function b(e,t){for(var n,a=!1;null!=(n=e.next());){if(!a&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=f;break}a=!a&&"\\"==n}return h("quasi","string-2",e.current())}var v="([{}])";function y(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var a=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));a&&(n=a.index)}for(var r=0,o=!1,i=n-1;i>=0;--i){var s=e.string.charAt(i),l=v.indexOf(s);if(l>=0&&l<3){if(!r){++i;break}if(0==--r){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++r;else if(u.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--i){if(0==i)return;if(e.string.charAt(i-1)==s&&"\\"!=e.string.charAt(i-2)){i--;break}}else if(o&&!r){++i;break}}o&&!r&&(t.fatArrowAt=i)}}var E={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function w(e,t,n,a,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=a&&(this.align=a)}function x(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var a=e.context;a;a=a.prev)for(n=a.vars;n;n=n.next)if(n.name==t)return!0}var C={state:null,column:null,marked:null,cc:null};function k(){for(var e=arguments.length-1;e>=0;e--)C.cc.push(arguments[e])}function S(){return k.apply(null,arguments),!0}function _(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function O(e){var t=C.state;if(C.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var a=function e(t,n){if(n){if(n.block){var a=e(t,n.prev);return a?a==n.prev?n:new j(a,n.vars,!0):null}return _(t,n.vars)?n:new j(n.prev,new I(t,n.vars),!1)}return null}(e,t.context);if(null!=a)return void(t.context=a)}else if(!_(e,t.localVars))return void(t.localVars=new I(e,t.localVars));n.globalVars&&!_(e,t.globalVars)&&(t.globalVars=new I(e,t.globalVars))}function T(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function j(e,t,n){this.prev=e,this.vars=t,this.block=n}function I(e,t){this.name=e,this.next=t}var D=new I("this",new I("arguments",null));function N(){C.state.context=new j(C.state.context,C.state.localVars,!1),C.state.localVars=D}function M(){C.state.context=new j(C.state.context,C.state.localVars,!0),C.state.localVars=null}function F(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function P(e,t){var n=function(){var n=C.state,a=n.indented;if("stat"==n.lexical.type)a=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)a=r.indented;n.lexical=new w(a,C.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function L(){var e=C.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function A(e){return function t(n){return n==e?S():";"==e||"}"==n||")"==n||"]"==n?k():S(t)}}function R(e,t){return"var"==e?S(P("vardef",t),ye,A(";"),L):"keyword a"==e?S(P("form"),B,R,L):"keyword b"==e?S(P("form"),R,L):"keyword d"==e?C.stream.match(/^\s*$/,!1)?S():S(P("stat"),H,A(";"),L):"debugger"==e?S(A(";")):"{"==e?S(P("}"),M,ie,L,F):";"==e?S():"if"==e?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-1]==L&&C.state.cc.pop()(),S(P("form"),B,R,L,Se)):"function"==e?S(je):"for"==e?S(P("form"),_e,R,L):"class"==e||c&&"interface"==t?(C.marked="keyword",S(P("form","class"==e?e:t),Fe,L)):"variable"==e?c&&"declare"==t?(C.marked="keyword",S(R)):c&&("module"==t||"enum"==t||"type"==t)&&C.stream.match(/^\s*\w/,!1)?(C.marked="keyword","enum"==t?S(qe):"type"==t?S(De,A("operator"),de,A(";")):S(P("form"),Ee,A("{"),P("}"),ie,L,L)):c&&"namespace"==t?(C.marked="keyword",S(P("form"),z,R,L)):c&&"abstract"==t?(C.marked="keyword",S(R)):S(P("stat"),J):"switch"==e?S(P("form"),B,A("{"),P("}","switch"),M,ie,L,L,F):"case"==e?S(z,A(":")):"default"==e?S(A(":")):"catch"==e?S(P("form"),N,U,R,L,F):"export"==e?S(P("stat"),Re,L):"import"==e?S(P("stat"),ze,L):"async"==e?S(R):"@"==t?S(z,R):k(P("stat"),z,A(";"),L)}function U(e){if("("==e)return S(Ne,A(")"))}function z(e,t){return V(e,t,!1)}function $(e,t){return V(e,t,!0)}function B(e){return"("!=e?k():S(P(")"),z,A(")"),L)}function V(e,t,n){if(C.state.fatArrowAt==C.stream.start){var a=n?Z:Y;if("("==e)return S(N,P(")"),re(Ne,")"),L,A("=>"),a,F);if("variable"==e)return k(N,Ee,A("=>"),a,F)}var r=n?q:W;return E.hasOwnProperty(e)?S(r):"function"==e?S(je,r):"class"==e||c&&"interface"==t?(C.marked="keyword",S(P("form"),Me,L)):"keyword c"==e||"async"==e?S(n?$:z):"("==e?S(P(")"),H,A(")"),L,r):"operator"==e||"spread"==e?S(n?$:z):"["==e?S(P("]"),We,L,r):"{"==e?oe(te,"}",null,r):"quasi"==e?k(K,r):"new"==e?S(function(e){return function(t){return"."==t?S(e?X:Q):"variable"==t&&c?S(ge,e?q:W):k(e?$:z)}}(n)):"import"==e?S(z):S()}function H(e){return e.match(/[;\}\)\],]/)?k():k(z)}function W(e,t){return","==e?S(z):q(e,t,!1)}function q(e,t,n){var a=0==n?W:q,r=0==n?z:$;return"=>"==e?S(N,n?Z:Y,F):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?S(a):c&&"<"==t&&C.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?S(P(">"),re(de,">"),L,a):"?"==t?S(z,A(":"),r):S(r):"quasi"==e?k(K,a):";"!=e?"("==e?oe($,")","call",a):"."==e?S(ee,a):"["==e?S(P("]"),H,A("]"),L,a):c&&"as"==t?(C.marked="keyword",S(de,a)):"regexp"==e?(C.state.lastType=C.marked="operator",C.stream.backUp(C.stream.pos-C.stream.start-1),S(r)):void 0:void 0}function K(e,t){return"quasi"!=e?k():"${"!=t.slice(t.length-2)?S(K):S(z,G)}function G(e){if("}"==e)return C.marked="string-2",C.state.tokenize=b,S(K)}function Y(e){return y(C.stream,C.state),k("{"==e?R:z)}function Z(e){return y(C.stream,C.state),k("{"==e?R:$)}function Q(e,t){if("target"==t)return C.marked="keyword",S(W)}function X(e,t){if("target"==t)return C.marked="keyword",S(q)}function J(e){return":"==e?S(L,R):k(W,A(";"),L)}function ee(e){if("variable"==e)return C.marked="property",S()}function te(e,t){return"async"==e?(C.marked="property",S(te)):"variable"==e||"keyword"==C.style?(C.marked="property","get"==t||"set"==t?S(ne):(c&&C.state.fatArrowAt==C.stream.start&&(n=C.stream.match(/^\s*:\s*/,!1))&&(C.state.fatArrowAt=C.stream.pos+n[0].length),S(ae))):"number"==e||"string"==e?(C.marked=s?"property":C.style+" property",S(ae)):"jsonld-keyword"==e?S(ae):c&&T(t)?(C.marked="keyword",S(te)):"["==e?S(z,se,A("]"),ae):"spread"==e?S($,ae):"*"==t?(C.marked="keyword",S(te)):":"==e?k(ae):void 0;var n}function ne(e){return"variable"!=e?k(ae):(C.marked="property",S(je))}function ae(e){return":"==e?S($):"("==e?k(je):void 0}function re(e,t,n){function a(r,o){if(n?n.indexOf(r)>-1:","==r){var i=C.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),S((function(n,a){return n==t||a==t?k():k(e)}),a)}return r==t||o==t?S():n&&n.indexOf(";")>-1?k(e):S(A(t))}return function(n,r){return n==t||r==t?S():k(e,a)}}function oe(e,t,n){for(var a=3;a<arguments.length;a++)C.cc.push(arguments[a]);return S(P(t,n),re(e,t),L)}function ie(e){return"}"==e?S():k(R,ie)}function se(e,t){if(c){if(":"==e)return S(de);if("?"==t)return S(se)}}function le(e,t){if(c&&(":"==e||"in"==t))return S(de)}function ce(e){if(c&&":"==e)return C.stream.match(/^\s*\w+\s+is\b/,!1)?S(z,ue,de):S(de)}function ue(e,t){if("is"==t)return C.marked="keyword",S()}function de(e,t){return"keyof"==t||"typeof"==t||"infer"==t?(C.marked="keyword",S("typeof"==t?$:de)):"variable"==e||"void"==t?(C.marked="type",S(fe)):"|"==t||"&"==t?S(de):"string"==e||"number"==e||"atom"==e?S(fe):"["==e?S(P("]"),re(de,"]",","),L,fe):"{"==e?S(P("}"),re(me,"}",",;"),L,fe):"("==e?S(re(he,")"),pe,fe):"<"==e?S(re(de,">"),de):void 0}function pe(e){if("=>"==e)return S(de)}function me(e,t){return"variable"==e||"keyword"==C.style?(C.marked="property",S(me)):"?"==t||"number"==e||"string"==e?S(me):":"==e?S(de):"["==e?S(A("variable"),le,A("]"),me):"("==e?k(Ie,me):void 0}function he(e,t){return"variable"==e&&C.stream.match(/^\s*[?:]/,!1)||"?"==t?S(he):":"==e?S(de):"spread"==e?S(he):k(de)}function fe(e,t){return"<"==t?S(P(">"),re(de,">"),L,fe):"|"==t||"."==e||"&"==t?S(de):"["==e?S(de,A("]"),fe):"extends"==t||"implements"==t?(C.marked="keyword",S(de)):"?"==t?S(de,A(":"),de):void 0}function ge(e,t){if("<"==t)return S(P(">"),re(de,">"),L,fe)}function be(){return k(de,ve)}function ve(e,t){if("="==t)return S(de)}function ye(e,t){return"enum"==t?(C.marked="keyword",S(qe)):k(Ee,se,Ce,ke)}function Ee(e,t){return c&&T(t)?(C.marked="keyword",S(Ee)):"variable"==e?(O(t),S()):"spread"==e?S(Ee):"["==e?oe(xe,"]"):"{"==e?oe(we,"}"):void 0}function we(e,t){return"variable"!=e||C.stream.match(/^\s*:/,!1)?("variable"==e&&(C.marked="property"),"spread"==e?S(Ee):"}"==e?k():"["==e?S(z,A("]"),A(":"),we):S(A(":"),Ee,Ce)):(O(t),S(Ce))}function xe(){return k(Ee,Ce)}function Ce(e,t){if("="==t)return S($)}function ke(e){if(","==e)return S(ye)}function Se(e,t){if("keyword b"==e&&"else"==t)return S(P("form","else"),R,L)}function _e(e,t){return"await"==t?S(_e):"("==e?S(P(")"),Oe,L):void 0}function Oe(e){return"var"==e?S(ye,Te):"variable"==e?S(Te):k(Te)}function Te(e,t){return")"==e?S():";"==e?S(Te):"in"==t||"of"==t?(C.marked="keyword",S(z,Te)):k(z,Te)}function je(e,t){return"*"==t?(C.marked="keyword",S(je)):"variable"==e?(O(t),S(je)):"("==e?S(N,P(")"),re(Ne,")"),L,ce,R,F):c&&"<"==t?S(P(">"),re(be,">"),L,je):void 0}function Ie(e,t){return"*"==t?(C.marked="keyword",S(Ie)):"variable"==e?(O(t),S(Ie)):"("==e?S(N,P(")"),re(Ne,")"),L,ce,F):c&&"<"==t?S(P(">"),re(be,">"),L,Ie):void 0}function De(e,t){return"keyword"==e||"variable"==e?(C.marked="type",S(De)):"<"==t?S(P(">"),re(be,">"),L):void 0}function Ne(e,t){return"@"==t&&S(z,Ne),"spread"==e?S(Ne):c&&T(t)?(C.marked="keyword",S(Ne)):c&&"this"==e?S(se,Ce):k(Ee,se,Ce)}function Me(e,t){return"variable"==e?Fe(e,t):Pe(e,t)}function Fe(e,t){if("variable"==e)return O(t),S(Pe)}function Pe(e,t){return"<"==t?S(P(">"),re(be,">"),L,Pe):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(C.marked="keyword"),S(c?de:z,Pe)):"{"==e?S(P("}"),Le,L):void 0}function Le(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&T(t))&&C.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(C.marked="keyword",S(Le)):"variable"==e||"keyword"==C.style?(C.marked="property",S(c?Ae:je,Le)):"number"==e||"string"==e?S(c?Ae:je,Le):"["==e?S(z,se,A("]"),c?Ae:je,Le):"*"==t?(C.marked="keyword",S(Le)):c&&"("==e?k(Ie,Le):";"==e||","==e?S(Le):"}"==e?S():"@"==t?S(z,Le):void 0}function Ae(e,t){if("?"==t)return S(Ae);if(":"==e)return S(de,Ce);if("="==t)return S($);var n=C.state.lexical.prev;return k(n&&"interface"==n.info?Ie:je)}function Re(e,t){return"*"==t?(C.marked="keyword",S(He,A(";"))):"default"==t?(C.marked="keyword",S(z,A(";"))):"{"==e?S(re(Ue,"}"),He,A(";")):k(R)}function Ue(e,t){return"as"==t?(C.marked="keyword",S(A("variable"))):"variable"==e?k($,Ue):void 0}function ze(e){return"string"==e?S():"("==e?k(z):k($e,Be,He)}function $e(e,t){return"{"==e?oe($e,"}"):("variable"==e&&O(t),"*"==t&&(C.marked="keyword"),S(Ve))}function Be(e){if(","==e)return S($e,Be)}function Ve(e,t){if("as"==t)return C.marked="keyword",S($e)}function He(e,t){if("from"==t)return C.marked="keyword",S(z)}function We(e){return"]"==e?S():k(re($,"]"))}function qe(){return k(P("form"),Ee,A("{"),P("}"),re(Ke,"}"),L,L)}function Ke(){return k(Ee,Ce)}function Ge(e,t,n){return t.tokenize==f&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return F.lex=!0,L.lex=!0,{startState:function(e){var t={tokenize:f,lastType:"sof",cc:[],lexical:new w((e||0)-o,0,"block",!1),localVars:n.localVars,context:n.localVars&&new j(null,null,!1),indented:e||0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),y(e,t)),t.tokenize!=g&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==a?n:(t.lastType="operator"!=a||"++"!=r&&"--"!=r?a:"incdec",function(e,t,n,a,r){var o=e.cc;for(C.state=e,C.stream=r,C.marked=null,C.cc=o,C.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?z:R)(n,a)){for(;o.length&&o[o.length-1].lex;)o.pop()();return C.marked?C.marked:"variable"==n&&x(e,a)?"variable-2":t}}(t,n,a,r,e))},indent:function(t,a){if(t.tokenize==g)return e.Pass;if(t.tokenize!=f)return 0;var r,s=a&&a.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(a))for(var c=t.cc.length-1;c>=0;--c){var u=t.cc[c];if(u==L)l=l.prev;else if(u!=Se)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(r=t.cc[t.cc.length-1])&&(r==W||r==q)&&!/^[,\.=+\-*:?[\(]/.test(a));)l=l.prev;i&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var d=l.type,m=s==d;return"vardef"==d?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==d&&"{"==s?l.indented:"form"==d?l.indented+o:"stat"==d?l.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||p.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(t,a)?i||o:0):"switch"!=l.info||m||0==n.doubleIndentSwitch?l.align?l.column+(m?0:1):l.indented+(m?0:o):l.indented+(/^(?:case|default)\b/.test(a)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Ge,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=z&&t!=$||e.cc.pop()}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(1138))},1652:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return ie}));var r,o,i,s,l,c,u,d,p,m,h,f,g,b,v,y,E,w,x,C,k,S,_,O,T,j,I,D,N=n(2),M=n(891),F=n(128),P=n(1005),L=n(6),A=n(1),R=n.n(A),U=n(55),z=n(872),$=n(1126),B=n(1032),V=n(1152),H=n(21),W=n(1431),q=n(1039),K=n(1036),G=n(1080),Y=n(1410),Z=n(1007),Q=(e.Scripts,R.a.div.withConfig({displayName:"SettingsGeneral_FieldGroup",componentId:"sc-2zo2hl"})(i||(i=Object(N.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  margin-bottom: ",";\n  min-height: ",";\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  ","\n\n  ","\n\n    &--images,\n    &--labels-top {\n    align-items: flex-start;\n  }\n"],["\n  align-items: center;\n  display: flex;\n  margin-bottom: ",";\n  min-height: ",";\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  ","\n\n  ","\n\n    &--images,\n    &--labels-top {\n    align-items: flex-start;\n  }\n"])),Z.g.PadS,Z.g.PadXl,Z.f.tablet(r||(r=Object(N.__makeTemplateObject)(["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "],["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "])),Z.g.PadL),Z.f.mobile(o||(o=Object(N.__makeTemplateObject)(["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "],["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "])),Z.g.PadL)),R.a.div.withConfig({displayName:"SettingsGeneral_FieldLabel",componentId:"sc-1fby54o"})(u||(u=Object(N.__makeTemplateObject)(["\n    align-self: flex-start;\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n    flex: 1 1 auto;\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"],["\n    align-self: flex-start;\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n    flex: 1 1 auto;\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"])),Z.b.TextLight,Z.d.FontSizeM,Z.d.FontFamilyInter,Z.f.tablet(s||(s=Object(N.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),Z.g.PadXs),Z.f.mobile(l||(l=Object(N.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),Z.g.PadXs),Z.f.nonMobile(c||(c=Object(N.__makeTemplateObject)(["\n        flex: 0 0 22%;\n        padding-right: ",";\n        text-align: right;\n    "],["\n        flex: 0 0 22%;\n        padding-right: ",";\n        text-align: right;\n    "])),Z.g.PadM)),R.a.div.withConfig({displayName:"SettingsGeneral_FieldValue",componentId:"sc-flf4yq"})(h||(h=Object(N.__makeTemplateObject)(["\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"],["\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"])),Z.b.TextMedium,Z.d.FontSizeM,Z.d.FontFamilyInter,Z.f.tablet(d||(d=Object(N.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),Z.g.PadXs),Z.f.mobile(p||(p=Object(N.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),Z.g.PadXs),Z.f.nonMobile(m||(m=Object(N.__makeTemplateObject)(["\n        padding-right: ",";\n    "],["\n        padding-right: ",";\n    "])),Z.g.PadM)),R.a.div.withConfig({displayName:"SettingsGeneral_KernelDeleteContainer",componentId:"sc-h9qk02"})(f||(f=Object(N.__makeTemplateObject)(["\n  border-top: 1px solid ",";\n  padding: "," ",";\n"],["\n  border-top: 1px solid ",";\n  padding: "," ",";\n"])),Z.b.ContentBorderLight,Z.g.PadXl,Z.g.PadL)),X=R.a.div.withConfig({displayName:"SettingsGeneral_RefreshInfo",componentId:"sc-ekmucu"})(g||(g=Object(N.__makeTemplateObject)(["\n  display: flex;\n  margin-top: ",";\n  align-items: center;\n"],["\n  display: flex;\n  margin-top: ",";\n  align-items: center;\n"])),Z.g.PadS),J=R.a.div.withConfig({displayName:"SettingsGeneral_SmallSecondaryButton",componentId:"sc-1fzxdhu"})(v||(v=Object(N.__makeTemplateObject)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  padding: 6px ",";\n  text-align: center;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n\n  ","\n"],["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  padding: 6px ",";\n  text-align: center;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),Z.b.PureWhite,Z.b.ContentBorderLight,Z.g.BorderRadius,Z.b.TextLink,Z.d.FontSizeS,Z.d.FontWeightMedium,Z.g.PadS,Z.b.ContentBorder,Z.b.TextLinkHover,Z.f.mobile(b||(b=Object(N.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ee=R()(J).withConfig({displayName:"SettingsGeneral_RefreshButton",componentId:"sc-1lxwlvx"})(y||(y=Object(N.__makeTemplateObject)(["\n  width: initial;\n  margin-left: ",";\n"],["\n  width: initial;\n  margin-left: ",";\n"])),Z.g.PadM),te=R()(q.b).withConfig({displayName:"SettingsGeneral_NewVersionIcon",componentId:"sc-172e19a"})(E||(E=Object(N.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),Z.g.PadXs),ne=R.a.a.withConfig({displayName:"SettingsGeneral_SettingsLink",componentId:"sc-14kavma"})(w||(w=Object(N.__makeTemplateObject)(["\n  text-align: left;\n  color: ",";\n  cursor: pointer;\n"],["\n  text-align: left;\n  color: ",";\n  cursor: pointer;\n"])),Z.b.TextLink),ae=R.a.div.withConfig({displayName:"SettingsGeneral_DatasetPersistenceMessage",componentId:"sc-q9j5km"})(x||(x=Object(N.__makeTemplateObject)(["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"],["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"])),Z.d.FontSizeM,Z.d.LineHeightNormal,Z.g.PadS,Z.g.PadM),re=[{label:"Versioned",value:"versioned",disabled:!1},{label:"Latest Version Only",value:"unversioned",disabled:!1}],oe=[{label:"Never",value:"never",disabled:!1},{label:"Monthly",value:"monthly",disabled:!1},{label:"Weekly",value:"weekly",disabled:!1},H.a.isAdmin?{label:"Daily",value:"daily",disabled:!1}:null].filter((function(e){return!!e})),ie=function(e){function t(t){var n=e.call(this,t)||this;n.onTitleChanged=function(e){n.setState({title:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onShowOwnerSearch=function(e){n.setState({showOwnerSearch:e})},n.onSelectedOwnerChanged=function(e){if(null!==e){var t=e.split(":");if(2===t.length){var a="o"===t[0],r=Number(t[1]),o=n.props.owners.filter((function(e){return e.isOrganization===a&&e.id===r})),i=n.ownerSearchOptions.filter((function(e){return e.isOrganization===a&&e.id===r})),s=o.length>0?o[0]:i.length>0?i[0]:null;n.setState({owner:s,hasChangedSinceLastSave:!0},(function(){return n.validate()}))}}},n.onSelectedLicenseChanged=function(e){n.setState({licenseId:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onSelectedDiffTypeChanged=function(e){e!==n.state.diffType&&n.setState({newDiffType:e,showDiffTypeModal:!0})},n.onOverviewChanged=function(e){n.setState({overview:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onUpdateFrequencyChanged=function(e){if("remoteGitRepositoryFileSet"===n.props.databundleVersionType||"remoteUrlFileSet"===n.props.databundleVersionType||"gcsFileSet"===n.props.databundleVersionType){var t=null;"never"!==e&&(t=e),n.setState({remoteUpdateFrequency:t,hasChangedSinceLastSave:!0},(function(){return n.validate()}))}},n.onBlockTaskCreationChanged=function(e){n.setState({blockTaskCreation:e},n.validate)},n.onSave=function(){n.setState({isSaving:!0,hasChangedSinceLastSave:!1},(function(){var e={licenseId:n.state.licenseId,overview:n.state.overview,owner:n.state.owner,title:n.state.title,diffType:n.state.diffType,updateFrequency:n.state.remoteUpdateFrequency,blockTaskCreation:n.state.blockTaskCreation};n.props.onSaveSettingsGeneral(e,n.onSaveFinished)}))},n.onSaveWithoutOwnerImmediately=function(){if(n.state.hasChangedSinceLastSave){var e={licenseId:n.state.licenseId,overview:n.state.overview,title:n.state.title,diffType:n.state.diffType,updateFrequency:n.state.remoteUpdateFrequency,blockTaskCreation:n.state.blockTaskCreation};n.props.onSaveSettingsGeneral(e,n.onSaveFinished)}},n.onSaveFinished=function(e){n.setState({isSaving:!1,hasChangedSinceLastSave:!1},(function(){e.datasetUrl&&window.location.assign(e.datasetUrl)}))},n.loadOwners=function(e){return!e||e.trim().length<3?Promise.resolve({options:[]}):L.v.fullSearchWeb({query:e+" in:users in:organizations",page:1,resultsPerPage:20,showPrivate:!0}).then((function(e){var t=e.documents,a=[];return t.filter((function(e){return"user"===e.documentType||"organization"===e.documentType})).map((function(e){a.push({label:e.title,value:("organization"===e.documentType?"o:":"i:")+e.databaseId,isOrganization:"organization"===e.documentType,thumbnailUrl:e.thumbnailImageUrl,id:e.databaseId,slug:e.url})})),n.ownerSearchOptions=n.ownerSearchOptions.concat(a),{options:a}}))},n.onDeleteDataset=function(){n.setState({isDeletingDataset:!0}),n.props.setConfirmDeleteVisible(!1),n.props.onDeleteDataset()},n.navigateTo=function(e){window.location.href=H.a.isAnonymous?"/account/login?returnUrl="+encodeURIComponent(document.location.pathname):e},n.validate=function(){var e=[],t=!1,a=!1,r=!1,o=!1;n.state.title&&0!==n.state.title.trim().length?n.state.title&&(n.state.title.trim().length<6||n.state.title.trim().length>50)&&(t=!0,e.push({type:"error",id:"dataset-title-length",message:"The title must be between 6 and 50 characters in length."})):(t=!0,e.push({type:"error",id:"dataset-no-title",message:"Please enter a title for your dataset."})),n.state.overview&&0!==n.state.overview.trim().length?n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80)&&(a=!0,e.push({type:"error",id:"dataset-overview-length",message:"The Subtitle must be between 20 and 80 characters in length."})):r=!0,n.state.licenseId&&0!==n.state.licenseId||(o=!0,e.push({type:"error",id:"dataset-no-license",message:"Please select a license for your dataset."})),n.props.owner.id!==n.state.owner.id&&n.state.owner.isOrganization&&e.push({type:"warning",id:"dataset-owner-organization-change",message:"Setting the owner as an organization will make this dataset accessible/editable to everyone in the organization."});var i=!(t||a||o);n.setState({errorMessages:e,titleError:t,overviewError:a,overviewWarning:r,licenseError:o,ownerError:!1,canSave:i})},n.renderOwner=function(e){return a.createElement("div",{className:"dataset-uploader__general-owner-option"},e.thumbnailUrl&&a.createElement("img",{className:"dataset-uploader__general-owner-option-thumbnail",src:e.thumbnailUrl,alt:e.label+" thumbnail"}),a.createElement("p",null,e.label))},n.renderLicenseOption=function(e){return e.disabled?Object(F.l)(a.createElement("div",{className:"dataset-uploader__general-license-header"}),e.label):Object(F.l)(a.createElement("div",{className:"dataset-uploader__general-license-option"}),e.label)},n.renderLicenseValue=function(e){return Object(F.l)(a.createElement("div",{className:"dataset-uploader__general-license-value"}),e.label)},n.onRefreshVersion=function(){return Object(N.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a;return Object(N.__generator)(this,(function(r){switch(r.label){case 0:e=W.d(),t={datasetId:this.props.datasetId,settings:{databundleWorkerEnvironment:e,actions:null,flags:null}},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L.k.refreshRemoteDataset(t)];case 2:return"error"===(n=r.sent()).status?z.a.set([n.errorMessage]):window.location.reload(),[3,4];case 3:return(a=r.sent())instanceof L.a&&(z.a.clear(),z.a.error(a.message)),[3,4];case 4:return[2]}}))}))};var r=t.owners.map((function(e){return{label:e.name,value:(e.isOrganization?"o:":"i:")+e.id,isOrganization:e.isOrganization,thumbnailUrl:e.imageUrl,id:e.id,slug:e.slug}})).sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})),o=[];t.licenseGroups.forEach((function(e){o.push({label:e.name,disabled:!0}),e.licenses.forEach((function(e){o.push({value:e.id,label:e.description,disabled:!1})}))}));var i=Object(N.__assign)(Object(N.__assign)({},t),{canSave:!0,errorMessages:[],hasChangedSinceLastSave:!1,licenseError:!1,licenseSelectOptions:o,isDeletingDataset:!1,isSaving:!1,overviewError:!1,overviewWarning:!1,ownerError:!1,ownerSelectOptions:r,showOwnerSearch:!1,titleError:!1,showDiffTypeModal:!1,newDiffType:t.diffType});return n.state=i,n.ownerSearchOptions=[],n}return Object(N.__extends)(t,e),t.prototype.componentDidMount=function(){this.validate()},t.prototype.renderOwnerSelect=function(){var e=this;return H.a.isAdmin&&this.state.showOwnerSearch?a.createElement(Y.a,{disabled:this.state.isSaving||this.state.isDeletingDataset,className:U("dataset-uploader__general-owner",{"dataset-uploader__input-error":this.state.ownerError}),loadOptions:this.loadOwners,placeholder:"Search Owners...",value:(this.state.owner.isOrganization?"o:":"i:")+(this.state.owner.id||0),optionRenderer:this.renderOwner,valueRenderer:this.renderOwner,onChange:function(t){return e.onSelectedOwnerChanged(t)}}):a.createElement(G.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:U("dataset-uploader__general-owner",{"dataset-uploader__input-error":this.state.ownerError}),value:(this.state.owner.isOrganization?"o:":"i:")+(this.state.owner.id||0),options:this.state.ownerSelectOptions,optionRenderer:this.renderOwner,valueRenderer:this.renderOwner,onChange:function(t){e.onSelectedOwnerChanged(t)}})},t.prototype.renderDeletion=function(){var e=this,t=null;this.props.hasDatasetDoiApproved?t=a.createElement(ae,{"data-test":"doi-persistence-message"},"Dataset has a DOI attached and cannot be deleted, please contact  ",a.createElement(ne,{href:"mailto:support@kaggle.com"},"support@kaggle.com")," for deletion request."):this.state.isDeletingDataset?t=a.createElement("span",{id:"dataset-delete",className:"dataset-settings__delete-wait"},a.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}),"    Hold tight, we're deleting this dataset."):this.state.isDeletingDataset||(t=a.createElement("a",{id:"dataset-delete",className:"dataset-settings__delete","data-test":"delete-button",onClick:function(){return e.props.setConfirmDeleteVisible(!0)},role:"button"},"Delete Dataset"));var n=this.props.deletionNeedsReview?a.createElement("span",null,"This dataset is very popular, including both public and private work. Deletion is irreversible and any public or private Notebooks using this dataset will no longer be executable. ",a.createElement("br",null),a.createElement("br",null),"Are you sure you want to permanently delete this dataset?"):a.createElement("span",null,"Deletion is irreversible and any public or private Notebooks using this dataset will no longer be executable.",a.createElement("br",null),"Are you sure you want to permanently delete this dataset?");return a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Delete"),a.createElement("div",{className:"dataset-settings__field-control-column"},t,a.createElement(V.a,{isShown:this.props.isConfirmDeleteVisible,title:"Confirm Deletion",confirmText:"Confirm",cancelText:"Cancel",isDangerousAction:!0,onConfirm:function(){return e.onDeleteDataset()},onCancel:function(){return e.props.setConfirmDeleteVisible(!1)}},n)))},t.prototype.renderAutoUpdate=function(){var e=this;return a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Update"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(G.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:"dataset-uploader__general-license",value:this.state.remoteUpdateFrequency||"never",options:oe,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){return e.onUpdateFrequencyChanged(t)}}),this.props.lastRemoteUpdate&&a.createElement(X,null,"Last Update:   ",a.createElement(M.a,{time:this.props.lastRemoteUpdate}),a.createElement(ee,{onClick:function(){return e.onRefreshVersion()}},a.createElement(te,{name:"refresh"}),"Update"))))},t.prototype.render=function(){var e=this,t=this.state.errorMessages.length;return a.createElement("div",null,a.createElement("div",{className:"dataset-settings__container"},a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("label",{className:"dataset-settings__field-label"},"Title"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("input",{disabled:this.state.isSaving||this.state.isDeletingDataset,className:U("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.titleError}),onChange:function(t){return e.onTitleChanged(t.target.value)},value:this.state.title}))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("label",{className:"dataset-settings__field-label"},"Subtitle"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("input",{disabled:this.state.isSaving||this.state.isDeletingDataset,className:U("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.overviewError},{"dataset-settings__field-control-warning":this.state.overviewWarning}),onChange:function(t){return e.onOverviewChanged(t.target.value)},value:this.state.overview}),this.state.overviewWarning&&a.createElement("div",{className:"dataset-settings__field-note dataset-settings__field-note-warning"},"We highly recommend entering a subtitle for your Dataset, making it easier for others to discover and understand."))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Owner"),a.createElement("div",{className:"dataset-settings__field-control-row"},this.renderOwnerSelect()," ",a.createElement("div",null,H.a.isAdmin&&!this.state.showOwnerSearch&&a.createElement($.a,{className:"dataset-settings__new-org-button",containerClassNames:"dataset-settings__new-org-container",isSmall:!0,isDisabled:this.state.isSaving||this.state.isDeletingDataset,onClick:function(){return e.onShowOwnerSearch(!0)}},a.createElement("span",null,a.createElement("span",{className:"fa fa-search"}),"  Select Any Owner")),H.a.isAdmin&&this.state.showOwnerSearch&&a.createElement($.a,{className:"dataset-settings__new-org-button",containerClassNames:"dataset-settings__new-org-container",isDisabled:this.state.isSaving||this.state.isDeletingDataset,isSmall:!0,onClick:function(){return e.onShowOwnerSearch(!1)}},a.createElement("span",null,a.createElement("span",{className:"fa fa-users"}),"  My Owners"))))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"License"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(G.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:U("dataset-uploader__general-license",{"dataset-uploader__input-error":this.state.licenseError}),value:this.state.licenseId||0,options:this.state.licenseSelectOptions,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){e.onSelectedLicenseChanged(t)}}))),"realtime"!==this.state.diffType&&a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Versioning"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(G.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:"dataset-uploader__general-license",value:this.state.diffType||0,options:re,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){e.onSelectedDiffTypeChanged(t)}}))),("remoteGitRepositoryFileSet"===this.props.databundleVersionType||"remoteUrlFileSet"===this.props.databundleVersionType||"gcsFileSet"===this.props.databundleVersionType)&&this.renderAutoUpdate(),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Task Creation"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("div",{className:"dataset-settings__field-checkbox"},a.createElement(P.a,{label:"Block non-editor from creating task on this dataset?",checked:this.state.blockTaskCreation,disabled:this.state.isSaving,onChange:function(t){return e.onBlockTaskCreationChanged(t.target.checked)}})))),a.createElement("div",{className:"dataset-settings__error-wrapper"},this.state.errorMessages.map((function(e,n){return a.createElement("div",{key:n},a.createElement("div",{className:"dataset-settings__error",key:e.id},e.message),n!==t-1&&a.createElement("br",null))}))),a.createElement("div",{className:"dataset-settings__save-button-wrapper"},a.createElement("div",{className:"dataset-settings__save-button"},a.createElement(B.a,{isDisabled:!this.state.canSave||this.state.isSaving||this.state.isDeletingDataset,onClick:function(t){return e.onSave()},text:"Save Changes"}),this.state.isSaving&&a.createElement("div",{className:"dataset-settings__save-spinner"},a.createElement("span",{className:"fa fa-spin fa-circle-o-notch"}))))),a.createElement(Q,null,this.props.canSeeDeletionButton&&this.renderDeletion()),a.createElement(he,{isShown:this.state.showDiffTypeModal,newDiffType:this.state.newDiffType,onCancel:function(){return e.setState({showDiffTypeModal:!1})},onConfirm:function(t){return e.setState({showDiffTypeModal:!1,hasChangedSinceLastSave:!0,diffType:t},(function(){return e.validate()}))}}))},t}(a.Component),se=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalContainer",componentId:"sc-1i2j0ge"})(S||(S=Object(N.__makeTemplateObject)(["\n  padding: ",";\n\n  ","\n\n  ","\n"],["\n  padding: ",";\n\n  ","\n\n  ","\n"])),Z.g.PadM,Z.f.mobile(C||(C=Object(N.__makeTemplateObject)(["\n        width: 320px;\n    "],["\n        width: 320px;\n    "]))),Z.f.nonMobile(k||(k=Object(N.__makeTemplateObject)(["\n        width: 650px;\n    "],["\n        width: 650px;\n    "])))),le=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalHeader",componentId:"sc-oefwxx"})(_||(_=Object(N.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n  padding: "," 0;\n  text-align: center;\n"],["\n  font-size: ",";\n  font-weight: ",";\n  padding: "," 0;\n  text-align: center;\n"])),Z.d.FontSizeL,Z.d.FontWeightMedium,Z.g.PadM),ce=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalDescription",componentId:"sc-8f5ri6"})(O||(O=Object(N.__makeTemplateObject)(["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"],["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"])),Z.d.FontSizeM,Z.d.LineHeightNormal,Z.g.PadS,Z.g.PadM),ue=R.a.p.withConfig({displayName:"SettingsGeneral_DiffModalParagraph",componentId:"sc-1kxa60c"})(T||(T=Object(N.__makeTemplateObject)(["\n  margin: "," 0;\n"],["\n  margin: "," 0;\n"])),Z.g.PadS),de=R()(ue).withConfig({displayName:"SettingsGeneral_DiffModalParagraphHint",componentId:"sc-1r1cu5h"})(j||(j=Object(N.__makeTemplateObject)(["\n  margin-top: ",";\n  color: ",";\n"],["\n  margin-top: ",";\n  color: ",";\n"])),Z.g.PadL,Z.b.TextLight),pe=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalButtons",componentId:"sc-11ih1r1"})(I||(I=Object(N.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"]))),me=R()(B.a).withConfig({displayName:"SettingsGeneral_DiffModalCancelButton",componentId:"sc-vtr70y"})(D||(D=Object(N.__makeTemplateObject)(["\n  background-color: ",";\n  color: ",";\n  margin-right: ",";\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  color: ",";\n  margin-right: ",";\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),Z.b.PureWhite,Z.b.Gray,Z.g.PadM,Z.b.PureWhite,Z.b.GrayDark),he=function(e){var t=e.newDiffType,n=e.isShown,r=e.onCancel,o=e.onConfirm,i=null,s=null;return"unversioned"===t?(s="Turning versioning off",i=a.createElement(ce,null,a.createElement(ue,null,"If you turn off versioning, you can continue to update your dataset but only the latest data will be available for download and for use in Kernels."),a.createElement(ue,null,"Use this setting if you want to restrict access to the latest available data."),a.createElement(ue,null,"Kaggle will retain any past updates which will be visible as versions if versioning is turned on again."),a.createElement(de,null,'To confirm, click "Ok" and save your changes.'))):"versioned"===t&&(s="Turning versioning on",i=a.createElement(ce,null,a.createElement(ue,null,"If you turn versioning on, all past updates of your Dataset will be accessible as versions for anyone with access to view, download, and use in Kernels."),a.createElement(ue,null,"Kernels can point to any version of this Dataset."),a.createElement(de,null,'To confirm, click "Ok" and save your changes.'))),a.createElement(K.a,{modalIsShown:n,onClose:function(){}},a.createElement(se,null,a.createElement(le,null,s),i,a.createElement(pe,null,a.createElement(me,{onClick:function(){return r()},text:"Cancel"}),a.createElement(B.a,{onClick:function(){return o(t)},text:"Ok"}))))}}).call(this,n(367),n(0))},1653:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return h}));var r,o=n(2),i=n(1),s=n.n(i),l=n(21),c=n(1372),u=n(1036),d=n(872),p=n(1007),m=s.a.a.withConfig({displayName:"SettingsImages_UnsplashLink",componentId:"sc-fa0l2m"})(r||(r=Object(o.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),p.e.default),h=function(t){function n(e){var n=t.call(this,e)||this;n.onToggleImageUploader=function(){n.setState({isAddingImage:!n.state.isAddingImage})},n.uploadImageRequest=function(e,t){return Object(o.__awaiter)(n,void 0,void 0,(function(){var n=this;return Object(o.__generator)(this,(function(r){return[2,a(e,{method:"POST",headers:{"x-xsrf-token":l.a.antiForgeryToken},mode:"cors",body:t}).then((function(e){return e.json()})).then((function(e){!0===e.success?n.setState({isAddingImage:!1,originalImageUrl:e.originalImageUrl||n.state.originalImageUrl,coverImageUrl:e.coverImageUrl||n.state.coverImageUrl,cardImageUrl:e.cardImageUrl||n.state.cardImageUrl,thumbnailImageUrl:e.thumbnailImageUrl||n.state.thumbnailImageUrl},(function(){n.props.onSaveSettingsImages({success:!0,originalImageUrl:e.originalImageUrl||n.state.originalImageUrl,cardImageUrl:e.cardImageUrl||n.state.cardImageUrl,coverImageUrl:e.coverImageUrl||n.state.coverImageUrl,thumbnailImageUrl:e.thumbnailImageUrl||n.state.thumbnailImageUrl,usabilityRating:e.usabilityRating}),d.a.clear(),d.a.success("Your image was uploaded successfully.")})):n.setState({isAddingImage:!1},(function(){d.a.clear(),d.a.error("Your image could not be saved.")}))})).catch((function(e){n.setState({isAddingImage:!1},(function(){d.a.clear(),d.a.error("There was a problem with your image upload.")}))}))]}))}))},n.buildImageRects=function(e,t){e.append("datasetId",n.props.datasetId.toString());var a=t[0];e.append("coverImageLeft",a.left.toString()),e.append("coverImageTop",a.top.toString()),e.append("coverImageWidth",a.width.toString()),e.append("coverImageHeight",a.height.toString());var r=t[1];return e.append("cardImageLeft",r.left.toString()),e.append("cardImageTop",r.top.toString()),e.append("cardImageWidth",r.width.toString()),e.append("cardImageHeight",r.height.toString()),e.append("originalImageUrl",n.state.originalImageUrl.split("?")[0]),e},n.onUploadDatasetImage=function(e,t){return n.uploadImageRequest(n.uploadImageUrl,n.buildImageRects(e,t))},n.uploadImageUrl=n.props.datasetUrl+"/edit/images";var r=Object(o.__assign)(Object(o.__assign)({},e),{isAddingImage:!1,onToggleImageUploader:n.onToggleImageUploader,onUploadDatasetImage:n.onUploadDatasetImage});return n.state=r,n}return Object(o.__extends)(n,t),n.prototype.renderHeaderImageUploader=function(){var t=this;return e.createElement(u.a,{modalContent:e.createElement(c.b,{title:"Upload a Dataset Image",imageSettings:[new c.a("cover image","Select an area of the image to use as the cover image for this dataset’s homepage",new c.f(950,200),new c.e(new c.d(this.state.coverImageLeft,this.state.coverImageTop),new c.f(this.state.coverImageWidth,this.state.coverImageHeight))),new c.a("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new c.f(200,200),new c.e(new c.d(this.state.cardImageLeft,this.state.cardImageTop),new c.f(this.state.cardImageWidth,this.state.cardImageHeight)))],originalImageUrl:this.state.originalImageUrl,containerSize:new c.f(500,300),selectorBorderWidth:1,onCancel:function(){return t.onToggleImageUploader()},onUpdateImages:this.state.onUploadDatasetImage,hiResScale:2,step1Hint:e.createElement(c.c,null)}),modalIsShown:this.state.isAddingImage,onShow:null,onClose:function(){return t.onToggleImageUploader()}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-settings__section"},e.createElement("div",{className:"dataset-settings__field-group dataset-settings__field-group--images"},e.createElement("div",{className:"dataset-settings__field-control-row"},e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__image-item"},e.createElement("div",{className:"dataset-settings__preview-image-container"},e.createElement("img",{src:this.state.originalImageUrl,alt:"Banner Image",className:"dataset-settings__preview-image dataset-settings__preview-image--header",onClick:function(){return t.onToggleImageUploader()}}),e.createElement("div",{className:"dataset-settings__preview-image dataset-settings__preview-image--description"},"We suggest you upload a relevant or eye-catching image to make your dataset stand out. You can find great free, high-resolution images in"," ",e.createElement(m,{href:"http://www.unsplash.com",target:"_blank",rel:"noopener noreferrer"},"unsplash.com's")," ","public domain library.")),e.createElement("a",{onClick:function(){return t.onToggleImageUploader()},className:"dataset-settings__text-link dataset-settings__preview-image-link",role:"button"},e.createElement("span",{className:"fa fa-camera"}),e.createElement("br",null),"Upload Banner Image",e.createElement("br",null),e.createElement("span",{className:"dataset-settings__preview-image-link__subtitle"},"(1900x400)")))))),this.renderHeaderImageUploader())},n}(e.Component)}).call(this,n(0),n(56))},1654:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return l}));var r=n(2),o=n(2317),i=n(1524),s=n(872),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onSaveCollaborators=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t,n,o,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=this.props,n=t.owner,o=t.slug,i=t.onUpdateCollaborators,[4,a.Datasets.editDatasetCollaborators({ownerSlug:n.slug,datasetSlug:o},{collaborators:e})];case 1:return"ok"===r.sent().status?(s.a.clear(),s.a.success("Successfully updated the sharing settings."),i(e),[2,e]):(s.a.clear(),s.a.error({dangerousHtmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}),[2,null])}}))}))},n}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.canPerformOwnerTasks,s=n.canSeeDatasetHashLink,l=n.collaborators,c=n.datasetId,u=n.isPrivate,d=n.hashLink,p=n.onUpdateHashLink,m=n.setConfirmPrivacyVisible;return e.createElement("div",{className:"dataset-settings__container"},e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("div",{className:"dataset-settings__field-label"},"Privacy"),e.createElement("div",{className:"dataset-settings__field-control-column"},u?e.createElement("span",{className:"dataset-settings__privacy"},e.createElement("span",{className:"dataset-settings__privacy-icon fa fa-eye-slash"}),"Private",a&&e.createElement("a",{className:"dataset-settings__privacy-button",onClick:function(){return m(!0)},role:"button"},"Make Public")):e.createElement("span",{className:"dataset-settings__privacy"},e.createElement("span",{className:"dataset-settings__privacy-icon fa fa-eye"}),"Public"),e.createElement("div",{className:"dataset-settings__privacy-description"},u&&"Only you and your collaborators can see and write kernels on this dataset.",!u&&"Anyone can see and write kernels on this dataset."),s&&e.createElement(o.b,{datasetId:c,hashLink:d,isPrivate:u,onUpdateHashLink:p}))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("div",{className:"dataset-settings__field-label"},"Collaborators"),e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement(i.a,Object(r.__assign)({},l,{canEdit:a,canRemoveSelf:!0,allowReaders:u,allowWriters:!0,onSave:function(e){return t.onSaveCollaborators(e)}})))))},n}(e.Component)}).call(this,n(0),n(367))},1655:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),r=n.n(a),o=n(247),i=n(0);n(195),n(374);const s=r()(o.a)`
  z-index: ${e=>e.theme.zindex[1e3]};
`,l=e=>{const{action:t,dismissable:n,dismissesOnAction:a,message:r,onClose:o,onOpen:l,open:c,timeout:u}=e;return i.createElement(s,{action:t,dismissesOnAction:a||!0,dismissIcon:n&&"close",leading:!0,message:r,onClose:o,onOpen:l,open:c,timeout:u})}},1656:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return m}));var r=n(2),o=n(1922),i=n(1005),s=n(55),l=n(31),c=n(1032),u=n(1350),d=n(1410),p=n(1571),m=function(t){function n(n){var o=t.call(this,n)||this;o.onSlugKeyPress=function(e){String.fromCharCode(e.which).match(/[^A-Za-z0-9-]+/g)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())},o.onSlugChanged=function(e){o.setState({slug:e},(function(){return o.validate()}))},o.onIsFeaturedChanged=function(e){o.setState({isFeatured:e},(function(){return o.validate()}))},o.onIsSuperFeaturedChanged=function(e){o.setState({isSuperFeatured:e},(function(){return o.validate()}))},o.onScheduledFeatureChange=function(e){o.setState({scheduledToBeFeatured:e})},o.onScheduledUnFeatureChange=function(e){o.setState({scheduledToBeUnFeatured:e})},o.onScheduledSuperFeatureChange=function(e){o.setState({scheduledToBeSuperFeatured:e})},o.onScheduledUnSuperFeatureChange=function(e){o.setState({scheduledToBeUnSuperFeatured:e})},o.onIsRemovedChanged=function(e){o.setState({isRemoved:e},(function(){return o.validate()}))},o.onMaintainerChanged=function(e){if(e){var t=o.state.maintainerOrganizationResults.find((function(t){return t.id===e}));t&&o.setState({maintainerOrganization:{id:t.id,name:t.label,slug:t.slug,imageUrl:t.thumbnailUrl,isOrganization:!0}},(function(){return o.validate()}))}},o.onSave=function(){o.setState({isSaving:!0},(function(){var e={slug:o.state.slug,isFeatured:o.state.isFeatured,isSuperFeatured:o.state.isSuperFeatured,isRemoved:o.state.isRemoved,scheduledToBeFeatured:o.state.scheduledToBeFeatured,scheduledToBeUnFeatured:o.state.scheduledToBeUnFeatured,scheduledToBeSuperFeatured:o.state.scheduledToBeSuperFeatured,scheduledToBeUnSuperFeatured:o.state.scheduledToBeUnSuperFeatured,maintainerOrganization:o.state.maintainerOrganization};o.props.onSaveSettingsPower(e,o.onSaveFinished)}))},o.onSaveFinished=function(e){o.setState({isSaving:!1},(function(){e.datasetUrl&&window.location.assign(e.datasetUrl)}))},o.validate=function(){var e=[],t=!1;o.state.slug&&0!==o.state.slug.trim().length?o.state.slug&&(o.state.slug.trim().length<3||o.state.slug.trim().length>50)&&(t=!0,e.push({type:"error",id:"dataset-slug-length",message:"The URL must be between 3 and 50 characters in length."})):(t=!0,e.push({type:"error",id:"dataset-no-slug",message:"Please enter a URL for your dataset."}));var n=!t;o.setState({errorMessages:e,slugError:t,canSave:n})},o.loadMaintainers=function(e){return!e||e.length<3?Promise.resolve({options:[]}):a.Users.getOrganizations({filter:e}).then((function(e){var t=[];return e.map((function(e,n){t.push({label:e.name,value:e.id,isOrganization:!0,thumbnailUrl:e.thumbnailImageUrl,id:e.id,slug:e.name})})),o.setState({maintainerOrganizationResults:t}),{options:t}}))},o.renderMaintainer=function(t){return e.createElement("div",{className:"dataset-uploader__general-owner-option"},t.thumbnailUrl&&e.createElement("img",{className:"dataset-uploader__general-owner-option-thumbnail",src:t.thumbnailUrl,alt:t.label+" thumbnail"}),e.createElement("p",null,t.label))},o.renderMaintainerSelect=function(){return e.createElement(d.a,{disabled:o.state.isSaving,className:"dataset-uploader__general-owner",loadOptions:o.loadMaintainers,placeholder:"Search Organizations...",value:o.state.maintainerOrganization&&o.state.maintainerOrganization.id?o.state.maintainerOrganization.id:0,optionRenderer:o.renderMaintainer,valueRenderer:o.renderMaintainer,onChange:function(e){return o.onMaintainerChanged(e)}})};var i=Object(r.__assign)(Object(r.__assign)({},n),{errorMessages:[],slugError:!1,canSave:!0,isSaving:!1,isInferingMetadata:!1,maintainerOrganizationResults:[]});return o.state=i,o}return Object(r.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-settings__container"},e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("label",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," URL Slug"),e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("input",{disabled:this.state.isSaving,className:s("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.slugError}),onChange:function(e){return t.onSlugChanged(e.target.value)},onKeyPress:this.onSlugKeyPress,value:this.state.slug}))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("label",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Maintainer Org"),e.createElement("div",{className:"dataset-settings__field-control-column"},this.state.maintainerOrganization&&e.createElement("div",{className:"dataset-settings__field-maintainer-org"},e.createElement(o.a,{name:this.state.maintainerOrganization.name,action:Object(p.a)(this.state.maintainerOrganization.id),appearance:"default"})),this.renderMaintainerSelect())),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("h2",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Reviewed?"),e.createElement("div",{className:"dataset-settings__field-control-column dataset-settings__multi-column"},e.createElement("div",{className:"dataset-settings__field-checkbox"},e.createElement(i.a,{label:"Dataset is reviewed",checked:this.state.isFeatured,disabled:this.state.isSaving,onChange:function(e){return t.onIsFeaturedChanged(e.target.checked)}})),this.state.isFeatured?e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(u.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(l.utc().subtract(1,"day"))},value:this.state.scheduledToBeUnFeatured?l(this.state.scheduledToBeUnFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledUnFeatureChange(l(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledUnFeatureChange(null)},role:"button"})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__unfeature"},"un-reviewed")," ","(time is UTC)")):e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(u.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(l.utc().subtract(1,"day"))},value:this.state.scheduledToBeFeatured?l(this.state.scheduledToBeFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledFeatureChange(l(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledFeatureChange(null)},role:"button"})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__feature"},"featured")," ","(time is UTC)")))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("h2",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Featured?"),e.createElement("div",{className:"dataset-settings__field-control-column dataset-settings__multi-column"},e.createElement("div",{className:"dataset-settings__field-checkbox"},e.createElement(i.a,{label:"Dataset is featured",checked:this.state.isSuperFeatured,disabled:this.state.isSaving,onChange:function(e){return t.onIsSuperFeaturedChanged(e.target.checked)}})),this.state.isSuperFeatured?e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(u.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(l.utc().subtract(1,"day"))},value:this.state.scheduledToBeUnSuperFeatured?l(this.state.scheduledToBeUnSuperFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledUnSuperFeatureChange(l(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledUnSuperFeatureChange(null)},role:"button"})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__unfeature"},"un-featured")," ","(time is UTC)")):e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(u.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(l.utc().subtract(1,"day"))},value:this.state.scheduledToBeSuperFeatured?l(this.state.scheduledToBeSuperFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledSuperFeatureChange(l(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledSuperFeatureChange(null)},role:"button"})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__feature"},"super-featured")," ","(time is UTC)")))),e.createElement("div",{className:"dataset-settings__error-wrapper"},this.state.errorMessages.map((function(t,n){return e.createElement("div",{key:n,className:"dataset-settings__error"},t.message)}))),e.createElement("div",{className:"dataset-settings__save-button-wrapper"},e.createElement("div",{className:"dataset-settings__save-button"},e.createElement(c.a,{isDisabled:!this.state.canSave||this.state.isSaving,onClick:function(e){return t.onSave()},text:"Save Changes"}),this.state.isSaving&&e.createElement("div",{className:"dataset-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component)}).call(this,n(0),n(367))},1657:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),r=n.n(a),o=n(380),i=n(0);const s=r.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  display: flex;
  flex-flow: column nowrap;
  height: auto;
  justify-content: flex-start;
  margin-bottom: ${e=>e.theme.size.pad.l};
  margin-top: ${e=>e.theme.size.pad.l};
  position: relative;
  user-select: none;
  width: 100%;
`,l=r.a.div`
  background-color: #fbfbfb;
  border-bottom: 1px solid
    ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-top-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-top-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  padding: ${e=>e.theme.size.pad.m}
    ${e=>e.theme.size.pad.xl};
`,c=r.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border-top: 1px solid ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-bottom-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-bottom-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: center;
  padding: ${e=>e.theme.size.pad.m};
  width: auto;
`,u=e=>{const{children:t,header:n,footer:a,className:r}=e;return i.createElement(s,{className:r},n&&i.createElement(l,null,n),t,a&&i.createElement(c,null,a))}},1673:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return I})),n.d(t,"a",(function(){return D}));var a,r,o=n(2),i=n(1270),s=n(2316),l=n(1040),c=n(1183),u=n(88),d=n(6),p=n(1),m=n.n(p),h=n(1036),f=n(1152),g=n(1039),b=n(1261),v=n(1262),y=n(1007),E=n(1679),w=n(1696),x=n(1699),C=n(1644),k=n(1674),S=n(1416),_=n(1648),O=n(1698),T=n(1633),j=m.a.button.withConfig({displayName:"Dataset_CloseButton",componentId:"sc-88ueal"})(a||(a=Object(o.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"])),y.g.PadS,y.g.PadS,y.g.PadXs,y.g.PadS,y.g.BorderRadius,y.b.ContentBorderLight,y.b.TextLight,(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?y.b.TextLight:y.b.TextMedium})),I=m.a.div.withConfig({displayName:"Dataset_Wrapper",componentId:"sc-isllmh"})(r||(r=Object(o.__makeTemplateObject)(["\n  box-sizing: border-box;\n  ",";\n  margin: "," 0;\n  max-width: 1246px;\n\n  .kernels-listing__wrapper {\n    max-width: unset !important;\n  }\n"],["\n  box-sizing: border-box;\n  ",";\n  margin: "," 0;\n  max-width: 1246px;\n\n  .kernels-listing__wrapper {\n    max-width: unset !important;\n  }\n"])),u.o,(function(e){return e.theme.material.spacing(8)})),D=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderPrivacyConfirm=function(){var t=n.props,a=t.isConfirmPrivacyVisible,r=t.onMakeDatasetPublic,o=t.setConfirmPrivacyVisible;return e.createElement(f.a,{isShown:a,title:"Ready To Go Public?",confirmText:"Make Dataset Public",cancelText:"Cancel",isDangerousAction:!1,onConfirm:function(){return r()},onCancel:function(){return o(!1)}},e.createElement("span",null,"Public datasets enjoy the engagement from the entire Kaggle community. They cannot be changed back to private, but may be deleted."))},n.renderVersionModal=function(){var t=n.props,a=t.versionHistory,r=t.diffType,i=t.hideVersionStatuses,s=(t.canEdit,t.showHistoryModal),l=t.onLoadHistory,c=t.onShowHistoryModal;return"unversioned"!==r&&a?e.createElement(h.a,{modalIsShown:s,onClose:function(){return c(!1)},modalContentStyle:{width:"900px",position:"relative"}},e.createElement(e.Fragment,null,e.createElement(j,{onClick:function(){return c(!1)}},e.createElement(g.b,{name:"times"})),e.createElement(k.a,Object(o.__assign)({},a,{diffType:r,showStatus:!i,scrollable:!0,onLoadHistory:l})))):null},n}return Object(o.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.currentTab,r=n.isRemoved,u=n.datasetVersionId,p=n.activityState,m=e.createElement(_.b,Object(o.__assign)({},this.props,{ref:this.props.setDataTabRef})),h=!this.props.isPrivate||this.props.canEdit||this.props.isCollaborator;switch(a){case"activity":r||(m=e.createElement(E.a,{state:p},e.createElement(w.a,{currentTab:a,datasetUrl:this.props.datasetUrl,feed:this.props.feed})));break;case"kernels":case"notebooks":case"code":h&&(m=e.createElement(O.a,{datasetId:this.props.datasetId,currentTab:this.props.currentTab,datasetVersionId:u,isPrivate:this.props.isPrivate}));break;case"discussion":h&&(m=e.createElement(x.a,Object(o.__assign)({},this.props)));break;case"data":m=e.createElement(_.b,Object(o.__assign)({},this.props,{ref:this.props.setDataTabRef}));break;case"tasks":var f=new URLSearchParams(location.search),g=!0===f.has("taskId")?parseInt(f.get("taskId"),10):void 0;m=e.createElement(i.a,{dataset:{datasetId:this.props.datasetId,datasetVersionId:this.props.datasetVersionId,canCreateTask:this.props.canCreateDatasetTasks},user:Object(S.a)(),taskId:g,key:this.props.taskListKey,onChangeTaskCount:this.props.onChangeTaskCount});break;case"settings":!r&&this.props.canEdit&&(m=e.createElement(T.a,Object(o.__assign)({},this.props,{initialSubtab:this.props.settingsSubTab})));break;case"metadata":r||(m=e.createElement(d.b.Consumer,null,(function(n){return e.createElement(s.a,{bothClients:n,canEditDataset:t.props.canEdit,datasetId:t.props.datasetId,datasetVersionId:t.props.datasetVersionId,datasetHashLink:null===t.props.datasetHashLink?void 0:t.props.datasetHashLink,onChangeToSettingsGeneralTab:function(){return t.props.onNavigateToSettingsClick(T.b.GENERAL)},onChangeToSettingsSharingTab:function(){return t.props.onNavigateToSettingsClick(T.b.SHARING)},onShowPageMessage:t.props.onShowPageMessage,onSave:t.props.onSaveMetadata})})))}return e.createElement(l.a.Provider,{value:function(t){return e.createElement(v.a,{value:t})}},e.createElement(c.a.Provider,{value:function(t,n,a){return e.createElement(b.a,{value:t,onChange:n,editorMaxHeight:a})}},e.createElement(I,null,e.createElement(C.a,Object(o.__assign)({},this.props,{ref:this.props.setHeaderRef})),m,this.renderPrivacyConfirm(),this.renderVersionModal())))},n}(e.Component)}).call(this,n(0))},1674:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=n(1675),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onToggleExpandItem=function(e){n.setState((function(t){return{expandedItems:t.expandedItems.map((function(t,n){return e===n?!t:t}))}}))},n.state={expandedItems:e.items.map((function(e){return!1}))},n}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state={expandedItems:e.items.map((function(e){return!1}))}},n.prototype.render=function(){return e.createElement(r.a,Object(a.__assign)({},this.props,this.state,{onToggleExpandItem:this.onToggleExpandItem}))},n}(e.Component)}).call(this,n(0))},1675:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a,r,o,i,s,l=n(2),c=n(1031),u=n(1676),d=n(1),p=n.n(d),m=n(1039),h=n(1007),f=p()(c.b).withConfig({displayName:"HistoryTable_StyledContentBox",componentId:"sc-148531i"})(a||(a=Object(l.__makeTemplateObject)(["\n  margin: 0 0;\n"],["\n  margin: 0 0;\n"]))),g=p.a.div.withConfig({displayName:"HistoryTable_Wrapper",componentId:"sc-a92bjq"})(r||(r=Object(l.__makeTemplateObject)(["\n  max-height: ",";\n  overflow-y: ",";\n"],["\n  max-height: ",";\n  overflow-y: ",";\n"])),(function(e){return e.scrollable?"400px":"unset"}),(function(e){return e.scrollable?"auto":"unset"})),b=p.a.div.withConfig({displayName:"HistoryTable_More",componentId:"sc-9jx84e"})(o||(o=Object(l.__makeTemplateObject)(["\n  ",";\n  background: ",";\n  border-top: 1px solid ",";\n  box-sizing: border-box;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  flex-flow: row nowrap;\n  height: auto;\n  justify-content: space-between;\n  margin-top: ",";\n  padding: "," ",";\n  position: relative;\n  text-align: left;\n  word-wrap: break-word;\n  width: 100%;\n"],["\n  ",";\n  background: ",";\n  border-top: 1px solid ",";\n  box-sizing: border-box;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  flex-flow: row nowrap;\n  height: auto;\n  justify-content: space-between;\n  margin-top: ",";\n  padding: "," ",";\n  position: relative;\n  text-align: left;\n  word-wrap: break-word;\n  width: 100%;\n"])),h.c.Inter,h.b.ContentHeaderBackground,h.b.ContentBorder,h.b.TextMedium,h.d.FontSizeM,h.d.FontWeightNormal,h.g.PadS,h.g.PadM,h.g.PadL),v=p.a.span.withConfig({displayName:"HistoryTable_LoadMore",componentId:"sc-11wdhip"})(i||(i=Object(l.__makeTemplateObject)(["\n  cursor: pointer;\n  margin-left: ",";\n  color: ",";\n  font-weight: ",";\n"],["\n  cursor: pointer;\n  margin-left: ",";\n  color: ",";\n  font-weight: ",";\n"])),h.g.PadM,h.b.TextLink,h.d.FontWeightMedium),y=p()(m.b).withConfig({displayName:"HistoryTable_LoadIcon",componentId:"sc-cmcemk"})(s||(s=Object(l.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),h.g.PadS),E=function(t){var n=t.items,a=t.totalItems,r=t.expandedItems,o=t.diffType,i=t.showStatus,s=t.scrollable,l=t.onToggleExpandItem,c=t.onLoadHistory,d=n&&n.length!==a&&c;return e.createElement(f,{title:"History"},e.createElement(g,{scrollable:s},n.map((function(t,n){return e.createElement(u.a,{item:t,isExpanded:r[n],isFirst:0===n,diffType:o,showStatus:i,key:"history-"+n,onToggleExpand:function(){return l(n)}})})),d&&e.createElement(b,null,"Showing the last ",n.length," of ",a," items.",e.createElement(v,{onClick:function(){return c(a)}},e.createElement(y,{name:"plus-square"}),"Load All"))))}}).call(this,n(0))},1676:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ve}));var a=n(2),r=n(891),o=n(1003),i=n(1033),s=n(1353),l=n(1677),c=n(1678),u=n(1),d=n.n(u),p=n(1039),m=n(1007),h=n(1578),f=d.a.div.withConfig({displayName:"HistoryTableItem_Item",componentId:"sc-1x92fbd"})(y||(y=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0 ",";\n\n    &:hover {\n        background: ",";\n    }\n\n    ","\n    ","\n"],["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0 ",";\n\n    &:hover {\n        background: ",";\n    }\n\n    ","\n    ","\n"])),m.c.Inter,m.d.FontSizeM,m.d.LineHeightNormal,m.b.TextMedium,m.g.PadM,m.b.HoverLight,m.f.tablet(b||(b=Object(a.__makeTemplateObject)(["\n        padding: 0;\n    "],["\n        padding: 0;\n    "]))),m.f.mobile(v||(v=Object(a.__makeTemplateObject)(["\n        padding: 0;\n    "],["\n        padding: 0;\n    "]))));function g(t){return t.isFirst?e.createElement(X,null,t.children):e.createElement(Q,null,t.children)}var b,v,y,E,w,x,C,k,S,_,O,T,j,I,D,N,M,F,P,L,A,R,U,z,$,B,V,H,W,q,K,G,Y,Z,Q=d.a.div.withConfig({displayName:"HistoryTableItem_ItemInnerNormal",componentId:"sc-ak3wzd"})(E||(E=Object(a.__makeTemplateObject)(["\n  border-top: 1px solid ",";\n"],["\n  border-top: 1px solid ",";\n"])),m.b.ContentBorderLight),X=d.a.div.withConfig({displayName:"HistoryTableItem_ItemInnerFirst",componentId:"sc-13j5lvr"})(w||(w=Object(a.__makeTemplateObject)(["\n  border-top: 0;\n"],["\n  border-top: 0;\n"]))),J=d.a.div.withConfig({displayName:"HistoryTableItem_Main",componentId:"sc-1jr6ya5"})(x||(x=Object(a.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  padding: "," 0;\n"],["\n  display: flex;\n  align-items: center;\n  padding: "," 0;\n"])),m.g.PadS),ee=d()(J).withConfig({displayName:"HistoryTableItem_Change",componentId:"sc-1d2tv23"})(C||(C=Object(a.__makeTemplateObject)(["\n  color: ",";\n  padding: "," 0;\n\n  &:first-child {\n    padding: 0 0 "," 0;\n  }\n"],["\n  color: ",";\n  padding: "," 0;\n\n  &:first-child {\n    padding: 0 0 "," 0;\n  }\n"])),m.b.TextLight,m.g.PadXs,m.g.PadS),te=d.a.div.withConfig({displayName:"HistoryTableItem_UserColumn",componentId:"sc-1p3cne8"})(_||(_=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 32px;\n\n  .tooltip-container {\n    line-height: 1;\n  }\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n  width: 32px;\n\n  .tooltip-container {\n    line-height: 1;\n  }\n\n  ","\n  ","\n"])),m.f.tablet(k||(k=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))),m.f.mobile(S||(S=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ne=d.a.div.withConfig({displayName:"HistoryTableItem_TypeColumn",componentId:"sc-1ph4nmq"})(O||(O=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 112px;\n  margin-right: ",";\n  text-align: right;\n"],["\n  flex: 0 0 auto;\n  width: 112px;\n  margin-right: ",";\n  text-align: right;\n"])),m.g.PadM),ae=d.a.div.withConfig({displayName:"HistoryTableItem_DescriptionColumn",componentId:"sc-19zf5om"})(T||(T=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  margin-right: ",";\n"],["\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  margin-right: ",";\n"])),m.g.PadS),re=d.a.div.withConfig({displayName:"HistoryTableItem_DescriptionText",componentId:"sc-1lwuwpj"})(j||(j=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  align-items: center;\n  display: flex;\n"],["\n  flex: 1 1 auto;\n  align-items: center;\n  display: flex;\n"]))),oe=d.a.div.withConfig({displayName:"HistoryTableItem_DescriptionVersionNotes",componentId:"sc-7gduxp"})(I||(I=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n"],["\n  flex: 1 1 auto;\n"]))),ie=d()(re).withConfig({displayName:"HistoryTableItem_DescriptionChangeSummary",componentId:"sc-gcczv1"})(D||(D=Object(a.__makeTemplateObject)(["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"],["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]))),se=(d()(p.b).withConfig({displayName:"HistoryTableItem_DescriptionEditIcon",componentId:"sc-kgojrk"})(N||(N=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n  visibility: hidden;\n\n  ",":hover & {\n    visibility: visible;\n  }\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n  visibility: hidden;\n\n  ",":hover & {\n    visibility: visible;\n  }\n"])),m.b.TextLight,m.g.PadS,re),d()(p.b).withConfig({displayName:"HistoryTableItem_DescriptionSaveIcon",componentId:"sc-17pvz2s"})(M||(M=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),m.b.TextLink,m.g.PadS),d()(p.b).withConfig({displayName:"HistoryTableItem_DescriptionOkIcon",componentId:"sc-mwzpn5"})(F||(F=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),m.b.KaggleGreen,m.g.PadS),d()(p.b).withConfig({displayName:"HistoryTableItem_DescriptionErrorIcon",componentId:"sc-4c7q2a"})(P||(P=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),m.b.KaggleRed,m.g.PadS),d.a.div.withConfig({displayName:"HistoryTableItem_DescriptionSummary",componentId:"sc-1a9ageo"})(R||(R=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n\n  ","\n  ","\n"])),m.f.tablet(L||(L=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))),m.f.mobile(A||(A=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))))),le=d.a.div.withConfig({displayName:"HistoryTableItem_DateColumn",componentId:"sc-t8a9ek"})($||($=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  text-align: left;\n  width: 124px;\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  text-align: left;\n  width: 124px;\n\n  ","\n  ","\n"])),m.b.TextLight,m.f.tablet(U||(U=Object(a.__makeTemplateObject)(["\n        padding-right: ",";\n    "],["\n        padding-right: ",";\n    "])),m.g.PadS),m.f.mobile(z||(z=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ce=d.a.a.withConfig({displayName:"HistoryTableItem_VersionNumberLink",componentId:"sc-83rb3w"})(B||(B=Object(a.__makeTemplateObject)(["\n    ","\n    margin-right: ",";\n"],["\n    ","\n    margin-right: ",";\n"])),m.e.default,m.g.PadS),ue=d.a.span.withConfig({displayName:"HistoryTableItem_VersionNumberNoLink",componentId:"sc-1dvmg7p"})(V||(V=Object(a.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),m.g.PadS),de=d.a.span.withConfig({displayName:"HistoryTableItem_Entity",componentId:"sc-1mx5lfk"})(H||(H=Object(a.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),m.d.FontWeightMedium),pe=d.a.span.withConfig({displayName:"HistoryTableItem_ChangedEntity",componentId:"sc-ewedzd"})(W||(W=Object(a.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),m.g.PadXs),me=d.a.span.withConfig({displayName:"HistoryTableItem_Description",componentId:"sc-ogzjhz"})(q||(q=Object(a.__makeTemplateObject)(["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"],["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]))),he=d()(p.b).withConfig({displayName:"HistoryTableItem_StatusIconGreen",componentId:"sc-yiewk6"})(K||(K=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),m.b.KaggleGreen,m.g.PadXs),fe=d()(p.b).withConfig({displayName:"HistoryTableItem_StatusIconRed",componentId:"sc-1nfic0o"})(G||(G=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),m.b.KaggleRed,m.g.PadXs),ge=d()(p.b).withConfig({displayName:"HistoryTableItem_StatusIconBlue",componentId:"sc-mmclw"})(Y||(Y=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),m.b.TextLink,m.g.PadXs),be=d.a.div.withConfig({displayName:"HistoryTableItem_ExpandMore",componentId:"sc-3pj73j"})(Z||(Z=Object(a.__makeTemplateObject)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  padding: "," ",";\n  line-height: 1;\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  padding: "," ",";\n  line-height: 1;\n"])),m.b.PureWhite,m.b.ContentBorderLight,m.g.BorderRadius,m.b.TextLight,m.g.PadS,m.g.PadM),ve=function(t){function n(n){var u=t.call(this,n)||this;return u.getDescriptionChange=function(t){var n=null,a=Object(h.a)(t),r=Object(h.b)(t.path,0);switch(t.level){case"column":var o=Object(h.b)(t.path,1);n=o?e.createElement(me,null,"In ",e.createElement(de,null,o),": Column"," ",e.createElement(de,null,r)," ",a):e.createElement(me,null,"Column ",e.createElement(de,null,r)," ",a);break;case"file":n=e.createElement(me,null,e.createElement(de,null,r)," ",a);break;case"dataset":n=e.createElement(me,null,"Dataset ",e.createElement(de,null,r)," ",a);break;case"table":n=e.createElement(me,null,"Table ",e.createElement(de,null,r)," ",a)}return n},u.onShowExpandMore=function(e){e.stopPropagation&&e.stopPropagation(),u.setState({isMoreExpanded:!0})},u.renderMain=function(){var e=u.props,t=e.item,n=e.diffType,a="newVersion"===t.type||"create"===t.type;return"newVersion"===t.type&&"realtime"===n?u.renderMainNewVersionRealtime():"create"===t.type&&"realtime"===n?u.renderMainInitialCreationRealtime():a&&"versioned"===n?u.renderMainNewVersionVersioned():u.renderMainIntraVersion()},u.renderMainIntraVersion=function(){var t=u.props,n=(t.item,t.diffType);return e.createElement(J,null,u.renderDate(),"versioned"===n&&u.renderUser(null),u.renderTypeIntraVersion(),u.renderDescriptionIntraVersion())},u.renderMainNewVersionRealtime=function(){var t=u.props,n=t.item,a=t.diffType;return 1===n.changes.length?e.createElement(J,null,u.renderDate(),"versioned"===a&&u.renderUser(null),u.renderTypeChange(n.changes[0]),u.renderDescriptionChange(n.changes[0],n.summary)):e.createElement(J,null,u.renderDate(),u.renderTypeNewVersionRealtime(),u.renderDescriptionNewVersionRealtime())},u.renderMainInitialCreationRealtime=function(){var t=u.props;t.item,t.diffType;return e.createElement(J,null,u.renderDate(),e.createElement(ne,null),e.createElement(ae,null,"Initial Import"))},u.renderMainNewVersionVersioned=function(){var t=u.props.item;return e.createElement(J,null,u.renderDate(),u.renderUser(t.user),u.renderTypeNewVersionVersioned(),u.renderDescriptionNewVersionVersioned())},u.renderChange=function(t,n){var a=u.props,r=(a.item,a.diffType);return e.createElement(ee,{key:"change-"+n},u.renderEmptyDate(),"versioned"===r&&u.renderUser(null),u.renderTypeChange(t),u.renderDescriptionChange(t))},u.renderUser=function(t){return t?e.createElement(te,null,e.createElement(o.a,{displayName:t.name,thumbnailUrl:t.imageUrl,profileUrl:t.profileUrl,size:"large",tier:t.userTier})):e.createElement(te,null)},u.renderDate=function(){var t=u.props.item;return e.createElement(le,null,e.createElement(r.a,{time:t.date}))},u.renderEmptyDate=function(){return e.createElement(le,null)},u.renderTypeChange=function(t){var n=null;return"file"===t.level&&(n=Object(h.b)(t.path,0)),e.createElement(ne,null,e.createElement(l.a,{level:t.level,fileName:n}))},u.renderTypeIntraVersion=function(){return e.createElement(ne,null,e.createElement(l.b,null))},u.renderTypeNewVersionRealtime=function(){return e.createElement(ne,null,e.createElement(l.c,null))},u.renderTypeNewVersionVersioned=function(){var t=u.props,n=t.item,a=t.showStatus,r=n.versionInfo;if(r){var o=e.createElement(he,{name:"check"}),s="Version";if(r.versionNumber&&(s="Version "+r.versionNumber+" "),"deleted"===r.status)s="Removed",o=e.createElement(i.a,{tipText:"This version has been removed."},e.createElement(fe,{name:"trash"}));else if("failed"===r.status){s="Failed";var l="Processing this version failed.";r.userMessage&&(l="Processing this version failed: "+r.userMessage),o=e.createElement(i.a,{tipText:l},e.createElement(fe,{name:"times"}))}else"reprocessing"===r.status?(s="In Progress",o=e.createElement(i.a,{tipText:"Reprocessing in progress."},e.createElement(ge,{name:"circle-o-notch",className:"fa-spin"}))):"ready"!==r.status&&(s="In Progress",o=e.createElement(i.a,{tipText:"This version is in progress."},e.createElement(ge,{name:"circle-o-notch",className:"fa-spin"})));return a||(o=null),e.createElement(ne,null,o,"ready"===r.status&&r.versionUrl?e.createElement(ce,{href:r.versionUrl},s):e.createElement(ue,null,s))}return e.createElement(ne,null)},u.renderDescriptionChange=function(t,n){return e.createElement(ae,null,e.createElement(re,null,u.getDescriptionChange(t)),n&&e.createElement(se,null,e.createElement(c.a,Object(a.__assign)({},n))))},u.renderDescriptionIntraVersion=function(){u.props.item;return e.createElement(ae,null,u.renderDescriptionChangeSummary())},u.renderDescriptionNewVersionRealtime=function(){var t=u.props.item;return e.createElement(ae,null,u.renderDescriptionChangeSummary(),t.summary&&e.createElement(se,null,e.createElement(c.a,Object(a.__assign)({},t.summary))))},u.renderDescriptionNewVersionVersioned=function(){var t,n=u.props.item;return e.createElement(ae,null,(null===(t=n.versionInfo)||void 0===t?void 0:t.versionNotes)&&e.createElement(re,null,e.createElement(oe,null,e.createElement(s.a,{contentClassName:"dataset-home__version-notes",content:n.versionInfo.versionNotes,mimeType:"text/markdown",insertNofollow:!0}))),n.summary&&e.createElement(se,null,e.createElement(c.a,Object(a.__assign)({},n.summary))))},u.renderDescriptionChangeSummary=function(){var t=u.props.item;if(t.changes){var n="intraVersionSchemaUpdate"===t.type?"metadata":"";return e.createElement(ie,null,t.changes.length," ",n," changes",t.summary&&t.summary.changedEntities&&": ",t.summary&&t.summary.changedEntities&&t.summary.changedEntities.map((function(n,a){return e.createElement(pe,{key:"changed-"+a},"table"===n.level&&"Table ",e.createElement(de,null,n.name),a<t.summary.changedEntities.length-1&&",")})))}return e.createElement(ie,null)},u.state={isMoreExpanded:!1},u}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.item,r=n.isExpanded,o=n.isFirst,i=n.diffType,s=n.showStatus,l=n.onToggleExpand,c=this.state.isMoreExpanded;if(("newVersion"===a.type||"create"===a.type)&&!s&&a.versionInfo&&"ready"!==a.versionInfo.status)return null;if("realtime"===i&&"create"!==a.type&&0===a.changes.length)return null;var u=a.changes.length>0&&!("realtime"===i&&1===a.changes.length),d=u&&a.changes.length>5&&!c,p=d&&!c?a.changes.slice(0,5):a.changes,m=d&&!c?a.changes.length-p.length:0;return e.createElement(f,{onClick:u?l:null},e.createElement(g,{isFirst:o},this.renderMain(),r&&p&&p.map((function(e,n){return t.renderChange(e,n)})),r&&d&&!c&&e.createElement(ee,{key:"change-more"},this.renderEmptyDate(),"versioned"===i&&this.renderUser(null),e.createElement(ne,null),e.createElement(be,{onClick:this.onShowExpandMore},"Show ",m," more changes..."))))},n}(e.Component)}).call(this,n(0))},1677:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(1039),d=n(1007),p=n(1578),m=c.a.span.withConfig({displayName:"Badge_Container",componentId:"sc-1rxoz7m"})(a||(a=Object(s.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: 1;\n    color: ",";\n    padding: ",";\n    display: inline-block;\n"],["\n    ","\n    font-size: ",";\n    line-height: 1;\n    color: ",";\n    padding: ",";\n    display: inline-block;\n"])),d.c.Inter,d.d.FontSizeM,d.b.TextLight,d.g.PadXs),h=c()(m).withConfig({displayName:"Badge_BorderedContainer",componentId:"sc-1qdejgq"})(r||(r=Object(s.__makeTemplateObject)(["\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  padding: 6px ",";\n"],["\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  padding: 6px ",";\n"])),d.b.ContentBorder,d.g.BorderRadius,d.b.PureWhite,d.g.PadS),f=c()(u.b).withConfig({displayName:"Badge_LevelIcon",componentId:"sc-13bf0gp"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n  width: ",";\n"],["\n  margin-right: ",";\n  width: ",";\n"])),d.g.PadS,d.d.FontSizeM),g=c.a.span.withConfig({displayName:"Badge_LevelText",componentId:"sc-pi9m3"})(i||(i=Object(s.__makeTemplateObject)([""],[""]))),b=function(t){var n=t.level,a=t.fileName,r=Object(p.d)(n),o=Object(p.c)(n,a);return e.createElement(m,null,e.createElement(f,{name:o}),e.createElement(g,null,r))},v=function(){return e.createElement(h,null,e.createElement(f,{name:"plus"}),e.createElement(g,null,"Multiple"))},y=function(){return e.createElement(h,null,e.createElement(f,{name:"file-o"}),e.createElement(g,null,"Metadata"))}}).call(this,n(0))},1678:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,r,o,i,s,l=n(2),c=n(1),u=n.n(c),d=n(1007),p=u.a.span.withConfig({displayName:"Summary_Container",componentId:"sc-q7mz65"})(a||(a=Object(l.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"],["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"])),d.c.Inter,d.d.FontSizeM,d.d.LineHeightNormal,d.b.TextMedium),m=u.a.span.withConfig({displayName:"Summary_Item",componentId:"sc-1y9halb"})(r||(r=Object(l.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),d.g.PadXs),h=u.a.span.withConfig({displayName:"Summary_Added",componentId:"sc-2o270w"})(o||(o=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.KaggleGreen,d.g.PadXs),f=u.a.span.withConfig({displayName:"Summary_Modified",componentId:"sc-l1lc76"})(i||(i=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.KaggleOrange,d.g.PadXs),g=u.a.span.withConfig({displayName:"Summary_Deleted",componentId:"sc-1vixss5"})(s||(s=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.KaggleRed,d.g.PadXs),b=function(t){var n=t.addedCount,a=t.deletedCount,r=t.modifiedCount,o=Object(l.__spread)(n>0?[e.createElement(m,{key:"added"},e.createElement(h,null,"+",n),"new")]:[],r>0?[e.createElement(m,{key:"modified"},e.createElement(f,null,r),"modified")]:[],a>0?[e.createElement(m,{key:"deleted"},e.createElement(g,null,"-",a),"deleted")]:[]);return e.createElement(p,null,o.map((function(t,n){return e.createElement("span",{key:n},t,n<o.length-1&&",")})))}}).call(this,n(0))},1679:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ne}));var a,r,o,i,s,l,c,u,d,p,m,h,f,g,b,v,y,E=n(2),w=n(891),x=n(1),C=n.n(x),k=n(1695),S=n(1256),_=n(1007),O=n(1684),T=n(1686),j=n(1680),I=n(1580),D=n(1689),N=n(1683),M=n(1694),F=n(1688),P=n(1691),L=n(1685),A=C.a.div.withConfig({displayName:"Activity_Loading",componentId:"sc-10umymf"})(a||(a=Object(E.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ",";\n"],["\n  display: flex;\n  justify-content: center;\n  margin-top: ",";\n"])),_.g.PadXxl),R=C.a.h5.withConfig({displayName:"Activity_LastGeneratedDate",componentId:"sc-jcl6i5"})(r||(r=Object(E.__makeTemplateObject)(["\n  color: ",";\n  margin: "," 0;\n  font-size: ",";\n"],["\n  color: ",";\n  margin: "," 0;\n  font-size: ",";\n"])),_.b.TextLight,_.g.PadM,_.d.FontSizeM),U=C()(R).withConfig({displayName:"Activity_ErrorMessage",componentId:"sc-9pu2nu"})(o||(o=Object(E.__makeTemplateObject)([""],[""]))),z=C()(w.a).withConfig({displayName:"Activity_StyledTimeAgo",componentId:"sc-vxxexo"})(i||(i=Object(E.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),_.d.FontWeightMedium),$=C.a.div.withConfig({displayName:"Activity_Grid",componentId:"sc-wq7vbb"})(s||(s=Object(E.__makeTemplateObject)(["\n  display: grid;\n  grid-row-gap: ",";\n\n  @media screen and (min-width: ",") {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: repeat(7, minmax(0, 1fr));\n    grid-column-gap: ",';\n\n    grid-template-areas:\n      "activity-stats activity-stats time-series time-series time-series time-series time-series"\n      "top-contributors top-contributors world-map world-map world-map world-map world-map"\n      "kernel-stats kernel-stats kernel-medals top-kernels top-kernels top-kernels top-kernels"\n      "techniques techniques techniques top-datasets top-datasets top-datasets top-datasets"\n      "discussion-stats discussion-stats discussion-medals top-discussions top-discussions top-discussions top-discussions";\n  }\n\n  @media screen and (max-width: ',') {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: minmax(0, 1fr);\n\n    grid-template-areas:\n      "activity-stats"\n      "time-series"\n      "top-contributors"\n      "world-map"\n      "kernel-stats"\n      "kernel-medals"\n      "top-kernels"\n      "techniques"\n      "top-datasets"\n      "discussion-stats"\n      "discussion-medals"\n      "top-discussions";\n  }\n'],["\n  display: grid;\n  grid-row-gap: ",";\n\n  @media screen and (min-width: ",") {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: repeat(7, minmax(0, 1fr));\n    grid-column-gap: ",';\n\n    grid-template-areas:\n      "activity-stats activity-stats time-series time-series time-series time-series time-series"\n      "top-contributors top-contributors world-map world-map world-map world-map world-map"\n      "kernel-stats kernel-stats kernel-medals top-kernels top-kernels top-kernels top-kernels"\n      "techniques techniques techniques top-datasets top-datasets top-datasets top-datasets"\n      "discussion-stats discussion-stats discussion-medals top-discussions top-discussions top-discussions top-discussions";\n  }\n\n  @media screen and (max-width: ',') {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: minmax(0, 1fr);\n\n    grid-template-areas:\n      "activity-stats"\n      "time-series"\n      "top-contributors"\n      "world-map"\n      "kernel-stats"\n      "kernel-medals"\n      "top-kernels"\n      "techniques"\n      "top-datasets"\n      "discussion-stats"\n      "discussion-medals"\n      "top-discussions";\n  }\n'])),_.g.PadL,_.a.ScreenTabletMax,_.g.PadM,_.a.ScreenTabletMax),B=C()(j.a).withConfig({displayName:"Activity_ActivityStats",componentId:"sc-ztud5m"})(l||(l=Object(E.__makeTemplateObject)(["\n  grid-area: activity-stats;\n"],["\n  grid-area: activity-stats;\n"]))),V=C()(N.a).withConfig({displayName:"Activity_TimeSeriesCell",componentId:"sc-f8ravh"})(c||(c=Object(E.__makeTemplateObject)(["\n  grid-area: time-series;\n"],["\n  grid-area: time-series;\n"]))),H=C()(O.a).withConfig({displayName:"Activity_ContributorsCell",componentId:"sc-ccxc9m"})(u||(u=Object(E.__makeTemplateObject)(["\n  grid-area: top-contributors;\n"],["\n  grid-area: top-contributors;\n"]))),W=C()(L.a).withConfig({displayName:"Activity_WorldMapCell",componentId:"sc-1lemekr"})(d||(d=Object(E.__makeTemplateObject)(["\n  grid-area: world-map;\n"],["\n  grid-area: world-map;\n"]))),q=C()(j.a).withConfig({displayName:"Activity_KernalStats",componentId:"sc-19qxe6o"})(p||(p=Object(E.__makeTemplateObject)(["\n  grid-area: kernel-stats;\n"],["\n  grid-area: kernel-stats;\n"]))),K=C()(T.a).withConfig({displayName:"Activity_KernalMedals",componentId:"sc-28q28"})(m||(m=Object(E.__makeTemplateObject)(["\n  grid-area: kernel-medals;\n"],["\n  grid-area: kernel-medals;\n"]))),G=C()(F.a).withConfig({displayName:"Activity_TopKernelsCell",componentId:"sc-sv2j1"})(h||(h=Object(E.__makeTemplateObject)(["\n  grid-area: top-kernels;\n"],["\n  grid-area: top-kernels;\n"]))),Y=C()(D.a).withConfig({displayName:"Activity_TechniquesCell",componentId:"sc-1tp2kym"})(f||(f=Object(E.__makeTemplateObject)(["\n  grid-area: techniques;\n"],["\n  grid-area: techniques;\n"]))),Z=C()(P.a).withConfig({displayName:"Activity_TopRelatedDatasetsCell",componentId:"sc-96y8h6"})(g||(g=Object(E.__makeTemplateObject)(["\n  grid-area: top-datasets;\n"],["\n  grid-area: top-datasets;\n"]))),Q=C()(j.a).withConfig({displayName:"Activity_DiscussionStats",componentId:"sc-1j8u43o"})(b||(b=Object(E.__makeTemplateObject)(["\n  grid-area: discussion-stats;\n"],["\n  grid-area: discussion-stats;\n"]))),X=C()(T.a).withConfig({displayName:"Activity_DiscussionMedals",componentId:"sc-1885pft"})(v||(v=Object(E.__makeTemplateObject)(["\n  grid-area: discussion-medals;\n"],["\n  grid-area: discussion-medals;\n"]))),J=C()(M.a).withConfig({displayName:"Activity_TopDiscussionsCell",componentId:"sc-105h7wj"})(y||(y=Object(E.__makeTemplateObject)(["\n  grid-area: top-discussions;\n"],["\n  grid-area: top-discussions;\n"]))),ee=function(e){return"noSummaryGenerated"===e.status},te=function(e){return"hasSummary"===e.status};function ne(t){var n=t.state,a=t.children,r=n.status;if("loading"===r)return e.createElement(I.a,null,e.createElement(A,null,e.createElement(S.a,null)));if(ee(n)){var o=n.banner;return e.createElement("div",null,e.createElement(k.a,Object(E.__assign)({},o)),a)}if("error"===r)return e.createElement("div",null,e.createElement(U,null,"Failed to retrieve activity summary data"),a);if(te(n)){var i=n.summaryStats,s=i.generatedDate,l=i.datasetStats,c=i.timeSeries,u=i.topContributors,d=i.contributorLocations,p=i.kernelStats,m=i.kernelMedals,h=i.topKernels,f=i.tags,g=i.relatedDatasets,b=i.discussionStats,v=i.discussionMedals,y=i.topDiscussions;return e.createElement("div",null,e.createElement(R,null,"Card data was last refreshed ",e.createElement(z,{time:s})),e.createElement($,null,e.createElement(B,{title:"Activity stats",metrics:l}),e.createElement(V,{timeSeries:c}),e.createElement(H,{title:"Top contributors",contributors:u}),e.createElement(W,{title:"Top contributor countries",contributorLocations:d}),e.createElement(q,{title:"Kernel stats",metrics:p}),e.createElement(K,{title:"Kernels",medalCounts:m}),e.createElement(G,{title:"Top kernels",kernels:h}),e.createElement(Y,{title:"Top techniques",tags:f}),e.createElement(Z,{title:"Top complementary datasets",relatedDatasets:g}),e.createElement(Q,{title:"Discussion stats",metrics:b}),e.createElement(X,{title:"Discussions",medalCounts:v}),e.createElement(J,{title:"Top discussion",discussions:y})),a)}return a}}).call(this,n(0))},1680:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1007),l=n(1342),c=n(1681),u=i.a.div.withConfig({displayName:"MetricBox_MetricGrid",componentId:"sc-q9if8x"})(a||(a=Object(r.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: grid;\n  align-content: space-evenly;\n  grid-column-gap: ",";\n\n  /* Display as 2x2 grid on mobile and desktop */\n  @media screen and (min-width: ","),\n    screen and (max-width: ",") {\n    grid-template-columns: repeat(2, 1fr);\n    grid-row-gap: ",";\n  }\n\n  /* Display as 1x4 grid on tablet */\n  @media screen and (max-width: ",") and (min-width: ",") {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  margin: 0 "," "," ",";\n"],["\n  flex-grow: 1;\n\n  display: grid;\n  align-content: space-evenly;\n  grid-column-gap: ",";\n\n  /* Display as 2x2 grid on mobile and desktop */\n  @media screen and (min-width: ","),\n    screen and (max-width: ",") {\n    grid-template-columns: repeat(2, 1fr);\n    grid-row-gap: ",";\n  }\n\n  /* Display as 1x4 grid on tablet */\n  @media screen and (max-width: ",") and (min-width: ",") {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  margin: 0 "," "," ",";\n"])),s.g.PadM,s.a.ScreenTabletMax,s.a.ScreenMobileMax,s.g.PadL,s.a.ScreenTabletMax,s.a.ScreenMobileMax,s.g.PadM,s.g.PadM,s.g.PadM);function d(t){var n=t.title,a=t.metrics,o=t.className;return e.createElement(l.a,{title:n,className:o},e.createElement(u,null,a.map((function(t){return e.createElement(c.a,Object(r.__assign)({key:t.name},t))}))))}}).call(this,n(0))},1681:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(1007),u=n(1682),d=l.a.div.withConfig({displayName:"Metric_Wrapper",componentId:"sc-1gp2bzq"})(a||(a=Object(i.__makeTemplateObject)(["\n  text-align: left;\n"],["\n  text-align: left;\n"]))),p=l.a.div.withConfig({displayName:"Metric_MetricValue",componentId:"sc-1d8ho5o"})(r||(r=Object(i.__makeTemplateObject)(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),c.d.FontSizeXl),m=l.a.div.withConfig({displayName:"Metric_MetricName",componentId:"sc-1specur"})(o||(o=Object(i.__makeTemplateObject)(["\n  color: ",";\n  margin-top: ",";\n"],["\n  color: ",";\n  margin-top: ",";\n"])),c.b.TextLight,c.g.PadS);function h(t){var n=t.value,a=t.name,r=Number.isInteger(n)?Object(u.b)(n):Object(u.a)(n);return e.createElement(d,null,e.createElement(p,null,r),e.createElement(m,null,a))}}).call(this,n(0))},1682:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=function(e,t){return Number.parseFloat(e.toFixed(t)).toString()},r=function(e){if(null==e)return"";var t=Math.abs(e);return t>1e11?a(e/1e9,0)+"b":t>1e10?a(e/1e9,1)+"b":t>1e9?a(e/1e9,2)+"b":t>1e8?a(e/1e6,0)+"m":t>1e7?a(e/1e6,1)+"m":t>1e6?a(e/1e6,2)+"m":t>1e5?a(e/1e3,0)+"k":t>1e4?a(e/1e3,1)+"k":t>1e3?a(e/1e3,2)+"k":a(e,t>100?0:t>10?1:2)},o=function(e){if(null==e)return"";var t=Math.abs(e);return t>1e11?(e/1e9).toFixed(0)+"b":t>1e10?(e/1e9).toFixed(1)+"b":t>1e9?(e/1e9).toFixed(2)+"b":t>1e8?(e/1e6).toFixed(0)+"m":t>1e7?(e/1e6).toFixed(1)+"m":t>1e6?(e/1e6).toFixed(2)+"m":t>1e5?(e/1e3).toFixed(0)+"k":t>1e4?(e/1e3).toFixed(1)+"k":e.toFixed(0)}},1683:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(8),u=n(0),d=n(1432),p=n(1080),m=n(1007),h=n(1342),f=n(1579),g=n(1418),b=l.a.div.withConfig({displayName:"TimeSeries_Wrapper",componentId:"sc-mctg1k"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n\n  margin: 0 "," "," ",";\n  min-height: ",";\n\n  overflow: hidden;\n"],["\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n\n  margin: 0 "," "," ",";\n  min-height: ",";\n\n  overflow: hidden;\n"])),m.g.PadM,m.g.PadM,m.g.PadM,(function(e){return e.isRenderingChart?"220px":"0"})),v=l()(d.a).withConfig({displayName:"TimeSeries_StyledChart",componentId:"sc-a2o54"})(r||(r=Object(i.__makeTemplateObject)(["\n  position: absolute;\n  left: -8%;\n  top: -15%;\n"],["\n  position: absolute;\n  left: -8%;\n  top: -15%;\n"]))),y=l()(p.a).withConfig({displayName:"TimeSeries_StyledSelect",componentId:"sc-zq4bdz"})(o||(o=Object(i.__makeTemplateObject)(["\n  width: 120px;\n  min-width: 120px;\n  margin-top: ",";\n  margin-left: ",";\n"],["\n  width: 120px;\n  min-width: 120px;\n  margin-top: ",";\n  margin-left: ",";\n"])),m.g.PadS,m.g.PadM),E=function(t){function n(n){var a=t.call(this,n)||this;a.chartOptions={colors:[m.b.TextLink],legend:{position:"none"},tooltip:{trigger:"none"},backgroundColor:"transparent",lineWidth:1,vAxis:{baselineColor:m.b.GrayLightest,gridlines:{color:m.b.GrayLightest},textStyle:{color:m.b.GrayLight,fontName:"Inter"}},hAxis:{gridlines:{color:"transparent"},textStyle:{color:m.b.GrayLight,fontName:"Inter"}}},a.chartCols=[{type:"date",label:""},{type:"number",label:"Downloads"}],a.createContentBoxTitle=function(){var e=a.props.timeSeries,t=Object.keys(e).length;return 0===t?"Time series":1===t?e[Object.keys(e)[0]].title:a.createSelectBoxEl()},a.createSelectBoxEl=function(){var t=a.props.timeSeries,n=a.state.selectedSeriesKey,r=Object.keys(t).map((function(e){return t[e]})).map((function(e){return{value:e.key,label:e.title}}));return e.createElement(y,{value:n,onChange:a.handleSeriesChange,options:r})},a.handleSeriesChange=function(e){(0,a.context.reportEvent)("activity-time-series-toggle",{selectedSeriesKey:e}),a.setState({selectedSeriesKey:e})},a.createChartEl=function(){var t=a.props.timeSeries[a.state.selectedSeriesKey];if(void 0===t||0===t.points.length){var n=void 0===t?"No time series data to show":'No time series data to show for "'+t.title+'" series';return e.createElement(g.a,{placeholder:n})}var r=t.points.map((function(e){var t=e.date,n=e.count;return[new Date(t),n]}));return e.createElement(v,{chartType:"LineChart",rows:r,columns:a.chartCols,options:a.chartOptions,width:"120%",height:"120%",loader:e.createElement(f.a,null)})};var r=a.props.timeSeries,o=Object.keys(r).length;return a.state=0===o?{selectedSeriesKey:void 0}:{selectedSeriesKey:Object.keys(r)[0]},a}return Object(i.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.timeSeries,n=e.timeSeries;t!==n&&(0===Object.keys(n).length?this.setState({selectedSeriesKey:void 0}):this.setState({selectedSeriesKey:Object.keys(n)[0]}))},n.prototype.render=function(){var t=this.props.className,n=this.createChartEl();return e.createElement(h.a,{title:this.createContentBoxTitle(),className:t},e.createElement(b,{isRenderingChart:n.type===v},n))},n.contextTypes={reportEvent:c.func},n}(u.Component)}).call(this,n(0))},1684:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(8),d=n(1245),p=n(1007),m=n(1003),h=n(1342),f=n(1418),g=n(1493),b=n(1494),v=c.a.ul.withConfig({displayName:"Contributors_Ul",componentId:"sc-rrr6le"})(a||(a=Object(s.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  list-style: none;\n  margin-bottom: ",";\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: minmax(0, 100%);\n  grid-template-rows: ",";\n  align-content: stretch;\n  justify-content: stretch;\n"],["\n  flex-grow: 1;\n\n  list-style: none;\n  margin-bottom: ",";\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: minmax(0, 100%);\n  grid-template-rows: ",";\n  align-content: stretch;\n  justify-content: stretch;\n"])),p.g.PadM,(function(e){return"repeat("+e.rowCount+", 1fr)"})),y=c.a.li.withConfig({displayName:"Contributors_Li",componentId:"sc-jq089g"})(r||(r=Object(s.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),E=c()(m.a).withConfig({displayName:"Contributors_StyledAvatar",componentId:"sc-pti6zs"})(o||(o=Object(s.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),p.i.ZForeground,p.g.PadM),w=c.a.div.withConfig({displayName:"Contributors_UpvoteCount",componentId:"sc-13hy6q9"})(i||(i=Object(s.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),p.b.TextLight,p.d.FontSizeS,p.d.FontWeightNormal),x=function(t,n){var a=t.title,r=t.contributors,o=t.className,i=n.reportEvent,l=r.map((function(t){var n=t.totalUpvotesCount,a=Object(s.__rest)(t,["totalUpvotesCount"]),r=a.id,o=a.userUrl,l=a.displayName,c=e.createElement(E,Object(s.__assign)({},a,{size:"xlarge"})),u=e.createElement(g.a,{text:l}),p=e.createElement(w,null,e.createElement(d.a,{word:"total upvote",count:n}));return e.createElement(y,{key:r},e.createElement(b.a,{thumbnail:c,title:u,subtitle:p,href:o,reportItemVisit:function(){return i("activity-contributor-visit",{userId:r})}}))}));return e.createElement(h.a,{title:a,className:o},e.createElement(f.a,{isEmpty:0===r.length,placeholder:"No contributors to show"},e.createElement(v,{rowCount:3},l)))};x.contextTypes={reportEvent:u.func}}).call(this,n(0))},1685:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1432),l=n(1007),c=n(1342),u=n(1579),d=i.a.div.withConfig({displayName:"WorldMap_Wrapper",componentId:"sc-gm5af3"})(a||(a=Object(r.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n\n  overflow: hidden;\n  margin: 0 "," "," ",";\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n\n  overflow: hidden;\n  margin: 0 "," "," ",";\n"])),l.g.PadM,l.g.PadM,l.g.PadM);function p(t){var n=t.title,a=t.contributorLocations,r=t.className,o=a.map((function(e){return[e.location,e.count,e.location]})),i={legend:"none",keepAspectRatio:!1,colors:[l.b.KaggleBlueSuperLight,l.b.KaggleBlueDarkest],tooltip:{isHtml:!0,showTitle:!1}};return e.createElement(c.a,{title:n,className:r},e.createElement(d,null,e.createElement(s.a,{key:"location-chart",chartType:"GeoChart",rows:o,columns:[{type:"string",label:"Country"},{type:"number",label:"Contributor count"},{type:"string",role:"tooltip"}],options:i,height:"200px",loader:e.createElement(u.a,null)})))}}).call(this,n(0))},1686:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1007),l=n(1342),c=n(1581),u=n(1687),d=i()(c.a).withConfig({displayName:"Medals_List",componentId:"sc-oh78zp"})(a||(a=Object(r.__makeTemplateObject)(["\n  @media screen and (max-width: ",") {\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: 1fr;\n  }\n"],["\n  @media screen and (max-width: ",") {\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: 1fr;\n  }\n"])),s.a.ScreenTabletMax);function p(t){var n=t.title,a=t.medalCounts,o=t.className,i=a.map((function(t){return{el:e.createElement(u.a,Object(r.__assign)({},t)),key:t.src}}));return e.createElement(l.a,{title:n,className:o},e.createElement(d,{items:i,maxNumberOfLis:3}))}}).call(this,n(0))},1687:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(1007),u=l.a.div.withConfig({displayName:"Medal_MedalWrapper",componentId:"sc-197mxjf"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),d=l.a.img.withConfig({displayName:"Medal_MedalImg",componentId:"sc-zu7665"})(r||(r=Object(i.__makeTemplateObject)(["\n  margin-bottom: ",";\n  width: 30px;\n  height: 30px;\n"],["\n  margin-bottom: ",";\n  width: 30px;\n  height: 30px;\n"])),c.g.PadXs),p=l.a.span.withConfig({displayName:"Medal_MedalText",componentId:"sc-21wyrx"})(o||(o=Object(i.__makeTemplateObject)(["\n  font-weight: ",";\n  color: ",";\n"],["\n  font-weight: ",";\n  color: ",";\n"])),c.d.FontWeightMedium,(function(e){return function(e){switch(e){case"gold":return c.b.Gold;case"silver":return c.b.Silver;case"bronze":return c.b.Bronze}}(e.type)}));function m(t){var n=t.count,a=t.src,r=t.alt,o=t.type;return e.createElement(u,null,e.createElement(d,{src:a,alt:r}),e.createElement(p,{type:o},n))}}).call(this,n(0))},1688:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(8),u=n(1003),d=n(1407),p=n(1342),m=n(1418),h=n(1582),f=n(1533),g=n(1493),b=n(1494),v=n(1007),y=l.a.ul.withConfig({displayName:"TopKernels_Ul",componentId:"sc-1c82f9f"})(a||(a=Object(i.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),v.g.PadM),E=l.a.li.withConfig({displayName:"TopKernels_Li",componentId:"sc-1ree7dw"})(r||(r=Object(i.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),w=l()(u.a).withConfig({displayName:"TopKernels_StyledAvatar",componentId:"sc-y67nk7"})(o||(o=Object(i.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),v.i.ZForeground,v.g.PadM),x=function(t,n){var a=t.title,r=t.kernels,o=t.className,s=n.reportEvent,l=n.onCreateKernel,c=r.map((function(t){var n=t.id,a=t.voteButtonDto,r=t.avatar,o=t.medal,l=t.url,c=t.timeSinceLastActivity,u=t.tags,p=e.createElement(w,Object(i.__assign)({},r,{size:"xlarge"})),m=e.createElement(g.a,{medal:o,text:t.title}),h=e.createElement(f.a,{elapsedTime:c},e.createElement(d.a,{tags:u}));return e.createElement(E,{key:n},e.createElement(b.a,{voteButtonDto:a,thumbnail:p,title:m,subtitle:h,href:l,reportItemVisit:function(){return s("activity-kernel-visit",{kernelId:n})}}))})),u=e.createElement(h.a,{description:"No kernels to show",onClick:l,buttonText:"Create a kernel"});return e.createElement(p.a,{title:a,className:o},e.createElement(m.a,{isEmpty:0===r.length,placeholder:u},e.createElement(y,null,c)))};x.contextTypes={reportEvent:c.func,onCreateKernel:c.func}}).call(this,n(0))},1689:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(1342),r=n(1418),o=n(1581),i=n(1690);function s(t){var n=t.title,s=t.tags,l=t.className,c=s.map((function(t,n){return{key:t.name,el:e.createElement(i.a,{tag:t})}}));return e.createElement(a.a,{title:n,className:l},e.createElement(r.a,{isEmpty:0===c.length,placeholder:"No techniques to show"},e.createElement(o.a,{items:c,maxNumberOfLis:4})))}}).call(this,n(0))},1690:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(8),u=n(1407),d=n(1007),p=l.a.div.withConfig({displayName:"Technique_Wrapper",componentId:"sc-8ztr5d"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n\n  overflow: hidden;\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  overflow: hidden;\n"]))),m=l()(u.a).withConfig({displayName:"Technique_StyledTags",componentId:"sc-4v1xn3"})(r||(r=Object(i.__makeTemplateObject)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n\n  margin-right: ",";\n"],["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n\n  margin-right: ",";\n"])),d.g.PadS),h=l.a.div.withConfig({displayName:"Technique_KernelsCount",componentId:"sc-yctaff"})(o||(o=Object(i.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-size: ",";\n\n  white-space: nowrap;\n"])),d.b.TextLight,d.d.FontSizeS),f=function(t,n){var a=t.tag,r=t.className,o=a.name,i=a.url,s=a.kernelCount,l=n.reportEvent;return e.createElement(p,{className:r},e.createElement(m,{tags:[{name:o,url:i,onClick:function(){return l("activity-technique-visit",{name:o})}}]}),e.createElement(h,null,s," kernels"))};f.contextTypes={reportEvent:c.func}}).call(this,n(0))},1691:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a,r,o,i,s=n(2),l=n(1),c=n.n(l),u=n(8),d=n(1245),p=n(1007),m=n(1692),h=n(1342),f=n(1418),g=n(1533),b=n(1493),v=n(1494),y=c.a.ul.withConfig({displayName:"TopRelatedDatasets_Ul",componentId:"sc-e0zmub"})(a||(a=Object(s.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),p.g.PadM),E=c()(m.a).withConfig({displayName:"TopRelatedDatasets_StyledThumbnail",componentId:"sc-1tpbc9f"})(r||(r=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n  width: ",";\n  height: ",";\n"],["\n  margin-right: ",";\n  width: ",";\n  height: ",";\n"])),p.g.PadM,m.b.dimensions.small,m.b.dimensions.small),w=c.a.li.withConfig({displayName:"TopRelatedDatasets_Li",componentId:"sc-1tq4wxa"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),x=c.a.div.withConfig({displayName:"TopRelatedDatasets_Footer",componentId:"sc-134tdj6"})(i||(i=Object(s.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-size: ",";\n  white-space: nowrap;\n"])),p.b.TextLight,p.d.FontSizeS),C=function(t,n){var a=t.title,r=t.relatedDatasets,o=t.className,i=n.reportEvent,s=r.map((function(t){var n=t.id,a=t.voteButtonDto,r=t.thumbnailImageUrl,o=t.subTitle,s=t.url,l=t.timeSinceLastActivity,c=t.kernelsCount,u=e.createElement(E,{src:r,alt:t.title}),p=e.createElement(b.a,{text:t.title}),m=e.createElement(g.a,{elapsedTime:l},o),h=e.createElement(x,null,e.createElement(d.a,{count:c,word:"kernel"}));return e.createElement(w,{key:n},e.createElement(v.a,{href:s,voteButtonDto:a,thumbnail:u,title:p,subtitle:m,footer:h,reportItemVisit:function(){return i("activity-related-dataset-visit",{relatedDatasetId:n})}}))}));return e.createElement(h.a,{title:a,className:o},e.createElement(f.a,{isEmpty:0===r.length,placeholder:"No complementary datasets to show"},e.createElement(y,null,s)))};C.contextTypes={reportEvent:u.func}}).call(this,n(0))},1692:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var a,r,o=n(2),i=n(1),s=n.n(i),l=n(1094),c=n(1007),u=n(1693),d=s.a.div.withConfig({displayName:"Thumbnail_Wrapper",componentId:"sc-16eqxkm"})(a||(a=Object(o.__makeTemplateObject)(["\n  display: inline-block;\n  position: relative;\n\n  height: 66px;\n  width: 66px;\n\n  @media (max-width: ","px) {\n    width: 54px;\n    height: 54px;\n  }\n"],["\n  display: inline-block;\n  position: relative;\n\n  height: 66px;\n  width: 66px;\n\n  @media (max-width: ","px) {\n    width: 54px;\n    height: 54px;\n  }\n"])),l.a.mobileMax),p={dimensions:{small:"54px"}},m=s.a.img.withConfig({displayName:"Thumbnail_Img",componentId:"sc-18b9dkx"})(r||(r=Object(o.__makeTemplateObject)(["\n  border-radius: ",";\n  height: 100%;\n"],["\n  border-radius: ",";\n  height: 100%;\n"])),c.g.BorderRadius);function h(t){var n=t.src,a=t.alt,r=t.classification,o=t.className,i=void 0!==r?e.createElement(u.a,{classification:r}):null;return e.createElement(d,{className:o},e.createElement(m,{src:n,alt:a}),i)}}).call(this,n(0))},1693:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,r=n(2),o=n(1),i=n.n(o),s=n(1033),l=n(1007),c=i.a.div.withConfig({displayName:"Classification_Icon",componentId:"sc-9mwq8y"})(a||(a=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  right: -8px;\n  top: -8px;\n\n  border: 2px solid white;\n  border-radius: 50%;\n  color: ",";\n  font-size: 7px;\n  padding: 3px;\n\n  ",";\n"],["\n  position: absolute;\n  right: -8px;\n  top: -8px;\n\n  border: 2px solid white;\n  border-radius: 50%;\n  color: ",";\n  font-size: 7px;\n  padding: 3px;\n\n  ",";\n"])),l.b.TextWhite,(function(e){return function(e){switch(e){case"featured":return"background-color: "+l.b.KaggleBlueDark+";";case"reviewed":return"background-color: "+l.b.KaggleBlueLight+";";case"deleted":return"background-color: "+l.b.KaggleRed+";";case"draft":return"background-color: "+l.b.GrayLight+";";default:return""}}(e.classification)})),u=new Set(["featured","reviewed"]),d=new Map([["featured","fa-star"],["reviewed","fa-check"],["deleted","fa-minus"]]);function p(t){var n=t.classification,a="fa "+(d.get(n)||""),r=e.createElement(c,{classification:n,className:a});return u.has(n)?e.createElement(s.b,{tip:n},r):r}}).call(this,n(0))},1694:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,r,o,i=n(2),s=n(1),l=n.n(s),c=n(8),u=n(1003),d=n(1245),p=n(1342),m=n(1418),h=n(1582),f=n(1533),g=n(1493),b=n(1494),v=n(1007),y=l.a.ul.withConfig({displayName:"TopDiscussions_Ul",componentId:"sc-1scao7f"})(a||(a=Object(i.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),v.g.PadM),E=l.a.li.withConfig({displayName:"TopDiscussions_Li",componentId:"sc-vxwvmq"})(r||(r=Object(i.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),w=l()(u.a).withConfig({displayName:"TopDiscussions_StyledAvatar",componentId:"sc-yhm23g"})(o||(o=Object(i.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),v.i.ZForeground,v.g.PadM),x=function(t,n){var a=t.title,r=t.discussions,o=t.className,s=n.reportEvent,l=n.onCreateTopic,c=r.map((function(t){var n=t.id,a=t.voteButtonDto,r=t.avatar,o=t.medal,l=t.url,c=t.timeSinceLastActivity,u=t.replyCount,p=e.createElement(w,Object(i.__assign)({},r,{size:"xlarge"})),m=e.createElement(g.a,{medal:o,text:t.title}),h=e.createElement(f.a,{elapsedTime:c},e.createElement(d.a,{word:"reply",count:u}));return e.createElement(E,{key:n},e.createElement(b.a,{voteButtonDto:a,thumbnail:p,title:m,subtitle:h,href:l,reportItemVisit:function(){return s("activity-discussion-visit",{discussionId:n})}}))})),u=e.createElement(h.a,{description:"No discussions to show",onClick:l,buttonText:"Create a discussion"});return e.createElement(p.a,{title:a,className:o},e.createElement(m.a,{isEmpty:0===r.length,placeholder:u},e.createElement(y,null,c)))};x.contextTypes={reportEvent:c.func,onCreateTopic:c.func}}).call(this,n(0))},1695:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var a,r,o,i,s,l,c,u,d=n(2),p=n(1),m=n.n(p),h=n(380),f=n(1007),g=m.a.a.withConfig({displayName:"CtaBanner_A",componentId:"sc-112lc5q"})(a||(a=Object(d.__makeTemplateObject)(["\n  display: block;\n  text-decoration: none;\n"],["\n  display: block;\n  text-decoration: none;\n"]))),b=m.a.div.withConfig({displayName:"CtaBanner_Wrapper",componentId:"sc-1xs1ie5"})(o||(o=Object(d.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n\n  max-width: 950px;\n  position: relative;\n  padding: ",";\n\n  font-family: ",";\n  color: ",";\n  text-align: left;\n\n  background-color: #dff0f7;\n  border: 1px solid #cae6f1;\n  border-radius: ",";\n\n  transition: all 0.2s ease;\n\n  ",":hover & {\n    background-color: ",";\n  }\n\n  ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  max-width: 950px;\n  position: relative;\n  padding: ",";\n\n  font-family: ",";\n  color: ",";\n  text-align: left;\n\n  background-color: #dff0f7;\n  border: 1px solid #cae6f1;\n  border-radius: ",";\n\n  transition: all 0.2s ease;\n\n  ",":hover & {\n    background-color: ",";\n  }\n\n  ",";\n"])),f.g.PadS,f.d.FontFamilyInter,Object(h.darken)(.1,f.b.TextLink),f.g.BorderRadius,g,Object(h.darken)(.02,"#dff0f7"),f.f.mobile(r||(r=Object(d.__makeTemplateObject)(["\n        border-left-width:0;\n        border-right-width:0;\n        border-radius:0;\n        justify-content: flex-start;\n    "],["\n        border-left-width:0;\n        border-right-width:0;\n        border-radius:0;\n        justify-content: flex-start;\n    "])))),v=m.a.div.withConfig({displayName:"CtaBanner_TextWrapper",componentId:"sc-1ou9asl"})(s||(s=Object(d.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  text-align: left;\n  align-self: center;\n\n  font-size: ",";\n  line-height: ",";\n  padding: "," ",";\n\n  ",";\n"],["\n  flex: 1 1 auto;\n  text-align: left;\n  align-self: center;\n\n  font-size: ",";\n  line-height: ",";\n  padding: "," ",";\n\n  ",";\n"])),f.g.PadM,f.g.PadL,f.g.PadXs,f.g.PadM,f.f.mobile(i||(i=Object(d.__makeTemplateObject)(["\n        font-size: ",";\n        line-height: 18px;\n    "],["\n        font-size: ",";\n        line-height: 18px;\n    "])),f.d.FontSizeS)),y=m.a.strong.withConfig({displayName:"CtaBanner_Title",componentId:"sc-sf635v"})(l||(l=Object(d.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),f.d.FontWeightMedium),E=m.a.img.withConfig({displayName:"CtaBanner_Img",componentId:"sc-1jwac39"})(u||(u=Object(d.__makeTemplateObject)(["\n  height: 61px;\n  padding: "," ",";\n\n  ",";\n"],["\n  height: 61px;\n  padding: "," ",";\n\n  ",";\n"])),f.g.PadXs,f.g.PadM,f.f.mobile(c||(c=Object(d.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))));function w(t){var n=t.title,a=t.subtitle,r=t.img,o=t.href,i=t.className,s=t.openInNewWindow,l=e.createElement(b,{className:o?void 0:i},e.createElement(v,null,e.createElement(y,null,n),a&&e.createElement(e.Fragment,null,e.createElement("br",null),a)),r&&e.createElement(E,{src:r.src,alt:r.alt}));return o?e.createElement(g,{href:o,title:n,className:i,target:s?"_blank":"_self"},l):l}}).call(this,n(0))},1696:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(1387),o=n(1697),i=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderItem=function(t,n){return e.createElement(o.a,Object(a.__assign)({},t,{key:n}))},n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(r.a,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.feed,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem,isHidden:"activity"!==this.props.currentTab}))},n}(e.Component)}).call(this,n(0))},1697:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(2),r=n(891),o=n(55),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t="script"===this.props.activityType?"fa-file-code-o":"scriptFork"===this.props.activityType?"fa-clone":"scriptRun"===this.props.activityType?"fa-file-code-o":"dataset"===this.props.activityType?"fa-database":"datasetVersion"===this.props.activityType?"fa-database":"topic"===this.props.activityType?"fa-comments-o":"scriptComment"===this.props.activityType?"fa-comment-o":"comment"===this.props.activityType?"fa-comment-o":"",n="script"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptFork"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Forked kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptRun"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Ran version ",this.props.versionNumber," of kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"dataset"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created dataset"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"datasetVersion"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created version ",this.props.versionNumber," -"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"topic"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created a new discussion"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptComment"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"comment"===this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on dataset discussion"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"";return e.createElement("div",{className:"dataset-activity-feed-item"},e.createElement("div",{className:"dataset-activity-feed-item__images"},e.createElement("div",{className:"dataset-activity-feed-item__icon"},e.createElement("span",{className:o("fa",t)})),e.createElement("a",{href:this.props.userUrl},e.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl,alt:this.props.userDisplayName}))),e.createElement("div",{className:"dataset-activity-feed-item__user-link-container"},e.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName)),e.createElement("div",{className:"dataset-activity-feed-item__details"},n),e.createElement(r.a,{className:"dataset-activity-feed-item__time",time:this.props.date}))},n}(e.Component)}).call(this,n(0))},1698:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=n(892),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t={group:this.props.isPrivate?"profile":"everyone",sortBy:this.props.isPrivate?"dateRun":"hotness"};return e.createElement(r.KernelsListing,{isStandalonePage:!1,listTitle:"Code",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!==this.props.currentTab&&"notebooks"!==this.props.currentTab&&"code"!==this.props.currentTab,datasetVersionId:this.props.datasetVersionId,datasetId:this.props.datasetId,filters:t,hideHeader:!0})},n}(e.Component)}).call(this,n(0))},1699:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(2),r=n(1643),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return"discussion"===this.props.currentTab?e.createElement(r.a,Object(a.__assign)({},Object(a.__assign)(Object(a.__assign)({},this.props.discussion),this.props.newTopic),{onTopicClicked:this.props.onTopicClicked,topicId:this.props.topicId,isNew:this.props.isNewTopic,topicSubmitted:this.props.onTopicSubmitted})):null},n}(e.Component)}).call(this,n(0))},1700:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(2);const r=()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){let t=0;for(let n=0;n<3;n++){const n=yield e("https://citation.crosscite.org/styles/");if(n.ok){return yield n.json()}t=n.status,yield o(500)}throw new Error(`Invalid response after 3 retries: ${t}`)})),o=e=>new Promise(t=>setTimeout(t,e))}).call(this,n(56))},1701:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(2);const r=(t,n)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const a=`https://data.crosscite.org/text/x-bibliography/${t}?style=${n}`,r=yield e(a);if(!r.ok)throw new Error(`Invalid status code: ${r.status}`);return yield r.text()}))}).call(this,n(56))},1702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=c(n(1703)),i=c(n(1704)),s=c(n(1705)),l=c(n(1713));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"parseString",value:function(e){var t=this;if(""===e)return e;var n=this.props.matchDecorator(e);if(!n)return e;var a=[],r=0;return n.forEach((function(n,o){n.index>r&&a.push(e.substring(r,n.index));var i=t.props.hrefDecorator(n.url),s=t.props.textDecorator(n.text),l=t.props.componentDecorator(i,s,o);a.push(l),r=n.lastIndex})),e.length>r&&a.push(e.substring(r)),1===a.length?a[0]:a}},{key:"parse",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e?this.parseString(e):r.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?r.cloneElement(e,{key:n},this.parse(e.props.children)):Array.isArray(e)?e.map((function(e,n){return t.parse(e,n)})):e}},{key:"render",value:function(){return r.createElement(r.Fragment,null,this.parse(this.props.children))}}]),t}(r.Component);u.defaultProps={componentDecorator:o.default,hrefDecorator:i.default,matchDecorator:s.default,textDecorator:l.default},t.default=u},1703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.default=function(e,t,n){return a.createElement("a",{href:e,key:n},t)}},1704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},1705:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(1706)),r=o(n(1712));function o(e){return e&&e.__esModule?e:{default:e}}var i=new a.default;i.tlds(r.default),t.default=function(e){return i.match(e)}},1706:function(e,t,n){"use strict";function a(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object Function]"===r(e)}function i(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,n){var a=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(a)?a.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var a=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(a)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:a.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var a=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(a)?a.match(n.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=n(1707)(e.__opts__),a=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||a.push(c),a.push(t.src_xn),t.src_tlds=a.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var a={validate:null,link:null};if(e.__compiled__[t]=a,"[object Object]"===r(n))return!function(e){return"[object RegExp]"===r(e)}(n.validate)?o(n.validate)?a.validate=n.validate:u(t,n):a.validate=function(e){return function(t,n){var a=t.slice(n);return e.test(a)?a.match(e)[0].length:0}}(n.validate),void(o(n.normalize)?a.normalize=n.normalize:n.normalize?u(t,n):a.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===r(e)}(n)?u(t,n):l.push(t)}})),l.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(i).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var n=e.__index__,a=e.__last_index__,r=e.__text_cache__.slice(n,a);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=a+t,this.raw=r,this.text=r,this.url=r}function m(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=a({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=a({},l,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=a(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,a,r,o,i,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(r=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(a=e.match(this.re.email_fuzzy))&&(o=a.index+a[1].length,i=a.index+a[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=i)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(m(this,t)),t=this.__last_index__);for(var a=t?e.slice(t):e;this.test(a);)n.push(m(this,t)),a=a.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},1707:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(1708).source,t.src_Cc=n(1709).source,t.src_Z=n(1710).source,t.src_P=n(1711).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},1708:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},1709:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},1710:function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},1711:function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},1712:function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","工行","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","诺基亚","食品","飞利浦","台湾","台灣","手表","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","پاکستان","الاردن","موبايلي","بارت","بھارت","المغرب","ابوظبي","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","珠宝","تونس","大拿","みんな","グーグル","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},1713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},1714:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,r=n(2),o=n(1),i=n.n(o),s=n(876),l=n(1007),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(r.__extends)(n,t),n.prototype.render=function(){return e.createElement(u,null,e.createElement(s.VoteButton,Object(r.__assign)({},this.props.voteProps,{compact:!0,showVoters:!1,alwaysShowVoters:!1,showVotersOnCountClick:!0})))},n}(e.Component),u=i.a.span.withConfig({displayName:"DatasetVoteButton_VoteButtonWrapper",componentId:"sc-vvhrsz"})(a||(a=Object(r.__makeTemplateObject)(["\n  color: "," !important;\n  padding-right: 16px;\n  display: inline-block;\n  vertical-align: sub;\n\n  .vb-upvote {\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button__vote-count-container {\n    font-size: "," !important;\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button {\n    background-color: transparent !important;\n    border-color: ",";\n    color: ",";\n  }\n\n  .vote-button__button--up {\n    color: unset !important;\n  }\n\n  .vote-button__button {\n    padding: 10px 16px 12px;\n    border-color: ",";\n\n    @media (max-width: ",") {\n      padding: 4px 6px;\n    }\n  }\n\n  .fa {\n    opacity: 1 !important;\n  }\n\n  .vote-button__vote-count {\n    font-size: "," !important;\n    padding-top: 3px;\n\n    @media (max-width: ",") {\n      font-size: "," !important;\n      padding-top: 0;\n      font-weight: ",";\n    }\n  }\n\n  .vote-button--voted-up .fa {\n    font-weight: 900;\n    color: "," !important;\n  }\n\n  .vote-button--voted-up .vote-button__vote-count {\n    color: "," !important;\n  }\n"],["\n  color: "," !important;\n  padding-right: 16px;\n  display: inline-block;\n  vertical-align: sub;\n\n  .vb-upvote {\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button__vote-count-container {\n    font-size: "," !important;\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button {\n    background-color: transparent !important;\n    border-color: ",";\n    color: ",";\n  }\n\n  .vote-button__button--up {\n    color: unset !important;\n  }\n\n  .vote-button__button {\n    padding: 10px 16px 12px;\n    border-color: ",";\n\n    @media (max-width: ",") {\n      padding: 4px 6px;\n    }\n  }\n\n  .fa {\n    opacity: 1 !important;\n  }\n\n  .vote-button__vote-count {\n    font-size: "," !important;\n    padding-top: 3px;\n\n    @media (max-width: ",") {\n      font-size: "," !important;\n      padding-top: 0;\n      font-weight: ",";\n    }\n  }\n\n  .vote-button--voted-up .fa {\n    font-weight: 900;\n    color: "," !important;\n  }\n\n  .vote-button--voted-up .vote-button__vote-count {\n    color: "," !important;\n  }\n"])),l.b.ContentBorder,l.b.TextWhite,l.d.FontSizeM,l.b.TextWhite,"#b5b6b8","#b5b6b8","#b5b6b8",l.a.ScreenDesktopMin,l.d.FontSizeM,l.a.ScreenDesktopMin,l.d.FontSizeS,l.d.FontWeightNormal,l.b.TextWhite,l.b.TextWhite)}).call(this,n(0))},1715:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,r,o,i=n(2),s=n(383),l=n(6),c=n(1),u=n.n(c),d=n(1039),p=n(1036),m=n(1536),h=u()(s.Body2).withConfig({displayName:"ReportModal_Body",componentId:"sc-1bihj0w"})(a||(a=Object(i.__makeTemplateObject)(["\n  padding: ","\n    ",";\n"],["\n  padding: ","\n    ",";\n"])),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),f=u.a.div.withConfig({displayName:"ReportModal_ReportDatasetHeader",componentId:"sc-n9wshy"})(r||(r=Object(i.__makeTemplateObject)(["\n  align-items: center;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  border-radius: ","\n    "," 0 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  padding: ","\n    ",";\n  width: 100%;\n"],["\n  align-items: center;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  border-radius: ","\n    "," 0 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  padding: ","\n    ",";\n  width: 100%;\n"])),(function(e){return e.theme.material.color.brand.grey[50]}),(function(e){return e.theme.material.color.brand.grey[100]}),(function(e){return e.theme.material.borderRadius.normal}),(function(e){return e.theme.material.borderRadius.normal}),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),g=u()(d.b).withConfig({displayName:"ReportModal_CloseButton",componentId:"sc-1aezrfw"})(o||(o=Object(i.__makeTemplateObject)(["\n  cursor: pointer;\n  color: ",";\n"],["\n  cursor: pointer;\n  color: ",";\n"])),(function(e){return e.theme.material.color.text[40]}));function b(t){var n=t.datasetVersionId,a=t.modalIsShown,r=t.onClose;return a?e.createElement(p.a,{modalIsShown:a,onClose:r},e.createElement("div",null,e.createElement(f,null,e.createElement(s.Subhead,null,"Report Dataset"),e.createElement(g,{name:"close",onClick:r})),e.createElement(h,null,e.createElement(m.e,{requireExplanationText:!0,onCancel:r,reasons:m.b,submitMethod:function(e,t){l.l.discussionsService.toggleFlagMessage({datasetVersionId:n,reasonType:e,explanation:t,messageId:null,scriptVersionId:null}),r()}})))):null}}).call(this,n(0))},1907:function(e,t,n){"use strict";var a=n(6),r=n(0),o=n(1043),i=n(2),s=n(123),l=n(1067),c=n(1170),u=n(1012),d=n(1162),p=n(1163),m=n(1017),h=n(1531),f=n(1046),g=n(1086),b=n(1159),v=n(1160),y=n(1008),E=n(1171),w=n(1172),x=n(1158),C=n(1018),k=n(1077),S=n(1352),_=n(145),O=n(1),T=n.n(O);const j=T.a.div`
  padding: ${e=>e.theme.size.pad.m};
`,I=T()(S.a)`
  width: 90%;
  height: 34px;
  margin-bottom: 8px;

  && .mdc-text-field__input {
    height: 32px !important;
  }

  && .mdc-floating-label {
    top: 8px;
  }

  && .mdc-floating-label--float-above {
    display: none !important;
  }

  && .mdc-notched-outline--notched .mdc-notched-outline__notch {
    display: none !important;
  }
`,D=T()(_.c)`
  display: flex;
`;function N(e){const t=r.useContext(y.a),{dataset:n,versionNotes:a,onVersionNotesChange:o}=e,{owner:i,slug:s}=n;return r.createElement(j,null,r.createElement(I,{disabled:t,invalid:a.hasError,value:a.text,label:"Enter version notes",onChange:e=>o(e.currentTarget.value)}),r.createElement(D,{emphasis:"disabled"},"www.kaggle.com/",i.slug,"/",s))}var M=n(1176),F=n(1161),P=n(1169),L=n(1167),A=n(1166),R=n(1168);function U(e){const t=r.useContext(y.a),{renderProp:n,selectedTab:a,dataset:o,config:i,settings:s,onFlagsChange:c}=e,{limits:d}=i,{license:p,isPrivate:m}=o,{flags:h}=s,{container:g,onUpdate:b}=n;if("uploadContainer"===a&&Object(u.q)(g))return r.createElement(A.a,{container:g,onUpdate:b,datasetId:o.datasetId});if("kernelOutputContainer"===a&&Object(u.h)(g))return r.createElement(L.a,{isDisabled:t,container:g,allowBackToSearch:!1,onUpdate:b});if("remoteUrlUploadContainer"===a&&Object(u.m)(g))return r.createElement(R.a,{isDisabled:t,container:g,onUpdate:b});if("githubContainer"===a&&Object(u.b)(g))return r.createElement(P.a,{container:g,onUpdate:b});if("gcsFileSetContainer"===a&&Object(u.a)(g))return r.createElement(F.a,{container:g,onUpdate:b});if("adminFlags"===a)return r.createElement(l.a,{flags:h,onFlagsChange:c});if("settings"===a){const{totalBytes:e,prevUsedBytes:t}=Object(k.f)(d,m),n=t+Object(f.a)(g),a={id:0,displaySequence:0,licenses:[{id:p.id,description:p.description,name:"",displaySequence:0,url:"#"}],name:""};return r.createElement(M.a,{isDisabled:!0,allowedOwners:[o.owner],licenseGroups:[a],limits:{totalBytes:e,usedBytes:n},isPrivate:o.isPrivate,licenseId:1,owner:o.owner,onLicenseIdChange:()=>{},onOwnerChange:()=>{},onPrivacyChange:()=>{}})}return r.createElement("div",null,"Invalid state")}function z(e){const{isOpen:t,creation:n,onCloseRequest:a}=e;return r.createElement(y.a.Provider,{value:n.isLoading},r.createElement(x.a,{open:t,onClose:a},$(e)))}const $=e=>{const{renderProp:t,defaultTabs:n,selectedTab:a,settings:o,config:i,dataset:s,creation:l,isConfirmingCloseRequest:c,onCreateSuccess:u,onVersionNotesChange:d,onTabSelect:p,onCloseRequest:m,onDisableConfirmClose:h,onFlagsChange:f}=e;if("error"===i)return r.createElement(b.a,null);if("loading"===i)return r.createElement(v.a,null);const{container:y,isContainerUploadable:x,isContainerDirty:k,doesContainerContainDuplicates:S,doesContainerHaveErrors:_,inflightUploadMessage:O}=t,{versionNotes:T}=o,{limits:j}=i,I=V(y,j,s.isPrivate),D=!W(T.value)&&x&&!I&&!l.isLoading,M=H(T,k),F=M||(I||(_?"You must resolve errors before creating a new version":l.errorMessage)),P=()=>F?{type:"error",str:F}:O,L=n.map(e=>Object.assign(Object.assign({},e),{isDisabled:B(l.isLoading,e.key,y)}));return c?r.createElement(g.a,{description:" If you close this dialog, all your work in this window will be lost.\n        Do you want to continue?",confirmText:"Confirm",cancelText:"Back",onAction:e=>{"confirm"===e?m():h()}}):r.createElement(r.Fragment,null,r.createElement(E.a,{tabs:L,selectedTab:a,onTabSelect:e=>p(e)}),r.createElement(C.d,null,r.createElement(C.e,null,r.createElement(N,{versionNotes:{text:T.value,hasError:!!M},dataset:s,onVersionNotesChange:d})),r.createElement(C.h,null,r.createElement(U,{dataset:s,renderProp:t,selectedTab:a,settings:o,config:i,onFlagsChange:f})),r.createElement(w.a,{isPrivate:s.isPrivate,statusMessage:P(),canCreate:D,isLoading:l.isLoading,privacyTip:s.isPrivate?"Update to public dataset in Settings tab":"This is a public Dataset",createText:S?"Skip duplicates":"Create",duplicateText:S?"Include duplicates":void 0,onCreate:e=>u(y,e)})))},B=(e,t,n)=>e||"settings"!==t&&"adminFlags"!==t&&n.type!==t,V=(e,t,n)=>{const a=Object(k.e)(t,n,e);if("success"!==a.status)return a.message},H=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return W(n)},W=e=>{if(0===e.trim().length)return"Please enter version notes."};let q=(()=>{class e extends r.Component{constructor(){super(...arguments),this.configUpdateId=0,this.state={selectedTab:this.props.defaultContainer.type,settings:{versionNotes:{value:"",wasEdited:!1},flags:l.b},isConfirmingCloseRequest:!1,config:"loading",defaultContainer:this.props.defaultContainer,creation:{isLoading:!1}},this.loadConfig=()=>Object(i.__awaiter)(this,void 0,void 0,(function*(){const{dataset:e}=this.props,{lastDatasetVersionId:t,owner:n}=e,a={ownerOrganizationId:n.isOrganization?n.id:null,currentDatasetVersionId:t};try{this.configUpdateId++;const{datasetsClient:e}=this.context.clients,{defaultContainer:t}=this.state,n=yield e.getDatasetUploaderConfig(a),r=n.existingUploadDirectories&&n.existingUploadDirectories.length>0||n.existingUploadFiles&&n.existingUploadFiles.length>0,o=n.existingRemoteUrls&&n.existingRemoteUrls.length>0,i="uploadContainer"===t.type&&r?Object(h.b)(n.existingUploadDirectories,n.existingUploadFiles):"remoteUrlUploadContainer"===t.type&&o?Object(h.a)(n.existingRemoteUrls):t;this.configUpdateId++,this.setState({config:{limits:n.limits},defaultContainer:i})}catch(e){this.setState({config:"error"})}})),this.renderContents=e=>{const{isOpen:t,dataset:n,user:a}=this.props,{selectedTab:o,config:i,settings:s,creation:l,isConfirmingCloseRequest:c}=this.state;return r.createElement(z,{isOpen:t,isConfirmingCloseRequest:c,renderProp:e,defaultTabs:Object(d.b)(a),selectedTab:o,settings:s,config:i,creation:l,dataset:n,onTabSelect:this.onTabSelect(e),onCloseRequest:()=>this.onCloseRequest(e),onDisableConfirmClose:()=>this.setState({isConfirmingCloseRequest:!1}),onCreateSuccess:this.onCreate,onVersionNotesChange:this.onVersionNotesChange,onFlagsChange:this.onFlagsChange})},this.onCloseRequest=e=>{const{onCloseRequest:t}=this.props,{creation:n,isConfirmingCloseRequest:a}=this.state;n.isLoading||(a||e.isContainerClosable?t():this.setState({isConfirmingCloseRequest:!0}))},this.onTabSelect=e=>t=>{const{onUpdate:n,container:a}=e,{selectedTab:r}=this.state;this.setState({selectedTab:t}),("settings"!==r&&"adminFlags"!==r||a.type!==t)&&("githubContainer"!==t||Object(u.b)(a)?"remoteUrlUploadContainer"!==t||Object(u.m)(a)?"uploadContainer"!==t||Object(u.q)(a)||n("uploadContainer","reset",void 0):n("remoteUrlUploadContainer","reset",void 0):n("githubContainer","reset",void 0))},this.onVersionNotesChange=e=>{this.setState(t=>({settings:Object.assign(Object.assign({},t.settings),{versionNotes:{value:e,wasEdited:!0}})}))},this.onFlagsChange=e=>{const{settings:t}=this.state;this.setState({settings:Object.assign(Object.assign({},t),{flags:e})})},this.onCreate=(e,t)=>Object(i.__awaiter)(this,void 0,void 0,(function*(){const n="create"===t?G(e):e;"create"!==t||"uploadContainer"!==n.type||0!==Object(m.b)(n,()=>!0)?this.setState({creation:{isLoading:!0}},()=>this.onCreateRequest(n,t)):this.onCreationError("Please specify at least one non-duplicate file.")})),this.onCreateRequest=Object(s.a)(1e3,!0,(e,t)=>Object(i.__awaiter)(this,void 0,void 0,(function*(){const{dataset:n,user:a}=this.props,{settings:r}=this.state,{versionNotes:i,flags:s}=r,{datasetId:l}=n,c=Object(p.c)(e,{datasetId:l,versionNotes:i.value,flags:a.isAdmin?s:null}),{analyticsClient:u}=this.context.legacyClients,d="uploadContainer"===e.type&&(e.directories.length>0||e.existingDirectories.length>0);Object(o.a)(u,"version",t,d,"",!1,c);try{const{datasetsClient:t}=this.context.clients,n=yield t.createDatasetVersionRequestV2(c);if("ok"===n.status){const{onCreateSuccess:t}=this.props;t(K(n,e))}else this.onCreationError(n.errorMessage?n.errorMessage:"An internal error occurred.")}catch(e){if("string"==typeof e.message)this.onCreationError(e.message);else{if("string"!=typeof e)throw e;this.onCreationError(e)}}}))),this.onCreationError=e=>{this.setState({creation:{errorMessage:e,isLoading:!1}})}}componentDidMount(){const{isOpen:e}=this.props;e&&this.loadConfig()}render(){const{defaultContainer:e}=this.state;return r.createElement(c.a,{defaultContainer:e,key:this.configUpdateId},this.renderContents)}}return e.contextType=a.b,e})();const K=(e,t)=>{var n;if("ok"===e.status){const{url:a,datasetVersionReference:r,databundleVersionReference:o}=e,{databundleVersionId:i}=o,{datasetVersionId:s}=r;return{id:(null===(n=e.datasetVersionReference)||void 0===n?void 0:n.datasetId)||0,url:a,databundleSize:Object(f.a)(t),databundleVersionId:i,versionId:s}}throw new Error("Failed to create dataset")},G=e=>{if(Object(u.q)(e)){const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>Y(e))})}return e},Y=e=>{const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>Y(e))})};var Z=n(1150);n.d(t,"a",(function(){return Q}));let Q=(()=>{class e extends r.Component{componentDidUpdate(e){const{isOpen:t}=this.props,{analyticsClient:n}=this.context.legacyClients;e.isOpen!==t&&Object(o.c)(n,"version",t)}render(){const{isOpen:e,onCloseRequest:t,stubProcessingState:n}=this.props;return r.createElement(Z.a,{isOpen:e,successScreen:{buttonText:"Close",descriptionText:"Your new version was uploaded. Click the button below to close this dialog."},failureScreen:{buttonText:"Close",descriptionText:"Unfortunately we could not create your new dataset version."},processingScreen:{buttonText:"Close",descriptionText:"If your dataset is public, users will see the previous version during processing."},resetOnClose:!0,renderUploader:X(this.props),onCloseRequest:t,stubProcessingState:n})}}return e.contextType=a.b,e})();const X=e=>t=>{const{isOpen:n,user:a,referrer:o,defaultContainer:i,dataset:s}=e,{onCloseRequest:l,onCreateSuccess:c}=t;return r.createElement(q,{key:n?"open":"closed",isOpen:n,user:a,referrer:o,onCloseRequest:l,onCreateSuccess:c,dataset:s,defaultContainer:i})}},1908:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(20),i=n(5),s=n(0),l=n.n(s),c=(n(8),n(39)),u=n(64),d=n(152),p=n(1001),m=n(271),h=l.a.forwardRef((function(e,t){var n=e.children,a=e.classes,r=e.className,s=e.color,u=void 0===s?"default":s,d=e.component,h=void 0===d?"button":d,f=e.disabled,g=void 0!==f&&f,b=e.disableFocusRipple,v=void 0!==b&&b,y=e.focusVisibleClassName,E=e.fullWidth,w=void 0!==E&&E,x=e.size,C=void 0===x?"medium":x,k=e.type,S=void 0===k?"button":k,_=e.variant,O=void 0===_?"text":_,T=Object(o.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","fullWidth","size","type","variant"]),j="text"===O,I="outlined"===O,D="contained"===O,N="primary"===u,M="secondary"===u,F=Object(c.default)(a.root,r,j&&[a.text,N&&a.textPrimary,M&&a.textSecondary],I&&[a.outlined,N&&a.outlinedPrimary,M&&a.outlinedSecondary],D&&[a.contained,N&&a.containedPrimary,M&&a.containedSecondary],"medium"!==C&&a["size".concat(Object(m.a)(C))],g&&a.disabled,w&&a.fullWidth,{inherit:a.colorInherit}[u]);return l.a.createElement(p.a,Object(i.a)({className:F,component:h,disabled:g,focusRipple:!v,focusVisibleClassName:Object(c.default)(a.focusVisible,y),ref:t,type:S},T),l.a.createElement("span",{className:a.label},n))})),f=Object(u.a)((function(e){return{root:Object(i.a)({lineHeight:1.75},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(d.b)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(d.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(d.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 16px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(d.b)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(d.b)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(d.b)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(d.b)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground},"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},sizeSmall:{padding:"4px 8px",fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:"8px 24px",fontSize:e.typography.pxToRem(15)},fullWidth:{width:"100%"}}}),{name:"MuiButton"})(h),g=n(108);n.d(t,"a",(function(){return w}));const b=r.a.div`
  display: flex;
  height: 24px;
  width: 88px;
`,v=r()(e=>s.createElement(f,Object.assign({classes:{label:"label"}},e)))`
  && {
    padding: 0;
    height: 100%;
    min-width: 50%;
  }

  & .label {
    line-height: 17px;
    text-transform: none;
    color: ${e=>"no-vote"===e.state?e.theme.material.color.text[50]:e.theme.material.color.brand.blue[800]};
    ${e=>e.theme.font.main.size.m};
  }
`,y=r()(v)`
  &&& {
    border-right: none;
    border-top-right-radius: 0px;
    border-bottom-right-radius: 0px;
  }
`,E=r()(v)`
  && {
    border-top-left-radius: 0px;
    border-bottom-left-radius: 0px;
  }

  & .label {
    ${e=>"no-vote"===e.state?e.theme.font.main.weight.light:e.theme.font.main.weight.bold};
  }
`;function w(e){const{state:t,totalVotes:n,onVote:a,className:r}=e;return s.createElement(b,{className:r},s.createElement(y,{variant:"outlined",disabled:!a,onClick:a,state:t,"data-testid":"vote-button-icon"},s.createElement(g.a,{icon:"keyboard_arrow_up"})),s.createElement(E,{variant:"outlined",disabled:!0,state:t},n))}},1922:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(145),r=n(252),o=n(1),i=n.n(o),s=n(0);const l=i()(a.e.withComponent("a"))`
  display: inline-flex;
  align-items: center;

  padding: ${e=>e.theme.size.pad.xs};
  margin-right: ${e=>e.theme.size.pad.xs};
  border-radius: ${e=>e.theme.size.border.radius.button};
  text-decoration: none;
  cursor: pointer;
  line-height: 1.2;
  white-space: nowrap;

  ${e=>{const{appearance:t}=e;return"light"===t?`\n      color: ${e.theme.colors.pure.white};\n      border: 1px solid ${e.theme.colors.pure.white};\n    `:`\n    color: ${e.theme.colors.kaggle.blueDark};\n    border: 1px solid ${e.theme.colors.kaggle.blueDark};\n  `}}
  &:hover {
    color: ${e=>e.theme.colors.kaggle.blue};
    border: 1px solid ${e=>e.theme.colors.kaggle.blue};
  }
`,c=i.a.div`
  text-align: left;
  max-width: 240px;
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.height.normal};
`,u=i.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.pure.white};
  margin-bottom: ${e=>e.theme.size.pad.xs};
`,d=i.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.misc.grayLight};
  white-space: normal;
`,p=e=>{const{action:t,appearance:n,name:a,className:o}=e,i="string"==typeof t?t:void 0,p="function"==typeof t?t:void 0,m=s.createElement(c,null,s.createElement(u,null,"Maintained"),s.createElement(d,null,"This dataset is maintained by ",a," to ensure the latest data is current and accurate."));return s.createElement(r.Tooltip,{tip:m},s.createElement(l,{href:i,appearance:n,onClick:p,className:o},"Maintained by ",a))}},2061:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n(108),r=n(252),o=n(1),i=n.n(o),s=n(0),l=n(1010);const c=i.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  line-height: 1.4;
  color: ${e=>e.theme.colors.text.medium};
  ${e=>e.theme.font.main.family};
  ${e=>e.theme.font.main.size.l};
`,u=i.a.button`
  position: absolute;
  top: ${e=>e.theme.size.pad.s};
  right: ${e=>e.theme.size.pad.s};
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.s};
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
`,d=i.a.div`
  flex: 0 0 auto;
  padding: ${e=>e.theme.size.pad.m};
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
`,p=i.a.div`
  ${e=>e.theme.font.main.weight.bold};
`,m=i.a.div`
  color: ${e=>e.theme.colors.text.light};
  margin-top: ${e=>e.theme.size.margin.s};

  ${e=>e.theme.font.main.weight.light};
`,h=i.a.ul`
  /* Ensure long lists of files don't overflow container */
  flex: 1 1 0;
  overflow-y: auto;

  list-style-type: none;
  padding: 0;
  margin: 0;
`,f=i.a.li`
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.m};
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.theme.colors.hover.light};
  }
`,g=i()(a.a)`
  color: ${e=>e.theme.colors.text.light};
  margin-right: ${e=>e.theme.size.pad.s};
  vertical-align: middle;
`,b=i.a.div`
  flex: 0 0 auto;
  padding: ${e=>e.theme.size.pad.m};
  display: flex;
  position: relative;
`,v=i.a.input`
  flex-grow: 1;
  border: 1px solid ${e=>e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  color: ${e=>e.theme.colors.text.medium};

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,y=i()(a.a)`
  position: absolute;
  right: 20px;
  top: 19px;
  color: ${e=>e.theme.colors.text.light};
`;class E extends s.Component{constructor(){super(...arguments),this.state={filter:""},this.renderFile=e=>{const{onSelect:t}=this.props,{name:n}=e,a=Object(l.d)(Object(l.b)(n));return s.createElement(f,{key:n,onClick:()=>t(e)},s.createElement(g,{icon:a,size:"inline"}),n)}}render(){const{title:e,description:t,files:n,isOpen:o,onCloseRequest:i}=this.props,{filter:l}=this.state,f=l.toLowerCase(),g=l.length>0?n.filter(e=>e.name.toLowerCase().indexOf(f)>=0):n;return s.createElement(r.Modal,{size:"s",isOpen:o,onCloseRequest:i},s.createElement(c,null,s.createElement(u,{title:"Close",onClick:i},s.createElement(a.a,{icon:"times"})),s.createElement(d,null,s.createElement(p,null,e),t&&s.createElement(m,null,t)),s.createElement(b,null,s.createElement(v,{title:"Filter files",placeholder:"Enter a file name to filter list...",value:l,onChange:e=>this.setState({filter:e.currentTarget.value})}),s.createElement(y,{icon:"search"})),s.createElement(h,null,g.map(e=>this.renderFile(e)))))}}},2316:function(e,t,n){"use strict";var a=n(2),r=n(6),o=n(0);const i=e=>{e.logger.report("datasets","metadata-edit")},s=(e,t)=>{e.logger.report("datasets","metadata-cancel",{changeCount:t})},l=(e,t)=>{e.logger.report("datasets","metadata-save",{changeCount:t})},c=(e,t)=>{e.logger.report("datasets","metadata-redirect",{destination:t})},u=(e,t)=>{e.logger.report("datasets","metadata-redirect-warning",{destination:t})},d=e=>{e.logger.report("datasets","metadata-redirect-back")},p=e=>{e.logger.report("datasets","metadata-feedback")},m=e=>{e.logger.report("datasets","metadata-doi-button-click")},h=e=>{e.logger.report("datasets","metadata-doi-persistence-cancel")},f=e=>{e.logger.report("datasets","metadata-doi-generate")};var g=n(31),b=n(145),v=n(108),y=n(1),E=n.n(y),w=n(1425),x=n(1086);const C="YYYY-MM-DD",k=E()(b.u)`
  color: ${e=>e.theme.material.color.black};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
`,S=E.a.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  height: fit-content;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-row-gap: ${e=>e.theme.material.spacing(1)};
    margin-bottom: ${e=>e.theme.material.spacing(6)};
    padding-bottom: ${e=>e.theme.material.spacing(7)};
    border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};

    :last-child {
      border-bottom: none;
      padding-bottom: ${e=>e.theme.material.spacing(5)};
      margin-bottom: 0;
    }
  }
`,_=E()(b.b)`
  text-align: left;
  color: ${e=>e.theme.material.color.brand.grey[500]};

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin-bottom: ${e=>e.theme.material.spacing(1)};
  }
`,O=E()(_)`
  display: flex;
  align-items: center;
`,T=E.a.div`
  display: grid;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  grid-template-columns: 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  word-break: break-word;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin-bottom: ${e=>e.theme.material.spacing(3)};

    :last-child {
      margin-bottom: 0;
    }
  }
`,j=E()(T)`
  grid-template-columns: 1fr 20px;
`,I=E.a.a`
  color: ${e=>e.theme.material.color.brand.blue[800]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  text-decoration: none;
  width: fit-content;

  :hover {
    color: ${e=>e.theme.material.color.brand.blue[500]};
    cursor: pointer;
  }
`,D=E.a.span`
  color: ${e=>e.theme.material.color.text[70]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  user-select: text;
  word-break: break-word;
`,N=D.withComponent("div"),M=E.a.span`
  color: ${e=>e.theme.material.color.brand.grey[500]};
`,F=E()(b.b)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
  padding-right: ${e=>e.theme.material.spacing(3)};
`,P=E.a.div`
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
`,L=E()(w.a)`
  width: 100%;
  height: 200px;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  box-sizing: border-box;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  resize: none;

  &:focus {
    outline: none;
    border: 1px solid ${e=>e.theme.material.color.brand.grey[400]};
  }
`,A=E()(v.a)`
  height: ${e=>e.theme.material.typography.body2.fontSize};
`,R=E.a.div`
  margin: ${e=>e.theme.material.spacing(5)};
  color: ${e=>e.theme.material.color.brand.grey[400]};
  display: flex;
  justify-content: center;
`,U=E.a.div`
  color: ${e=>e.theme.colors.kaggle.orange};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,z=(e,t,n)=>o.createElement(I,{href:e,key:n},t),$=E()(x.b)`
  align-items: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 20px 12px;
`;function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}function V(e){return g(e).utc().format(C)}var H=n(1657),W=n(874),q=n(122),K=n(252);function G(e){const{bio:t,isEditMode:n,onUpdate:a}=e;return o.createElement(o.Fragment,null,n&&o.createElement(O,null,"Bio"),!n&&o.createElement(_,null,"Bio"),o.createElement(j,null,n&&o.createElement(K.TextInput,{onSave:a,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:t||""}),!n&&o.createElement(D,null,t)))}function Y(e){const{isEditMode:t,isLastAuthorForDoi:n,name:a,onUpdate:r,onRemove:i}=e;return o.createElement(o.Fragment,null,t&&o.createElement(O,null,"Name"),!t&&o.createElement(_,null,"Name"),o.createElement(j,null,t&&o.createElement(o.Fragment,null,!a&&o.createElement(K.Tooltip,{tip:"Name must not be empty",type:"warning"},o.createElement(K.TextInput,{onSave:r,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a})),a&&o.createElement(K.TextInput,{onSave:r,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a}),n&&o.createElement(K.Tooltip,{tip:"There has to be at least one author for Datasets with a DOI attached",type:"warning"},o.createElement(W.a,{emphasis:"low",leadingIcon:"cancel",disabled:!0,onClick:i}," ")),!n&&o.createElement(W.a,{emphasis:"low",leadingIcon:"cancel",disabled:!1,onClick:i}," ")),!t&&o.createElement(D,null,B(a))))}function Z(e){const{authors:t,hasDoi:n,isEditMode:a,onAuthorAdd:r,onUpdateAuthorBio:i,onUpdateAuthorName:s,onAuthorRemove:l}=e,c=n&&1===t.length;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Authors"),a&&o.createElement(F,null,"Credit people who helped created the data.")),o.createElement(S,null,t.map((e,t)=>o.createElement(o.Fragment,{key:e.datasetVersionAuthorId||`index-${t}`},o.createElement(Y,{isLastAuthorForDoi:c,isEditMode:a,name:e.authorName,onUpdate:n=>s(n,t,e.datasetVersionAuthorId),onRemove:()=>l(t,e.datasetVersionAuthorId)}),Q(e.authorBio,a)&&o.createElement(G,{bio:e.authorBio||"",isEditMode:a,onUpdate:n=>i(n,t,e.datasetVersionAuthorId)}))),a&&o.createElement(o.Fragment,null,o.createElement(O,null,"Additional authors"),o.createElement(W.a,{emphasis:"medium",onClick:r},"Add author"))))}const Q=(e,t)=>t||!!e;function X(e){const{isEditMode:t,text:n,onUpdate:a}=e;return t?o.createElement(o.Fragment,null,o.createElement(O,null,"Spatial coverage"),o.createElement(T,null,o.createElement(K.TextInput,{onSave:a,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:n}))):o.createElement(o.Fragment,null,o.createElement(_,null,"Spatial coverage"),o.createElement(T,null,o.createElement(D,null,B(n))))}const J=E.a.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,ee=E()(K.DatePicker)`
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  max-width: ${e=>e.theme.material.spacing(27)};
  padding: ${e=>e.theme.material.spacing(1)};
  vertical-align: middle;

  ::-webkit-datetime-edit {
    font-size: ${e=>e.theme.material.typography.body2.fontSize};
  }
  ::-webkit-clear-button,
  ::-webkit-inner-spin-button {
    display: none;
  }
`;function te(e){const{addPrompt:t,onUpdate:n,value:a}=e;return a?o.createElement(J,null,o.createElement(ee,{value:V(a),onChange:e=>n(V(e.currentTarget.value))}),o.createElement(W.a,{emphasis:"low",leadingIcon:"cancel",disabled:!1,onClick:()=>n(void 0)}," ")):o.createElement(J,null,o.createElement(W.a,{emphasis:"medium",onClick:()=>n(V())},t))}const ne=E.a.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`;function ae(e){const{from:t,to:n,onUpdateFrom:a,onUpdateTo:r}=e;return o.createElement("div",null,o.createElement(ne,null,o.createElement(te,{addPrompt:"Time start",onUpdate:a,value:t}),o.createElement(M,null,"to"),o.createElement(te,{addPrompt:"Time end",onUpdate:r,value:n})),t&&n&&new Date(t)>new Date(n)&&o.createElement(U,null,"The temporal coverage start time is later than the end time."))}const re=E()(M)`
  margin: 0 ${e=>e.theme.material.spacing(2)};

  &:first-child {
    margin-left: 0;
    margin-right: ${e=>e.theme.material.spacing(2)};
  }
`;function oe(e){const{from:t,to:n}=e;return t&&n?o.createElement(D,null,o.createElement(D,null,V(t)),o.createElement(re,null,"to"),o.createElement(D,null,V(n))):t?o.createElement(D,null,o.createElement(re,null,"from "),o.createElement(D,null,V(t))):n?o.createElement(D,null,o.createElement(re,null,"up to "),o.createElement(D,null,V(n))):o.createElement(o.Fragment,null)}function ie(e){const{isEditMode:t,from:n,to:a,onUpdateFrom:r,onUpdateTo:i}=e;return t?o.createElement(o.Fragment,null,o.createElement(O,null,"Temporal coverage"),o.createElement(T,null,o.createElement(ae,{from:n,to:a,onUpdateFrom:r,onUpdateTo:i}))):o.createElement(o.Fragment,null,o.createElement(_,null,"Temporal coverage"),o.createElement(T,null,o.createElement(oe,{from:n,to:a})))}function se(e){const{isEditMode:t,spatialCoverage:n,temporalCoverageFrom:a,temporalCoverageTo:r,onUpdateSpatialCoverage:i,onUpdateTemporalCoverageFrom:s,onUpdateTemporalCoverageTo:l}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Date Coverage"),t&&o.createElement(F,null,"Give users a sense of the temporal and geospatial coverage of your dataset.")),o.createElement(S,null,le(e)&&o.createElement(ie,{isEditMode:t,from:a,to:r,onUpdateFrom:s,onUpdateTo:l}),ce(e)&&o.createElement(X,{isEditMode:t,text:n||"",onUpdate:i})))}const le=e=>{const{isEditMode:t,temporalCoverageFrom:n,temporalCoverageTo:a}=e;return t||!!n||!!a},ce=e=>{const{isEditMode:t,spatialCoverage:n}=e;return t||!!n},ue=E()(v.a).attrs(e=>({color:e.theme.colors.kaggle.red}))`
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function de(e){return o.createElement(R,null,o.createElement(ue,{icon:"times"}),e.message)}var pe=n(988);const me=E()(pe.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function he(e){return o.createElement(R,null,o.createElement(me,null),e.message)}const fe=I.withComponent("div");function ge(e){return o.createElement(fe,{onClick:e.onChangeToSettingsTab},"Change in settings")}var be=n(1003);const ve=E.a.div`
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;
  align-items: center;
  padding-bottom: ${e=>e.theme.material.spacing(3)};

  :last-child {
    padding-bottom: 0;
  }
`,ye=E()(I)`
  padding: 0 ${e=>e.theme.material.spacing(3)};
`;function Ee(e){const{name:t,thumbnailUrl:n,slug:a,userTier:r}=e;return o.createElement(ve,null,o.createElement(be.a,{displayName:t,thumbnailUrl:n,profileUrl:`/${a}`,tier:we(r),size:"large"}),o.createElement(ye,{href:`/${a}`},t))}const we=e=>{switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 6:return"recalc";default:return"novice"}};function xe(e){const{isEditMode:t,collaborators:n,onChangeToSettingsTab:a}=e;return o.createElement(o.Fragment,null,o.createElement(_,null,"Collaborators"),o.createElement(T,null,o.createElement(P,null,0===n.length&&o.createElement(N,null,"No collaborators"),n.length>0&&o.createElement("div",null,n.map((e,t)=>o.createElement(Ee,{name:e.name,slug:e.slug,thumbnailUrl:e.thumbnailUrl,userTier:e.userTier,key:t}))),t&&o.createElement(ge,{onChangeToSettingsTab:a}))))}function Ce(e){const{isEditMode:t,owner:n,onChangeToSettingsTab:a}=e;return o.createElement(o.Fragment,null,o.createElement(_,null,"Dataset owner"),o.createElement(P,null,o.createElement(Ee,{name:n.name,slug:n.slug,thumbnailUrl:n.thumbnailUrl,userTier:n.userTier}),t&&o.createElement(ge,{onChangeToSettingsTab:a})))}function ke(e){const{collaborators:t,isEditMode:n,owner:a,onChangingToSettingsGeneralTab:r,onChangingToSettingsSharingTab:i}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Maintainers"),n&&o.createElement(F,null,"Provide details about who is responsible for maintaining the dataset including being available for questions from users.")),o.createElement(S,null,Se(e)&&o.createElement(Ce,{isEditMode:n,owner:a,onChangeToSettingsTab:r}),_e(e)&&o.createElement(xe,{isEditMode:n,collaborators:t,onChangeToSettingsTab:i})))}const Se=e=>{const{isEditMode:t,owner:n}=e;return t||!!n},_e=e=>{const{collaborators:t,isEditMode:n}=e;return n||t.length>0};var Oe=n(1585),Te=n.n(Oe);function je(e){const{collectionMethods:t,isEditMode:n,onUpdateCollectionMethods:a}=e;return o.createElement(o.Fragment,null,o.createElement(_,null,"Collection methodology"),o.createElement(T,null,!n&&t&&o.createElement(D,null,o.createElement(Te.a,{componentDecorator:z},B(t))),n&&o.createElement(L,{value:t||"",minRows:8,onChange:e=>a(e.target.value)})))}const Ie=E()(v.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,De=E()(I)`
  display: block;
  white-space: normal;
`;function Ne(e){const{kernelReference:t,externalSourceUrl:n}=e;let a,r;return null!==n?(a=n,r=n):null!==t&&(a=t.url?`${t.url}/output`:void 0,r=o.createElement(o.Fragment,null,"From kernel: ",t.title,o.createElement(Ie,{icon:t.isPrivate?"lock":"lock_open",size:"inline"}))),o.createElement(De,{target:"_blank",href:a,rel:"noopener"},r)}function Me(e){const{autoGeneratedSources:t,isEditMode:n,userSpecifiedSources:a,onUpdateUserSpecifiedSources:r}=e;return o.createElement(o.Fragment,null,o.createElement(_,null,"Sources"),o.createElement(T,null,t.map((e,t)=>o.createElement(Ne,Object.assign({},e,{key:t}))),!n&&0===t.length&&a&&o.createElement(N,null,o.createElement(Te.a,{componentDecorator:z},a)),n&&0===t.length&&o.createElement(K.TextInput,{onSave:r,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a||""})))}function Fe(e){return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Provenance"),e.isEditMode&&o.createElement(F,null,"Describe the source of the data (provenance) and any transformations you use to collect it. This helps users understand the context and makes the data reusable.")),o.createElement(S,null,Pe(e)&&o.createElement(Me,{autoGeneratedSources:e.autoGeneratedSources,isEditMode:e.isEditMode,userSpecifiedSources:e.userSpecifiedSources,onUpdateUserSpecifiedSources:e.onUpdateUserSpecifiedSources}),Le(e)&&o.createElement(je,{collectionMethods:e.collectionMethods,isEditMode:e.isEditMode,onUpdateCollectionMethods:e.onUpdateCollectionMethods})))}const Pe=e=>e.isEditMode||e.autoGeneratedSources.length>0||!!e.userSpecifiedSources,Le=e=>e.isEditMode||!!e.collectionMethods;function Ae(e){const{onCancel:t,onRedirect:n}=e;return o.createElement(x.a,{description:" If you close this dialog, all your unsaved changes will be lost. Do you want to continue?",confirmText:"Continue",cancelText:"Cancel",onAction:e=>{"confirm"===e?n():t()}})}function Re(e){return o.createElement(o.Fragment,null,o.createElement(_,null,"Current version"),o.createElement(T,null,o.createElement(D,null,"Version ",e.currentVersionNumber)))}function Ue(e){return o.createElement(o.Fragment,null,o.createElement(_,null,"Date created"),o.createElement(T,null,o.createElement(D,null,g(e.dateCreated).format(C))))}var ze=n(1367),$e=n(3);const Be=E()(ze.a)`
  width: 100%;
`,Ve=E.a.div`
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid;
  border-color: ${$e.d};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: 2px;
`;function He(e){var t,n;const{options:a,selectedValue:r,onUpdate:i}=e,s=B(r),l=a.map(e=>({label:B(e),value:e}));return o.createElement(Ve,null,o.createElement(Be,{value:null!==(n=null===(t=l.find(e=>e.label===s))||void 0===t?void 0:t.label)&&void 0!==n?n:"",onSelect:e=>e&&i(e.toLowerCase()),options:l.map(e=>e.label)}))}function We(e){const{expectedUpdateFrequency:t,isEditMode:n,options:a,onChangeToSettingsTab:r,onUpdate:i}=e,{isAutoUpdatedTypedDataset:s,updateFrequency:l}=t,c=B(l);return o.createElement(o.Fragment,null,o.createElement(O,null,s?"Update frequency":"Expected update frequency"),o.createElement(T,null,o.createElement(P,null,!n&&o.createElement(D,null,c),n&&s&&o.createElement(o.Fragment,null,o.createElement(D,null,c),o.createElement(ge,{onChangeToSettingsTab:r})),n&&!s&&o.createElement(He,{options:a,selectedValue:l,onUpdate:i}))))}function qe(e){return o.createElement(o.Fragment,null,o.createElement(_,null,"Last updated"),o.createElement(T,null,o.createElement(D,null,g(e.lastUpdateDate).format(C))))}function Ke(e){const{currentVersionNumber:t,dateCreated:n,expectedUpdateFrequency:a,updateFrequencyOptions:r,lastUpdateDate:i,isEditMode:s,onChangeToSettingsTab:l,onUpdateExpectedUpdateFrequency:c}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Updates"),s&&o.createElement(F,null,"Let users know how often the dataset is expected to update.")),o.createElement(S,null,o.createElement(We,{expectedUpdateFrequency:a,isEditMode:s,options:r,onChangeToSettingsTab:l,onUpdate:c}),Ge(e)&&o.createElement(qe,{lastUpdateDate:i}),o.createElement(Ue,{dateCreated:n}),Ye(e)&&o.createElement(Re,{currentVersionNumber:t})))}const Ge=e=>!!e.lastUpdateDate,Ye=e=>!!e.currentVersionNumber;function Ze(){return o.createElement(x.c,null,o.createElement($,null,o.createElement(pe.a,{size:"large"}),o.createElement("div",null,"Generating DOI...")))}const Qe=E()(W.a)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,Xe=E.a.div`
  color: ${e=>e.theme.material.color.status.success[900]};
`,Je=E()(v.a)`
  color: ${e=>e.theme.material.color.status.success[900]};
  height: ${e=>e.theme.material.typography.display2.fontSize};
`;function et(e){const{doi:t,onClose:n}=e;return o.createElement(x.c,null,o.createElement($,null,o.createElement("div",null,o.createElement(Xe,null,"Success"),o.createElement(Je,{icon:"check_circle_outline",size:"large","data-test":"icon"}),o.createElement("div",null,"You generated DOI:",o.createElement("br",null),o.createElement(N,{"data-test":"doi-text"},t))),o.createElement(Qe,{emphasis:"medium",onClick:n},"Done")))}function tt(e){const{onCancel:t,onConfirm:n}=e;return o.createElement(x.a,{description:o.createElement("div",null,o.createElement("div",{"data-test":"description"},"By generating a DOI, you agree to make your dataset persistently available in this location. You also agree to Kaggle sending metadata about the dataset (including your name) to ",o.createElement(I,{href:"https://datacite.org"},"DataCite"),", a non-profit data citation tool, to generate the identifier."),o.createElement("br",null),o.createElement("div",{"data-test":"support-message"},"If you need to delete your dataset, you will need to contact support@kaggle.com")),confirmText:"Agree",cancelText:"Cancel",onAction:e=>{"confirm"===e?n():t()}})}var nt=n(1701),at=n(1700),rt=n(128),ot=n(144);const it=(e,t,n)=>{e.legacyClients.analyticsClient.logger.report("datasets",`citation-${t}`,n)};var st=n(1473);const lt=E.a.div`
  display: flex;
  flex-direction: column;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  padding: ${e=>e.theme.material.spacing(2)} 0;
  width: 100%;
`,ct=E()(b.b)`
  font-family: ${e=>e.theme.material.typography.code.fontFamily} !important;
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,ut=E()(b.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,dt=E()(b.b.withComponent("div"))`
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,pt=E()(pe.a)`
  font-size: ${e=>e.theme.material.typography.fontSize[14]} !important;
  margin-right: ${e=>e.theme.material.spacing(3)};
`;function mt(e){const{format:t,citation:n,recentlyCopied:a,onGetCitation:r,onSetFormat:i,onCopy:s}=e;return o.useEffect(()=>{r()},[t]),"loading"===t?o.createElement(lt,null,o.createElement(dt,{"data-testid":"citation-loading"},o.createElement(pt,{size:"xsmall"}),"Loading formats...")):"error"===t?o.createElement(lt,null,o.createElement(ut,{"data-testid":"citation-error"},"Unfortunately, we couldn't load the list of formats. Please try again.")):o.createElement(lt,null,o.createElement(st.a,{value:t.selectedFormat,onChange:e=>{i(e.target.value)}},t.formats.map(e=>o.createElement("option",{key:e,value:e,"aria-selected":e===t.selectedFormat},e))),ht(n),"loading"===n||"error"===n?o.createElement(W.a,{disabled:"loading"===n,onClick:r},"Generate Citation"):o.createElement(W.a,{disabled:a,onClick:s},a?"Copied":"Copy citation"))}const ht=e=>"loading"===e?o.createElement(dt,{"data-testid":"citation-loading"},o.createElement(pt,{size:"xsmall"}),"Loading..."):"error"===e?o.createElement(ut,{"data-testid":"citation-error"},"Unfortunately, we couldn't generate your citation. Please try again."):o.createElement(ct,{"data-testid":"citation-citation"},e.citation),ft=E()(ot.a)`
  z-index: 100 !important;
`;function gt(e){const{doi:t,isOpen:n,bothClients:r,onGetCitation:i,onGetFormats:s,onCloseRequest:l}=e,[c,u]=o.useState("loading"),[d,p]=o.useState("loading"),[m,h]=o.useState(!1);return o.useEffect(()=>{s().then(e=>u({formats:e,selectedFormat:"bibtex"})).catch(()=>{u("error"),it(r,"error-format")})},[t]),o.createElement(ft,{open:n,onClose:()=>l()},o.createElement(ot.d,null,"Select Citation Format"),o.createElement(ot.c,null,o.createElement(mt,{citation:d,format:c,recentlyCopied:m,onGetCitation:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("loading"===c||"error"===c)p("error");else{p("loading");try{const e=yield i(t,c.selectedFormat);p({citation:e})}catch(e){p("error"),it(r,"error-citation")}}})),onSetFormat:e=>{"loading"===c||"error"===c?p("error"):(p("loading"),u({formats:c.formats,selectedFormat:e}),h(!1),it(r,"change-format",{format:e}))},onCopy:()=>{"loading"!==d&&"error"!==d&&(h(!0),Object(rt.b)(d.citation),setTimeout(()=>h(!1),1e3),it(r,"copy-modal"))}})))}const bt=E.a.div`
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  flex-grow: 1;
`,vt=E()(b.b.withComponent("div"))`
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,yt=E()(pe.a)`
  font-size: ${e=>e.theme.material.typography.fontSize[14]} !important;
  margin-right: ${e=>e.theme.material.spacing(3)};
`,Et=E()(b.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,wt=E()(b.b)`
  font-family: ${e=>e.theme.material.typography.code.fontFamily} !important;
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,xt=E.a.div`
  border-top: 1px solid ${e=>e.theme.colors.border};
  display: flex;
`,Ct=E()(W.a)`
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`;function kt(e){const{state:t,onChangeFormat:n,onCopyCitation:a}=e;return"loading"===t?o.createElement(bt,null,o.createElement(vt,{"data-testid":"citation-pane-loading"},o.createElement(yt,{size:"xsmall"}),"Loading...")):"error"===t?o.createElement(bt,null,o.createElement(Et,{"data-testid":"citation-pane-error"},"Unfortunately, we couldn't load your citation.")):o.createElement(bt,null,o.createElement(wt,{"data-testid":"citation-pane-citation"},t.citation),o.createElement(xt,null,o.createElement(Ct,{emphasis:"low",onClick:n},"Change format"),o.createElement(Ct,{emphasis:"low",onClick:a},"Copy citation")))}function St(e){const{doi:t,defaultFormat:n,bothClients:a,onGetCitation:r,onGetFormats:i}=e,[s,l]=o.useState(!1),[c,u]=o.useState("loading");return o.useEffect(()=>{r(t,n).then(e=>u({citation:e})).catch(()=>{u("error"),it(a,"error-citation")})},[t,n]),o.createElement(o.Fragment,null,o.createElement(kt,{state:c,onCopyCitation:()=>{"loading"!==c&&"error"!==c&&(Object(rt.b)(c.citation),it(a,"copy-pane"))},onChangeFormat:()=>{l(!0),it(a,"modal-open")}}),s&&o.createElement(gt,{doi:t,isOpen:s,bothClients:a,onGetCitation:r,onGetFormats:i,onCloseRequest:()=>{l(!1),it(a,"modal-close")}}))}function _t(e){const{doi:t}=e;return o.createElement(o.Fragment,null,o.createElement(_,null,"Citation"),o.createElement(T,null,o.createElement(r.b.Consumer,null,e=>o.createElement(St,{doi:t,defaultFormat:"ieee",bothClients:e,onGetFormats:at.a,onGetCitation:nt.a}))))}E.a.div`
  display: flex;
  align-items: stretch;

  height: ${"24px"};
  padding: 0;

  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.content.borderLight};
  border-radius: ${e=>e.theme.size.border.radius.button};
`,E()(K.Tooltip)`
  display: flex;
  align-items: center;
`;const Ot=E()(v.a).attrs(e=>({color:e.theme.colors.kaggle.blueDark}))`
  padding: 0 ${e=>e.theme.size.pad.s};
  ${e=>e.theme.font.main.size.s};
`,Tt=(E()(v.a).attrs(e=>({color:e.theme.colors.kaggle.blueDark}))`
  padding: 0 ${e=>e.theme.size.pad.xs};
  ${e=>e.theme.font.main.size.s};
`,E()(v.a).attrs(e=>({color:e.theme.colors.kaggle.green}))`
  padding: 0 ${e=>e.theme.size.pad.xs};
  ${e=>e.theme.font.main.size.s};
`,E()(D)`
  color: ${e=>e.theme.material.color.status.caution[500]};
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  font-weight: ${e=>e.theme.material.typography.caption.fontWeight};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
`),jt=E()(Ot)`
  vertical-align: initial;
`;function It(e){const{hasAuthor:t,isEditMode:n,isPrivate:a,onGenerateDoiButtonClicked:r,doi:i}=e,s=t&&!a,l=function(e,t){return!e&&t?"You must first save an author information and make your dataset public before generating a DOI":e?t?"You must first make your dataset public before generating a DOI":"":"You must first save an author information before generating a DOI"}(t,a);return o.createElement(o.Fragment,null,n&&!i&&o.createElement(O,null,"DOI",Dt()),i&&o.createElement(_,null,"DOI",Dt()),o.createElement(T,null,i&&o.createElement(D,{"data-test":"doi-text"},i),n&&!i&&o.createElement("div",null,o.createElement(W.a,{emphasis:"medium",onClick:r,disabled:!s},o.createElement("span",{"data-test":"generate-doi"},"Generate DOI")),l&&o.createElement(Tt,{"data-test":"warning"},l))))}const Dt=()=>o.createElement(I,{href:"https://en.wikipedia.org/wiki/Digital_object_identifier",target:"_blank",rel:"noopener"},o.createElement(jt,{icon:"info",size:"inline"}));var Nt=n(885),Mt=n(884),Ft=n(260);const Pt=E.a.div`
  margin-bottom: 24px;
`,Lt=E.a.div`
  height: 48px;
  display: flex;
  align-items: center;
  padding: 0 8px;
  justify-content: space-between;
  border: 1px solid #dadce0;
  border-radius: 4px;

  &:focus {
    outline: none;
  }
`;function At(e){const{isDisabled:t,licenseGroups:n,licenseId:a,onLicenseIdChange:r}=e,[i,s]=o.useState(!1),l=n.filter(e=>Array.isArray(e.licenses)&&e.licenses.length>0).map(e=>({label:e.name,options:e.licenses.map(e=>({id:e.id,name:e.name}))})),c=l.reduce((e,t)=>[...e,...t.options],[]).find(e=>e.id===a);return o.createElement(Nt.a,null,o.createElement(Mt.a,{open:i,anchorCorner:"bottomLeft",hoistToBody:!0,onClose:()=>s(!1),style:{zIndex:1001,maxWidth:"431px",maxHeight:"280px"}},l.map((e,t)=>o.createElement(Pt,{key:t},o.createElement(b.e,{style:{paddingLeft:"8px"}},e.label),e.options.map(e=>o.createElement(Ft.a,{key:`LicenseSelect__${e.id}`,onClick:()=>r(e.id)},e.name))))),o.createElement(Lt,{tabIndex:0,onClick:()=>!t&&s(!0)},o.createElement(b.r,{emphasis:"high"},(null==c?void 0:c.name)||"Unknown"),o.createElement(v.a,{icon:"arrow_drop_down",size:"small"})))}function Rt(e){const{licenseGroups:t,licenseId:n,isEditMode:a,onUpdateLicenseId:r}=e,i=t.map(e=>e.licenses).reduce((e,t)=>[...e,...t],[]).filter(e=>e.id===n)[0];return o.createElement(o.Fragment,null,a&&o.createElement(O,null,"License"," ",o.createElement(I,{href:"https://www.kaggle.com/docs/datasets#common-licenses",target:"_blank",rel:"noopener"},o.createElement(Ot,{icon:"info",size:"inline",style:{verticalAlign:"middle"}}))),!a&&o.createElement(_,null,"License"),o.createElement(T,null,!a&&i&&i.url&&o.createElement(I,{href:i.url},i.name,o.createElement(Ot,{icon:"info",size:"inline"})),!a&&i&&!i.url&&o.createElement(D,null,i.name),a&&o.createElement("div",null,o.createElement(At,{isDisabled:!1,licenseGroups:t,licenseId:n,onLicenseIdChange:r}))))}const Ut=E()(A)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function zt(e){const{hasHashLink:t,isEditMode:n,isPrivate:a,onChangeToSettingsTab:r}=e,i=a?t?"Link":"Private":"Public",s="Public"===i?"visibility":"Link"===i?"link":"visibility_off";return o.createElement(o.Fragment,null,o.createElement(_,null,"Visibility"),o.createElement(T,null,o.createElement(P,null,o.createElement("span",null,o.createElement(Ut,{icon:s,size:"inline"}),o.createElement(M,null,i)),n&&a&&o.createElement(ge,{onChangeToSettingsTab:r}))))}function $t(e){const{doi:t,hasAuthor:n,hasHashLink:a,licenseGroups:r,licenseId:i,isEditMode:s,isPrivate:l,onChangingToSettingsTab:c,onUpdateLicenseId:u,onGenerateDoiButtonClicked:d}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Usage Information"),s&&o.createElement(F,null,"How do you want other people to use and cite your dataset? Proper usage information will encourage appropriate collaboration.")),o.createElement(S,null,o.createElement(Rt,{licenseGroups:r,licenseId:i,isEditMode:s,onUpdateLicenseId:u}),Bt(e)&&o.createElement(It,{hasAuthor:n,isEditMode:s,isPrivate:l,onGenerateDoiButtonClicked:d,doi:t}),t&&o.createElement(_t,{doi:t}),o.createElement(zt,{hasHashLink:a,isEditMode:s,isPrivate:l,onChangeToSettingsTab:c})))}const Bt=e=>{const{isEditMode:t,doi:n}=e;return t||!!n},Vt=E.a.div`
  display: grid;
  grid-template-columns: 1fr 3fr;
  grid-row-gap: ${e=>e.theme.material.spacing(7)};
  grid-column-gap: ${e=>e.theme.material.spacing(6)};
  margin: ${e=>e.theme.material.spacing(5)};
  user-select: text;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-gap: ${e=>e.theme.material.spacing(2)};
  }
`,Ht=E()(b.u)`
  align-self: center;
  color: ${e=>e.theme.material.color.text[40]};
  flex: 1 1 auto;
  text-align: left;
`;function Wt(e){const{model:t,onCancelButtonClick:n,onEditButtonClick:a,onFeedbackButtonClick:r,onSaveButtonClick:i}=e,s="success"===t.type&&t.permission.canEdit&&t.permission.editStatus.isEditing,l="success"===t.type&&t.permission.canEdit&&t.permission.editStatus.isEditing?t.permission.editStatus.dirtyMetadataCount:0,c="success"===t.type&&t.permission.canEdit&&!t.permission.editStatus.isEditing;return o.createElement(H.a,{header:o.createElement(o.Fragment,null,o.createElement(Ht,null,"Metadata"),o.createElement(W.a,{style:{marginRight:"8px"},href:"/product-feedback/85128",onClick:r,emphasis:"medium",leadingIcon:"forum",target:"_blank"},"Feedback"),c&&o.createElement(W.a,{onClick:a,leadingIcon:"edit",emphasis:"medium"},"Edit")),footer:s&&o.createElement(o.Fragment,null,o.createElement(W.a,{onClick:n,emphasis:"low"},"Cancel"),o.createElement(W.a,{onClick:i,emphasis:"medium",disabled:0===l},"Save ",q(" change",l||0)))},qt(e))}const qt=e=>{const{model:t,onConfirmSettingsRedirect:n,onCancelOverlayModal:a,onChangeToSettingsGeneralTab:r,onChangeToSettingsSharingTab:i,onGenerateDoiButtonClicked:s,onDoiPersistenceAccept:l,onUpdateCollectionMethods:c,onUpdateAuthorAdd:u,onUpdateAuthorBio:d,onUpdateAuthorName:p,onUpdateAuthorRemove:m,onUpdateExpectedUpdateFrequency:h,onUpdateLicenseId:f,onUpdateSpatialCoverage:g,onUpdateTemporalCoverageFrom:b,onUpdateTemporalCoverageTo:v,onUpdateUserSpecifiedSources:y,overlayModal:E}=e;switch(t.type){case"success":const w=t.permission.canEdit&&t.permission.editStatus.isEditing,{hasAuthorSaved:x,updateFrequencyOptions:C}=t,{autoGeneratedSources:k,collaboratorList:S,collectionMethods:_,currentVersionNumber:O,dataCoverageAttribute:T,datasetCreationTimestamp:j,datasetVersionAuthors:I,doi:D,expectedUpdateFrequency:N,hasHashLink:M,isPrivate:F,lastDataUpdatedTimestamp:P,licenseGroups:L,licenseId:A,userSpecifiedSources:R}=t.payload;return o.createElement(o.Fragment,null,o.createElement(Vt,null,o.createElement($t,{doi:D||void 0,hasAuthor:x,hasHashLink:M,licenseGroups:L,licenseId:A,isEditMode:w,isPrivate:F,onChangingToSettingsTab:i,onGenerateDoiButtonClicked:s,onUpdateLicenseId:f}),Zt(e.model)&&o.createElement(Fe,{autoGeneratedSources:k,collectionMethods:_||void 0,isEditMode:w,userSpecifiedSources:R||void 0,onUpdateCollectionMethods:c,onUpdateUserSpecifiedSources:y}),Gt(e.model)&&o.createElement(ke,{collaborators:S.collaborators,isEditMode:w,owner:S.owner,onChangingToSettingsGeneralTab:r,onChangingToSettingsSharingTab:i}),Yt(e.model)&&o.createElement(Z,{authors:I,hasDoi:!!D,isEditMode:w,onAuthorAdd:u,onAuthorRemove:m,onUpdateAuthorBio:d,onUpdateAuthorName:p}),o.createElement(Ke,{currentVersionNumber:O||void 0,dateCreated:j,expectedUpdateFrequency:N,updateFrequencyOptions:C,isEditMode:w,lastUpdateDate:P||void 0,onChangeToSettingsTab:r,onUpdateExpectedUpdateFrequency:h}),Kt(e.model)&&o.createElement(se,{isEditMode:w,spatialCoverage:T.spatialCoverage||void 0,temporalCoverageFrom:T.temporalCoverageFrom||void 0,temporalCoverageTo:T.temporalCoverageTo||void 0,onUpdateSpatialCoverage:g,onUpdateTemporalCoverageFrom:b,onUpdateTemporalCoverageTo:v})),("GeneralSettingsRedirect"===E||"SharingSettingsRedirect"===E)&&o.createElement(Ae,{onCancel:a,onRedirect:n}),"DoiPersistenceWarning"===E&&o.createElement(tt,{onCancel:a,onConfirm:l}),"DoiGenerationSpinner"===E&&o.createElement(Ze,null),"DoiGenerationSuccess"===E&&D&&o.createElement(et,{onClose:a,doi:D}));case"loading":return o.createElement(he,{message:"Loading data..."});case"error":default:return o.createElement(de,{message:t.message})}},Kt=e=>{if("success"===e.type){const{spatialCoverage:t,temporalCoverageFrom:n,temporalCoverageTo:a}=e.payload.dataCoverageAttribute;return e.permission.canEdit&&e.permission.editStatus.isEditing||!!t||!!n||!!a}return!1},Gt=e=>{if("success"===e.type){const{collaboratorList:t}=Object.assign({},e.payload),{owner:n,collaborators:a}=t;return e.permission.canEdit&&e.permission.editStatus.isEditing||!!n||a.length>0}return!1},Yt=e=>{if("success"===e.type){const{datasetVersionAuthors:t}=Object.assign({},e.payload);return e.permission.canEdit&&e.permission.editStatus.isEditing||t.length>0}return!1},Zt=e=>{if("success"===e.type){const{autoGeneratedSources:t,collectionMethods:n,userSpecifiedSources:a}=Object.assign({},e.payload);return e.permission.canEdit&&e.permission.editStatus.isEditing||t.length>0||!!a||!!n}return!1};n.d(t,"a",(function(){return Xt}));const Qt=["not specified","never","annually","quarterly","monthly","weekly","daily","hourly"];class Xt extends o.Component{constructor(){super(...arguments),this.state={isEditing:!1,getRequest:{type:"loading"},updateRequest:{type:"success"}},this.loadDatasetMetadata=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetHashLink:e}=this.props,{datasetsClient:t}=this.props.bothClients.clients;try{const n=yield t.getDatasetMetadata({datasetVersionId:this.props.datasetVersionId,hashLink:void 0===e?null:e});this.setState({getRequest:{type:"success",payload:n,lastSavedPayload:n}})}catch(e){if(e instanceof r.a){const t=e;this.updateStateWithGetRequestError(t.message)}else this.updateStateWithGetRequestError("Failed to load dataset metadata.")}})),this.mapGetRequestToViewModel=()=>{switch(this.state.getRequest.type){case"success":const{payload:e,lastSavedPayload:t}=this.state.getRequest;return{type:"success",hasAuthorSaved:t.datasetVersionAuthors.length>0,payload:e,permission:this.generateEditPermission(),updateFrequencyOptions:this.generateExpectedUpdateFrequencyOptions()};case"loading":return{type:"loading"};case"error":default:return{type:"error",message:this.state.getRequest.message}}},this.generateEditPermission=()=>{const{canEditDataset:e}=this.props,{isEditing:t,getRequest:n}=this.state;return"success"===n.type&&n.payload.isEditable?e&&t?{canEdit:!0,editStatus:{isEditing:!0,dirtyMetadataCount:this.dirtyMetadataCount()}}:e?{canEdit:!0,editStatus:{isEditing:!1}}:{canEdit:!1}:{canEdit:!1}},this.generateExpectedUpdateFrequencyOptions=()=>{let e=[...Qt];const{getRequest:t}=this.state;if("success"===t.type){const n=t.lastSavedPayload.expectedUpdateFrequency.updateFrequency,a=t.payload.expectedUpdateFrequency.updateFrequency;e.some(e=>e===n)||(e=[n,...e]),e.some(e=>e===a)||(e=[a,...e])}return e},this.onRemoveOverlayClick=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients,{overlayModal:t}=this.state;"GeneralSettingsRedirect"===t||"SharingSettingsRedirect"===t?d(e):"DoiPersistenceWarning"===t&&h(e),this.setState({overlayModal:void 0})},this.onConfirmSettingsRedirect=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients,{overlayModal:t}=this.state;if("GeneralSettingsRedirect"===t||"SharingSettingsRedirect"===t)switch(t){case"SharingSettingsRedirect":return c(e,"Sharing"),void this.props.onChangeToSettingsSharingTab();case"GeneralSettingsRedirect":return c(e,"General"),void this.props.onChangeToSettingsGeneralTab()}},this.onChangeToSettings=e=>{const{analyticsClient:t}=this.props.bothClients.legacyClients;if(0===this.dirtyMetadataCount())switch(c(t,e),e){case"Sharing":return void this.props.onChangeToSettingsSharingTab();case"General":default:return void this.props.onChangeToSettingsGeneralTab()}else u(t,e),this.setState({overlayModal:"Sharing"===e?"SharingSettingsRedirect":"GeneralSettingsRedirect"})},this.onSaveButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients,{datasetsClient:t}=this.props.bothClients.clients,{collectionMethods:n,dataCoverageAttribute:a,datasetVersionAuthors:o,doi:i,expectedUpdateFrequency:s,licenseId:c,userSpecifiedSources:u}=this.state.getRequest.payload,d=s.isAutoUpdatedTypedDataset?null:s.updateFrequency;try{l(e,this.dirtyMetadataCount());const r={datasetVersionId:this.props.datasetVersionId,collectionMethods:n,dataCoverageAttribute:a,datasetVersionAuthors:o,doi:i,expectedUpdateFrequency:d,licenseId:c,userSpecifiedSources:u},s=yield t.updateDatasetMetadata(r);this.setState((e,t)=>{if("success"===e.getRequest.type&&s&&null!==s){const{payload:n}=e.getRequest;return t.onSave(n.licenseId,s),t.onShowPageMessage("Successfully saved dataset metadata.",!0),Object.assign(Object.assign({},e),{isEditing:!1,getRequest:Object.assign(Object.assign({},e.getRequest),{lastSavedPayload:n}),updateRequest:{type:"success"}})}return this.updateStateWithUpdateRequestError(e,t,"Failed to save dataset metadata.")})}catch(e){if(e instanceof r.a){const t=e;this.setState((e,n)=>this.updateStateWithUpdateRequestError(e,n,t.message))}}})),this.onEditButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:e}=this.props.bothClients.legacyClients;i(e),this.setState({isEditing:!0})})),this.onCancelButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:e}=this.props.bothClients.legacyClients;s(e,this.dirtyMetadataCount()),this.setState(e=>"success"===e.getRequest.type?Object.assign(Object.assign({},e),{getRequest:Object.assign(Object.assign({},e.getRequest),{payload:e.getRequest.lastSavedPayload}),isEditing:!1}):e)})),this.onFeedbackButtonClick=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients;p(e)},this.dirtyMetadataCount=()=>{let e=0;if("success"===this.state.getRequest.type){const{payload:t,lastSavedPayload:n}=this.state.getRequest,{datasetVersionAuthors:a,dataCoverageAttribute:r}=t,{datasetVersionAuthors:o,dataCoverageAttribute:i}=n,{spatialCoverage:s,temporalCoverageFrom:l,temporalCoverageTo:c}=i,{spatialCoverage:u,temporalCoverageFrom:d,temporalCoverageTo:p}=r,m=function(e,t){const n=e.filter(e=>e.authorBio||e.authorName),a=t.filter(e=>e.authorBio||e.authorName),r={authorName:"",authorBio:null,datasetVersionAuthorId:null};n[n.length]=r,a[a.length]=r;const o=n.length,i=a.length,s=[];for(let e=0;e<=i;e++){s[e]=[];for(let t=0;t<=o;t++)s[e][t]=0}let l=0;for(let e=1;e<=i;e++){const t=a[e-1];l+=(t.authorBio?1:0)+(t.authorName?1:0),s[e][0]=l}let c=0;for(let e=1;e<=o;e++){const t=n[e-1];c+=(t.authorBio?1:0)+(t.authorName?1:0),s[0][e]=c}for(let e=1;e<=i;e++)for(let t=1;t<=o;t++){const r=n[t-1],o=a[e-1],i=o.authorBio&&r.authorBio&&o.authorBio===r.authorBio||!o.authorBio&&!r.authorBio,l=o.authorName&&r.authorName&&o.authorName===r.authorName||!o.authorName&&!r.authorName;s[e][t]=Math.min(s[e-1][t-1],s[e][t-1],s[e-1][t])+(i?0:1)+(l?0:1)}return s[i][o]}(a,o),h=t.collectionMethods!==n.collectionMethods,f=t.doi!==n.doi,g=t.expectedUpdateFrequency!==n.expectedUpdateFrequency,b=t.licenseId!==n.licenseId,v=u!==s,y=!(d===l||d&&l&&V(d)===V(l)),E=!(p===c||p&&c&&V(p)===V(c));e+=m,e+=h?1:0,e+=f?1:0,e+=g?1:0,e+=b?1:0,e+=v?1:0,e+=y||E?1:0,e+=t.userSpecifiedSources!==n.userSpecifiedSources?1:0}return e},this.onGenerateDoiButtonClicked=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients;m(e),this.setState({overlayModal:"DoiPersistenceWarning"})})),this.onGenerateDoi=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients,{datasetsClient:t}=this.props.bothClients.clients;f(e);try{const e={datasetVersionId:this.props.datasetVersionId,replaceExistingDoi:!1,addDatasetPersistenceApproval:!0};this.setState({overlayModal:"DoiGenerationSpinner"});const n=yield t.createDoi(e);this.setState((e,t)=>"success"===e.getRequest.type&&n&&!n.errorMessage&&null!==n.doi?(t.onShowPageMessage("Successfully created and saved doi.",!0),Object.assign(Object.assign({},e),{getRequest:Object.assign(Object.assign({},e.getRequest),{payload:Object.assign(Object.assign({},e.getRequest.payload),{doi:n.doi}),lastSavedPayload:Object.assign(Object.assign({},e.getRequest.lastSavedPayload),{doi:n.doi})}),overlayModal:"DoiGenerationSuccess"})):(this.setState({overlayModal:void 0}),this.updateStateWithUpdateRequestError(e,t,"Failed to generate doi.")))}catch(e){this.setState({overlayModal:void 0}),this.setState((e,t)=>this.updateStateWithUpdateRequestError(e,t,"Failed to generate doi."))}})),this.onUpdateUserSpecifiedSources=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{userSpecifiedSources:e||null}),[])},this.onUpdateCollectionMethods=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{collectionMethods:e||null}),[])},this.onUpdateAuthorAdd=()=>{this.checkAndUpdate(e=>Object.assign(Object.assign({},e),{datasetVersionAuthors:[...e.datasetVersionAuthors,{datasetVersionAuthorId:null,authorName:"",authorBio:null}]}),[])},this.onUpdateAuthorBio=(e,t,n)=>{this.checkAndUpdate(n=>{const a=Object.assign(Object.assign({},n),{datasetVersionAuthors:n.datasetVersionAuthors.map((e,t)=>Object.assign({},e))});return a.datasetVersionAuthors[t].authorBio=e||null,a},[e=>this.checkSpecifiedDisplayIndexMatchAuthorId(e.datasetVersionAuthors,n,t)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.onUpdateAuthorName=(e,t,n)=>{this.checkAndUpdate(n=>{const a=Object.assign(Object.assign({},n),{datasetVersionAuthors:n.datasetVersionAuthors.map((e,t)=>Object.assign({},e))});return a.datasetVersionAuthors[t].authorName=e,a},[e=>this.checkSpecifiedDisplayIndexMatchAuthorId(e.datasetVersionAuthors,n,t)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.onUpdateAuthorRemove=(e,t)=>{this.checkAndUpdate(t=>{const n=Object.assign(Object.assign({},t),{datasetVersionAuthors:[...t.datasetVersionAuthors]});return n.datasetVersionAuthors.splice(e,1),n},[n=>this.checkSpecifiedDisplayIndexMatchAuthorId(n.datasetVersionAuthors,t,e)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.checkSpecifiedDisplayIndexMatchAuthorId=(e,t,n)=>n<e.length&&e[n].datasetVersionAuthorId===t,this.onUpdateExpectedUpdateFrequency=e=>{this.checkAndUpdate(t=>{return Object.assign(Object.assign({},t),{expectedUpdateFrequency:Object.assign(Object.assign({},t.expectedUpdateFrequency),{updateFrequency:e.toLowerCase()})})},[t=>e?void 0:"You must choose from an existing update frequency options or specify a non-empty option"])},this.onUpdateLicenseId=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{licenseId:e}),[t=>{return t.licenseGroups.map(e=>e.licenses).reduce((e,t)=>[...e,...t],[]).map(e=>e.id).includes(e)?void 0:"Trying to update to an invalid license option."}])},this.onUpdateSpatialCoverage=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{spatialCoverage:e||null})}),[])},this.onUpdateTemporalCoverageFrom=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{temporalCoverageFrom:e||null})}),[])},this.onUpdateTemporalCoverageTo=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{temporalCoverageTo:e||null})}),[])},this.checkAndUpdate=(e,t)=>{this.setState((n,a)=>{if("success"!==n.getRequest.type)return this.updateStateWithUpdateRequestError(n,a,"Trying to update metadata while data is not yet loaded.");for(const e of t){const t=e(n.getRequest.payload);if(t)return this.updateStateWithUpdateRequestError(n,a,t)}const r=e(n.getRequest.payload);return Object.assign(Object.assign({},n),{getRequest:Object.assign(Object.assign({},n.getRequest),{payload:r})})})},this.updateStateWithUpdateRequestError=(e,t,n)=>(t.onShowPageMessage(n,!1),Object.assign(Object.assign({},e),{updateRequest:{type:"error",message:n},overlayModal:void 0}))}componentDidMount(){this.loadDatasetMetadata()}render(){return o.createElement(Wt,{model:this.mapGetRequestToViewModel(),onCancelButtonClick:this.onCancelButtonClick,onCancelOverlayModal:this.onRemoveOverlayClick,onConfirmSettingsRedirect:this.onConfirmSettingsRedirect,onEditButtonClick:this.onEditButtonClick,onFeedbackButtonClick:this.onFeedbackButtonClick,onSaveButtonClick:this.onSaveButtonClick,onChangeToSettingsGeneralTab:()=>this.onChangeToSettings("General"),onChangeToSettingsSharingTab:()=>this.onChangeToSettings("Sharing"),onDoiPersistenceAccept:this.onGenerateDoi,onGenerateDoiButtonClicked:this.onGenerateDoiButtonClicked,onUpdateCollectionMethods:this.onUpdateCollectionMethods,onUpdateAuthorAdd:this.onUpdateAuthorAdd,onUpdateAuthorBio:this.onUpdateAuthorBio,onUpdateAuthorName:this.onUpdateAuthorName,onUpdateAuthorRemove:this.onUpdateAuthorRemove,onUpdateExpectedUpdateFrequency:this.onUpdateExpectedUpdateFrequency,onUpdateLicenseId:this.onUpdateLicenseId,onUpdateSpatialCoverage:this.onUpdateSpatialCoverage,onUpdateTemporalCoverageFrom:this.onUpdateTemporalCoverageFrom,onUpdateTemporalCoverageTo:this.onUpdateTemporalCoverageTo,onUpdateUserSpecifiedSources:this.onUpdateUserSpecifiedSources,overlayModal:this.state.overlayModal})}updateStateWithGetRequestError(e){this.props.onShowPageMessage(e,!1),this.setState({getRequest:{type:"error",message:e}})}}},2317:function(e,t,n){"use strict";var a=n(2),r=n(1655),o=n(6),i=n(0),s=n(145),l=n(1),c=n.n(l);const u={scale:1,tight:!1,variant:"secondary",disabled:!1},d=Object.keys(u);var p=n(352),m=n(108);const h=c.a.div`
  align-items: center;
  color: rgba(0, 0, 0, 0.7);
  cursor: pointer;
  display: flex;
  font-size: 1rem;
  height: 2.5rem;
  width: 100%;
  padding-left: 0.5em;
  svg {
    font-size: 1.2rem;
    margin-right: 0.3rem;
  }
  &:hover {
    background: #f8f8f8;
  }
`;class f extends i.Component{constructor(){super(...arguments),this.onToggle=()=>{this.props.onToggle(!this.props.isOn)}}render(){const{isOn:e,hideOnOffText:t}=this.props,n=function(e){const t=e.groupProps||{};return d.reduce((t,n)=>{const a=e[n];return void 0===a?t:Object.assign(Object.assign({},t),{[n]:a})},Object.assign(Object.assign({},u),t))}(this.props);return i.createElement(h,Object.assign({role:"switch","aria-checked":e,isOn:e,disabled:n.disabled,title:n.disabled?"Inactive toggle":`Toggle ${e?"off":"on"}`,onClick:n.disabled?void 0:this.onToggle,"data-testid":"toggle-button"},n,Object(p.a)(this.props)),i.createElement(m.a,{icon:e?"toggle_on":"toggle_off",size:"medium"}),i.createElement("span",null,this.props.description?this.props.description+(!0!==t?e?" on":" off":""):!0!==t?e?"On":"Off":""))}}var g=n(1489);const b=c.a.div``,v=c.a.div`
  align-items: center;
  column-gap: 10px;
  display: grid;
  grid-template-columns: auto auto;
  width: fit-content;
`,y=c()(s.b)`
  align-self: center;
`,E=c.a.div``,w=c()(s.e)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  display: inline;
`,x=c()(s.v)`
  display: inline;
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
`,C=c()(g.a)`
  width: 465px;
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`;function k(e){const{hashLink:t,onCopy:n,onLearnMore:a,onToggle:r}=e;return i.createElement(b,null,i.createElement(v,null,i.createElement(y,null,"Link Sharing"),i.createElement(f,{isOn:!!t,onToggle:e=>{r()}})),!!t&&i.createElement(C,{text:t,onCopy:n}),i.createElement(E,null,i.createElement(w,null,"Anyone with the link can view and download dataset."," "),i.createElement(x,{onClick:a,href:S,target:"_blank",rel:"noopener"},"Learn more")))}n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return j}));const S="/product-feedback/120243",_="www.kaggle.com/dataset/",O="datasets",T="hash-link";let j=(()=>{class e extends i.Component{constructor(){super(...arguments),this.state={},this.onToggle=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:e}=this.context.clients,{analyticsClient:t}=this.context.legacyClients,{datasetId:n,hashLink:a,onUpdateHashLink:r}=this.props;if(!!a){this.setState({snackbarMessage:"Link sharing off, previous URL will return 404."});const a={datasetId:n};try{t.logger.report(O,`${T}-delete`,{datasetId:n}),yield e.deleteDatasetHashLink(a),r(void 0)}catch(e){if(t.logger.report(O,`${T}-delete-error`,{datasetId:n}),e instanceof o.a){const t=e;this.setState({snackbarMessage:t.message})}}}else{const a={datasetId:n};try{t.logger.report(O,`${T}-create`,{datasetId:n}),r(yield e.createDatasetHashLink(a))}catch(e){if(t.logger.report(O,`${T}-create-error`,{datasetId:n}),e instanceof o.a){const t=e;this.setState({snackbarMessage:t.message})}}}})),this.onCopy=()=>{const{analyticsClient:e}=this.context.legacyClients,{hashLink:t}=this.props;t&&e.logger.report(O,`${T}-copy`,{hashLink:t})},this.onLearnMore=()=>{const{datasetId:e}=this.props,{analyticsClient:t}=this.context.legacyClients;t.logger.report(O,`${T}-learn`,{datasetId:e})},this.renderView=()=>{const{hashLink:e}=this.props;return i.createElement(k,{hashLink:e?_+e:void 0,onCopy:this.onCopy,onLearnMore:this.onLearnMore,onToggle:this.onToggle})},this.renderSnackbarMessage=()=>{const{snackbarMessage:e}=this.state;if(e)return i.createElement(r.a,{open:!!e,onClose:()=>{this.setState(t=>({snackbarMessage:t.snackbarMessage===e?void 0:t.snackbarMessage}))},message:e})}}render(){const{isPrivate:e,hashLink:t}=this.props;return e||t?i.createElement(i.Fragment,null,this.renderView(),this.renderSnackbarMessage()):i.createElement(i.Fragment,null)}}return e.contextType=o.b,e})()},2321:function(e,t,n){"use strict";var a=n(2),r=n(6),o=n(0),i=n(145),s=n(108),l=n(874),c=n(988),u=n(1),d=n.n(u),p=n(1138);n(1651);const m=d()(i.f)`
  flex-grow: 1;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[400]};
  overflow: hidden;
`;function h(e){const{defaultText:t,readOnly:n}=e,a=o.useRef(null),r=f(e,a);return g(r,t),b(r,n),o.createElement(m,{ref:a,className:"CodeMirror-wrapper"})}const f=(e,t)=>{const{defaultText:n,readOnly:a,onChange:r}=e,[i,s]=o.useState(void 0);return o.useLayoutEffect(()=>{const e=p(t.current,{mode:"javascript",value:n,readOnly:a,lineNumbers:!0,tabSize:4,indentUnit:4,cursorHeight:.8});e.on("change",e=>{r({text:e.getValue()})}),s(e)},[]),i},g=(e,t)=>{o.useLayoutEffect(()=>{e&&e.setValue(t)},[e,t])},b=(e,t)=>{o.useLayoutEffect(()=>{e&&e.setOption("readOnly",t)},[e,t])},v=d.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: stretch;

  /* Stop editor from overflowing when it contains long lines of text */
  overflow: hidden;
`,y=d.a.div`
  display: flex;
  align-items: center;
  justify-content: ${e=>e.hasDocsLink?"space-between":"flex-end"};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,E=d()(i.v)`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  color: ${e=>e.theme.material.color.anchor.base};
  padding: 8px 16px;

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.material.color.anchor.hover};
    border-color: ${e=>e.theme.material.color.anchor.hover};
  }
`,w=d()(s.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,x=d.a.div`
  display: flex;
  align-items: center;
`,C=d()(i.b)`
  margin-right: ${e=>e.theme.material.spacing(1)};
  font-style: italic;
`,k=d()(C)`
  color: ${e=>e.theme.material.color.status.success[900]};
`,S=d()(C)`
  color: ${e=>e.theme.material.color.status.error[500]};
`;function _(e){const{response:t,defaultText:n="",className:a,onUpdate:s}=e,{analyticsClient:u}=o.useContext(r.b).legacyClients,[d,p]=o.useState("reset-x"),[m,f]=O(n),g="loading-get"===t.type||"loading-update"===t.type,b="loading-get"===t.type||"success-get"===t.type,C="error"===t.type&&t.message.includes("license");return o.createElement(v,{className:a},o.createElement(h,{key:d,defaultText:n,readOnly:!!g&&"nocursor",onChange:e=>{f(e.text)}}),o.createElement(y,{hasDocsLink:b},b&&o.createElement(E,{href:"/docs/datasets#Updating%20Dataset%20using%20JSON%20Config",target:"_blank",rel:"noopener"},o.createElement(w,{icon:"insert_drive_file",size:"inline"}),"Documentation"),o.createElement(x,null,"success-update"===t.type&&o.createElement(k,null,"Succesfully updated dataset settings. Refreshing dataset..."),"error"===t.type&&!C&&o.createElement(S,null,t.message),"error"===t.type&&C&&o.createElement(S,null,t.message," Check"," ",o.createElement(i.v,{href:"/docs/datasets#Updating%20Dataset%20using%20JSON%20Config",target:"_blank",rel:"noopener"},"documentation")," ","for valid license names"),o.createElement(l.a,{emphasis:"low",onClick:()=>{p("reset-x"===d?"reset-y":"reset-x"),u.logger.report("datasets","code-config-reset-click")}},"Reset"),o.createElement(l.a,{disabled:g,style:{marginLeft:"8px"},onClick:()=>{u.logger.report("datasets","code-config-update-click"),s(m)}},g&&o.createElement("span",{"data-testid":"loading-spinner",style:{marginRight:"4px"}},o.createElement(c.a,{size:"small"})),"Update settings"))))}const O=e=>{const[t,n]=o.useState(e);return o.useEffect(()=>{n(e)},[e]),[t,n]};function T({datasetId:e,className:t}){const[n,a]=o.useState(""),r=I(e,a),[i,s]=D(e,a);return o.createElement(_,{response:j(r,i),defaultText:n,onUpdate:e=>s({type:"loading-update",text:e}),className:t})}n.d(t,"a",(function(){return T}));const j=(e,t)=>void 0===t?e:t,I=(e,t)=>{const n=o.useContext(r.b),[i,s]=o.useState({type:"loading-get"});return o.useEffect(()=>{(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetsClient:a}=n.clients,{analyticsClient:o}=n.legacyClients;try{const n=yield a.getDatasetSettings({datasetId:e});if(o.logger.report("datasets","code-config-get-success",{settings:n}),null!==n)return s({type:"success-get"}),void t(N(n))}catch(t){if(t instanceof r.a){const n=t;o.logger.report("datasets","code-config-get-fail",{datasetId:e,message:n.message}),s({type:"error",message:n.message})}}})))()},[e]),i},D=(e,t)=>{const n=o.useContext(r.b),[i,s]=o.useState(void 0);return o.useEffect(()=>{i&&"loading-update"===i.type&&(o=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetsClient:a}=n.clients,{analyticsClient:i}=n.legacyClients;let l;try{l=JSON.parse(o)}catch(e){return void s({type:"error",message:"Invalid JSON object supplied"})}try{return yield a.setDatasetSettings({datasetId:e,settings:l}),i.logger.report("datasets","code-config-update-success"),t(N(l)),s({type:"success-update"}),void setTimeout(()=>window.location.reload(),1e3)}catch(t){if(t instanceof r.a){const n=t;i.logger.report("datasets","code-config-update-fail",{datasetId:e,message:n.message}),s({type:"error",message:n.message})}else{const n=t&&t.message?t.message:t;i.logger.report("datasets","code-config-update-fail",{datasetId:e,message:n}),s({type:"error",message:"Failed to update dataset settings"})}}})))(i.text)},[i]),[i,s]},N=e=>{return`${JSON.stringify(e,void 0,4)}\n`}},2322:function(e,t,n){"use strict";var a=n(6),r=n(0),o=n(1045),i=n(1074),s=n(1382),l=n(108),c=n(988),u=n(1),d=n.n(u);const p=d.a.li`
  color: ${e=>e.theme.colors.text.medium};
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.family};
  padding: ${e=>e.theme.size.margin.s} ${e=>e.theme.size.margin.m};

  &:hover {
    background: ${e=>e.theme.colors.hover.light};
  }
`,m=d()(l.a)`
  color: ${e=>"info"===e.iconColor?e.theme.colors.kaggle.blueDark:"success"===e.iconColor?e.theme.colors.kaggle.green:"warning"===e.iconColor?e.theme.colors.kaggle.orange:"error"===e.iconColor?e.theme.colors.kaggle.red:e.theme.colors.text.light};
  margin-right: ${e=>e.theme.size.margin.m};
`,h=d.a.img`
  width: 18px;
  height: 12px;
  margin-right: ${e=>e.theme.size.margin.m};
  display: inline-block;
  filter: grayscale(100%);
  vertical-align: middle;
`,f=d.a.span`
  width: 18px;
  height: 12px;
  margin-right: ${e=>e.theme.size.margin.m};
  display: inline-block;
`,g=d()(p)`
  cursor: default;
  color: ${e=>e.theme.colors.text.light};
`,b=d.a.div`
  ${e=>e.theme.font.main.size.l};
  cursor: pointer;
`,v=d.a.div`
  position: relative;
`,y=d.a.ul`
  position: absolute;
  border-radius: ${e=>e.theme.size.border.radius.dropdownMenu};
  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);
  background: ${e=>e.theme.colors.pure.white};
  z-index: 100;
  top: calc(100% + 12px);
  left: -13px;
  padding: ${e=>e.theme.size.margin.xs} 0;
  margin: 0;
  list-style-type: none;

  ::before {
    border-bottom: 7px solid ${e=>e.theme.colors.pure.white};
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    content: "";
    display: block;
    top: -6px;
    left: 15px;
    position: absolute;
    z-index: 100;
  }

  ::after {
    border-bottom: 7px solid rgba(0, 0, 0, 0.06);
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    content: "";
    display: block;
    top: -8px;
    left: 15px;
    position: absolute;
    z-index: 99;
  }
`,E=d()(v)`
  display: flex;
  justify-content: center;
`,w=d()(v)`
  display: flex;
  justify-content: flex-end;
`,x=d()(y)`
  display: flex;
  justify-content: center;
  left: unset;

  ::before {
    left: unset;
  }

  ::after {
    left: unset;
  }
`,C=d()(y)`
  left: unset;
  right: -13px;

  ::before {
    left: unset;
    right: 15px;
  }

  ::after {
    left: unset;
    right: 15px;
  }
`;class k extends r.Component{constructor(){super(...arguments),this.dropdownElement=void 0,this.mainElement=void 0,this.handleOutsideClick=e=>{const{onExpand:t}=this.props,n=this.dropdownElement,a=this.mainElement,r=e.target;n&&!n.contains(r)&&a&&!a.contains(r)&&t(!1)},this.renderOption=e=>{const{onSelect:t}=this.props,{disabled:n,title:a,picture:o,key:i}=e,s=!0===n?g:p;return r.createElement(s,{onClick:!0===n?void 0:()=>t(e),key:i},o?"icon"===o.type?r.createElement(m,{icon:o.icon,iconColor:o.color||"default",size:"inline"}):"spinner"===o.type?r.createElement(c.a,null):r.createElement(h,{src:o.src}):r.createElement(f,null),a)}}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick)}render(){const{alignment:e,className:t,expanded:n,icon:a,options:o,onExpand:i}=this.props,s="center"===e?E:"left"===e?v:w,c="center"===e?x:"left"===e?y:C;return r.createElement(s,{ref:e=>this.mainElement=e},r.createElement(b,{onClick:()=>{i&&i(!n)}},r.createElement(l.a,{icon:a,size:"small"})),n&&r.createElement(c,{className:t,ref:e=>this.dropdownElement=e},o.map(e=>this.renderOption(e))))}}var S=n(1129);class _ extends r.Component{constructor(){super(...arguments),this.state={expanded:!1,options:this.props.options},this.onSelect=e=>{const{onSelect:t}=this.props,{disabled:n,action:a}=e;!0!==n&&(t&&t(e),a&&"function"===a.type?(a.onSelect(),this.onExpand(!1)):a&&"options"===a.type&&this.setState({options:a.options}))},this.onExpand=e=>{const{onExpand:t}=this.props;t&&t(e);const n=e?this.state.options:this.props.options;this.setState({expanded:e,options:n})}}render(){const{alignment:e,className:t,icon:n}=this.props,{expanded:a,options:o}=this.state;return r.createElement(k,{alignment:e,icon:n,expanded:a,options:o,className:t,onExpand:this.onExpand,onSelect:this.onSelect})}componentDidUpdate(e,t){const n=new Set(t.options.map(e=>e.key)),a=new Set(this.props.options.map(e=>e.key));Object(S.b)(n,a).size>0&&this.setState({options:this.props.options})}}n.d(t,"a",(function(){return j}));class O extends r.Component{constructor(){super(...arguments),this.state={menuState:"default"},this.renderDefault=()=>{const{className:e}=this.props,t=this.createDefaultOptions();return r.createElement(_,{alignment:"right",icon:"more_vert",options:t,className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderCopiedApiCommand=()=>{const{className:e}=this.props;return r.createElement(k,{alignment:"right",icon:"more_vert",expanded:!0,options:[{key:"copiedApiCommand",title:"Copied API command",disabled:!0,picture:{type:"icon",icon:"check",color:"success"}}],className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderStartedUpdate=()=>{const{className:e}=this.props;return r.createElement(k,{alignment:"right",icon:"more_vert",expanded:!0,options:[{key:"startedUpdate",title:"Update in progress",disabled:!0,picture:{type:"spinner"}}],className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.createDefaultOptions=()=>{const{claims:e,actions:t}=this.props,{canUpdate:n,canCreateVersion:r,canCopyApiCommand:o,canOpenInGoogleSheets:i}=e,{onCreateVersion:s,onOpenInGoogleSheets:l,onReportIssue:c}=t,u=[];if(n&&u.push({key:"update",title:"Update",action:{type:"function",onSelect:this.onUpdate},picture:{type:"icon",icon:"repeat"}}),r&&u.push({key:"newVersion",title:"New version...",action:{type:"function",onSelect:s},picture:{type:"icon",icon:"insert_drive_file"}}),i){const e={key:"openIn",title:"Open in...",picture:{type:"icon",icon:"open_in_new"},action:{type:"options",options:[]}};i&&e.action&&"options"===e.action.type&&e.action.options.push({key:"googleSheets",title:"Google Sheets...",action:{type:"function",onSelect:l},picture:{type:"icon",icon:"table_chart"}}),u.push(e)}o&&u.push({key:"copyApi",title:"Copy API command",picture:{type:"icon",icon:"content_copy"},action:{type:"function",onSelect:this.onCopyApiCommand}}),u.push({key:"socialShare",title:"Social share...",picture:{type:"icon",icon:"share"},action:{type:"options",options:[{key:"facebook",title:"Share via Facebook",action:{type:"function",onSelect:this.onShareFacebook},picture:{type:"icon",icon:"post_facebook"}},{key:"twitter",title:"Share via Twitter",action:{type:"function",onSelect:this.onShareTwitter},picture:{type:"icon",icon:"post_twitter"}},{key:"linkedIn",title:"Share via LinkedIn",action:{type:"function",onSelect:this.onShareLinkedIn},picture:{type:"icon",icon:"post_linkedin"}}]}}),u.push({key:"reportDataset",title:"Report issue...",picture:{type:"icon",icon:"warning"},action:{type:"function",onSelect:c}});const d=this.props.isBookmarked;return a.n.bookmarksUI&&u.push({key:d?"remove-bookmark":"add-bookmark",title:d?"Remove Bookmark":"Bookmark",picture:{type:"icon",icon:d?"bookmark":"bookmark_border"},action:{type:"function",onSelect:this.toggleBookmark}}),u},this.onSelect=e=>{const{reportEvent:t}=this.props;t("datasets",`dataset-dropdown-${e.key}`)},this.onExpand=e=>{const{reportEvent:t}=this.props;t("datasets",`dataset-dropdown-${e?"open":"close"}`)},this.onUpdate=()=>{const{actions:e}=this.props,{onUpdate:t}=e;this.setState({menuState:"startedUpdate"}),t()},this.onCopyApiCommand=()=>{const{dataset:e}=this.props,{slug:t,ownerSlug:n}=e;this.copyToClipboard(`kaggle datasets download -d ${n}/${t}`),this.setState({menuState:"copiedApiCommand"}),setTimeout(()=>this.setState({menuState:"default"}),5e3)},this.copyToClipboard=e=>{const t=n=>{n.clipboardData.setData("text/plain",e),n.preventDefault(),document.removeEventListener("copy",t)};document.addEventListener("copy",t),document.execCommand("copy")},this.openWindow=e=>{window.open(e,"_blank")},this.reportShare=e=>{const{reportEvent:t}=this.props,{dataset:n}=this.props,{id:a}=n;t("datasets","social-share",{datasetId:a,socialNetwork:e})},this.onShareFacebook=()=>{const e=this.createDatasetUrlWithTracking("facebook");this.reportShare("facebook"),this.openWindow(`https://www.facebook.com/dialog/share?app_id=2665027677054710&display=popup&href=${e}`)},this.onShareTwitter=()=>{const{dataset:e}=this.props,{title:t}=e,n=this.createDatasetUrlWithTracking("twitter"),a=encodeURIComponent(`${t} on #kaggle via @KaggleDatasets`);this.reportShare("twitter"),this.openWindow(`https://twitter.com/intent/tweet?text=${a}&url=${n}`)},this.onShareLinkedIn=()=>{const{dataset:e}=this.props,{title:t,overview:n}=e,a=this.createDatasetUrlWithTracking("linkedin"),r=n?encodeURIComponent(`${t} - ${n}`):encodeURIComponent(`${t}`);this.reportShare("linkedin"),this.openWindow(`https://www.linkedin.com/sharing/share-offsite?url=${a}&text=${r}`)},this.createDatasetUrlWithTracking=e=>{const{dataset:t}=this.props,{url:n}=t;return encodeURIComponent(`${n}${this.getTrackingCode(e,n)}`)},this.toggleBookmark=()=>{this.props.toggleBookmark()},this.getTrackingCode=(e,t)=>-1!==t.indexOf("?")?`&utm_medium=social&utm_campaign=kaggle-dataset-share&utm_source=${e}`:`?utm_medium=social&utm_campaign=kaggle-dataset-share&utm_source=${e}`}render(){const{menuState:e}=this.state;return"copiedApiCommand"===e?this.renderCopiedApiCommand():"startedUpdate"===e?this.renderStartedUpdate():this.renderDefault()}}const T=e=>{const t=e.dataset.id,n={bookmarkType:o.a.DATASET,bookmarkedEntityId:t},[a,s]=Object(i.a)(n);return r.createElement(O,Object.assign({},e,{isBookmarked:a,toggleBookmark:s}))},j=e=>{const t=e.dataset.id,n=e.dataset.bookmarked,a={bookmarkType:o.a.DATASET,bookmarkedEntityId:t},i=n?[a]:[];return r.createElement(s.a,{bookmarks:i},r.createElement(T,Object.assign({},e)))}},876:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"VoteButtonModal",(function(){return m})),n.d(t,"VoteButton",(function(){return h}));var a=n(2),r=n(55),o=n(0),i=n(1227),s=n(6),l=n(70),c=n(21),u=n(1378),d=n(1357),p=/^\/kernels\/vote\?id=(\d+)$/,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){"Escape"===e.code&&t.props.handleModalClose()},t.handleStopPropagation=function(e){e.stopPropagation()},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.handleKeyDown)},t.prototype.sortVotersByTier=function(e){return e.sort((function(e,t){var n=5===e.tierInt?-1:e.tierInt,a=5===t.tierInt?-1:t.tierInt;return n===a?e.displayName.toUpperCase()[0]<t.displayName.toUpperCase()[0]?-1:1:a-n})),e},t.prototype.render=function(){var e=this.props,t=e.totalVotes,n=e.medalVotes,a=t&&n?t+" Total Votes, "+n+" Non-Novice Votes":t?t+" Total Votes":"Votes";return o.createElement(d.a,{handleModalClose:this.props.handleModalClose,title:a},o.createElement("div",{className:"vote-button__voters-modal-inner"},this.props.voters.length>0?this.sortVotersByTier(this.props.voters).map((function(e){return o.createElement(u.a,{key:e.userId,userId:e.userId,displayName:e.displayName,avatarThumbnailUrl:e.avatarThumbnailUrl,profileUrl:e.profileUrl,tier:e.tier,tierInt:e.tierInt})})):o.createElement("span",{className:"vote-button__voters-modal-no-content"},"No one has upvoted this yet!")))},t}(o.Component),h=function(t){function n(n){var a=t.call(this,n)||this;return a.isKernel=function(e){return p.test(e)},a.extractKernelIdFromUrl=function(e){var t=p.exec(e);return t&&t.length>1?parseInt(t[1],10):null},a.processVoteHandler=function(e,t,n,r,o){Object(l.c)("vote-button","vote-handler",{kernelId:n});var i=r?s.q.createKernelUpvote({kernelId:n}):s.q.deleteKernelUpvote({kernelId:n});a.setState(e,(function(){i.then((function(){return a.setState({justVoted:!0,voteRequestInFlight:!1},(function(){return o&&o(e)}))})).catch((function(){a.setState(t)}))}))},a.processVote=function(t,n,r,o,i){Object(l.c)("vote-button","process-vote",{url:r,httpVerb:o}),a.setState(t,(function(){e(r,{headers:{"x-xsrf-token":c.a.antiForgeryToken},method:o}).then((function(e){return e.json()})).then((function(){a.setState({justVoted:!0,voteRequestInFlight:!1},(function(){return i&&i(t)}))})).catch((function(e){a.setState(n)}))}))},a.processTwoPartVote=function(t,n,r,o,i,s,u,d){Object(l.c)("vote-button","process-two-part-vote",{firstUrl:o,firstHttpVerb:i,secondUrl:s,secondHttpVerb:u}),a.setState(t,(function(){e(o,{method:i,headers:{"x-xsrf-token":c.a.antiForgeryToken}}).then((function(e){return e.json()})).then((function(){e(s,{method:u,headers:{"x-xsrf-token":c.a.antiForgeryToken}}).then((function(e){return e.json()})).then((function(){a.setState({voteRequestInFlight:!1},(function(){d&&d(t)}))})).catch((function(){a.setState(r)}))})).catch((function(e){a.setState(n)}))}))},a.onVoteUp=function(e){if(e.stopPropagation(),a.readyToVote(1)&&a.props.canUpvote){var t,n=a.state;if(a.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:a.state.totalVotes+2,voteRequestInFlight:!0};var r={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!1};if(a.props.kernelId||a.isKernel(a.props.voteUpUrl)){var o=a.props.kernelId||a.extractKernelIdFromUrl(a.props.voteUpUrl);Object(l.c)("vote-button","vote-handler-kernel-two-part-impossible",{kernelId:o})}else a.processTwoPartVote(t,n,r,a.props.voteDownUrl,"DELETE",a.props.voteUpUrl,"POST",a.props.onVoteUpSuccess)}else{var s=null;a.state.voters&&(s=a.state.voters.slice(),a.state.hasAlreadyVotedUp?s.splice(i.findIndex(s,a.props.currentUserInfo),1):s=[a.props.currentUserInfo].concat(s)),t=a.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!0,voters:s}:{hasAlreadyVotedUp:!0,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!0,voters:s},a.props.kernelId||a.isKernel(a.props.voteUpUrl)?a.processVoteHandler(t,n,a.props.kernelId||a.extractKernelIdFromUrl(a.props.voteUpUrl),!a.state.hasAlreadyVotedUp,a.props.onVoteUpSuccess):a.processVote(t,n,a.props.voteUpUrl,a.state.hasAlreadyVotedUp?"DELETE":"POST",a.props.onVoteUpSuccess)}}},a.onVoteDown=function(e){if(e.stopPropagation(),a.readyToVote(-1)&&a.props.canDownvote){var t,n=a.state;if(a.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:a.state.totalVotes-2,voteRequestInFlight:!0};var r={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!1};if(a.props.kernelId||a.isKernel(a.props.voteUpUrl)){var o=a.props.kernelId||a.extractKernelIdFromUrl(a.props.voteUpUrl);Object(l.c)("vote-button","vote-handler-kernel-two-part-impossible",{kernelId:o})}else a.processTwoPartVote(t,n,r,a.props.voteUpUrl,"DELETE",a.props.voteDownUrl,"POST",a.props.onVoteDownSuccess)}else if(t=a.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!0},a.props.kernelId||a.isKernel(a.props.voteDownUrl)){o=a.props.kernelId||a.extractKernelIdFromUrl(a.props.voteDownUrl);Object(l.c)("vote-button","vote-handler-kernel-downvote-impossible",{kernelId:o})}else a.processVote(t,n,a.props.voteDownUrl,a.state.hasAlreadyVotedDown?"DELETE":"POST",a.props.onVoteDownSuccess)}},a.handleVotersClick=function(e){e.preventDefault(),a.setState({showingVotersModal:!0}),document.querySelector("body").style.overflowX="hidden",document.querySelector("body").style.overflowY="scroll",document.querySelector("html").style.overflow="hidden"},a.handleVotersClose=function(){a.setState({showingVotersModal:!1}),document.querySelector("body").style.overflow="visible",document.querySelector("body").style.marginRight="0px",document.querySelector("html").style.overflow="visible"},a.state={totalVotes:n.totalVotes,medalVotes:n.medalVotes,hasAlreadyVotedUp:n.hasAlreadyVotedUp,hasAlreadyVotedDown:n.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:a.props.voters},a}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({totalVotes:e.totalVotes,medalVotes:e.medalVotes,hasAlreadyVotedUp:e.hasAlreadyVotedUp,hasAlreadyVotedDown:e.hasAlreadyVotedDown,voters:e.voters})},n.prototype.readyToVote=function(e){if(this.state.voteRequestInFlight)return!1;if(!c.a.userId){var t=this.props.voteResumeUrl?this.props.voteResumeUrl+"&score="+e:document.location.pathname,n="/account/login?returnUrl="+encodeURIComponent(t)+"&message="+s.c.Sdk.Users.Protos.LoginMessageId.VOTE_LOGIN;return document.location.href=n,!1}return!0},n.prototype.render=function(){var e,t,n=this,a=null,i=this.props.alwaysShowVoters||this.props.showVoters&&this.state.voters&&this.state.voters.length>0;t=(this.props.voteUpUrl||this.props.kernelId)&&this.props.canUpvote?o.createElement("div",{role:"button",key:"vb-upvote",className:r("vote-button__button vote-button__button--up vb-upvote",this.props.canUpvote?null:"vote-button__button--disabled"),onClick:this.props.canUpvote?this.onVoteUp:null,onMouseEnter:function(){return n.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.props.compact?o.createElement("span",{className:"fa fa-angle-up"}):o.createElement("span",{className:"fa fa-caret-up"})):o.createElement("div",{className:"vote-button__button-placeholder",key:"vb-upvote-placeholder"}),e=this.props.voteDownUrl&&this.props.canDownvote?o.createElement("div",{role:"button",key:"vb-downvote",className:r("vote-button__button--down vote-button__button vb-downvote",this.props.canDownvote?null:"vote-button__button--disabled"),onClick:this.props.canDownvote?this.onVoteDown:null,onMouseEnter:function(){return n.setState({isHoveringOnVoteDown:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteDown:!1,justVoted:!1})}},this.props.compact?o.createElement("span",{className:"fa fa-angle-down"}):o.createElement("span",{className:"fa fa-caret-down"})):o.createElement("div",{className:"vote-button__button-placeholder",key:"vb-downvote-placeholder"}),i&&(a=this.props.totalVotes>0?o.createElement("div",{className:"vote-button__show-voters",key:"vb-voters-zero"},o.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")):o.createElement("div",{className:"vote-button__zero-voters",key:"vb-voters"},"voters"));var s=null;return this.state.showingVotersModal&&(s=o.createElement(m,{voters:this.state.voters,totalVotes:this.state.totalVotes,medalVotes:this.state.medalVotes,handleModalClose:this.handleVotersClose})),o.createElement("div",{className:"vote-button__container "+(this.props.className||""),key:"vb-container"},o.createElement("div",{className:r("vote-button",{"vote-button--compact":this.props.compact,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote,"vote-button--has-downvote":!!this.props.voteDownUrl,"vote-button--is-hovering-on-vote-up":this.state.isHoveringOnVoteUp,"vote-button--is-hovering-on-vote-down":this.state.isHoveringOnVoteDown,"vote-button--just-voted":this.state.justVoted})},this.props.isPrivate?o.createElement("div",{className:"vote-button__button vote-button__lock",key:"vb-lock"},o.createElement("span",{className:"fa fa-lock"})):[t,o.createElement("div",{className:"vote-button__button vote-button__button--up vote-button__vote-count-container",key:"vb-up"},o.createElement("span",{role:"button",className:"vote-button__vote-count",onClick:this.props.showVotersOnCountClick&&this.handleVotersClick||(this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp),onMouseEnter:function(){return n.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.state.totalVotes)),e]),a,s)},n}(o.Component)}.call(this,n(56))},892:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"KernelsListing",(function(){return F}));var a,r,o,i,s=n(2),l=n(1140),c=n(1024),u=n(1237),d=n(1228),p=n(88),m=n(1151),h=n(874),f=n(6),g=n(1),b=n.n(g),v=n(70),y=n(1220),E=n(1173),w=n(1126),x=n(1488),C=n(21),k=n(1094),S=n(1036),_=n(872),O=n(1007),T=n(1486),j=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.kernel,r=n.parentContainer,o=n.showScriptProjectName,i=n.profileUserId,s=n.onCategoryClick,l=n.onDeleteClick,c=n.showEditIconContainer,u=n.showEditIconPlaceholder,d=n.showDeleteIconContainer,p=n.showDeleteIconPlaceholder,m=n.location;return e.createElement(E.a,{href:a.scriptUrl,key:a.id,onClick:function(){t.props.onClick&&t.props.onClick("kernel-"+a.id,a.scriptUrl,t.props.index,a.isPrivate)}},e.createElement("span",null,e.createElement(k.b,{minWidth:0,maxWidth:k.a.mobileMax},e.createElement(T.b,{scriptData:a,parentContainer:r,showScriptProjectColumn:o,showEditIconContainer:!1,showEditIconPlaceholder:!1,showDeleteIconContainer:!1,showDeleteIconPlaceholder:!1,location:m})),e.createElement(k.b,{minWidth:k.a.tabletMin},e.createElement(T.a,{scriptData:a,parentContainer:r,showScriptProjectColumn:o,profileUserId:i,onCategoryClick:s,onDeleteClick:l,showEditIconContainer:c,showEditIconPlaceholder:u,showDeleteIconContainer:d,showDeleteIconPlaceholder:p,location:m}))))},n}(e.PureComponent),I=b.a.div.withConfig({displayName:"KernelsListing_PageWrapper",componentId:"sc-rijfj7"})(a||(a=Object(s.__makeTemplateObject)(["\n  ",";\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: ",";\n  margin-top: 12px;\n"],["\n  ",";\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: ",";\n  margin-top: 12px;\n"])),(function(e){return e.isStandalonePage&&p.o}),p.p,(function(e){return e.isStandalonePage&&e.theme.size.site.width.desktop})),D=b()(m.a).withConfig({displayName:"KernelsListing_ContentHeader",componentId:"sc-3pqwct"})(r||(r=Object(s.__makeTemplateObject)(["\n  padding-left: 0px;\n  padding-right: 0px;\n"],["\n  padding-left: 0px;\n  padding-right: 0px;\n"]))),N=b.a.div.withConfig({displayName:"KernelsListing_ModalContent",componentId:"sc-qe5lnl"})(o||(o=Object(s.__makeTemplateObject)(["\n  padding: ",";\n  position: relative;\n"],["\n  padding: ",";\n  position: relative;\n"])),O.g.PadXxl),M=b.a.a.withConfig({displayName:"KernelsListing_Link",componentId:"sc-1w9fmcd"})(i||(i=Object(s.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  :hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  :hover {\n    color: ",";\n  }\n"])),O.b.TextLink,O.b.TextLinkHover),F=function(t){function n(n){var a=t.call(this,n)||this;a.initForUserProfile=function(){a.initialFilters={userId:a.props.userId,sortBy:"voteCount"}},a.initForScriptsTab=function(){a.initialFilters={}},a.reportListingEvent=function(e,t){t||(t={}),t.location=a.getLocationType(),Object(v.c)("kernels",e,t)},a.openValidationModal=function(e){e.length>0&&e[0].dangerousHtmlMessage&&a.setState({validationMessage:e[0].dangerousHtmlMessage,validationModalOpen:!0})},a.confirmThenDeleteKernel=function(e){return Object(s.__awaiter)(a,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return[4,Object(l.a)(e.title,e.hasLinkedSubmission)];case 1:return t.sent()?(Object(v.c)("kernels","listing-clicked-delete-confirmation"),[4,f.q.deleteKernel({kernelId:e.id})]):[3,3];case 2:t.sent(),this.smartListContainer.removeListItemById(e.id),t.label=3;case 3:return[2]}}))}))},a.onNewKernelClick=function(){Object(v.c)("kernel","newKernelClick",{clickSource:"kernelsListingNewKernelButton"}),a.reportListingEvent("listing-clicked-new-notebook"),y.a.newKernelClicked(),a.navigateToNewNotebook()},a.navigateToNewNotebook=function(){Object(c.a)({competitionId:a.props.competitionId,datasetVersionId:a.props.datasetVersionId})},a.renderKernel=function(t,n,r,o){var i="profile"===o.state.values.group,s="collaboration"===o.state.values.group;return e.createElement(j,{index:n,kernel:t,parentContainer:o,showScriptProjectName:a.props.showScriptProjectName,profileUserId:a.props.userId||i&&C.a.userId,onCategoryClick:a.onCategoryClick,onClick:function(e,n,o,i){Object(v.c)("kernels","notebook-list-click",{info:t.taskSubmissionInfo}),a.reportListingEvent("listing-item-clicked"),r(e,n,o,i)},onDeleteClick:t.canCurrentUserDeleteKernel&&i?a.confirmThenDeleteKernel:null,showEditIconContainer:(i||s)&&t.canCurrentUserEditKernel,showEditIconPlaceholder:i||s,showDeleteIconContainer:i&&t.canCurrentUserDeleteKernel,showDeleteIconPlaceholder:i,location:a.getLocationType()})},a.getSmartListValues=function(){var e=new RegExp("^/kernels/(forks|d|c)/(\\d+)").exec(a.props.sourceBaseUrl);if(e&&3===e.length)switch(e[1]){case"forks":a.state.filters.forkParentScriptId=parseInt(e[2],10);break;case"d":a.state.filters.datasetId=parseInt(e[2],10);break;case"c":a.state.filters.competitionId=parseInt(e[2],10)}return a.state.filters},a.onCategoryClick=function(e){a.reportListingEvent("listing-item-clicked-tag",{tag:e.displayName}),a.categoryFilter&&a.categoryFilter.addCategory(e)},a.renderCategoryFilter=function(t,n){var r=t?t.split(",").map((function(e){return parseInt(e,10)})):[];return e.createElement(x.a,{key:"category-filter",ref:function(e){return a.categoryFilter=e},categoryType:"notebook",value:r,onChange:function(e){n(e.join(","))}})},a.maybeRenderCallToAction=function(t,n){if(t.length>0||n.hasMoreData)return null;if("profile"!==n.values.group&&"upvoted"!==n.values.group&&"collaboration"!==n.values.group)return null;if(a.props.userId&&0!==a.props.userId&&a.props.userId!==C.a.userId)return null;if(!C.a.userId||0===C.a.userId)return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},"You're not currently signed in. Sign in to see","profile"===n.values.group?" your work":"collaboration"===n.values.group?" notebooks shared with you":" your favorites","."));var r=a.props.competitionId?"for this competition ":a.props.datasetVersionId?"for this dataset ":"";if("upvoted"===n.values.group||"collaboration"===n.values.group){var o="collaboration"===n.values.group?"You don't have any notebooks shared with you "+r+"yet.":"You don't have any favorites "+r+"yet. Upvote notebooks to see them here.";return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},o))}var i="You haven't created any notebooks "+r+"yet.";return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},i),e.createElement("span",null,e.createElement(w.a,{className:"kernels-listing__call-to-action-button",text:"Create New Notebook",onClick:a.props.newNotebookButtonAction||a.onNewKernelClick})))},a.reportSelectionsChanged=function(e,t){if(void 0!==t.group)"everyone"===t.group?a.reportListingEvent("listing-clicked-tab-public"):"profile"===t.group?a.reportListingEvent("listing-clicked-tab-personal"):"collaboration"===t.group?a.reportListingEvent("listing-clicked-tab-shared"):"upvoted"===t.group&&a.reportListingEvent("listing-clicked-tab-favorites");else if(void 0!==t.search)a.reportListingEvent("listing-changed-search-text",{query:t.search});else if(void 0!==t.dataSourceType)a.reportListingEvent("listing-changed-filter-data",{type:t.dataSourceType});else if(void 0!==t.outputType)a.reportListingEvent("listing-changed-filter-output",{type:t.outputType});else if(void 0!==t.language)a.reportListingEvent("listing-changed-filter-language",{language:t.language});else if(void 0!==t.tagIds){var n=Array.isArray(t.tagIds)?t.tagIds.split(","):[];a.reportListingEvent("listing-changed-filter-tags",{tags:n})}else void 0!==t.sortBy&&a.reportListingEvent("listing-changed-sort",{sort:t.sortBy})},a.renderingOnKernelsTab=function(){return window.location.pathname&&"/kernels"===window.location.pathname},a.onCloseValidationModal=function(){a.setState({validationModalOpen:!1})},a.renderHeader=function(){if(!a.props.hideHeader){var t=e.createElement("div",null,"Explore and run data science and machine learning notebooks."," ",e.createElement(M,{href:"/docs/notebooks",onClick:function(){return a.reportListingEvent("listing-clicked-documentation")}},"Learn More"),"."),n=e.createElement(h.a,{leadingIcon:"add",onClick:a.onNewKernelClick},"New Notebook");return e.createElement(D,{title:"Notebooks",subtitle:t,meta:n})}};return a.props.userId?a.initForUserProfile():a.initForScriptsTab(),a.state={filters:Object(s.__assign)(Object(s.__assign)({},{sortBy:"hotness",language:"all",outputType:"all",userId:""}),a.initialFilters),scriptData:a.props.initialScriptsToShow||[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:a.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1,validationModalOpen:!1},a}return Object(s.__extends)(n,t),n.prototype.componentDidMount=function(){Object(v.c)("kernels","notebook-list-show",{location:this.getLocationType()}),window.location.search.indexOf("modal=true")>0&&this.navigateToNewNotebook(),this.renderingOnKernelsTab()&&_.a.addListener(this.openValidationModal)},n.prototype.componentWillUnmount=function(){this.renderingOnKernelsTab()&&_.a.removeListener(this.openValidationModal)},n.prototype.getLocationType=function(){return this.props.listingHeaderVisible?"notebooks":this.props.competitionId?"competitions":this.props.datasetId?"datasets":this.props.userId?"profile":this.props.showFilters?void 0:"forks"},n.prototype.render=function(){var t;return f.n.notebooksLandingPage&&"/code"===window.location.pathname?e.createElement(g.ThemeProvider,{theme:g.navigationTheme},e.createElement(u.a,{onNewNotebookClick:this.onNewKernelClick})):this.props.isHidden?null:e.createElement(g.ThemeProvider,{theme:g.navigationTheme},e.createElement(I,{showMargin:!this.props.hideHeader,isStandalonePage:null===(t=this.props.isStandalonePage)||void 0===t||t},this.renderHeader(),e.createElement(d.a,{currentUserId:C.a.userId,userId:this.props.userId,competitionId:this.props.competitionId,datasetId:this.props.datasetId,locationType:this.getLocationType(),sortScoreDescending:this.props.sortScoreDescending}),e.createElement(S.a,{modalIsShown:this.state.validationModalOpen,onClose:this.onCloseValidationModal},e.createElement(N,null,this.state.validationMessage,e.createElement(S.c,{onClose:this.onCloseValidationModal}))),e.createElement("div",{style:{height:"100vh"}})))},n}(e.Component)}.call(this,n(0))},913:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"DatasetContainer",(function(){return E}));var r=n(2),o=n(1024),i=n(369),s=n(6),l=n(8),c=n(1577),u=n(70),d=n(21),p=n(1431),m=n(872),h=n(1673),f=n(1648),g=n(1633),b=e.Datasets,v="datasetTabState",y=10,E=function(e){function t(t){var n=e.call(this,t)||this;n.onDeleteDataset=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,b.delete({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return e=n.sent(),m.a.clear(),"ok"===e.status?(m.a.success("Successfully deleted your dataset. This page will reload shortly."),this.setConfirmDeleteVisible(!1),setTimeout((function(){window.location.assign("/deleted-dataset/"+t.props.datasetId)}),1e3)):m.a.set(e.errors),[2]}}))}))},n.setConfirmDeleteVisible=function(e){n.setState({isConfirmDeleteVisible:e})},n.onShowHistoryModal=function(e){n.setState({showHistoryModal:e})},n.onChangeTaskCount=function(e){n.setState((function(t){return Object(r.__assign)(Object(r.__assign)({},t),{numberOfTasks:t.numberOfTasks+e})}))},n.onExportToSheets=function(e,t){n.headerRef&&n.headerRef.onSelectFileGoogleSheetsGeneric(e,t)},n.onMakeDatasetPublic=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.setConfirmPrivacyVisible(!1),[4,b.editPrivacy({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},{isPrivate:!1})];case 1:return e=t.sent(),m.a.clear(),"ok"===e.status?(m.a.success("Your dataset is now public. This page will refresh automatically."),this.setState({isPrivate:!1}),setTimeout((function(){window.location.reload()}),1e3)):m.a.set(e.errors),[2]}}))}))},n.onToggleCollapseChecklist=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:e=this.props.datasetId,t=this.state.checklistCollapsed,a.label=1;case 1:return a.trys.push([1,3,,4]),n={datasetId:e,visibility:t?"expanded":"collapsed"},[4,s.k.setDatasetChecklistVisibility(n)];case 2:return a.sent(),this.setState({checklistCollapsed:!t}),[3,4];case 3:return a.sent(),this.reportEvent("checklist-visibility-setting-fail",{datasetId:e}),[3,4];case 4:return[2]}}))}))},n.onUpdateState=function(e){n.setState(e)},n.setConfirmPrivacyVisible=function(e){n.setState({isConfirmPrivacyVisible:e})},n.loadSuggestions=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,b.datasetSuggestionsJson({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return e=t.sent(),this.setState({suggestions:e}),[2]}}))}))},n.onLoadHistory=function(e){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t,n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(null!=this.state.versionHistory&&this.state.versionHistory.items.length===e)return[2];r.label=1;case 1:return r.trys.push([1,3,,4]),t={datasetId:this.props.datasetId,count:e,hashLink:this.props.datasetHashLink},[4,s.k.getDatasetHistory(t)];case 2:return n=r.sent(),this.setState({versionHistory:n}),[3,4];case 3:return a=r.sent(),d.a.isAdmin&&console.error("Error loading history: "+a),[3,4];case 4:return[2]}}))}))},n.onChangeTab=function(e,t){if(n.reportEvent("tab-"+e,{oldTab:n.state.currentTab,newTab:e,isCollaborator:n.props.isCollaborator,isOwner:n.props.creatorUserId===d.a.userId}),document.title=n.props.title+" | Kaggle","data"!==e||n.state.suggestions||n.state.isRemoved){if("activity"===e)n.switchToActivityTab();else if("tasks"===e){var a=new URLSearchParams(location.search);a.delete("taskId");var r=new URL(window.location.pathname,window.location.origin);r.search=a.toString(),Object(i.g)(r.toString())}}else n.loadSuggestions();n.setState({currentTab:e,showDownloadUpvoteHeader:!1,isNewTopic:!1,topicId:null,settingsSubTab:g.b.GENERAL,taskListKey:n.state.taskListKey+1},(function(){n.updateUrl(),t&&t()}))},n.switchToActivityTab=function(){var e=n.props.datasetId;"hasSummary"!==n.state.activityState.status&&(n.reportEvent("activity-summary-loading",{datasetId:e}),n.setState({activityState:{status:"loading"}},(function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,s.k.getDatasetActivity({datasetId:e})];case 1:return t=n.sent(),this.setState({activityState:this.mapActivityPageDtoToActivityState(t)}),this.reportEvent("activity-summary-load-success",{datasetId:e,status:t.status}),[3,3];case 2:return n.sent(),this.setState({activityState:{status:"error"}}),this.reportEvent("activity-summary-load-fail",{datasetId:e}),[3,3];case 3:return[2]}}))}))})))},n.onVote=function(){n.state.hasAlreadyVotedUp?setTimeout((function(){return n.setState({hasAlreadyVotedUp:!1,showDownloadUpvoteHeader:!1,voteCount:n.state.voteCount-1})})):setTimeout((function(){return n.setState({hasAlreadyVotedUp:!0,showDownloadUpvoteHeader:!1,voteCount:n.state.voteCount+1})}))},n.onDownload=function(){n.setState({showDownloadUpvoteHeader:!d.a.isAnonymous})},n.onTagsChanged=function(e,t){n.setState({categories:e,usabilityRating:t})},n.onNewVersionFinished=function(){window.location.reload()},n.onDescriptionChanged=function(e){n.setState({description:e,isDescriptionSaved:!1})},n.onDescriptionEditCancelled=function(){var e=n.state.description;n.state.lastSavedDescription&&(e=n.state.lastSavedDescription),n.setState({isEditingDescription:!1,description:e,isDescriptionSaved:!0})},n.onDescriptionEditToggled=function(){var e={lastSavedDescription:n.state.description};n.state.isEditingDescription?n.setState(Object(r.__assign)(Object(r.__assign)({},e),{isEditingDescription:!1})):n.setState(Object(r.__assign)(Object(r.__assign)({},e),{isEditingDescription:!0}))},n.onDescriptionSaved=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:e=this.props.datasetId,t=this.state.description,m.a.clear(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,s.k.editDatasetDescription({datasetId:e,description:t})];case 2:return n=a.sent(),m.a.success("Successfully saved your dataset description."),this.setState((function(e){return{isDescriptionSaved:!0,lastSavedDescription:e.description,usabilityRating:n.usabilityRating||e.usabilityRating}})),[3,4];case 3:return a.sent(),m.a.error("Couldn't save your dataset description"),this.setState({isEditingDescription:!1}),[3,4];case 4:return[2]}}))}))},n.onSaveMetadata=function(e,t){var a=n.props.licenseGroups.map((function(e){return e.licenses})).reduce((function(e,t){return Object(r.__spread)(e,t)}),[]).filter((function(t){return t.id===e}))[0];n.setState((function(n){return{license:a,licenseId:e,usabilityRating:t||n.usabilityRating}}))},n.onSaveSettingsGeneral=function(e,t){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n,a;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,b.editGeneral({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},e)];case 1:return n=o.sent(),m.a.clear(),"ok"===n.status?(m.a.success("Successfully saved your dataset."),a=this.props.licenseGroups.reduce((function(e,t){return Object(r.__spread)(e,t.licenses)}),[]).filter((function(t){return t.id===e.licenseId}))[0],this.setState((function(t){var o,i=e.updateFrequency&&(null===(o=t.data.databundle)||void 0===o?void 0:o.remoteDatasourceInfo)?Object(r.__assign)(Object(r.__assign)({},t.data),{databundle:Object(r.__assign)(Object(r.__assign)({},t.data.databundle),{remoteDatasourceInfo:{updateFrequency:e.updateFrequency}})}):t.data;return{license:a,licenseId:e.licenseId,overview:e.overview,owner:e.owner,title:e.title,data:i,usabilityRating:n.usabilityRating||t.usabilityRating}}),(function(){t&&t(n)}))):n.blocked?window.location.reload():m.a.set(n.errors),[2]}}))}))},n.onSaveSettingsPower=function(e,t){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return[4,b.editPower({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},e)];case 1:return n=a.sent(),m.a.clear(),"ok"===n.status?(m.a.success("Successfully saved your dataset."),this.setState(Object(r.__assign)({},e),(function(){t&&t(n)}))):m.a.set(n.errors),[2]}}))}))},n.onSaveSettingsImages=function(e){n.setState((function(t){return{cardImageUrl:e.cardImageUrl,coverImageUrl:e.coverImageUrl,thumbnailImageUrl:e.thumbnailImageUrl,originalImageUrl:e.originalImageUrl,usabilityRating:e.usabilityRating||t.usabilityRating}}))},n.onUpdateCollaborators=function(e){n.setState({collaborators:e,settingsSubTab:g.b.SHARING})},n.onUpdateHashLink=function(e){n.setState((function(t){var n=t.currentDatasetVersion,a=t.datasetHashLink,r=t.owner,o=void 0===e?null:e;if(null!==o||!window.location.pathname.includes(a))return{datasetHashLink:o,settingsSubTab:g.b.SHARING};window.location.assign("/"+r.slug+"/"+n.slug)}))},n.onChecklistNavigationClick=function(e){switch(e){case f.a.ADD_COLLABORATOR:n.onChangeTab("settings"),n.setState({settingsSubTab:g.b.SHARING});break;case f.a.UPDATE_DATA_DESCRIPTION:n.onChangeTab("data");break;case f.a.ADD_IMAGE:n.onChangeTab("settings"),n.setState({settingsSubTab:g.b.IMAGE});break;case f.a.ADD_SUBTITLE:n.onChangeTab("settings"),n.setState({settingsSubTab:g.b.GENERAL});break;case f.a.UPDATE_METADATA_TAB:n.onChangeTab("metadata")}},n.onNavigateToSettingsClick=function(e){n.onChangeTab("settings"),e&&n.setState({settingsSubTab:e})},n.onTopicSubmitted=function(e){n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e},(function(){return n.updateUrl()}))},n.onTopicClicked=function(e){document.title=e.title+" | Kaggle",n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e.id},(function(){return n.updateUrl()}))},n.setHeaderRef=function(e){e&&(n.headerRef=e)},n.setDataTabRef=function(e){e&&(n.dataTabRef=e)},n.updateUrl=function(){var e=n.state.datasetVersionNumber!==n.state.lastVersionNumber,t="data"!==n.state.currentTab?"/"+n.state.currentTab:"",a=n.props.datasetUrl+(e?"/version/"+n.state.datasetVersionNumber:"")+t+(null!=n.state.topicId&&"discussion"===n.state.currentTab?"/"+n.state.topicId:n.state.isNewTopic&&"discussion"===n.state.currentTab?"/new":""),o=Object(r.__assign)({},window.history.state)||{};o[v]={currentTab:n.state.currentTab},Object(i.d)(o,"",a)},n.onPopState=function(e){var t=window.history.state;if(t&&t[v])if(t[v].path)window.location.href=t[v].path;else{var a={currentTab:t[v].currentTab,taskListKey:"tasks"===t[v].currentTab?n.state.taskListKey+1:n.state.taskListKey,isNewTopic:void 0,topicId:void 0},r=document.location.pathname;if(r.match(/\/discussion\/new\/?$/))a.isNewTopic=!0;else{var o=r.match(/\/discussion\/(\d+)\/?$/);if(o){var i=o[1];a.topicId=parseInt(i,10)}}n.setState(a),e.preventNavigation()}},n.onCreateNewVersion=function(){n.props.canEdit&&n.onChangeTab("data",(function(){n.dataTabRef&&n.dataTabRef.onCreateVersion()}))},n.onRefreshVersion=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:e=p.d(),t={datasetId:this.props.datasetId,settings:{databundleWorkerEnvironment:e,actions:null,flags:null}},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,s.k.refreshRemoteDataset(t)];case 2:return"error"===(n=r.sent()).status?m.a.set([n.errorMessage]):window.location.reload(),[3,4];case 3:return(a=r.sent())instanceof s.a&&(m.a.clear(),m.a.error(a.message)),[3,4];case 4:return[2]}}))}))},n.onUpdateUsabilityRating=function(e){n.setState({usabilityRating:e})},n.onShowPageMessage=function(e,t){m.a.clear(),t?m.a.success(e):m.a.error(e)},n.startPollingCreationStatus=function(){setTimeout(n.pollCurrentDatasetVersionStatus,2e3),n.publishTimer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e4)},n.stopPollingCreationStatus=function(){clearInterval(n.publishTimer)},n.pollCurrentDatasetVersionStatus=function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a,o,i,l=this;return Object(r.__generator)(this,(function(c){switch(c.label){case 0:if(e=this.props.data,t=this.state,n=t.publishStatus,a=t.publishStatusFailedPolls,!(o="databundleVersion"===e.type?this.state.pendingDatasetVersion.databundleVersionId:void 0))return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,s.k.getDatabundleVersionCreationStatus({databundleVersionId:o})];case 2:return"ready"===(i=c.sent()).status||"failed"===i.status?(this.stopPollingCreationStatus(),n&&n.publishStatus&&"reprocessing"===n.publishStatus.status?m.a.clear():(m.a.clear(),m.a.success("Your new dataset version is ready. This page will reload shortly.")),this.setState({publishStatus:null},(function(){l.onNewVersionFinished()}))):this.setState({publishStatus:Object(r.__assign)(Object(r.__assign)({},n),{publishStatus:{status:i.status,currentStatusPercentComplete:i.creationPercentComplete,creationPercentComplete:i.creationPercentComplete,creationStep:i.creationStep,creationStart:new Date(i.creationStart)}}),publishStatusFailedPolls:0}),[3,4];case 3:return c.sent(),a>y?this.stopPollingCreationStatus():this.setState({publishStatusFailedPolls:a+1}),[3,4];case 4:return[3,6];case 5:this.stopPollingCreationStatus(),c.label=6;case 6:return[2]}}))}))},n.reportEvent=function(e,t){void 0===t&&(t={});var a=n.props.datasetId,o=Object(r.__assign)({datasetId:a},t);Object(u.c)("datasets",e,o)},n.onCreateTopic=function(){n.setState({currentTab:"discussion",isNewTopic:!0,topicId:null},(function(){return n.updateUrl()}))},n.onCreateKernel=function(){n.reportEvent("analyze-data-old-choice"),Object(u.c)("kernels","newKernelClick",{clickSource:"datasetViewNewKernelButton"}),Object(o.a)({datasetVersionId:n.props.datasetVersionId})},n.onCreateTask=function(){n.reportEvent("analyze-data-old-choice"),Object(u.c)("tasks","newTaskClick",{clickSource:"datasetViewNewTaskButton"}),n.setState({currentTab:"tasks"},(function(){return n.updateUrl()}))},n.mapActivityPageDtoToActivityState=function(e){var t=e.status;if("notRelevant"===t)return{status:t};if("noSummaryGenerated"===t)return{status:t,banner:e.banner};var n=e.summaryStats;return{status:t,summaryStats:{generatedDate:n.generatedDate,datasetStats:n.datasetStats,timeSeries:n.timeSeries,topContributors:n.topContributors,contributorLocations:n.contributorLocations,kernelStats:n.kernelStats,kernelMedals:n.kernelMedals,topKernels:n.topKernels,tags:n.tags,relatedDatasets:n.relatedDatasets,discussionStats:n.discussionStats,discussionMedals:n.discussionMedals,topDiscussions:n.topDiscussions}}};var a=null,l=null,h=null,E=null,w=null;t.isRemoved||(a=n.props.datasetVersions.find((function(e){return e.id===n.props.datasetVersionId})),l=n.props.datasetVersions.filter((function(e){return e.id>n.props.datasetVersionId&&!("ready"===e.status||"failed"===e.status)})),h=n.props.datasetVersions.map((function(e){return e.id})).reduce((function(e,t){return Math.max(e,t)}),0),E=n.props.datasetVersions.find((function(e){return e.id===h})),l&&l.length>0&&(w=l[l.length-1]));var x=n.props.currentTab,C=Object(c.a)(window.location.search),k="settings"===x?C.subtab===g.b.IMAGE?g.b.IMAGE:C.subtab===g.b.SHARING?g.b.SHARING:C.subtab===g.b.CODE_CONFIG?g.b.CODE_CONFIG:void 0:void 0,S=Object(r.__assign)(Object(r.__assign)({},n.props),{isEditingDescription:!1,isEditingVersions:!1,isDescriptionSaved:!0,lastSavedDescription:n.props.description,currentDatasetVersion:a,latestDatasetVersion:E,pendingDatasetVersion:w,contributorsIsLoading:!1,showDownloadUpvoteHeader:!1,isConfirmDeleteVisible:!1,isConfirmPrivacyVisible:!1,suggestions:null,versionHistory:null,showHistoryModal:!1,taskListKey:0,settingsSubTab:k,activityState:{status:"loading"},onChangeTab:n.onChangeTab,onToggleCollapseChecklist:n.onToggleCollapseChecklist,onDescriptionEditToggled:n.onDescriptionEditToggled,onDescriptionEditCancelled:n.onDescriptionEditCancelled,onDescriptionChanged:n.onDescriptionChanged,onDescriptionSaved:n.onDescriptionSaved,onSaveSettingsGeneral:n.onSaveSettingsGeneral,onSaveSettingsPower:n.onSaveSettingsPower,onSaveSettingsImages:n.onSaveSettingsImages,onNewVersionFinished:n.onNewVersionFinished,onTopicSubmitted:n.onTopicSubmitted,onTopicClicked:n.onTopicClicked,onTagsChanged:n.onTagsChanged,onVote:n.onVote,onDownload:n.onDownload,onCreateNewVersion:n.onCreateNewVersion,onRefreshVersion:n.onRefreshVersion,onDeleteDataset:n.onDeleteDataset,onMakeDatasetPublic:n.onMakeDatasetPublic,onUpdateState:n.onUpdateState,onLoadHistory:n.onLoadHistory,onChecklistNavigationClick:n.onChecklistNavigationClick,onShowHistoryModal:n.onShowHistoryModal,onChangeTaskCount:n.onChangeTaskCount,onExportToSheets:n.onExportToSheets,setHeaderRef:n.setHeaderRef,setDataTabRef:n.setDataTabRef,setConfirmDeleteVisible:n.setConfirmDeleteVisible,setConfirmPrivacyVisible:n.setConfirmPrivacyVisible});return n.state=S,n.lastSavedState=[],E&&"failed"===E.status&&(n.props.canEdit||d.a.isAdmin)&&(E.userMessage?m.a.error("Publishing of latest dataset version failed, users will see the previous version. Reason: "+E.userMessage+"."):m.a.error("Publishing of latest dataset version failed, users will see the previous version. Please create a new dataset version or contact support if the problem persists.")),w?n.startPollingCreationStatus():a&&"reprocessing"===a.status&&n.startPollingCreationStatus(),"data"!==x||n.state.suggestions||n.state.isRemoved||n.loadSuggestions(),n.onLoadHistory(10),n}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e;Object(i.c)(this.onPopState),"activity"===this.props.currentTab&&this.switchToActivityTab();try{var t=Object(c.a)(location.search);if(void 0!==t.campaign&&this.reportEvent("campaign-view",{uid:t.campaign,url:this.props.datasetUrl}),t.resource){var n=window.location.pathname;if(t.downloadHash){var a=new URL(n+"/"+t.resource,window.location.origin),o=new URLSearchParams;o.append("downloadHash",t.downloadHash),a.search=o.toString(),window.location.assign(a.toString())}Object(i.g)(new URL(n,window.location.origin).toString())}}catch(e){}var s=window.history.state||{};Object(i.f)(Object(r.__assign)(Object(r.__assign)({},s),((e={})[v]={currentTab:this.state.currentTab},e)),document.title)},t.prototype.componentWillUnmount=function(){Object(i.e)(this.onPopState)},t.prototype.render=function(){return a.createElement(h.a,Object(r.__assign)(Object(r.__assign)(Object(r.__assign)({},this.props),this.state),{onNavigateToSettingsClick:this.onNavigateToSettingsClick,onShowPageMessage:this.onShowPageMessage,onSaveMetadata:this.onSaveMetadata,onUpdateCollaborators:this.onUpdateCollaborators,onUpdateHashLink:this.onUpdateHashLink,onUpdateUsabilityRating:this.onUpdateUsabilityRating}))},t.prototype.getChildContext=function(){return{reportEvent:this.reportEvent,onCreateTopic:this.onCreateTopic,onCreateKernel:this.onCreateKernel,onCreateTask:this.onCreateTask}},t.childContextTypes={reportEvent:l.func,onCreateTopic:l.func,onCreateKernel:l.func,onCreateTask:l.func},t}(a.Component)}.call(this,n(367),n(0))}}]);